{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/verifyOrder/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/verifyOrder/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHZlcmlmeU9yZGVyQXBpLCBtZXJjaGFudFN0b3JlTGlzdEFwaSB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwppbXBvcnQgY2FyZHNEYXRhIGZyb20gJ0AvY29tcG9uZW50cy9jYXJkcy9jYXJkcyc7CmltcG9ydCByZWZlcnJlckluZm8gZnJvbSAnQC9jb21wb25lbnRzL3JlZmVycmVySW5mby9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2V0dGluZ19vcmRlcicsCiAgY29tcG9uZW50czogeyBjYXJkc0RhdGEsIHJlZmVycmVySW5mbyB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgICBkYXRhOiAnJywKICAgICAgICByZWFsX25hbWU6ICcnLAogICAgICAgIHN0b3JlX2lkOiAnJywKICAgICAgICBmaWVsZF9rZXk6ICcnLAogICAgICB9LAogICAgICBmaWVsZF9rZXk6ICcnLAogICAgICB0aW1lVmFsOiBbXSwKICAgICAgc3RvcmVTZWxlY3RMaXN0OiBbXSwKICAgICAgcGlja2VyT3B0aW9uczogdGhpcy4kdGltZU9wdGlvbnMsCiAgICAgIG9yZGVyTGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMCwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLnN0b3JlTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdCgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGF0LmZvcm1WYWxpZGF0ZS5maWVsZF9rZXkgPSB0aGlzLmZpZWxkX2tleSA9PT0gJ2FsbCcgPyAnJyA6IHRoaXMuZmllbGRfa2V5OwogICAgICB2ZXJpZnlPcmRlckFwaSh0aGF0LmZvcm1WYWxpZGF0ZSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGF0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoYXQub3JkZXJMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIHRoYXQudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGF0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHVzZXJTZWFyY2hzKCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5YW35L2T5pel5pyfCiAgICBvbmNoYW5nZVRpbWUoZSkgewogICAgICB0aGlzLnRpbWVWYWwgPSBlOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhID0gdGhpcy50aW1lVmFsID8gdGhpcy50aW1lVmFsLmpvaW4oJy0nKSA6ICcnOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDpgInmi6nml7bpl7QKICAgIHNlbGVjdENoYW5nZSh0YWIpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEgPSB0YWI7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBzdG9yZUxpc3QoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgbWVyY2hhbnRTdG9yZUxpc3RBcGkoKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoYXQuc3RvcmVTZWxlY3RMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICByZWZlcmVuY2VJbmZvKHVpZCkgewogICAgICB0aGlzLiRyZWZzLmluZm8uaXNUZW1wbGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuaW5mby52ZXJpZnlTcHJlYWRJbmZvKHVpZCk7CiAgICB9LAogICAgcmVmcmVzaCgpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgZGF0YTogJycsCiAgICAgICAgcmVhbF9uYW1lOiAnJywKICAgICAgICBzdG9yZV9pZDogJycsCiAgICAgICAgZmllbGRfa2V5OiAnJywKICAgICAgfTsKICAgICAgdGhpcy5maWVsZF9rZXkgPSAnJzsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/verifyOrder","sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{padding:0}\">\n      <div class=\"padding-add\">\n        <el-form ref=\"formValidate\" :model=\"formValidate\" inline label-width=\"80px\" @submit.native.prevent>\n          <el-form-item label=\"核销日期：\">\n            <el-date-picker\n                clearable\n                v-model=\"timeVal\"\n                type=\"daterange\"\n                :editable=\"false\"\n                @change=\"onchangeTime\"\n                format=\"yyyy/MM/dd\"\n                value-format=\"yyyy/MM/dd\"\n                start-placeholder=\"开始日期\"\n                end-placeholder=\"结束日期\"\n                :picker-options=\"pickerOptions\"\n                style=\"width: 250px\"\n                class=\"mr20\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"筛选条件：\">\n            <el-input enter-button placeholder=\"请输入搜索内容\" v-model=\"formValidate.real_name\"  class=\"form_content_width\">\n              <el-select v-model=\"field_key\" slot=\"prepend\" style=\"width: 100px\">\n                <el-option value=\"all\" label=\"全部\"></el-option>\n                <el-option value=\"order_id\" label=\"订单号\"></el-option>\n                <el-option value=\"uid\" label=\"UID\"></el-option>\n                <el-option value=\"real_name\" label=\"用户姓名\"></el-option>\n                <el-option value=\"user_phone\" label=\"用户电话\"></el-option>\n                <el-option value=\"title\" label=\"商品名称(模糊)\"></el-option>\n              </el-select>\n            </el-input>\n          </el-form-item>\n          <el-form-item label=\"选择门店：\">\n            <el-select\n                v-model=\"formValidate.store_id\"\n                element-id=\"store_id\"\n                clearable\n                @change=\"userSearchs\"\n                class=\"form_content_width\"\n            >\n              <el-option\n                  v-for=\"item in storeSelectList\"\n                  :value=\"item.id\"\n                  :key=\"item.id\"\n                  :label=\"item.name\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"\">\n            <el-button type=\"primary\" class=\"mr15\" @click=\"userSearchs\">搜索</el-button>\n<!--            <el-button class=\"mr15\" @click=\"refresh\">刷新</el-button>-->\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <el-table\n        :data=\"orderList\"\n        ref=\"table\"\n        v-loading=\"loading\"\n        highlight-current-row\n        empty-text=\"暂无数据\"\n        class=\"orderData\"\n      >\n        <el-table-column label=\"订单号\" min-width=\"180\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.order_id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户信息\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.nickname }}/{{ scope.row.uid }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品信息\" min-width=\"250\">\n          <template slot-scope=\"scope\">\n            <div class=\"tab\" v-for=\"(item,i) in scope.row._info\" :key=\"i\">\n              <img v-lazy=\"item.cart_info.productInfo.attrInfo ? item.cart_info.productInfo.attrInfo.image : item.cart_info.productInfo.image\" />\n              <el-tooltip placement=\"top\" :open-delay=\"300\">\n                <div slot=\"content\">\n                  <div>\n                    <span>商品名称：</span>\n                    <span>{{ item.cart_info.productInfo.store_name  || '--' }}</span>\n                  </div>\n                  <div>\n                    <span>规格名称：</span>\n                    <span>{{ item.cart_info.productInfo.attrInfo ? item.cart_info.productInfo.attrInfo.suk : '---' }}</span>\n                  </div>\n                  <div>\n                    <span>价格：</span>\n                    <span>¥{{ item.cart_info.truePrice || '--' }}</span>\n                  </div>\n                  <div>\n                    <span>数量：</span>\n                    <span>{{ item.cart_info.cart_num || '--' }}</span>\n                  </div>\n                </div>\n                <span class=\"line2 w-250\">{{ item.cart_info.productInfo.store_name }}</span>\n              </el-tooltip>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"实际支付\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.pay_price }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"核销员\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.clerk_name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"核销门店\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.store_name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"支付状态\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.pay_type_name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"订单状态\" min-width=\"80\">\n          <template slot-scope=\"scope\">\n            <span> {{ scope.row.status_name.status_name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"下单时间\" min-width=\"150\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.add_time }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"formValidate.page\"\n          :limit.sync=\"formValidate.limit\"\n          @pagination=\"getList\"\n        />\n      </div>\n    </el-card>\n    <referrer-info ref=\"info\"></referrer-info>\n  </div>\n</template>\n\n<script>\nimport { verifyOrderApi, merchantStoreListApi } from '@/api/setting';\nimport cardsData from '@/components/cards/cards';\nimport referrerInfo from '@/components/referrerInfo/index';\nexport default {\n  name: 'setting_order',\n  components: { cardsData, referrerInfo },\n  data() {\n    return {\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        real_name: '',\n        store_id: '',\n        field_key: '',\n      },\n      field_key: '',\n      timeVal: [],\n      storeSelectList: [],\n      pickerOptions: this.$timeOptions,\n      orderList: [],\n      loading: false,\n      total: 0,\n    };\n  },\n  mounted() {\n    this.getList();\n    this.storeList();\n  },\n  methods: {\n    getList() {\n      let that = this;\n      that.loading = true;\n      that.formValidate.field_key = this.field_key === 'all' ? '' : this.field_key;\n      verifyOrderApi(that.formValidate)\n        .then((res) => {\n          that.loading = false;\n          that.orderList = res.data.data;\n          that.total = res.data.count;\n        })\n        .catch((res) => {\n          that.$message.error(res.msg);\n        });\n    },\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getList();\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal ? this.timeVal.join('-') : '';\n      this.getList();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.page = 1;\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.getList();\n    },\n    storeList() {\n      let that = this;\n      merchantStoreListApi()\n        .then((res) => {\n          that.storeSelectList = res.data;\n        })\n        .catch((res) => {\n          that.$message.error(res.msg);\n        });\n    },\n    referenceInfo(uid) {\n      this.$refs.info.isTemplate = true;\n      this.$refs.info.verifySpreadInfo(uid);\n    },\n    refresh() {\n      this.formValidate = {\n        page: 1,\n        limit: 15,\n        data: '',\n        real_name: '',\n        store_id: '',\n        field_key: '',\n      };\n      this.field_key = '';\n      this.getList();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\nimg {\n    height: 36px;\n    display: block;\n}\n.tabBox\n    width 100%\n    height 100%\n    display flex\n    align-items: center\n    .tabBox_img\n        width 36px\n        height 36px\n        img\n            width 100%\n            height 100%\n    .tabBox_tit\n        width 60%\n        font-size 12px !important\n        margin 0 2px 0 10px\n        letter-spacing: 1px;\n        padding: 5px 0;\n        box-sizing: border-box;\n.orderData ::v-deep .ivu-table-cell{padding-left: 0 !important;}\n.vertical-center-modal{\n    display: flex;\n    align-items: center;\n    justify-content: center;}\n.ivu-mt{\n  margin-bottom 12px\n}\n.ivu-mt a\n   color #515a6e\n.ivu-mt a:hover\n    color: #2D8cF0;\n.ivu-mt ::v-deep .ivu-form-item{\n  padding 7px 0;\n  margin-bottom 0\n}\n.tab {\n  display: flex;\n  align-items: center;\n\n  img {\n    width: 36px;\n    height: 36px;\n    margin-right: 10px;\n  }\n}\n.w-250 {\n  max-width: 250px;\n}\n.w-120 {\n  width: 120px;\n}\n</style>\n"]}]}