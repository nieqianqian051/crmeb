{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IExvY2FsIH0gZnJvbSAnQC91dGlscy9zdG9yYWdlLmpzJzsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGdldE5ld1RhZ0xpc3QgfSBmcm9tICdAL2xpYnMvdXRpbCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dCcsCiAgY29tcG9uZW50czogewogICAgRGVmYXVsdHM6ICgpID0+IGltcG9ydCgnQC9sYXlvdXQvbWFpbi9kZWZhdWx0cy52dWUnKSwKICAgIENsYXNzaWM6ICgpID0+IGltcG9ydCgnQC9sYXlvdXQvbWFpbi9jbGFzc2ljLnZ1ZScpLAogICAgVHJhbnN2ZXJzZTogKCkgPT4gaW1wb3J0KCdAL2xheW91dC9tYWluL3RyYW5zdmVyc2UudnVlJyksCiAgICBDb2x1bW5zOiAoKSA9PiBpbXBvcnQoJ0AvbGF5b3V0L21haW4vY29sdW1ucy52dWUnKSwKICAgIE1haW5zOiAoKSA9PiBpbXBvcnQoJ0AvbGF5b3V0L2NvbXBvbmVudC9tYWluLnZ1ZScpLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRNZW51Tm9TaG93OiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6I635Y+W5biD5bGA6YWN572u5L+h5oGvCiAgICBnZXRUaGVtZUNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgfSwKICAgIHRhZ05hdkxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAudGFnTmF2TGlzdDsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlKG5ld1JvdXRlKSB7CiAgICAgIHRoaXMuaGVhZE1lbnVOb1Nob3cgPSB0aGlzLiRyb3V0ZS5tZXRhLmZ1bGxTY3JlZW47CiAgICAgIGNvbnN0IHsgbmFtZSwgcXVlcnksIHBhcmFtcywgbWV0YSwgcGF0aCB9ID0gbmV3Um91dGU7CiAgICAgIHRoaXMuYWRkVGFnKHsKICAgICAgICByb3V0ZTogeyBuYW1lLCBxdWVyeSwgcGFyYW1zLCBtZXRhLCBwYXRoIH0sCiAgICAgICAgdHlwZTogJ3B1c2gnLAogICAgICB9KTsKICAgICAgdGhpcy5zZXRCcmVhZENydW1iKG5ld1JvdXRlKTsKICAgICAgdGhpcy5zZXRUYWdOYXZMaXN0KGdldE5ld1RhZ0xpc3QodGhpcy50YWdOYXZMaXN0LCBuZXdSb3V0ZSkpOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmhlYWRNZW51Tm9TaG93ID0gdGhpcy4kcm91dGUubWV0YS5mdWxsU2NyZWVuOwogICAgdGhpcy5vbkxheW91dFJlc2l6ZSgpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25MYXlvdXRSZXNpemUpOwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKFsnc2V0QnJlYWRDcnVtYicsICdzZXRUYWdOYXZMaXN0JywgJ2FkZFRhZycsICdzZXRMb2NhbCcsICdzZXRIb21lUm91dGUnLCAnY2xvc2VUYWcnXSksCgogICAgLy8g56qX5Y+j5aSn5bCP5pS55Y+Y5pe2KOmAgumFjeenu+WKqOerrykKICAgIG9uTGF5b3V0UmVzaXplKCkgewogICAgICBpZiAoIUxvY2FsLmdldCgnb2xkTGF5b3V0JykpIExvY2FsLnNldCgnb2xkTGF5b3V0JywgdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcubGF5b3V0KTsKICAgICAgY29uc3QgY2xpZW50V2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICBpZiAoY2xpZW50V2lkdGggPCAxMDAwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcuaXNDb2xsYXBzZSA9IGZhbHNlOwogICAgICAgIHRoaXMuYnVzLiRlbWl0KCdsYXlvdXRNb2JpbGVSZXNpemUnLCB7CiAgICAgICAgICBsYXlvdXQ6ICdkZWZhdWx0cycsCiAgICAgICAgICBjbGllbnRXaWR0aCwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJ1cy4kZW1pdCgnbGF5b3V0TW9iaWxlUmVzaXplJywgewogICAgICAgICAgbGF5b3V0OiBMb2NhbC5nZXQoJ29sZExheW91dCcpID8gTG9jYWwuZ2V0KCdvbGRMYXlvdXQnKSA6IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmxheW91dCwKICAgICAgICAgIGNsaWVudFdpZHRoLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCiAgZGlzdHJveWVkKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25MYXlvdXRSZXNpemUpOwogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAYA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout","sourcesContent":["<template>\n  <!-- 根据头部菜单是否显示来判断显示哪个组件 -->\n  <Mains v-if=\"headMenuNoShow\" />\n  <!-- 根据主题配置中的布局类型来判断显示哪个组件 -->\n  <Defaults v-else-if=\"getThemeConfig.layout === 'defaults'\" />\n  <Classic v-else-if=\"getThemeConfig.layout === 'classic'\" />\n  <Transverse v-else-if=\"getThemeConfig.layout === 'transverse'\" />\n  <Columns v-else-if=\"getThemeConfig.layout === 'columns'\" />\n\n</template>\n\n<script>\nimport { Local } from '@/utils/storage.js';\nimport { mapMutations } from 'vuex';\nimport { getNewTagList } from '@/libs/util';\n\nexport default {\n  name: 'layout',\n  components: {\n    Defaults: () => import('@/layout/main/defaults.vue'),\n    Classic: () => import('@/layout/main/classic.vue'),\n    Transverse: () => import('@/layout/main/transverse.vue'),\n    Columns: () => import('@/layout/main/columns.vue'),\n    Mains: () => import('@/layout/component/main.vue'),\n  },\n  data() {\n    return {\n      headMenuNoShow: false,\n    };\n  },\n  computed: {\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n    tagNavList() {\n      return this.$store.state.app.tagNavList;\n    },\n  },\n  watch: {\n    $route(newRoute) {\n      this.headMenuNoShow = this.$route.meta.fullScreen;\n      const { name, query, params, meta, path } = newRoute;\n      this.addTag({\n        route: { name, query, params, meta, path },\n        type: 'push',\n      });\n      this.setBreadCrumb(newRoute);\n      this.setTagNavList(getNewTagList(this.tagNavList, newRoute));\n    },\n  },\n  created() {\n    this.headMenuNoShow = this.$route.meta.fullScreen;\n    this.onLayoutResize();\n    window.addEventListener('resize', this.onLayoutResize);\n  },\n  methods: {\n    ...mapMutations(['setBreadCrumb', 'setTagNavList', 'addTag', 'setLocal', 'setHomeRoute', 'closeTag']),\n\n    // 窗口大小改变时(适配移动端)\n    onLayoutResize() {\n      if (!Local.get('oldLayout')) Local.set('oldLayout', this.$store.state.themeConfig.themeConfig.layout);\n      const clientWidth = document.body.clientWidth;\n      if (clientWidth < 1000) {\n        this.$store.state.themeConfig.themeConfig.isCollapse = false;\n        this.bus.$emit('layoutMobileResize', {\n          layout: 'defaults',\n          clientWidth,\n        });\n      } else {\n        this.bus.$emit('layoutMobileResize', {\n          layout: Local.get('oldLayout') ? Local.get('oldLayout') : this.$store.state.themeConfig.themeConfig.layout,\n          clientWidth,\n        });\n      }\n    },\n  },\n  distroyed() {\n    window.removeEventListener('resize', this.onLayoutResize);\n  },\n};\n</script>\n"]}]}