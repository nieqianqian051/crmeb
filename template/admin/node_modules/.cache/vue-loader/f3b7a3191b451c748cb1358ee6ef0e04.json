{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/product/productAdd/taoBao.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/product/productAdd/taoBao.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNyYXdsRnJvbUFwaSwgY29weUNvbmZpZ0FwaSB9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd0YW9CYW8nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb3VyZV9saW5rOiAnJywKICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDgsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQsCiAgICAgIH0sCiAgICAgIGdyaWQyOiB7CiAgICAgICAgeGw6IDEyLAogICAgICAgIGxnOiAxMiwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDI0LAogICAgICAgIHhzOiAyNCwKICAgICAgfSwKICAgICAgY29weUNvbmZpZzogewogICAgICAgIGNvcHlfdHlwZTogMiwKICAgICAgICBjb3B5X251bTogMCwKICAgICAgfSwKICAgICAgYXJ0RnJvbTogewogICAgICAgIHR5cGU6ICd0YW9iYW8nLAogICAgICAgIHVybDogJycsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDb3B5Q29uZmlnKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBtZWFsUGF5KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9zZXR0aW5nL3Ntcy9zbXNfY29uZmlnL2luZGV4JyB9KTsKICAgIH0sCiAgICBnZXRDb3B5Q29uZmlnKCkgewogICAgICBjb3B5Q29uZmlnQXBpKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5jb3B5Q29uZmlnLmNvcHlfdHlwZSA9IHJlcy5kYXRhLmNvcHlfdHlwZTsKICAgICAgICB0aGlzLmNvcHlDb25maWcuY29weV9udW0gPSByZXMuZGF0YS5jb3B5X251bTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g55Sf5oiQ6KGo5Y2VCiAgICBhZGQoKSB7CiAgICAgIGlmICh0aGlzLnNvdXJlX2xpbmspIHsKICAgICAgICB2YXIgcmVnID0gLyhodHRwfGZ0cHxodHRwcyk6XC9cL1tcd1wtX10rKFwuW1x3XC1fXSspKyhbXHdcLVwuLEA/Xj0lJjovflwrI10qW1x3XC1cQD9ePSUmL35cKyNdKT8vOwogICAgICAgIGlmICghcmVnLnRlc3QodGhpcy5zb3VyZV9saW5rKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5LulaHR0cOW8gOWktOeahOWcsOWdgO+8gScpOwogICAgICAgIH0KICAgICAgICB0aGlzLnNwaW5TaG93ID0gdHJ1ZTsKICAgICAgICB0aGlzLmFydEZyb20udXJsID0gdGhpcy5zb3VyZV9saW5rOwogICAgICAgIGNyYXdsRnJvbUFwaSh0aGlzLmFydEZyb20pCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGxldCBpbmZvID0gcmVzLmRhdGEucHJvZHVjdEluZm87CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uLWNsb3NlJywgaW5mbyk7CiAgICAgICAgICAgIHRoaXMuc3BpblNob3cgPSBmYWxzZTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+i+k+WFpemTvuaOpeWcsOWdgO+8gScpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["taoBao.vue"],"names":[],"mappings":";AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"taoBao.vue","sourceRoot":"src/pages/product/productAdd","sourcesContent":["<template>\n  <div class=\"Box\" v-loading=\"spinShow\">\n    <div>\n      <div class=\"tips\">\n        生成的商品默认是没有上架的，请手动上架商品！\n        <a href=\"https://doc.crmeb.com/single/v5/7785\" v-if=\"copyConfig.copy_type == 2\" target=\"_blank\">如何配置密钥</a>\n        <span v-else\n          >您当前剩余{{ copyConfig.copy_num }}条采集次数，<span class=\"add\" @click=\"mealPay()\">增加采集次数</span></span\n        >\n      </div>\n      <div>商品采集设置：设置 > 系统设置 > 第三方接口设置 > 采集商品配置</div>\n    </div>\n    <el-form\n      class=\"formValidate mt20\"\n      ref=\"formValidate\"\n      label-width=\"80px\"\n      label-position=\"right\"\n      @submit.native.prevent\n    >\n      <el-form-item label=\"链接地址：\">\n        <el-input clearable v-model=\"soure_link\" placeholder=\"请输入链接地址\" class=\"numPut\" />\n        <el-button type=\"primary\" class=\"ml15\" @click=\"add\">确定</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { crawlFromApi, copyConfigApi } from '@/api/product';\n\nexport default {\n  name: 'taoBao',\n  data() {\n    return {\n      soure_link: '',\n      spinShow: false,\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      grid2: {\n        xl: 12,\n        lg: 12,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      copyConfig: {\n        copy_type: 2,\n        copy_num: 0,\n      },\n      artFrom: {\n        type: 'taobao',\n        url: '',\n      },\n    };\n  },\n  computed: {},\n  created() {},\n  mounted() {\n    this.getCopyConfig();\n  },\n  methods: {\n    mealPay() {\n      this.$router.push({ path: this.$routeProStr + '/setting/sms/sms_config/index' });\n    },\n    getCopyConfig() {\n      copyConfigApi().then((res) => {\n        this.copyConfig.copy_type = res.data.copy_type;\n        this.copyConfig.copy_num = res.data.copy_num;\n      });\n    },\n    // 生成表单\n    add() {\n      if (this.soure_link) {\n        var reg = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/;\n        if (!reg.test(this.soure_link)) {\n          return this.$message.warning('请输入以http开头的地址！');\n        }\n        this.spinShow = true;\n        this.artFrom.url = this.soure_link;\n        crawlFromApi(this.artFrom)\n          .then((res) => {\n            let info = res.data.productInfo;\n            this.$emit('on-close', info);\n            this.spinShow = false;\n          })\n          .catch((res) => {\n            this.spinShow = false;\n            this.$message.error(res.msg);\n          });\n      } else {\n        this.$message.warning('请输入链接地址！');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n::v-deep .ivu-form-item-content {\n    line-height unset !important;\n}\n\n.Box .ivu-radio-wrapper {\n    margin-right: 25px;\n}\n.add{\n  color: #2D8cF0;\n  cursor pointer\n}\n.Box .numPut {\n    width: 414px !important;\n}\n</style>\n"]}]}