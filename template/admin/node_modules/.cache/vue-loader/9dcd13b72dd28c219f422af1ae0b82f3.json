{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemCleardata/index.vue?vue&type=style&index=0&id=680e5913&scoped=true&lang=stylus","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemCleardata/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/index.js","mtime":1746465207601},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jbGVhcl90aXQKICAgIGFsaWduLWl0ZW1zIGNlbnRlcgogICAgbWFyZ2luOiAxNXB4CiAgICBzcGFuCiAgICAgICAgZm9udC1zaXplIDE0cHgKICAgICAgICBjb2xvciAjRUQ0MDE0Ci5jbGVhcl9ib3gKICAgIGJvcmRlciAxcHggc29saWQgI0RBREZFNgogICAgYm9yZGVyLXJhZGl1cyAzcHgKICAgIGRpc3BsYXkgZmxleAogICAgZmxleC1kaXJlY3Rpb24gY29sdW1uCiAgICBhbGlnbi1pdGVtczogY2VudGVyCiAgICBwYWRkaW5nIDMwcHggMTBweAogICAgYm94LXNpemluZyBib3JkZXItYm94CiAgICAuY2xlYXJfYm94X3NwMQogICAgICAgIGZvbnQtc2l6ZSAxNnB4CiAgICAgICAgY29sb3IgIzAwMDAwMAogICAgICAgIGRpc3BsYXkgYmxvY2sKICAgIC5jbGVhcl9ib3hfc3AyCiAgICAgICAgZm9udC1zaXplIDE0cHgKICAgICAgICBjb2xvciAjODA4Njk1CiAgICAgICAgZGlzcGxheSBibG9jawogICAgICAgIG1hcmdpbjogMTJweCAwCi5jbGVhcl9ib3ggOjp2LWRlZXAgLml2dS1idG4tZXJyb3IKICAgIGNvbG9yOiAjZmZmOwogICAgYmFja2dyb3VuZC1jb2xvcjogI0VENDAxNDsKICAgIGJvcmRlci1jb2xvcjogI0VENDAxNDsKLnByb2R1Y3RfdGFicyA6OnYtZGVlcCAuaXZ1LXBhZ2UtaGVhZGVyLXRpdGxlCiAgICBtYXJnaW4tYm90dG9tIDAhaW1wb3J0YW50Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/system/maintain/systemCleardata","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n      <span class=\"clear_tit\">\n        <i class=\"el-icon-info\" style=\"color: #ED4014\" />\n        <span>清除数据请谨慎，清除就无法恢复哦！</span>\n      </span>\n    </div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n      <el-row :gutter=\"24\">\n        <el-col v-bind=\"grid\" class=\"mb20\" v-for=\"(item, index) in tabList\" :key=\"index\">\n          <div class=\"clear_box\">\n            <span class=\"clear_box_sp1\" v-text=\"item.title\"></span>\n            <span class=\"clear_box_sp2\" v-text=\"item.tlt\"></span>\n            <el-button\n              :type=\"item.typeName\"\n              v-text=\"item.typeName === 'primary' ? '立即更换' : '立即清理'\"\n              @click=\"onChange(item)\"\n            ></el-button>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n    <!-- 更换域名-->\n    <el-dialog :visible.sync=\"modals\" class=\"tableBox\" title=\"更换域名\" width=\"540px\" :close-on-click-modal=\"false\">\n      <div class=\"acea-row row-column\">\n        <span>请输入需要替换的域名，格式为：http://域名。</span>\n        <span>替换规则：会使用当前[设置]里面的[网站域名]去替换成当前您输入的域名。</span>\n        <span class=\"mb15\">替换成功后再去更换[网站域名]。</span>\n        <el-input v-model=\"value6\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入网站域名...\" />\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"modals = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"changeYU\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { replaceSiteUrlApi } from '@/api/system';\nexport default {\n  name: 'systemCleardata',\n  data() {\n    return {\n      value6: '',\n      modals: false,\n      grid: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tabList: [\n        {\n          title: '更换域名',\n          tlt: '替换所有本地上传的图片域名',\n          typeName: 'primary',\n          type: '11',\n        },\n        {\n          title: '清除用户生成的临时附件',\n          tlt: '清除用户生成的临时附件，不会影响商品图',\n          typeName: 'error',\n          type: 'temp',\n        },\n        {\n          title: '清除回收站商品',\n          tlt: '清除回收站商品，谨慎操作',\n          typeName: 'error',\n          type: 'recycle',\n        },\n        {\n          title: '清除用户数据',\n          tlt: '用户相关的所有表都将被清除，谨慎操作',\n          typeName: 'error',\n          type: 'user',\n        },\n        {\n          title: '清除商城数据',\n          tlt: '清除所有商城数据，谨慎操作',\n          typeName: 'error',\n          type: 'store',\n        },\n        {\n          title: '清除商品分类',\n          tlt: '会清除所有商品分类，谨慎操作',\n          typeName: 'error',\n          type: 'category',\n        },\n        {\n          title: '清除订单数据',\n          tlt: '清除用户所有订单数据，谨慎操作',\n          typeName: 'error',\n          type: 'order',\n        },\n        {\n          title: '清除客服数据',\n          tlt: '清除添加的客服数据，谨慎操作',\n          typeName: 'error',\n          type: 'kefu',\n        },\n        {\n          title: '清除微信数据',\n          tlt: '清除微信菜单保存数据，微信关键字无效回复',\n          typeName: 'error',\n          type: 'wechat',\n        },\n        {\n          title: '清除内容分类',\n          tlt: '清除添加的文章和文章分类,谨慎操作',\n          typeName: 'error',\n          type: 'article',\n        },\n        {\n          title: '清除所有附件',\n          tlt: '清除所有附件用户生成和后台上传,谨慎操作',\n          typeName: 'error',\n          type: 'attachment',\n        },\n        {\n          title: '清除系统记录',\n          tlt: '清除系统记录,谨慎操作',\n          typeName: 'error',\n          type: 'system',\n        },\n      ],\n    };\n  },\n  methods: {\n    // 清除数据\n    onChange(item) {\n      if (item.type === '11') {\n        this.modals = true;\n      } else {\n        this.clearFroms(item);\n      }\n    },\n    clearFroms(item) {\n      let delfromData = {\n        title: item.title,\n        url: `system/clear/${item.type}`,\n        method: 'get',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 更换域名\n    changeYU() {\n      replaceSiteUrlApi({ url: this.value6 })\n        .then((res) => {\n          this.modals = false;\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.clear_tit\n    align-items center\n    margin: 15px\n    span\n        font-size 14px\n        color #ED4014\n.clear_box\n    border 1px solid #DADFE6\n    border-radius 3px\n    display flex\n    flex-direction column\n    align-items: center\n    padding 30px 10px\n    box-sizing border-box\n    .clear_box_sp1\n        font-size 16px\n        color #000000\n        display block\n    .clear_box_sp2\n        font-size 14px\n        color #808695\n        display block\n        margin: 12px 0\n.clear_box ::v-deep .ivu-btn-error\n    color: #fff;\n    background-color: #ED4014;\n    border-color: #ED4014;\n.product_tabs ::v-deep .ivu-page-header-title\n    margin-bottom 0!important\n</style>\n"]}]}