{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/order/print/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/order/print/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRpc3RyaWJ1dGlvbk9yZGVyIH0gZnJvbSAnQC9hcGkvb3JkZXInOwppbXBvcnQgUVJDb2RlIGZyb20gJ3FyY29kZWpzMic7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5ZWG5ZOB57yW5Y+3JywKICAgICAgICAgIGtleTogJ2luZGV4JywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHdpZHRoOiA2MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5ZWG5ZOB5ZCN56ewJywKICAgICAgICAgIHNsb3Q6ICdzdG9yZV9uYW1lJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIG1pbldpZHRoOiAyNTMsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WVhuWTgeinhOagvCcsCiAgICAgICAgICBzbG90OiAnc3VrJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHdpZHRoOiAyMTksCiAgICAgICAgfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAgIHRpdGxlOiAn5ZWG5ZOB5p2h56CBJywKICAgICAgICAvLyAgICAga2V5OiAnYmFyX2NvZGUnLAogICAgICAgIC8vICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgLy8gICAgIHdpZHRoOiAxMDkKICAgICAgICAvLyB9LAogICAgICAgIC8vIHsKICAgICAgICAvLyAgICAgdGl0bGU6ICfllYblk4HnvJbnoIEnLAogICAgICAgIC8vICAgICBrZXk6ICdjb2RlJywKICAgICAgICAvLyAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIC8vICAgICB3aWR0aDogMTA5CiAgICAgICAgLy8gfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WNleS7tycsCiAgICAgICAgICBrZXk6ICdwcmljZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmlbDph48nLAogICAgICAgICAga2V5OiAnbnVtJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHdpZHRoOiA2MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn6YeR6aKdJywKICAgICAgICAgIGtleTogJ3N1YnRvdGFsJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgb3JkZXJEYXRhOiB7fSwKICAgICAgQmFzZVVSTDogU2V0dGluZy5hcGlCYXNlVVJMLnJlcGxhY2UoL2FkbWluYXBpLywgJycpLAogICAgICBuZXdBcnJheURhdGE6IFtdLAogICAgICBzaXRlX25hbWU6ICcnLAogICAgICByZWZ1bmRfcGhvbmU6ICcnLAogICAgICByZWZ1bmRfYWRkcmVzczogJycsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGlzdHJpYnV0aW9uKCk7CiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgLy8g55Sf5oiQ5LqM57u056CBCiAgICBjcmVhdFFyQ29kZSgpIHsKICAgICAgbGV0IHFyY29kZTsKICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3BhZ2VzL2dvb2RzL29yZGVyX2RldGFpbHMvaW5kZXg/b3JkZXJfaWQ9JyArIHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgICB0aGlzLm5ld0FycmF5RGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIGxldCBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXJDb2RlVXJsJyArIGluZGV4KTsKICAgICAgICBxcmNvZGUgPSBuZXcgUVJDb2RlKG9iaiwgewogICAgICAgICAgdGV4dDogdXJsLCAvLyDpnIDopoHovazmjaLkuLrkuoznu7TnoIHnmoTlhoXlrrkKICAgICAgICAgIHdpZHRoOiA5MCwKICAgICAgICAgIGhlaWdodDogOTAsCiAgICAgICAgICBjb2xvckRhcms6ICcjMDAwMDAwJywKICAgICAgICAgIGNvbG9yTGlnaHQ6ICcjZmZmZmZmJywKICAgICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5ILAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXREaXN0cmlidXRpb24oKSB7CiAgICAgIGRpc3RyaWJ1dGlvbk9yZGVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMub3JkZXJEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICBjb25zdCBjaHVua2VkQXJyYXlzID0gW107CiAgICAgICAgICByZXMuZGF0YS5wcm9kdWN0X2luZm8uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgY29uc3QgY2h1bmtJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyA2KTsKICAgICAgICAgICAgaWYgKCFjaHVua2VkQXJyYXlzW2NodW5rSW5kZXhdKSB7CiAgICAgICAgICAgICAgY2h1bmtlZEFycmF5c1tjaHVua0luZGV4XSA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGl0ZW0uaW5kZXggPSBpbmRleCArIDE7CiAgICAgICAgICAgIGNodW5rZWRBcnJheXNbY2h1bmtJbmRleF0ucHVzaChpdGVtKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5uZXdBcnJheURhdGEgPSBjaHVua2VkQXJyYXlzOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRRckNvZGUoKTsKICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/order/print","sourcesContent":["<template>\n  <!-- 支付订单 -->\n  <div class=\"order-bgc\">\n    <div class=\"putSupplier perpage\" v-for=\"(item, index) in newArrayData\" :key=\"index\">\n      <div class=\"header acea-row row-between-wrapper\">\n        <div class=\"left acea-row row-middle\">\n          <!-- <div class=\"picture\" :id=\"'qrCodeUrl' + index\"></div> -->\n          <div class=\"info\">\n            <div><span class=\"name\">收货人：</span>{{ orderData.user_name }}</div>\n            <div><span class=\"name\">收货地址：</span>{{ orderData.user_address }}</div>\n            <div>\n              <span class=\"name\">手机号：</span><span>{{ orderData.user_phone }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"info\">\n          <div><span class=\"name\">订单编号：</span>{{ orderData.order_id }}</div>\n          <div><span class=\"name\">支付时间：</span>{{ orderData.pay_time }}</div>\n          <div><span class=\"name\">支付方式：</span>{{ orderData.pay_type }}</div>\n        </div>\n      </div>\n      <div class=\"mt20\">\n        <el-table border :columns=\"columns\" :data=\"item\" :disabled-hover=\"true\">\n          <el-table-column label=\"商品编号\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.index }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"商品名称\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname line2\">{{ scope.row.name }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"商品规格\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.sku }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"单价\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.price }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"数量\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.num }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"金额\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.sum_price }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div class=\"bottom acea-row row-between-wrapper\">\n        <div class=\"acea-row row-middle\">\n          <div class=\"item\"><span class=\"name\">运费：</span>{{ orderData.pay_postage }}</div>\n          <div class=\"item\"><span class=\"name\">优惠：</span>{{ orderData.coupon_price }}</div>\n          <div class=\"item\"><span class=\"name\">会员折扣：</span>{{ orderData.vip_price }}</div>\n          <div class=\"item\"><span class=\"name\">积分抵扣：</span>{{ orderData.deduction_price }}</div>\n        </div>\n        <div class=\"pricePay\">实付金额：{{ orderData.pay_price }}</div>\n      </div>\n      <div class=\"bottom acea-row\">\n        <div class=\"name\">\n          用户备注：<span class=\"con\">{{ orderData.mark || '-' }}</span>\n        </div>\n      </div>\n    </div>\n    <!--  注意：后续要是加内容使页面撑大，记得查看下打印是否在同一张,是否会多余一张空白纸  -->\n  </div>\n</template>\n<script>\nimport { distributionOrder } from '@/api/order';\nimport QRCode from 'qrcodejs2';\nimport Setting from '@/setting';\nexport default {\n  data() {\n    return {\n      columns: [\n        {\n          title: '商品编号',\n          key: 'index',\n          align: 'center',\n          width: 60,\n        },\n        {\n          title: '商品名称',\n          slot: 'store_name',\n          align: 'center',\n          minWidth: 253,\n        },\n        {\n          title: '商品规格',\n          slot: 'suk',\n          align: 'center',\n          width: 219,\n        },\n        // {\n        //     title: '商品条码',\n        //     key: 'bar_code',\n        //     align: 'center',\n        //     width: 109\n        // },\n        // {\n        //     title: '商品编码',\n        //     key: 'code',\n        //     align: 'center',\n        //     width: 109\n        // },\n        {\n          title: '单价',\n          key: 'price',\n          align: 'center',\n          width: 100,\n        },\n        {\n          title: '数量',\n          key: 'num',\n          align: 'center',\n          width: 60,\n        },\n        {\n          title: '金额',\n          key: 'subtotal',\n          align: 'center',\n          width: 100,\n        },\n      ],\n      orderData: {},\n      BaseURL: Setting.apiBaseURL.replace(/adminapi/, ''),\n      newArrayData: [],\n      site_name: '',\n      refund_phone: '',\n      refund_address: '',\n    };\n  },\n  created() {\n    this.getDistribution();\n  },\n  mounted() {},\n  methods: {\n    // 生成二维码\n    creatQrCode() {\n      let qrcode;\n      let url = window.location.origin + '/pages/goods/order_details/index?order_id=' + this.$route.query.id;\n      this.newArrayData.forEach((item, index) => {\n        let obj = document.getElementById('qrCodeUrl' + index);\n        qrcode = new QRCode(obj, {\n          text: url, // 需要转换为二维码的内容\n          width: 90,\n          height: 90,\n          colorDark: '#000000',\n          colorLight: '#ffffff',\n          correctLevel: QRCode.CorrectLevel.H,\n        });\n      });\n    },\n    getDistribution() {\n      distributionOrder(this.$route.query.id)\n        .then((res) => {\n          this.orderData = res.data;\n          const chunkedArrays = [];\n          res.data.product_info.forEach((item, index) => {\n            const chunkIndex = Math.floor(index / 6);\n            if (!chunkedArrays[chunkIndex]) {\n              chunkedArrays[chunkIndex] = [];\n            }\n            item.index = index + 1;\n            chunkedArrays[chunkIndex].push(item);\n          });\n          this.newArrayData = chunkedArrays;\n          setTimeout(() => {\n            this.creatQrCode();\n          }, 200);\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.perpage {\n  page-break-after: always !important;\n}\n.order-bgc {\n  position: absolute;\n  width: 100%;\n  background-color: #fff;\n  height: max-content;\n  min-height: 100vh;\n}\n::v-deep .el-table th {\n  background-color: #fff !important;\n}\n::v-deep .el-table-header thead tr th:nth-of-type(1) {\n  padding-left: 0 !important;\n}\n::v-deep .el-table-header thead tr th {\n  border-top: 1px solid #333;\n}\n::v-deep .el-table td:nth-of-type(1) {\n  padding-left: 0 !important;\n}\n::v-deep .el-table-header table {\n  //border-top:0!important;\n}\n::v-deep .el-table-border th,\n::v-deep .el-table-border td {\n  border-right: 1px solid #333 !important;\n}\n::v-deep .el-table-border th:nth-of-type(1),\n::v-deep .el-table-border td:nth-of-type(1) {\n  border-left: 1px solid #333 !important;\n}\n::v-deep .el-table th,\n::v-deep .el-table td {\n  border-bottom: 1px solid #333 !important;\n  border-right: 1px solid #333 !important;\n}\n::v-deep .el-table-wrapper-with-border {\n  border-color: #333 !important;\n  border: unset;\n}\n::v-deep .el-table-border:after {\n  background-color: #333;\n  width: 0 !important;\n  height: 0 !important;\n}\n::v-deep .el-table--border {\n  border: 1px solid #333 !important;\n  border-bottom: 0px !important;\n}\n::v-deep .el-table:before {\n  background-color: #333;\n  width: 0 !important;\n  height: 0 !important;\n}\n::v-deep .el-table .cell,\n::v-deep .el-table th.el-table__cell > .cell {\n  height: 47px !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n::v-deep .el-table {\n  color: #000;\n}\n.pricePay {\n  font-weight: bold;\n}\n.bottom {\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 12px;\n  font-weight: 400;\n  margin-top: 20px;\n  .item {\n    margin-right: 30px;\n  }\n  .name {\n    font-weight: 600;\n  }\n  .con {\n    width: 740px;\n    font-weight: unset;\n  }\n}\n.putSupplier {\n  width: 794px;\n  background-color: #fff;\n  margin: 0 auto;\n  padding-top: 10px;\n  /*padding: 20px 20px 450px 20px;*/\n  /*box-sizing: border-box;*/\n  .header {\n    .info {\n      font-size: 12px;\n      color: rgba(0, 0, 0, 0.85);\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      height: 80px;\n      .name {\n        font-weight: 600;\n      }\n    }\n    .left {\n      width: 500px;\n      .picture {\n        width: 90px;\n        height: 90px;\n        margin-right: 20px;\n        img {\n          width: 100%;\n          height: 100%;\n        }\n      }\n      .info {\n        flex: 1;\n      }\n    }\n  }\n}\n.delivery {\n  display: flex;\n  justify-content: center;\n  width: 794px;\n  padding-top: 14px;\n  border-top: 1px solid #dddddd;\n  margin: 11px auto;\n  font-size: 10px;\n  color: #333333;\n\n  div + div {\n    margin-left: 30px;\n  }\n}\n</style>\n"]}]}