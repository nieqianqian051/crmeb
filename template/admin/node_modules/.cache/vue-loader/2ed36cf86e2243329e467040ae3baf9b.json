{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/commentAudit.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/commentAudit.vue","mtime":1722483978000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgeyBmaW5kQ29tTXNnQnlJZEFwaSxkeW5hbWljQXVkaXRBcGkgfSBmcm9tICJAL2FwaS9jb21tdW5pdHkiDQoJZXhwb3J0IGRlZmF1bHQgew0KCQlwcm9wczogew0KCQkJYXVkaXRWYWx1ZTogQXJyYXkNCgkJfSwNCgkJZGF0YSgpIHsNCgkJCXJldHVybiB7DQoJCQkJdXNlcl9jb250ZW50OiB7fSwNCgkJCQlkaWFsb2dEYXRhOiB7fSwNCgkJCQltc2dJZDogbnVsbCwNCgkJCQlEeW5hbWljQXVkaXRzaG93OiBmYWxzZSwNCgkJCQlkeW5hbWljU2hvdzogZmFsc2UsDQoJCQkJY2hlY2tMaXN0OiBbXSwNCgkJCQlhdWRpdF9MYWJlczogW10sDQoJCQkJZHluYW1pY0ltZzogIiINCgkJCX07DQoJCX0sDQoJCXdhdGNoOiB7DQoJCQlhdWRpdFZhbHVlOiB7DQoJCQkJaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsNCgkJCQkJdGhpcy51c2VyX2NvbnRlbnQgPSBuZXdWYWx1ZVswXTsNCgkJCQkJaWYgKG5ld1ZhbHVlWzFdKSB7DQoJCQkJCQl0aGlzLkR5bmFtaWNBdWRpdHNob3cgPSB0cnVlOw0KCQkJCQkJdGhpcy5tc2dJZCA9IG5ld1ZhbHVlWzBdLm1zZ0lkOw0KCQkJCQkJdGhpcy5zaG93RGlhbG9nKHRoaXMubXNnSWQpOw0KCQkJCQl9DQoJCQkJfSwNCgkJCQlkZWVwOiB0cnVlDQoJCQl9DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCWR5bmFtaWNDbGljaygpIHsNCgkJCQlsZXQgdGhhdCA9IHRoaXM7DQoJCQkJdGhhdC5EeW5hbWljQXVkaXRzaG93ID0gZmFsc2U7DQoJCQkJdGhhdC5kaWFsb2dEYXRhID0gW107DQoJCQkJdGhhdC5jaGVja0xpc3QgPSBbXTsNCgkJCX0sDQoJCQkvLyDmn6XnnIvliqjmgIHor6bmg4UNCgkJCWFzeW5jIHNob3dEaWFsb2cobXNnSWQpIHsNCgkJCQlsZXQgdGhhdCA9IHRoaXM7DQoJCQkJY29uc3QgcmVzdWx0ID0gYXdhaXQgZmluZENvbU1zZ0J5SWRBcGkobXNnSWQpOw0KCQkJCWlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsNCgkJCQkJdGhhdC5jaGVja0xpc3QucHVzaChudWxsKTsNCgkJCQkJdGhhdC5kaWFsb2dEYXRhID0gcmVzdWx0LmRhdGE7DQoJCQkJCXRoYXQuY2hlY2tMaXN0ID0gcmVzdWx0LmRhdGEubGFiZWxJZHM7DQoJCQkJfQ0KCQkJfSwNCgkJCWR5bmFtaWNfQXVkaXRDbGljayh2YWx1ZSkgew0KCQkJCXRoaXMuYXVkaXRfTGFiZXMgPSB2YWx1ZTsNCgkJCX0sDQoJCQkvL+WuoeaguOWKqOaAgQ0KCQkJYXN5bmMgYXVkaXRDbGljayhrYXkpIHsNCgkJCQlsZXQgdGhhdCA9IHRoaXM7DQoJCQkJbGV0IGRhdGEgPSB7DQoJCQkJCWxhYmVsczogdGhhdC5hdWRpdF9MYWJlcywNCgkJCQkJbXNnSWQ6IHRoYXQubXNnSWQsDQoJCQkJCXN0YXR1czoga2F5DQoJCQkJfTsNCgkJCQlsZXQgbWV0YURhdGEgPSB7DQoJCQkJCXBhZ2U6IDAsDQoJCQkJCXNpemU6IDANCgkJCQl9Ow0KCQkJCXRyeSB7DQoJCQkJCWNvbnN0IHJlcyA9IGF3YWl0IGR5bmFtaWNBdWRpdEFwaShkYXRhLCBtZXRhRGF0YSk7DQoJCQkJCWlmIChyZXMuY29kZSA9PT0gMjAwKSB7DQoJCQkJCQl0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MoIuWuoeaguOWujOavlSIpOw0KCQkJCQkJdGhhdC5hdWRpdF9MYWJlcyA9IFtdOw0KCQkJCQkJdGhhdC5keW5hbWljQ2xpY2soKTsNCgkJCQkJCXRoYXQuJGVtaXQoImZ1bmNsaWNrIiwgImEiKTsNCgkJCQkJfQ0KCQkJCX0gY2F0Y2ggKGUpIHsNCgkJCQkJdGhhdC4kbWVzc2FnZS5lcnJvcigi5pyN5Yqh5byC5bi477yM6K+356iN5ZCO5YaN6K+VIik7DQoJCQkJfQ0KCQkJfSwNCgkJCWR5bmFtaWNJbWdjbGljayhyb3cpIHsNCgkJCQl0aGlzLmR5bmFtaWNTaG93ID0gdHJ1ZTsNCgkJCQl0aGlzLmR5bmFtaWNJbWcgPSByb3c7DQoJCQl9LA0KCQkJU2h1dERvd25JTUcoKSB7DQoJCQkJdGhpcy5keW5hbWljU2hvdyA9IGZhbHNlOw0KCQkJCXRoaXMuZHluYW1pY0ltZyA9ICIiOw0KCQkJfQ0KCQl9DQoJfQ0K"},{"version":3,"sources":["commentAudit.vue"],"names":[],"mappings":";AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"commentAudit.vue","sourceRoot":"src/pages/community","sourcesContent":["<template>\r\n\t<div class=\"details\" v-show=\"DynamicAuditshow\">\r\n\t\t<div class=\"details_a\">\r\n\t\t\t<!--动态审核-->\r\n\t\t\t<div style=\"padding: 3px 20px;display: flex;justify-content: space-between;\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<h4>动态审核</h4>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span style=\"font-size: 30px;margin-top: 4px;\" @click=\"dynamicClick\">\r\n\t\t\t\t\t<i class=\"el-icon-close\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<!--话题-->\r\n\t\t\t<div style=\"display: flex;padding:5px 75px;\">\r\n\t\t\t\t<img\r\n\t\t\t\t\t:src=\"user_content.user.headUrl\"\r\n\t\t\t\t\talt\r\n\t\t\t\t\tv-if=\"user_content.user && user_content.user.headUrl\"\r\n\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\theight=\"80\"/>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://maiji-static-images.oss-cn-beijing.aliyuncs.com/maiji-static-images/7adab52c3646400e9e61d0442874cedc.png\"\r\n\t\t\t\t\tv-else\r\n\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\theight=\"80\"/> \r\n\t\t\t\t<div style=\"margin-left: 15px;\">\r\n\t\t\t\t\t<p>用户名：{{user_content.user != null ? user_content.user.nickName : \"\"}}</p>\r\n\t\t\t\t\t<p style=\"color:#999999\">发布时间：{{user_content.publishTime}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\r\n\t\t\t<p style=\"padding:5px 75px;\">\r\n\t\t\t\t话题：\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle=\"color:#ffa545\"\r\n\t\t\t\t\tv-for=\"(item,index) in dialogData.topics\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t>{{'#'+item+'#'+' 、'}}</span>\r\n\t\t\t</p>\r\n\t\t\t<p style=\"padding:5px 75px;color:#333333\">\r\n\t\t\t\t内容：\r\n\t\t\t\t<span style=\"color:#666666\">{{user_content.content}}</span>\r\n\t\t\t</p>\r\n\t\t\t<p style=\"display: flex;padding:5px 75px;\">\r\n\t\t\t\t动态图片：\r\n\t\t\t\t<span v-for=\"(item,index) in dialogData.files\" :key=\"index\" style=\"margin-left: 10px;\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\t:src=\"item.smallUrl\"\r\n\t\t\t\t\t\twidth=\"70px\"\r\n\t\t\t\t\t\theight=\"70px\"\r\n\t\t\t\t\t\t@click=\"dynamicImgclick(item.smallUrl)\"/>\r\n\t\t\t\t</span>\r\n\t\t\t</p>\r\n\t\t\t<p style=\"padding: 40px 75px 0;;display: flex;border-top: solid 1px #eee;\">\r\n\t\t\t\t标签设置：\r\n\t\t\t\t<el-checkbox-group\r\n\t\t\t\t\tstyle=\"margin-left: 60px;\"\r\n\t\t\t\t\tv-model=\"checkList\"\r\n\t\t\t\t\t@change=\"dynamic_AuditClick\">\r\n\t\t\t\t<el-checkbox :label=\"0\">优质动态</el-checkbox>\r\n\t\t\t\t<el-checkbox :label=\"5\">全局置顶</el-checkbox>\r\n\t\t\t\t<el-checkbox :label=\"1\">首页推荐</el-checkbox>\r\n\t\t\t\t<el-checkbox :label=\"3\">精选动态</el-checkbox>\r\n\t\t\t\t<!-- <el-checkbox :label=2>案列动态</el-checkbox> -->\r\n\t\t\t\t</el-checkbox-group>\r\n\t\t\t</p>\r\n\t\t\t<p style=\"width: 20%;margin: 150px auto 0;display: flex;justify-content: space-evenly;\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"auditClick(2)\">审核拒绝</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"auditClick(1)\">审核通过</el-button>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<div class=\"details_a detaimg2\" v-show=\"dynamicShow\">\r\n\t\t\t<span @click=\"ShutDownIMG\" style=\"position: absolute;right: 10px;top: 1px;font-size: 40px;\">\r\n\t\t\t\t<i class=\"el-icon-circle-close\"></i>\r\n\t\t\t</span>\r\n\t\t\t<div :style=\"{backgroundImage:'url('+dynamicImg+')',backgroundSize:'contain',backgroundRepeat:'no-repeat',backgroundPosition:'center'}\" class=\"luk\"></div>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\n\timport { findComMsgByIdApi,dynamicAuditApi } from \"@/api/community\"\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tauditValue: Array\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser_content: {},\r\n\t\t\t\tdialogData: {},\r\n\t\t\t\tmsgId: null,\r\n\t\t\t\tDynamicAuditshow: false,\r\n\t\t\t\tdynamicShow: false,\r\n\t\t\t\tcheckList: [],\r\n\t\t\t\taudit_Labes: [],\r\n\t\t\t\tdynamicImg: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tauditValue: {\r\n\t\t\t\thandler(newValue, oldValue) {\r\n\t\t\t\t\tthis.user_content = newValue[0];\r\n\t\t\t\t\tif (newValue[1]) {\r\n\t\t\t\t\t\tthis.DynamicAuditshow = true;\r\n\t\t\t\t\t\tthis.msgId = newValue[0].msgId;\r\n\t\t\t\t\t\tthis.showDialog(this.msgId);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdynamicClick() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.DynamicAuditshow = false;\r\n\t\t\t\tthat.dialogData = [];\r\n\t\t\t\tthat.checkList = [];\r\n\t\t\t},\r\n\t\t\t// 查看动态详情\r\n\t\t\tasync showDialog(msgId) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconst result = await findComMsgByIdApi(msgId);\r\n\t\t\t\tif (result.code == 200) {\r\n\t\t\t\t\tthat.checkList.push(null);\r\n\t\t\t\t\tthat.dialogData = result.data;\r\n\t\t\t\t\tthat.checkList = result.data.labelIds;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdynamic_AuditClick(value) {\r\n\t\t\t\tthis.audit_Labes = value;\r\n\t\t\t},\r\n\t\t\t//审核动态\r\n\t\t\tasync auditClick(kay) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tlabels: that.audit_Labes,\r\n\t\t\t\t\tmsgId: that.msgId,\r\n\t\t\t\t\tstatus: kay\r\n\t\t\t\t};\r\n\t\t\t\tlet metaData = {\r\n\t\t\t\t\tpage: 0,\r\n\t\t\t\t\tsize: 0\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await dynamicAuditApi(data, metaData);\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthat.$message.success(\"审核完毕\");\r\n\t\t\t\t\t\tthat.audit_Labes = [];\r\n\t\t\t\t\t\tthat.dynamicClick();\r\n\t\t\t\t\t\tthat.$emit(\"funclick\", \"a\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthat.$message.error(\"服务异常，请稍后再试\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdynamicImgclick(row) {\r\n\t\t\t\tthis.dynamicShow = true;\r\n\t\t\t\tthis.dynamicImg = row;\r\n\t\t\t},\r\n\t\t\tShutDownIMG() {\r\n\t\t\t\tthis.dynamicShow = false;\r\n\t\t\t\tthis.dynamicImg = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n.details {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(1, 1, 1, 0.8);\r\n  top: 1px;\r\n  left: 1px;\r\n  z-index: 4;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.details_a {\r\n  width: 60%;\r\n  height: 70%;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n}\r\nimg {\r\n  border-radius: 6px;\r\n}\r\n.detaimg2 {\r\n  position: fixed;\r\n  z-index: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.luk {\r\n  width: 1000px;\r\n  height: 900px;\r\n}\r\n</style>"]}]}