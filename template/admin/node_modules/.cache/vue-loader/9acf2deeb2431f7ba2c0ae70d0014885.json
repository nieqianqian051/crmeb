{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/deliveryService/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/deliveryService/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGRlbGl2ZXJ5TGlzdCwgb3JkZXJEZWxpdmVyeUFkZCwgb3JkZXJEZWxpdmVyeUVkaXQsIG9yZGVyRGVsaXZlcnlTdGF0dXMgfSBmcm9tICdAL2FwaS9vcmRlcic7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2luZGV4JywKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhMTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICB0YWJsZU9wdGlvbnM6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0T3JkZXJEZWxpdmVyeUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOmFjemAgeWRmOWIl+ihqAogICAgZ2V0T3JkZXJEZWxpdmVyeUxpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGRlbGl2ZXJ5TGlzdCh0aGlzLnRhYmxlT3B0aW9ucykKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGExID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmt7vliqDphY3pgIHlkZgKICAgIGFkZCgpIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKG9yZGVyRGVsaXZlcnlBZGQoKSkudGhlbigoKSA9PiB0aGlzLmdldE9yZGVyRGVsaXZlcnlMaXN0KCkpOwogICAgfSwKICAgIC8vIOe8lui+kQogICAgZWRpdChyb3cpIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKG9yZGVyRGVsaXZlcnlFZGl0KHJvdy5pZCkpLnRoZW4oKCkgPT4gdGhpcy5nZXRPcmRlckRlbGl2ZXJ5TGlzdCgpKTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbChyb3csIHRpdCwgbnVtKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogYC9vcmRlci9kZWxpdmVyeS9kZWwvJHtyb3cuaWR9YCwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycsCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLmRhdGExLnNwbGljZShudW0sIDEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5piv5ZCm5pi+56S6CiAgICBvbmNoYW5nZUlzU2hvdyhyb3cpIHsKICAgICAgb3JkZXJEZWxpdmVyeVN0YXR1cyhyb3cpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAkFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/deliveryService","sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n      <el-row class=\"mb20\">\n        <el-col :span=\"24\">\n          <el-button v-auth=\"['setting-delivery_service-add']\" type=\"primary\" @click=\"add\" class=\"mr10\"\n            >添加配送员</el-button\n          >\n        </el-col>\n      </el-row>\n      <el-table\n        :data=\"data1\"\n        v-loading=\"loading\"\n        highlight-current-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <el-table-column label=\"ID\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"头像\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"scope.row.avatar\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"名称\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.nickname }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"手机号码\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.phone }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否显示\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              class=\"defineSwitch\"\n              :active-value=\"1\"\n              :inactive-value=\"0\"\n              v-model=\"scope.row.status\"\n              :value=\"scope.row.status\"\n              @change=\"onchangeIsShow(scope.row)\"\n              size=\"large\"\n              active-text=\"显示\"\n              inactive-text=\"隐藏\"\n            >\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"添加时间\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.add_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <a @click=\"edit(scope.row)\">编辑</a>\n            <el-divider direction=\"vertical\"></el-divider>\n            <a @click=\"del(scope.row, '删除配送员', scope.$index)\">删除</a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"tableOptions.page\"\n          :limit.sync=\"tableOptions.limit\"\n          @pagination=\"getOrderDeliveryList\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { deliveryList, orderDeliveryAdd, orderDeliveryEdit, orderDeliveryStatus } from '@/api/order';\n\nexport default {\n  name: 'index',\n  computed: {\n    ...mapState('media', ['isMobile']),\n  },\n  data() {\n    return {\n      data1: [],\n      total: 0,\n      tableOptions: {\n        page: 1,\n        limit: 15,\n      },\n      loading: false,\n    };\n  },\n  created() {\n    this.getOrderDeliveryList();\n  },\n  methods: {\n    // 配送员列表\n    getOrderDeliveryList() {\n      this.loading = true;\n      deliveryList(this.tableOptions)\n        .then((res) => {\n          this.data1 = res.data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((err) => {\n          this.loading = false;\n          this.$message.error(err.msg);\n        });\n    },\n    // 添加配送员\n    add() {\n      this.$modalForm(orderDeliveryAdd()).then(() => this.getOrderDeliveryList());\n    },\n    // 编辑\n    edit(row) {\n      this.$modalForm(orderDeliveryEdit(row.id)).then(() => this.getOrderDeliveryList());\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `/order/delivery/del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.data1.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 是否显示\n    onchangeIsShow(row) {\n      orderDeliveryStatus(row)\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"]}]}