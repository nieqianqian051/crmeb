{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/marketing/channelCode/channelCodeIndex.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/marketing/channelCode/channelCodeIndex.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7CiAgd2VjaGF0UXJjb2RlTGlzdCwKICB3ZWNoYXRRcmNvZGVDcmVhdGUsCiAgd2VjaGF0UXJjb2RlVHJlZSwKICB3ZWNoYXRRcmNvZGVTdGF0dXNBcGksCiAgZ2V0VXNlckxpc3QsCn0gZnJvbSAnQC9hcGkvc2V0dGluZyc7CmltcG9ydCB7IHNjcm9sbFRvcCB9IGZyb20gJ0AvbGlicy91dGlsJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbWFya2V0aW5nX2NoYW5uZWxfY29kZScsCiAgZmlsdGVyczogewogICAgdHlwZUZpbHRlcihzdGF0dXMpIHsKICAgICAgY29uc3Qgc3RhdHVzTWFwID0gewogICAgICAgIHdlY2hhdDogJ+W+ruS/oeeUqOaItycsCiAgICAgICAgcm91dGluZTogJ+Wwj+eoi+W6j+eUqOaItycsCiAgICAgIH07CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSwKICAgIGxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogJzgwcHgnOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnOwogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmVlSWQ6ICcnLAogICAgICBpc0NoYXQ6IHRydWUsCiAgICAgIGZvcm1WYWxpZGF0ZTM6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgfSwKICAgICAgdG90YWwzOiAwLAogICAgICBsb2FkaW5nMzogZmFsc2UsCiAgICAgIG1vZGFsczM6IGZhbHNlLAogICAgICB0YWJMaXN0OiBbXSwKICAgICAgZm9ybVZhbGlkYXRlNTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICAgIHVpZDogMCwKICAgICAgICB0b191aWQ6IDAsCiAgICAgICAgaWQ6IDAsCiAgICAgIH0sCiAgICAgIHRhYmxlTGlzdDU6IFtdLAogICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgZGF0YTogJycsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgbmlja25hbWU6ICcnLAogICAgICB9LAogICAgICB0YWJsZUxpc3QyOiBbXSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgdG90YWw6IDAsCiAgICAgIHRhYmxlRnJvbTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICAgIGNhdGVfaWQ6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgIH0sCiAgICAgIHVzZXJEYXRhOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgIH0sCiAgICAgIHRpbWVWYWw6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGFibGVMaXN0OiBbXSwKICAgICAgbG9hZGluZzI6IGZhbHNlLAogICAgICB0b3RhbDI6IDAsCiAgICAgIGFkZEZyb206IHsKICAgICAgICB1aWRzOiBbXSwKICAgICAgfSwKICAgICAgc2VsZWN0aW9uczogW10sCiAgICAgIHJvd3M6IHt9LAogICAgICByb3dSZWNvcmQ6IHt9LAogICAgICB0aGVtZTM6ICdsaWdodCcsCiAgICAgIGxhYmVsU29ydDogW10sCiAgICAgIHNvcnROYW1lOiAnJywKICAgICAgY3VycmVudDogMCwKICAgICAgdWlkOiAwLAogICAgfTsKICB9LAogIGFjdGl2YXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckxhYmVsQWxsKCk7CiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgY2hhbmdlTWVudShyb3csIG5hbWUpIHsKICAgICAgdGhpcy5vcmRlcklkID0gcm93LmlkOwogICAgICBzd2l0Y2ggKG5hbWUpIHsKICAgICAgICBjYXNlICcxJzoKICAgICAgICAgIHRoaXMuZG93bkxvYWRDb2RlKHJvdy5pbWFnZSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICcyJzoKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL21hcmtldGluZy9jaGFubmVsX2NvZGUvY29kZV9zdGF0aXN0aWM/aWQ9JyArIHJvdy5pZCwKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLm1vZGFscyA9IHRydWU7CiAgICAgICAgICB0aGlzLnVzZXJEYXRhLmlkID0gcm93LmlkOwogICAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgICAgICAgdGhpcy5icmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICB9CiAgICB9LAogICAgZG93bkxvYWRDb2RlKHVybCkgewogICAgICBpZiAoIXVybCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pqC5peg5LqM57u056CBJyk7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICBpbWFnZS5zcmMgPSB1cmw7CiAgICAgIC8vIOino+WGs+i3qOWfnyBDYW52YXMg5rGh5p+T6Zeu6aKYCiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnY3Jvc3NPcmlnaW4nLCAnYW5vbnltb3VzJyk7CiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDsKICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTsKCiAgICAgICAgdmFyIHVybCA9IGNhbnZhcy50b0RhdGFVUkwoKTsgLy/lvpfliLDlm77niYfnmoRiYXNlNjTnvJbnoIHmlbDmja4KICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsgLy8g55Sf5oiQ5LiA5LiqYeWFg+e0oAogICAgICAgIHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycpOyAvLyDliJvlu7rkuIDkuKrljZXlh7vkuovku7YKICAgICAgICBhLmRvd25sb2FkID0gbmFtZSB8fCAncGhvdG8nOyAvLyDorr7nva7lm77niYflkI3np7AKICAgICAgICBhLmhyZWYgPSB1cmw7IC8vIOWwhueUn+aIkOeahFVSTOiuvue9ruS4umEuaHJlZuWxnuaApwogICAgICAgIGEuZGlzcGF0Y2hFdmVudChldmVudCk7IC8vIOinpuWPkWHnmoTljZXlh7vkuovku7YKICAgICAgfTsKICAgIH0sCiAgICAvLyDojrflj5bmuKDpgZPnoIHnlKjmiLfliJfooagKICAgIGdldFVzZXJMaXN0KCkgewogICAgICBnZXRVc2VyTGlzdCh0aGlzLnVzZXJEYXRhKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICBsZXQgYXJyID0gW107CiAgICAgICAgICBkYXRhLmxpc3QubWFwKChpKSA9PiB7CiAgICAgICAgICAgIGFyci5wdXNoKGkudXNlcik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudGFiTGlzdCA9IGFycjsKICAgICAgICAgIHRoaXMudG90YWwyID0gZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudGFiTGlzdCA9IFtdOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLy8g6I635Y+W5YiG57uECiAgICBnZXRVc2VyTGFiZWxBbGwoa2V5KSB7CiAgICAgIHdlY2hhdFFyY29kZVRyZWUoKS50aGVuKChyZXMpID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgIGNhdGVfbmFtZTogJ+WFqOmDqCcsCiAgICAgICAgICBpZDogJycsCiAgICAgICAgfTsKICAgICAgICBkYXRhLnVuc2hpZnQob2JqKTsKICAgICAgICBkYXRhLmZvckVhY2goKGVsKSA9PiB7CiAgICAgICAgICBlbC5zdGF0dXMgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICBpZiAoIWtleSkgewogICAgICAgICAgdGhpcy5zb3J0TmFtZSA9IGRhdGFbMF0uaWQ7CiAgICAgICAgICB0aGlzLnRhYmxlRnJvbS5jYXRlX2lkID0gZGF0YVswXS5pZDsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0KICAgICAgICB0aGlzLmxhYmVsU29ydCA9IGRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOa3u+WKoOWIhuexuwogICAgYWRkU29ydCgpIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKHdlY2hhdFFyY29kZUNyZWF0ZSgwKSkudGhlbigoKSA9PiB0aGlzLmdldFVzZXJMYWJlbEFsbCgpKTsKICAgIH0sCiAgICAvL+e8lui+keagh+etvgogICAgbGFiZWxFZGl0KGl0ZW0pIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKHdlY2hhdFFyY29kZUNyZWF0ZShpdGVtLmlkKSkudGhlbigoKSA9PiB0aGlzLmdldFVzZXJMYWJlbEFsbCgxKSk7CiAgICB9LAogICAgZGVsZXRlU29ydChyb3csIHRpdCkgewogICAgICBsZXQgbnVtID0gdGhpcy5sYWJlbFNvcnQuZmluZEluZGV4KChlKSA9PiB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT0gcm93LmlkOwogICAgICB9KTsKICAgICAgbGV0IGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgbnVtOiBudW0sCiAgICAgICAgdXJsOiBgYXBwL3dlY2hhdF9xcmNvZGUvY2F0ZS9kZWwvJHtyb3cuaWR9YCwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycsCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLmxhYmVsU29ydC5zcGxpY2UobnVtLCAxKTsKICAgICAgICAgIHRoaXMubGFiZWxTb3J0ID0gW107CiAgICAgICAgICB0aGlzLmdldFVzZXJMYWJlbEFsbCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5pi+56S65qCH562+5bCP6I+c5Y2VCiAgICBzaG93TWVudShpdGVtKSB7CiAgICAgIHRoaXMubGFiZWxTb3J0LmZvckVhY2goKGVsKSA9PiB7CiAgICAgICAgaWYgKGVsLmlkID09IGl0ZW0uaWQpIHsKICAgICAgICAgIGVsLnN0YXR1cyA9IGl0ZW0uc3RhdHVzID8gZmFsc2UgOiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbC5zdGF0dXMgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGJpbmRNZW51SXRlbShuYW1lLCBpbmRleCkgewogICAgICB0aGlzLnRhYmxlRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5jdXJyZW50ID0gaW5kZXg7CiAgICAgIHRoaXMubGFiZWxTb3J0LmZvckVhY2goKGVsKSA9PiB7CiAgICAgICAgZWwuc3RhdHVzID0gZmFsc2U7CiAgICAgIH0pOwogICAgICB0aGlzLnRhYmxlRnJvbS5jYXRlX2lkID0gbmFtZS5pZDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxMCwKICAgICAgICBkYXRhOiAnJywKICAgICAgICB0eXBlOiAnJywKICAgICAgICBuaWNrbmFtZTogJycsCiAgICAgIH07CiAgICB9LAogICAgLy8g57yW6L6RCiAgICBlZGl0KHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL21hcmtldGluZy9jaGFubmVsX2NvZGUvY3JlYXRlP2lkPScgKyByb3cuaWQsCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOa3u+WKoAogICAgYWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL21hcmtldGluZy9jaGFubmVsX2NvZGUvY3JlYXRlJywKICAgICAgfSk7CiAgICB9LAogICAgLy8KICAgIGdldExpc3RTZXJ2aWNlKCkgewogICAgICB0aGlzLmxvYWRpbmcyID0gdHJ1ZTsKICAgICAga2VmdWNyZWF0ZUFwaSh0aGlzLmZvcm1WYWxpZGF0ZSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy50YWJsZUxpc3QyID0gZGF0YS5saXN0OwogICAgICAgICAgdGhpcy50b3RhbDIgPSBkYXRhLmNvdW50OwogICAgICAgICAgdGhpcy50YWJsZUxpc3QyLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICBpdGVtLl9pc0NoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5sb2FkaW5nMiA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57SiCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWIoOmZpAogICAgZGVsKHJvdywgdGl0LCBudW0pIHsKICAgICAgbGV0IGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgbnVtOiBudW0sCiAgICAgICAgdXJsOiBgL2FwcC93ZWNoYXRfcXJjb2RlL2RlbC8ke3Jvdy5pZH1gLAogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaWRzOiAnJywKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0LnNwbGljZShudW0sIDEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5YiX6KGoCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB3ZWNoYXRRcmNvZGVMaXN0KHRoaXMudGFibGVGcm9tKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDkv67mlLnmmK/lkKbmmL7npLoKICAgIG9uY2hhbmdlSXNTaG93KHJvdykgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIHN0YXR1czogcm93LnN0YXR1cywKICAgICAgfTsKICAgICAgd2VjaGF0UXJjb2RlU3RhdHVzQXBpKGRhdGEpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye76I+c5Y2VCiAgICBjbGlja01lbnUoZGF0YSwgbmFtZSkgewogICAgICBpZiAobmFtZSA9PSAxKSB7CiAgICAgICAgdGhpcy5sYWJlbEVkaXQoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAyKSB7CiAgICAgICAgdGhpcy5kZWxldGVTb3J0KGRhdGEsICfliKDpmaTliIbnsbsnKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["channelCodeIndex.vue"],"names":[],"mappings":";AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"channelCodeIndex.vue","sourceRoot":"src/pages/marketing/channelCode","sourcesContent":["<template>\n  <div>\n    <el-row class=\"ivu-mt box-wrapper\" ref=\"warpper\">\n      <el-col :span=\"4\" class=\"left-wrapper\">\n        <div class=\"tree_tit\" @click=\"addSort\">\n          <i class=\"el-icon-circle-plus\"></i>\n          添加分组\n        </div>\n        <div class=\"tree\">\n          <el-tree\n            :data=\"labelSort\"\n            node-key=\"id\"\n            default-expand-all\n            highlight-current\n            :expand-on-click-node=\"false\"\n            @node-click=\"bindMenuItem\"\n            :current-node-key=\"treeId\"\n          >\n            <span class=\"custom-tree-node\" slot-scope=\"{ data }\">\n              <span class=\"file-name\">\n                <img v-if=\"!data.pid\" class=\"icon\" src=\"@/assets/images/file.jpg\" />\n                {{ data.cate_name }}</span\n              >\n              <span v-if=\"data.id\">\n                <el-dropdown @command=\"(command) => clickMenu(data, command)\">\n                  <i class=\"el-icon-more el-icon--right\"></i>\n                  <template slot=\"dropdown\">\n                    <el-dropdown-menu>\n                      <el-dropdown-item command=\"1\">编辑分组</el-dropdown-item>\n                      <el-dropdown-item v-if=\"data.id\" command=\"2\">删除分组</el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n              </span>\n            </span>\n          </el-tree>\n        </div>\n      </el-col>\n      <el-col :span=\"20\" ref=\"rightBox\">\n        <el-card :bordered=\"false\" shadow=\"never\">\n          <el-row class=\"mb14\">\n            <el-col :span=\"18\">\n              <el-button v-auth=\"['marketing-channel_code-create']\" type=\"primary\" @click=\"add\">新建二维码</el-button>\n              <!-- <el-button v-auth=\"['marketing-channel_code-create']\" type=\"success\" @click=\"addSort\">添加分组</el-button> -->\n            </el-col>\n            <el-col :span=\"6\">\n              <div class=\"flex\">\n\n              <el-input class=\"mr10\" v-model=\"tableFrom.name\" search placeholder=\"请输入二维码名称\"> </el-input>\n              <el-button type=\"primary\" @click=\"userSearchs\">搜索</el-button>\n              </div>\n            </el-col>\n          </el-row>\n          <el-table\n            :data=\"tableList\"\n            v-loading=\"loading\"\n            highlight-current-row\n            no-userFrom-text=\"暂无数据\"\n            no-filtered-userFrom-text=\"暂无筛选结果\"\n          >\n            <el-table-column label=\"二维码\" width=\"80\">\n              <template slot-scope=\"scope\">\n                <div class=\"tabBox_img\" v-viewer>\n                  <img v-lazy=\"scope.row.image\" />\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"二维码名称\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.name }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"总关注数\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.follow }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"昨日新增关注\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.y_follow }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"用户标签\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <el-tag class=\"label-name\" v-for=\"(item, index) in scope.row.label_name\" :key=\"index\">{{\n                  item\n                }}</el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"时间\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <span v-if=\"scope.row.stop === 0\"> 永久 </span>\n                <span v-if=\"scope.row.stop === 1\">\n                  <div>{{ scope.row.add_time }}</div>\n                  <div>-</div>\n                  <div>{{ scope.row.end_time }}</div>\n                </span>\n                <span v-if=\"scope.row.stop === -1\">已过期</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"关联推广员\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <div class=\"tabBox_img\" v-viewer>\n                  <img v-lazy=\"scope.row.avatar\" />\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"状态\" min-width=\"80\">\n              <template slot-scope=\"scope\">\n                <el-switch\n                  :active-value=\"1\"\n                  :inactive-value=\"0\"\n                  v-model=\"scope.row.status\"\n                  :value=\"scope.row.status\"\n                  :disabled=\"scope.row.lottery_status == 2 ? true : false\"\n                  @change=\"onchangeIsShow(scope.row)\"\n                  size=\"large\"\n                  active-text=\"开启\"\n                  inactive-text=\"关闭\"\n                >\n                </el-switch>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" fixed=\"right\" width=\"170\">\n              <template slot-scope=\"scope\">\n                <a @click=\"edit(scope.row)\">编辑</a>\n                <el-divider direction=\"vertical\"></el-divider>\n                <a @click=\"del(scope.row, '删除二维码', scope.$index)\">删除</a>\n                <el-divider direction=\"vertical\"></el-divider>\n                <el-dropdown size=\"small\" @command=\"changeMenu(scope.row, $event)\" :transfer=\"true\">\n                  <span class=\"el-dropdown-link\">更多<i class=\"el-icon-arrow-down el-icon--right\"></i> </span>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item command=\"1\">下载</el-dropdown-item>\n                    <el-dropdown-item command=\"2\">统计</el-dropdown-item>\n                    <el-dropdown-item command=\"3\">用户列表</el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown>\n              </template>\n            </el-table-column>\n          </el-table>\n          <div class=\"acea-row row-right page\">\n            <pagination\n              v-if=\"total\"\n              :total=\"total\"\n              :page.sync=\"tableFrom.page\"\n              :limit.sync=\"tableFrom.limit\"\n              @pagination=\"getList\"\n            />\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    <el-dialog :visible.sync=\"modals\" title=\"渠道码用户列表\" :close-on-click-modal=\"false\" width=\"900px\">\n      <el-table ref=\"selection\" :data=\"tabList\" empty-text=\"暂无数据\" highlight-current-row max-height=\"400\">\n        <el-table-column label=\"UID\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.uid }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户头像\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"scope.row.avatar\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户昵称\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.nickname }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total2\"\n          :total=\"total2\"\n          :page.sync=\"userData.page\"\n          :limit.sync=\"userData.limit\"\n          @pagination=\"getUserList\"\n        />\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport {\n  wechatQrcodeList,\n  wechatQrcodeCreate,\n  wechatQrcodeTree,\n  wechatQrcodeStatusApi,\n  getUserList,\n} from '@/api/setting';\nimport { scrollTop } from '@/libs/util';\n\nexport default {\n  name: 'marketing_channel_code',\n  filters: {\n    typeFilter(status) {\n      const statusMap = {\n        wechat: '微信用户',\n        routine: '小程序用户',\n      };\n      return statusMap[status];\n    },\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : '80px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  data() {\n    return {\n      treeId: '',\n      isChat: true,\n      formValidate3: {\n        page: 1,\n        limit: 15,\n      },\n      total3: 0,\n      loading3: false,\n      modals3: false,\n      tabList: [],\n      formValidate5: {\n        page: 1,\n        limit: 15,\n        uid: 0,\n        to_uid: 0,\n        id: 0,\n      },\n      tableList5: [],\n      FromData: null,\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        type: '',\n        nickname: '',\n      },\n      tableList2: [],\n      modals: false,\n      total: 0,\n      tableFrom: {\n        page: 1,\n        limit: 15,\n        cate_id: 0,\n        name: '',\n      },\n      userData: {\n        id: 0,\n        page: 1,\n        limit: 15,\n      },\n      timeVal: [],\n      loading: false,\n      tableList: [],\n      loading2: false,\n      total2: 0,\n      addFrom: {\n        uids: [],\n      },\n      selections: [],\n      rows: {},\n      rowRecord: {},\n      theme3: 'light',\n      labelSort: [],\n      sortName: '',\n      current: 0,\n      uid: 0,\n    };\n  },\n  activated() {\n    this.getUserLabelAll();\n  },\n  mounted() {},\n  methods: {\n    changeMenu(row, name) {\n      this.orderId = row.id;\n      switch (name) {\n        case '1':\n          this.downLoadCode(row.image);\n          break;\n        case '2':\n          this.$router.push({\n            path: this.$routeProStr + '/marketing/channel_code/code_statistic?id=' + row.id,\n          });\n          break;\n        case '3':\n          this.modals = true;\n          this.userData.id = row.id;\n          this.getUserList();\n          this.break;\n        default:\n      }\n    },\n    downLoadCode(url) {\n      if (!url) return this.$message.warning('暂无二维码');\n      var image = new Image();\n      image.src = url;\n      // 解决跨域 Canvas 污染问题\n      image.setAttribute('crossOrigin', 'anonymous');\n      image.onload = function () {\n        var canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        context.drawImage(image, 0, 0, image.width, image.height);\n\n        var url = canvas.toDataURL(); //得到图片的base64编码数据\n        var a = document.createElement('a'); // 生成一个a元素\n        var event = new MouseEvent('click'); // 创建一个单击事件\n        a.download = name || 'photo'; // 设置图片名称\n        a.href = url; // 将生成的URL设置为a.href属性\n        a.dispatchEvent(event); // 触发a的单击事件\n      };\n    },\n    // 获取渠道码用户列表\n    getUserList() {\n      getUserList(this.userData)\n        .then(async (res) => {\n          let data = res.data;\n          let arr = [];\n          data.list.map((i) => {\n            arr.push(i.user);\n          });\n          this.tabList = arr;\n          this.total2 = data.count;\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.tabList = [];\n          this.$message.error(res.msg);\n        });\n    },\n\n    // 获取分组\n    getUserLabelAll(key) {\n      wechatQrcodeTree().then((res) => {\n        let data = res.data.data;\n        let obj = {\n          cate_name: '全部',\n          id: '',\n        };\n        data.unshift(obj);\n        data.forEach((el) => {\n          el.status = false;\n        });\n        if (!key) {\n          this.sortName = data[0].id;\n          this.tableFrom.cate_id = data[0].id;\n          this.getList();\n        }\n        this.labelSort = data;\n      });\n    },\n    // 添加分类\n    addSort() {\n      this.$modalForm(wechatQrcodeCreate(0)).then(() => this.getUserLabelAll());\n    },\n    //编辑标签\n    labelEdit(item) {\n      this.$modalForm(wechatQrcodeCreate(item.id)).then(() => this.getUserLabelAll(1));\n    },\n    deleteSort(row, tit) {\n      let num = this.labelSort.findIndex((e) => {\n        return e.id == row.id;\n      });\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/wechat_qrcode/cate/del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.labelSort.splice(num, 1);\n          this.labelSort = [];\n          this.getUserLabelAll();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 显示标签小菜单\n    showMenu(item) {\n      this.labelSort.forEach((el) => {\n        if (el.id == item.id) {\n          el.status = item.status ? false : true;\n        } else {\n          el.status = false;\n        }\n      });\n    },\n    bindMenuItem(name, index) {\n      this.tableFrom.page = 1;\n      this.current = index;\n      this.labelSort.forEach((el) => {\n        el.status = false;\n      });\n      this.tableFrom.cate_id = name.id;\n      this.getList();\n    },\n    cancel() {\n      this.formValidate = {\n        page: 1,\n        limit: 10,\n        data: '',\n        type: '',\n        nickname: '',\n      };\n    },\n    // 编辑\n    edit(row) {\n      this.$router.push({\n        path: this.$routeProStr + '/marketing/channel_code/create?id=' + row.id,\n      });\n    },\n    // 添加\n    add() {\n      this.$router.push({\n        path: this.$routeProStr + '/marketing/channel_code/create',\n      });\n    },\n    //\n    getListService() {\n      this.loading2 = true;\n      kefucreateApi(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList2 = data.list;\n          this.total2 = data.count;\n          this.tableList2.map((item) => {\n            item._isChecked = false;\n          });\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          this.loading2 = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getList();\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `/app/wechat_qrcode/del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.tableList.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      wechatQrcodeList(this.tableFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 修改是否显示\n    onchangeIsShow(row) {\n      let data = {\n        id: row.id,\n        status: row.status,\n      };\n      wechatQrcodeStatusApi(data)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 点击菜单\n    clickMenu(data, name) {\n      if (name == 1) {\n        this.labelEdit(data);\n      } else if (name == 2) {\n        this.deleteSort(data, '删除分类');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.showOn {\n  color: #2d8cf0;\n  background: #f0faff;\n  z-index: 2;\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.modelBox {\n  ::v-deep, .ivu-table-header {\n    width: 100% !important;\n  }\n}\n\n.label-name {\n  margin: 2px 2px;\n}\n\n.trees-coadd {\n  width: 100%;\n  height: 385px;\n\n  .scollhide {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n}\n\n// margin-left: 18px;\n.scollhide::-webkit-scrollbar {\n  display: none;\n}\n\n::v-deep .ivu-menu-vertical .ivu-menu-item-group-title {\n  display: none;\n}\n\n::v-deep .ivu-menu-vertical.ivu-menu-light:after {\n  display: none;\n}\n\n.left-wrapper {\n  height: 904px;\n  background: #fff;\n  border-right: 1px solid #f2f2f2;\n}\n\n.menu-item {\n  z-index: 50;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  word-break: break-all;\n\n  .icon-box {\n    z-index: 3;\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    display: none;\n  }\n\n  &:hover .icon-box {\n    display: block;\n  }\n\n  .right-menu {\n    z-index: 10;\n    position: absolute;\n    right: -106px;\n    top: -11px;\n    width: auto;\n    min-width: 121px;\n  }\n}\n</style>\n"]}]}