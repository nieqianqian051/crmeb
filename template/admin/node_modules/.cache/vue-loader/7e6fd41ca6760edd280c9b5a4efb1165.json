{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/agreement/index.vue?vue&type=style&index=0&id=42a1aefa&lang=stylus&scoped=true","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/agreement/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/index.js","mtime":1746465207601},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cjo6di1kZWVwIC5lbC10YWJzX19pdGVtIHsKICBoZWlnaHQ6IDU0cHggIWltcG9ydGFudDsKICBsaW5lLWhlaWdodDogNTRweCAhaW1wb3J0YW50Owp9Ci5hZ3JlZW1hbnQgewogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KCi5jb250ZW50IHsKICBwYWRkaW5nOiAxMHB4IDE2cHg7Cn0KCi5pZmFtIHsKICB3aWR0aDogMzQ0cHg7CiAgaGVpZ2h0OiA2NDRweDsKICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvYWctcGhvbmUucG5nJykgbm8tcmVwZWF0IGNlbnRlciB0b3A7CiAgYmFja2dyb3VuZC1zaXplOiAzNDRweCA2NDRweDsKICBwYWRkaW5nOiA0MHB4IDIwcHg7CiAgcGFkZGluZy10b3A6IDUwcHg7CiAgbWFyZ2luOiAwIGF1dG8gMCAyMHB4OwoKICAuY29udGVudCB7CiAgICBoZWlnaHQ6IDU2MHB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTsgLyogZmlyZWZveCAqLwogICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyAvKiBJRSAxMCsgKi8KICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgIG92ZXJmbG93LXk6IGF1dG87CiAgfQoKICAuY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgZGlzcGxheTogbm9uZTsgLyogQ2hyb21lIFNhZmFyaSAqLwogIH0KfQoKLm5ld190YWIgewogIDo6di1kZWVwIC5pdnUtdGFicy1uYXYgLml2dS10YWJzLXRhYiB7CiAgICBwYWRkaW5nOiA0cHggMTZweCAyMHB4ICFpbXBvcnRhbnQ7CiAgICBmb250LXdlaWdodDogNTAwOwogIH0KfQoKLy8gLmZpeGVkLWNhcmQgewovLyAgIHBvc2l0aW9uOiBmaXhlZDsKLy8gICByaWdodDogMDsKLy8gICBib3R0b206IDA7Ci8vICAgbGVmdDogMjAwcHg7Ci8vICAgei1pbmRleDogODsKLy8gICAvLyBib3gtc2hhZG93OiAwIC0xcHggMnB4IHJnYigyNDAsIDI0MCwgMjQwKTsKLy8gICBib3JkZXI6bm9uZTsKLy8gICA6OnYtZGVlcCAuaXZ1LWNhcmQtYm9keSB7Ci8vICAgICBwYWRkaW5nOiAxNXB4IDE2cHggMTRweDsKLy8gICB9CgovLyAgIC5pdnUtZm9ybS1pdGVtIHsKLy8gICAgIG1hcmdpbi1ib3R0b206IDA7Ci8vICAgfQoKLy8gICA6OnYtZGVlcCAuaXZ1LWZvcm0taXRlbS1jb250ZW50IHsKLy8gICAgIG1hcmdpbi1yaWdodDogMTI0cHg7Ci8vICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Ci8vICAgfQovLyB9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/agreement","sourcesContent":["<template>\n  <div class=\"agreemant\">\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: '0 20px' }\">\n      <div>\n        <el-tabs v-model=\"currentTab\" @tab-click=\"changeTab\">\n          <el-tab-pane\n            :label=\"item.label\"\n            :name=\"item.value.toString()\"\n            v-for=\"(item, index) in headerList\"\n            :key=\"index\"\n          />\n        </el-tabs>\n      </div>\n    </el-card>\n\n    <el-row class=\"content\">\n      <el-col :span=\"16\">\n        <WangEditor style=\"width: 100%\" :content=\"formValidate.content\" @editorContent=\"getEditorContent\"></WangEditor>\n      </el-col>\n      <el-col :span=\"6\" style=\"width: 33%\">\n        <div class=\"ifam\">\n          <div class=\"content\" v-html=\"content\"></div>\n        </div>\n      </el-col>\n    </el-row>\n    <!-- <el-row class=\"mb10 content\">\n      <el-button class=\"bnt\" type=\"primary\" @click=\"save\" :loading=\"loadingExist\"\n        >保存</el-button\n      >\n    </el-row> -->\n\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"fixed-card\" :style=\"{ left: `${fixBottomWidth}` }\">\n      <div class=\"acea-row row-center\">\n        <el-button class=\"bnt\" type=\"primary\" @click=\"save\" :loading=\"loadingExist\">保存</el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { getAgreements, setAgreements } from '@/api/system';\n\nexport default {\n  components: { WangEditor },\n  data() {\n    return {\n      loadingExist: false,\n      currentTab: '1',\n      headerList: [\n        { label: '付费会员协议', value: '1' },\n        { label: '代理商协议', value: '2' },\n        { label: '隐私协议', value: '3' },\n        { label: '用户协议', value: '4' },\n        { label: '注销协议', value: '5' },\n        { label: '积分协议', value: '6' },\n      ],\n      ueConfig: {\n        autoHeightEnabled: false,\n        initialFrameHeight: 500,\n        initialFrameWidth: '100%',\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      id: 0,\n      formValidate: {\n        content: '',\n      },\n      content: '',\n      spinShow: false,\n    };\n  },\n  computed: {\n    // 设置是否显示 tagsView\n    fixBottomWidth() {\n      let { layout, isCollapse } = this.$store.state.themeConfig.themeConfig;\n      let w;\n      if (['columns'].includes(layout)) {\n        if (isCollapse) {\n          w = '85px';\n        } else {\n          w = '265px';\n        }\n      } else if (['classic'].includes(layout)) {\n        if (isCollapse) {\n          w = '85px';\n        } else {\n          w = '180px';\n        }\n      } else if (['defaults', 'classic'].includes(layout)) {\n        if (isCollapse) {\n          w = '64px';\n        } else {\n          w = '180px';\n        }\n      } else {\n        w = '0px';\n      }\n      return w;\n    },\n  },\n  created() {\n    this.changeTab(this.currentTab);\n  },\n  methods: {\n    save() {\n      this.formValidate.content = this.content;\n      setAgreements(this.formValidate)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    getEditorContent(content) {\n      this.content = content;\n    },\n    changeTab() {\n      this.formValidate.content = ' ';\n      getAgreements(this.currentTab).then((res) => {\n        this.formValidate.id = res.data.id || 0;\n        this.formValidate.type = res.data.type;\n        this.formValidate.title = res.data.title;\n        this.formValidate.content = res.data.content;\n        this.content = res.data.content;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n::v-deep .el-tabs__item {\n  height: 54px !important;\n  line-height: 54px !important;\n}\n.agreemant {\n  background-color: #fff;\n}\n\n.content {\n  padding: 10px 16px;\n}\n\n.ifam {\n  width: 344px;\n  height: 644px;\n  background: url('../../../assets/images/ag-phone.png') no-repeat center top;\n  background-size: 344px 644px;\n  padding: 40px 20px;\n  padding-top: 50px;\n  margin: 0 auto 0 20px;\n\n  .content {\n    height: 560px;\n    overflow: hidden;\n    scrollbar-width: none; /* firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n\n  .content::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n}\n\n.new_tab {\n  ::v-deep .ivu-tabs-nav .ivu-tabs-tab {\n    padding: 4px 16px 20px !important;\n    font-weight: 500;\n  }\n}\n\n// .fixed-card {\n//   position: fixed;\n//   right: 0;\n//   bottom: 0;\n//   left: 200px;\n//   z-index: 8;\n//   // box-shadow: 0 -1px 2px rgb(240, 240, 240);\n//   border:none;\n//   ::v-deep .ivu-card-body {\n//     padding: 15px 16px 14px;\n//   }\n\n//   .ivu-form-item {\n//     margin-bottom: 0;\n//   }\n\n//   ::v-deep .ivu-form-item-content {\n//     margin-right: 124px;\n//     text-align: center;\n//   }\n// }\n</style>\n"]}]}