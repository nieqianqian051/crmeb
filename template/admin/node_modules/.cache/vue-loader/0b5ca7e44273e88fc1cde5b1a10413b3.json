{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/breadcrumb/userNews.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/breadcrumb/userNews.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmxldCBuZXdPcmRlckF1ZGlvTGluayA9IG5ldyBBdWRpbyhyZXF1aXJlKCdAL2Fzc2V0cy92aWRlby9uZXdPcmRlckF1ZGlvTGluay5tcDMnKSk7CmltcG9ydCB7IGpub3RpY2VSZXF1ZXN0IH0gZnJvbSAnQC9hcGkvY29tbW9uJzsKaW1wb3J0IHsgYWRtaW5Tb2NrZXQgfSBmcm9tICdAL2xpYnMvc29ja2V0JzsKaW1wb3J0IHsgZ2V0Q29va2llcywgcmVtb3ZlQ29va2llcywgc2V0Q29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXlvdXRCcmVhZGNydW1iVXNlck5ld3MnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdzTGlzdDogW10sCiAgICAgIG5ld09yZGVyQXVkaW9MaW5rOiBudWxsLAogICAgICBtZXNzYWdlTGlzdDogW10sCiAgICB9OwogIH0sCiAgcHJvcHM6IFsndm0nXSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXROb3RpY3QoKTsKICAgIHRoaXMubmV3T3JkZXJBdWRpb0xpbmsgPSBuZXdPcmRlckF1ZGlvTGluazsKICAgIC8vIGFkbWluU29ja2V0LnRoZW4oKHdzKSA9PiB7CiAgICAvLyAgIHdzLnNlbmQoewogICAgLy8gICAgIHR5cGU6ICdsb2dpbicsCiAgICAvLyAgICAgZGF0YTogZ2V0Q29va2llcygndG9rZW4nKSwKICAgIC8vICAgfSk7CiAgICAvLyAgIGxldCB0aGF0ID0gdGhpczsKICAgIC8vICAgd3MuJG9uKCdBRE1JTl9ORVdfUFVTSCcsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAvLyAgICAgdGhhdC5nZXROb3RpY3QoKTsKICAgIC8vICAgfSk7CgogICAgLy8gICB3cy4kb24oJ05FV19PUkRFUicsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAvLyAgICAgdGhhdC4kbm90aWZ5LmluZm8oewogICAgLy8gICAgICAgdGl0bGU6ICfmlrDorqLljZUnLAogICAgLy8gICAgICAgbWVzc2FnZTogJ+aCqOacieS4gOS4quaWsOeahOiuouWNlSxJROS4uignICsgZGF0YS5vcmRlcl9pZCArICcpLOivt+azqOaEj+afpeeciycsCiAgICAvLyAgICAgfSk7CiAgICAvLyAgICAgaWYgKHRoaXMubmV3T3JkZXJBdWRpb0xpbmspIHRoaXMubmV3T3JkZXJBdWRpb0xpbmsucGxheSgpOwogICAgLy8gICAgIHRoYXQubWVzc2FnZUxpc3QucHVzaCh7CiAgICAvLyAgICAgICB0aXRsZTogJ+aWsOiuouWNleaPkOmGkicsCiAgICAvLyAgICAgICBpY29uOiAnbWQtYnVsYicsCiAgICAvLyAgICAgICBpY29uQ29sb3I6ICcjODdkMDY4JywKICAgIC8vICAgICAgIHRpbWU6IDAsCiAgICAvLyAgICAgICByZWFkOiAwLAogICAgLy8gICAgIH0pOwogICAgLy8gICB9KTsKICAgIC8vICAgd3MuJG9uKCdORVdfUkVGVU5EX09SREVSJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgIC8vICAgICB0aGF0LiRub3RpZnkuaW5mbyh7CiAgICAvLyAgICAgICB0aXRsZTogJ+mAgOasvuiuouWNleaPkOmGkicsCiAgICAvLyAgICAgICBtZXNzYWdlOiAn5oKo5pyJ5LiA5Liq6K6i5Y2V55Sz6K+36YCA5qy+LElE5Li6KCcgKyBkYXRhLm9yZGVyX2lkICsgJyks6K+35rOo5oSP5p+l55yLJywKICAgIC8vICAgICB9KTsKICAgIC8vICAgICBpZiAod2luZG93Lm5ld09yZGVyQXVkaW9MaW5rKSB0aGlzLm5ld09yZGVyQXVkaW9MaW5rLnBsYXkoKTsKICAgIC8vICAgICB0aGF0Lm1lc3NhZ2VMaXN0LnB1c2goewogICAgLy8gICAgICAgdGl0bGU6ICfpgIDmrL7orqLljZXmj5DphpInLAogICAgLy8gICAgICAgaWNvbjogJ21kLWluZm9ybWF0aW9uJywKICAgIC8vICAgICAgIGljb25Db2xvcjogJyNmZTVjNTcnLAogICAgLy8gICAgICAgdGltZTogMCwKICAgIC8vICAgICAgIHJlYWQ6IDAsCiAgICAvLyAgICAgfSk7CiAgICAvLyAgIH0pOwogICAgLy8gICB3cy4kb24oJ1dJVEhEUkFXJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgIC8vICAgICAvLyB0aGF0LiROb3RpY2Uud2FybmluZyh7CiAgICAvLyAgICAgLy8gICB0aXRsZTogJ+aPkOeOsOaPkOmGkicsCiAgICAvLyAgICAgLy8gICBkdXJhdGlvbjogOCwKICAgIC8vICAgICAvLyAgIGRlc2M6ICfmnInnlKjmiLfnlLPor7fmj5DnjrAs57yW5Y+35Li6KCcgKyBkYXRhLmlkICsgJyks6K+35rOo5oSP5p+l55yLJywKICAgIC8vICAgICAvLyB9KTsKICAgIC8vICAgICB0aGF0LiRub3RpZnkuaW5mbyh7CiAgICAvLyAgICAgICB0aXRsZTogJ+aPkOeOsOaPkOmGkicsCiAgICAvLyAgICAgICBtZXNzYWdlOiAn5pyJ55So5oi355Sz6K+35o+Q546wLOe8luWPt+S4uignICsgZGF0YS5pZCArICcpLOivt+azqOaEj+afpeeciycsCiAgICAvLyAgICAgfSk7CiAgICAvLyAgICAgdGhhdC5tZXNzYWdlTGlzdC5wdXNoKHsKICAgIC8vICAgICAgIHRpdGxlOiAn6YCA5qy+6K6i5Y2V5o+Q6YaSJywKICAgIC8vICAgICAgIGljb246ICdtZC1wZW9wbGUnLAogICAgLy8gICAgICAgaWNvbkNvbG9yOiAnI2YwNjI5MicsCiAgICAvLyAgICAgICB0aW1lOiAwLAogICAgLy8gICAgICAgcmVhZDogMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgfSk7CiAgICAvLyAgIHdzLiRvbignU1RPUkVfU1RPQ0snLCBmdW5jdGlvbiAoZGF0YSkgewogICAgLy8gICAgIHRoYXQuJG5vdGlmeS5pbmZvKHsKICAgIC8vICAgICAgIHRpdGxlOiAn5bqT5a2Y6aKE6K2mJywKICAgIC8vICAgICAgIG1lc3NhZ2U6ICfllYblk4FJROS4uignICsgZGF0YS5pZCArICcp55qE5bqT5a2Y5LiN6Laz5ZWmLOivt+azqOaEj+afpeeci34nLAogICAgLy8gICAgIH0pOwogICAgLy8gICAgIHRoYXQubWVzc2FnZUxpc3QucHVzaCh7CiAgICAvLyAgICAgICB0aXRsZTogJ+W6k+WtmOmihOitpicsCiAgICAvLyAgICAgICBpY29uOiAnbWQtaW5mb3JtYXRpb24nLAogICAgLy8gICAgICAgaWNvbkNvbG9yOiAnI2ZlNWM1NycsCiAgICAvLyAgICAgICB0aW1lOiAwLAogICAgLy8gICAgICAgcmVhZDogMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgfSk7CiAgICAvLyAgIHdzLiRvbignUEFZX1NNU19TVUNDRVNTJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgIC8vICAgICB0aGF0LiRub3RpZnkuaW5mbyh7CiAgICAvLyAgICAgICB0aXRsZTogJ+efreS/oeWFheWAvOaIkOWKnycsCiAgICAvLyAgICAgICBtZXNzYWdlOiAn5oGt5Zac5oKo5YWF5YC8JyArIGRhdGEucHJpY2UgKyAn5YWD77yM6I635b6XJyArIGRhdGEubnVtYmVyICsgJ+adoeefreS/oScsCiAgICAvLyAgICAgfSk7CiAgICAvLyAgICAgdGhhdC5tZXNzYWdlTGlzdC5wdXNoKHsKICAgIC8vICAgICAgIHRpdGxlOiAn55+t5L+h5YWF5YC85oiQ5YqfJywKICAgIC8vICAgICAgIGljb246ICdtZC1idWxiJywKICAgIC8vICAgICAgIGljb25Db2xvcjogJyM4N2QwNjgnLAogICAgLy8gICAgICAgdGltZTogMCwKICAgIC8vICAgICAgIHJlYWQ6IDAsCiAgICAvLyAgICAgfSk7CiAgICAvLyAgIH0pOwogICAgLy8gfSk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICAvLyAxIOW+heWPkei0pyAyIOW6k+WtmOaKpeitpiAgM+ivhOiuuuWbnuWkjSAgNOaPkOeOsOeUs+ivtwogICAgbXNnVHlwZSh0eXBlKSB7CiAgICAgIGxldCB0eXBlTmFtZTsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdHlwZU5hbWUgPSAn5b6F5Y+R6LSn6K6i5Y2V5o+Q6YaSJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHR5cGVOYW1lID0gJ+W6k+WtmOaKpeitpic7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB0eXBlTmFtZSA9ICfor4Torrrlm57lpI0nOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgdHlwZU5hbWUgPSAn5o+Q546w55Sz6K+3JzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0eXBlTmFtZSA9ICflhbblroMnOwogICAgICB9CiAgICAgIHJldHVybiB0eXBlTmFtZTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlhajpg6jlt7Lor7vngrnlh7sKICAgIG9uQWxsUmVhZENsaWNrKCkgewogICAgICAvLyB0aGlzLm5ld3NMaXN0ID0gW107CiAgICAgIC8vIHRoaXMuJGVtaXQoJ2hhdmVOZXdzJywgISF0aGlzLm5ld3NMaXN0Lmxlbmd0aCk7CiAgICB9LAogICAgLy8g5YmN5b6A6YCa55+l5Lit5b+D54K55Ye7CiAgICBvbkdvVG9HaXRlZUNsaWNrKCkge30sCiAgICBnZXROb3RpY3QoKSB7CiAgICAgIC8vIGpub3RpY2VSZXF1ZXN0KCkKICAgICAgLy8gICAudGhlbigocmVzKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLm5ld3NMaXN0ID0gcmVzLmRhdGEgfHwgW107CiAgICAgIC8vICAgICB0aGlzLiRlbWl0KCdoYXZlTmV3cycsICEhdGhpcy5uZXdzTGlzdC5sZW5ndGgpOwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICBqdW1wVXJsKHBhdGgpIHsKICAgICAgdGhpcy52bS4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGgsCiAgICAgIH0pOwogICAgfSwKICAgIGljb24odHlwZSkgewogICAgICByZXR1cm4gcmVxdWlyZShgQC9hc3NldHMvaW1hZ2VzL25ld3MtJHt0eXBlfS5wbmdgKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["userNews.vue"],"names":[],"mappings":";AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userNews.vue","sourceRoot":"src/layout/navBars/breadcrumb","sourcesContent":["<template>\n  <div class=\"layout-navbars-breadcrumb-user-news\">\n    <div class=\"head-box\">\n      <div class=\"head-box-title\">系统通知</div>\n      <div class=\"head-box-btn\" v-if=\"newsList && newsList.length > 0\" @click=\"onAllReadClick\">全部已读</div>\n    </div>\n    <div class=\"content-box\">\n      <template v-if=\"newsList && newsList.length > 0\">\n        <div class=\"content-box-item\" v-if=\"newsList && newsList.length>0\" v-for=\"(v, k) in newsList\" :key=\"k\" @click=\"jumpUrl(v.url)\">\n          <img class=\"icon\" :src=\"icon(v.type)\" alt=\"\" />\n          <div class=\"content-box-right\">\n            <div class=\"content-box-type\">{{ v.type | msgType }}</div>\n            <div class=\"content-box-msg\">\n              {{ v.title }}\n            </div>\n          </div>\n\n          <!-- <div class=\"content-box-time\">{{ v.time }}</div> -->\n        </div>\n      </template>\n      <div class=\"content-box-empty\" v-else>\n        <div class=\"content-box-empty-margin\">\n          <img class=\"no-msg\" src=\"@/assets/images/no-msg.png\" alt=\"\" />\n          <div class=\"mt15\">暂无通知</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nlet newOrderAudioLink = new Audio(require('@/assets/video/newOrderAudioLink.mp3'));\nimport { jnoticeRequest } from '@/api/common';\nimport { adminSocket } from '@/libs/socket';\nimport { getCookies, removeCookies, setCookies } from '@/libs/util';\nexport default {\n  name: 'layoutBreadcrumbUserNews',\n  data() {\n    return {\n      newsList: [],\n      newOrderAudioLink: null,\n      messageList: [],\n    };\n  },\n  props: ['vm'],\n  mounted() {\n    this.getNotict();\n    this.newOrderAudioLink = newOrderAudioLink;\n    // adminSocket.then((ws) => {\n    //   ws.send({\n    //     type: 'login',\n    //     data: getCookies('token'),\n    //   });\n    //   let that = this;\n    //   ws.$on('ADMIN_NEW_PUSH', function (data) {\n    //     that.getNotict();\n    //   });\n\n    //   ws.$on('NEW_ORDER', function (data) {\n    //     that.$notify.info({\n    //       title: '新订单',\n    //       message: '您有一个新的订单,ID为(' + data.order_id + '),请注意查看',\n    //     });\n    //     if (this.newOrderAudioLink) this.newOrderAudioLink.play();\n    //     that.messageList.push({\n    //       title: '新订单提醒',\n    //       icon: 'md-bulb',\n    //       iconColor: '#87d068',\n    //       time: 0,\n    //       read: 0,\n    //     });\n    //   });\n    //   ws.$on('NEW_REFUND_ORDER', function (data) {\n    //     that.$notify.info({\n    //       title: '退款订单提醒',\n    //       message: '您有一个订单申请退款,ID为(' + data.order_id + '),请注意查看',\n    //     });\n    //     if (window.newOrderAudioLink) this.newOrderAudioLink.play();\n    //     that.messageList.push({\n    //       title: '退款订单提醒',\n    //       icon: 'md-information',\n    //       iconColor: '#fe5c57',\n    //       time: 0,\n    //       read: 0,\n    //     });\n    //   });\n    //   ws.$on('WITHDRAW', function (data) {\n    //     // that.$Notice.warning({\n    //     //   title: '提现提醒',\n    //     //   duration: 8,\n    //     //   desc: '有用户申请提现,编号为(' + data.id + '),请注意查看',\n    //     // });\n    //     that.$notify.info({\n    //       title: '提现提醒',\n    //       message: '有用户申请提现,编号为(' + data.id + '),请注意查看',\n    //     });\n    //     that.messageList.push({\n    //       title: '退款订单提醒',\n    //       icon: 'md-people',\n    //       iconColor: '#f06292',\n    //       time: 0,\n    //       read: 0,\n    //     });\n    //   });\n    //   ws.$on('STORE_STOCK', function (data) {\n    //     that.$notify.info({\n    //       title: '库存预警',\n    //       message: '商品ID为(' + data.id + ')的库存不足啦,请注意查看~',\n    //     });\n    //     that.messageList.push({\n    //       title: '库存预警',\n    //       icon: 'md-information',\n    //       iconColor: '#fe5c57',\n    //       time: 0,\n    //       read: 0,\n    //     });\n    //   });\n    //   ws.$on('PAY_SMS_SUCCESS', function (data) {\n    //     that.$notify.info({\n    //       title: '短信充值成功',\n    //       message: '恭喜您充值' + data.price + '元，获得' + data.number + '条短信',\n    //     });\n    //     that.messageList.push({\n    //       title: '短信充值成功',\n    //       icon: 'md-bulb',\n    //       iconColor: '#87d068',\n    //       time: 0,\n    //       read: 0,\n    //     });\n    //   });\n    // });\n  },\n  filters: {\n    // 1 待发货 2 库存报警  3评论回复  4提现申请\n    msgType(type) {\n      let typeName;\n      switch (type) {\n        case 1:\n          typeName = '待发货订单提醒';\n          break;\n        case 2:\n          typeName = '库存报警';\n          break;\n        case 3:\n          typeName = '评论回复';\n          break;\n        case 4:\n          typeName = '提现申请';\n          break;\n        default:\n          typeName = '其它';\n      }\n      return typeName;\n    },\n  },\n  methods: {\n    // 全部已读点击\n    onAllReadClick() {\n      // this.newsList = [];\n      // this.$emit('haveNews', !!this.newsList.length);\n    },\n    // 前往通知中心点击\n    onGoToGiteeClick() {},\n    getNotict() {\n      // jnoticeRequest()\n      //   .then((res) => {\n      //     this.newsList = res.data || [];\n      //     this.$emit('haveNews', !!this.newsList.length);\n      //   })\n      //   .catch(() => {});\n    },\n    jumpUrl(path) {\n      this.vm.$router.push({\n        path,\n      });\n    },\n    icon(type) {\n      return require(`@/assets/images/news-${type}.png`);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-navbars-breadcrumb-user-news {\n  width: 320px;\n  padding: 8px 14px 14px;\n  .head-box {\n    display: flex;\n    // border-bottom: 1px solid var(--prev-border-color-lighter);\n    box-sizing: border-box;\n    color: var(--prev-color-text-primary);\n    justify-content: space-between;\n    // height: 35px;\n    align-items: center;\n    .head-box-title {\n      font-size: 13px;\n      font-weight: 500;\n      color: #333333;\n      line-height: 13px;\n    }\n    .head-box-btn {\n      color: var(--prev-color-primary);\n      font-size: 13px;\n      cursor: pointer;\n      opacity: 0.8;\n      font-weight: 400;\n      line-height: 13px;\n      &:hover {\n        opacity: 1;\n      }\n    }\n  }\n  .content-box {\n    font-size: 13px;\n    .content-box-item {\n      padding-top: 24px;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      &:last-of-type {\n        // padding-bottom: 12px;\n      }\n      .icon {\n        width: 26px;\n        height: 26px;\n        margin-right: 10px;\n      }\n      .content-box-right {\n      }\n      .content-box-type {\n        font-size: 13px;\n        font-weight: 500;\n        color: #333333;\n        line-height: 13px;\n      }\n      .content-box-msg {\n        margin-top: 6px;\n        font-size: 13px;\n        font-weight: 400;\n        color: #666666;\n        line-height: 13px;\n      }\n      .content-box-time {\n        color: var(--prev-color-text-secondary);\n      }\n    }\n    .content-box-empty {\n      width: 292px;\n      // height: 200px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .content-box-empty-margin {\n        text-align: center;\n        font-size: 13px;\n        color: #999999;\n        i {\n          color: var(--prev-color-primary);\n          font-size: 60px;\n        }\n        .no-msg {\n          width: 180px;\n          height: 138px;\n        }\n      }\n    }\n  }\n  .foot-box {\n    height: 35px;\n    color: var(--prev-color-primary);\n    font-size: 13px;\n    cursor: pointer;\n    opacity: 0.8;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-top: 1px solid var(--prev-border-color-lighter);\n    &:hover {\n      opacity: 1;\n    }\n  }\n  ::v-deep(.el-empty__description p) {\n    font-size: 13px;\n  }\n}\n</style>\n"]}]}