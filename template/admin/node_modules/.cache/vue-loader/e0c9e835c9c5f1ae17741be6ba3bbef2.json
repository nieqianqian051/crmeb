{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemCleardata/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemCleardata/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlcGxhY2VTaXRlVXJsQXBpIH0gZnJvbSAnQC9hcGkvc3lzdGVtJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzeXN0ZW1DbGVhcmRhdGEnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTY6ICcnLAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDYsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQsCiAgICAgIH0sCiAgICAgIHRhYkxpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+abtOaNouWfn+WQjScsCiAgICAgICAgICB0bHQ6ICfmm7/mjaLmiYDmnInmnKzlnLDkuIrkvKDnmoTlm77niYfln5/lkI0nLAogICAgICAgICAgdHlwZU5hbWU6ICdwcmltYXJ5JywKICAgICAgICAgIHR5cGU6ICcxMScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOeUqOaIt+eUn+aIkOeahOS4tOaXtumZhOS7ticsCiAgICAgICAgICB0bHQ6ICfmuIXpmaTnlKjmiLfnlJ/miJDnmoTkuLTml7bpmYTku7bvvIzkuI3kvJrlvbHlk43llYblk4Hlm74nLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAndGVtcCcsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOWbnuaUtuermeWVhuWTgScsCiAgICAgICAgICB0bHQ6ICfmuIXpmaTlm57mlLbnq5nllYblk4HvvIzosKjmhY7mk43kvZwnLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAncmVjeWNsZScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOeUqOaIt+aVsOaNricsCiAgICAgICAgICB0bHQ6ICfnlKjmiLfnm7jlhbPnmoTmiYDmnInooajpg73lsIbooqvmuIXpmaTvvIzosKjmhY7mk43kvZwnLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAndXNlcicsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOWVhuWfjuaVsOaNricsCiAgICAgICAgICB0bHQ6ICfmuIXpmaTmiYDmnInllYbln47mlbDmja7vvIzosKjmhY7mk43kvZwnLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAnc3RvcmUnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmuIXpmaTllYblk4HliIbnsbsnLAogICAgICAgICAgdGx0OiAn5Lya5riF6Zmk5omA5pyJ5ZWG5ZOB5YiG57G777yM6LCo5oWO5pON5L2cJywKICAgICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5riF6Zmk6K6i5Y2V5pWw5o2uJywKICAgICAgICAgIHRsdDogJ+a4hemZpOeUqOaIt+aJgOacieiuouWNleaVsOaNru+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICAgIHR5cGU6ICdvcmRlcicsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOWuouacjeaVsOaNricsCiAgICAgICAgICB0bHQ6ICfmuIXpmaTmt7vliqDnmoTlrqLmnI3mlbDmja7vvIzosKjmhY7mk43kvZwnLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAna2VmdScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOW+ruS/oeaVsOaNricsCiAgICAgICAgICB0bHQ6ICfmuIXpmaTlvq7kv6Hoj5zljZXkv53lrZjmlbDmja7vvIzlvq7kv6HlhbPplK7lrZfml6DmlYjlm57lpI0nLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAnd2VjaGF0JywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5riF6Zmk5YaF5a655YiG57G7JywKICAgICAgICAgIHRsdDogJ+a4hemZpOa3u+WKoOeahOaWh+eroOWSjOaWh+eroOWIhuexuyzosKjmhY7mk43kvZwnLAogICAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgICB0eXBlOiAnYXJ0aWNsZScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+a4hemZpOaJgOaciemZhOS7ticsCiAgICAgICAgICB0bHQ6ICfmuIXpmaTmiYDmnInpmYTku7bnlKjmiLfnlJ/miJDlkozlkI7lj7DkuIrkvKAs6LCo5oWO5pON5L2cJywKICAgICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgICAgdHlwZTogJ2F0dGFjaG1lbnQnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmuIXpmaTns7vnu5/orrDlvZUnLAogICAgICAgICAgdGx0OiAn5riF6Zmk57O757uf6K6w5b2VLOiwqOaFjuaTjeS9nCcsCiAgICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5riF6Zmk5pWw5o2uCiAgICBvbkNoYW5nZShpdGVtKSB7CiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICcxMScpIHsKICAgICAgICB0aGlzLm1vZGFscyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGVhckZyb21zKGl0ZW0pOwogICAgICB9CiAgICB9LAogICAgY2xlYXJGcm9tcyhpdGVtKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwKICAgICAgICB1cmw6IGBzeXN0ZW0vY2xlYXIvJHtpdGVtLnR5cGV9YCwKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIGlkczogJycsCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmjaLln5/lkI0KICAgIGNoYW5nZVlVKCkgewogICAgICByZXBsYWNlU2l0ZVVybEFwaSh7IHVybDogdGhpcy52YWx1ZTYgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/system/maintain/systemCleardata","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n      <span class=\"clear_tit\">\n        <i class=\"el-icon-info\" style=\"color: #ED4014\" />\n        <span>清除数据请谨慎，清除就无法恢复哦！</span>\n      </span>\n    </div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n      <el-row :gutter=\"24\">\n        <el-col v-bind=\"grid\" class=\"mb20\" v-for=\"(item, index) in tabList\" :key=\"index\">\n          <div class=\"clear_box\">\n            <span class=\"clear_box_sp1\" v-text=\"item.title\"></span>\n            <span class=\"clear_box_sp2\" v-text=\"item.tlt\"></span>\n            <el-button\n              :type=\"item.typeName\"\n              v-text=\"item.typeName === 'primary' ? '立即更换' : '立即清理'\"\n              @click=\"onChange(item)\"\n            ></el-button>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n    <!-- 更换域名-->\n    <el-dialog :visible.sync=\"modals\" class=\"tableBox\" title=\"更换域名\" width=\"540px\" :close-on-click-modal=\"false\">\n      <div class=\"acea-row row-column\">\n        <span>请输入需要替换的域名，格式为：http://域名。</span>\n        <span>替换规则：会使用当前[设置]里面的[网站域名]去替换成当前您输入的域名。</span>\n        <span class=\"mb15\">替换成功后再去更换[网站域名]。</span>\n        <el-input v-model=\"value6\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入网站域名...\" />\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"modals = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"changeYU\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { replaceSiteUrlApi } from '@/api/system';\nexport default {\n  name: 'systemCleardata',\n  data() {\n    return {\n      value6: '',\n      modals: false,\n      grid: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tabList: [\n        {\n          title: '更换域名',\n          tlt: '替换所有本地上传的图片域名',\n          typeName: 'primary',\n          type: '11',\n        },\n        {\n          title: '清除用户生成的临时附件',\n          tlt: '清除用户生成的临时附件，不会影响商品图',\n          typeName: 'error',\n          type: 'temp',\n        },\n        {\n          title: '清除回收站商品',\n          tlt: '清除回收站商品，谨慎操作',\n          typeName: 'error',\n          type: 'recycle',\n        },\n        {\n          title: '清除用户数据',\n          tlt: '用户相关的所有表都将被清除，谨慎操作',\n          typeName: 'error',\n          type: 'user',\n        },\n        {\n          title: '清除商城数据',\n          tlt: '清除所有商城数据，谨慎操作',\n          typeName: 'error',\n          type: 'store',\n        },\n        {\n          title: '清除商品分类',\n          tlt: '会清除所有商品分类，谨慎操作',\n          typeName: 'error',\n          type: 'category',\n        },\n        {\n          title: '清除订单数据',\n          tlt: '清除用户所有订单数据，谨慎操作',\n          typeName: 'error',\n          type: 'order',\n        },\n        {\n          title: '清除客服数据',\n          tlt: '清除添加的客服数据，谨慎操作',\n          typeName: 'error',\n          type: 'kefu',\n        },\n        {\n          title: '清除微信数据',\n          tlt: '清除微信菜单保存数据，微信关键字无效回复',\n          typeName: 'error',\n          type: 'wechat',\n        },\n        {\n          title: '清除内容分类',\n          tlt: '清除添加的文章和文章分类,谨慎操作',\n          typeName: 'error',\n          type: 'article',\n        },\n        {\n          title: '清除所有附件',\n          tlt: '清除所有附件用户生成和后台上传,谨慎操作',\n          typeName: 'error',\n          type: 'attachment',\n        },\n        {\n          title: '清除系统记录',\n          tlt: '清除系统记录,谨慎操作',\n          typeName: 'error',\n          type: 'system',\n        },\n      ],\n    };\n  },\n  methods: {\n    // 清除数据\n    onChange(item) {\n      if (item.type === '11') {\n        this.modals = true;\n      } else {\n        this.clearFroms(item);\n      }\n    },\n    clearFroms(item) {\n      let delfromData = {\n        title: item.title,\n        url: `system/clear/${item.type}`,\n        method: 'get',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 更换域名\n    changeYU() {\n      replaceSiteUrlApi({ url: this.value6 })\n        .then((res) => {\n          this.modals = false;\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.clear_tit\n    align-items center\n    margin: 15px\n    span\n        font-size 14px\n        color #ED4014\n.clear_box\n    border 1px solid #DADFE6\n    border-radius 3px\n    display flex\n    flex-direction column\n    align-items: center\n    padding 30px 10px\n    box-sizing border-box\n    .clear_box_sp1\n        font-size 16px\n        color #000000\n        display block\n    .clear_box_sp2\n        font-size 14px\n        color #808695\n        display block\n        margin: 12px 0\n.clear_box ::v-deep .ivu-btn-error\n    color: #fff;\n    background-color: #ED4014;\n    border-color: #ED4014;\n.product_tabs ::v-deep .ivu-page-header-title\n    margin-bottom 0!important\n</style>\n"]}]}