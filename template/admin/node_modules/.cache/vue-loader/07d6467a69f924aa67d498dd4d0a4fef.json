{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/commentMsgList.vue?vue&type=style&index=0&id=43c9f0ca&scoped=true&lang=scss","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/commentMsgList.vue","mtime":1722513822000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/sass-loader/dist/cjs.js","mtime":1746465018452},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgk6OnYtZGVlcCAuZWwtZGlhbG9nIHsKCQltYXJnaW4tdG9wOiBhdXRvICFpbXBvcnRhbnQ7CgkJaGVpZ2h0OiAxMDAlOzsKCX0KICAgIC5lbC10YWJsZSAuc3VjY2Vzcy1yb3cgewogICAgICAgIGNvbG9yOiAjNDA5RUZGOwogICAgfQogICAgLmVsLWZvcm0taXRlbSB7CiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIH0KICAgIC5lbC1kaWFsb2dfX2JvZHkgewogICAgICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgfQoKICAgIC5lbC10b29sdGlwX19wb3BwZXIgewogICAgICBtYXgtd2lkdGg6IDMwJTsKICAgIH0K"},{"version":3,"sources":["commentMsgList.vue"],"names":[],"mappings":";AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"commentMsgList.vue","sourceRoot":"src/pages/community","sourcesContent":["<template>\n  <el-dialog :visible.sync=\"commentMsgShow\" width=\"90%\">\n    <span slot=\"title\">选择动态：<span style=\"color: gray;\">回复 / 审核 / 屏蔽 动态评论</span></span>\n    <el-row style=\"margin-bottom: 10px;\">\n      <el-input v-model=\"searchMsg.nickName\" placeholder=\"用户名关键词搜索\" size=\"small\" style=\"width: 29%;\">\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findAllMsgs()\"/>\n        <el-button slot=\"append\" icon=\"el-icon-refresh-left\" @click=\"searchMsg.nickName = ''; findAllMsgs()\"/>\n      </el-input>\n      <el-input v-model=\"searchMsg.title\" placeholder=\"动态标题关键词搜索\" size=\"small\" style=\"width: 29%;\">\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findAllMsgs()\"/>\n        <el-button slot=\"append\" icon=\"el-icon-refresh-left\" @click=\"searchMsg.title = ''; findAllMsgs()\"/>\n      </el-input>\n      <el-input v-model=\"searchMsg.content\" placeholder=\"动态内容关键词搜索\" size=\"small\" style=\"width: 29%;\">\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findAllMsgs()\"/>\n        <el-button slot=\"append\" icon=\"el-icon-refresh-left\" @click=\"searchMsg.content = ''; findAllMsgs()\"/>\n      </el-input>\n  </el-row>\n    <el-table v-loading=\"msgsTableLoading\" :data=\"msgTable\">\n      <el-table-column label=\"ID\" type=\"index\" width=\"45\" align=\"center\"/>\n      <el-table-column label=\"头像\" width=\"75\">\n        <template slot-scope=\"scope\">\n          <img :src=\"scope.row.user.headUrl\" v-show=\"scope.row.user.headUrl\" width=\"45\" height=\"45\"/>\n          <img src=\"../../assets/images/maijiCat.png\" v-show=\"! scope.row.user.headUrl\" width=\"45\"\n               height=\"45\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户名\" width=\"150\"\n                       show-overflow-tooltip\n                       :formatter=\"(row) => row.user.nickName || '麦吉用户'\">\n      </el-table-column>\n      <el-table-column label=\"动态标题/内容\" min-width=\"345\"\n                       show-overflow-tooltip>\n        <template slot-scope=\"scope\">\n          <span style=\"color: gray;\">标题：</span><span>{{scope.row.title || '—'}}</span><br/>\n          <span style=\"color: gray;\">内容：</span><span>{{scope.row.content}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"评论数\" width=\"68\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"primary\">{{scope.row.allCCCount}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"未审核\" width=\"68\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"danger\">{{scope.row.notReadCount}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"选择动态\" width=\"120\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"checkComment(scope.row)\">查看评论 <i class=\"el-icon-search\"/></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-row style=\"margin-top: 10px; text-align: right;\">\n\t\t<pagination\n\t\t\tv-if=\"total\"\n\t\t\t:total=\"total\"\n\t\t\t:page-sizes=\"[8, 15, 20, 30]\"\n\t\t\t:page-size=\"searchMsg.size\"\n\t\t\tayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t:current-page.sync=\"searchMsg.page\"\n\t\t\t@pagination=\"pageChange\"/>\n    </el-row>\n  </el-dialog>\n</template>\n\n<script>\n\timport { findAllMsgsApi } from '@/api/community'\n    export default {\n        data() {\n\t\t\treturn {\n\t\t\t\ttotal: 0,\n\t\t\t\tsearchMsg: {\n\t\t\t\t\tnickName: '',\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: 8\n\t\t\t\t},\n\t\t\t\tmsgTable: null,\n\t\t\t\tmsgsTableLoading: false,\n\t\t\t\tcommentMsgShow: false,\n\t\t\t}\n        },\n\t\tcomputed: {\n\t\t},\n\t\twatch: {\n\t\t},\n\t\tmethods: {\n\t\t\t//查看评论\n\t\t\tcheckComment(msgs) {\n\t\t\t\tthis.$emit('closeCommentMsgList',msgs)\n\t\t\t},\n\t\t\tasync findAllMsgs() {\n\t\t\t  this.msgsTableLoading = true\n\t\t\t  const result = await findAllMsgsApi(this.searchMsg)\n\t\t\t  if (result.code == 200) {\n\t\t\t\tthis.msgTable = result.data.list.sort((c1, c2) =>c2.notReadCount - c1.notReadCount)\n\t\t\t\tthis.total = result.data.count\n\t\t\t\tthis.msgsTableLoading = false\n\t\t\t  }\n\t\t\t},\n\t\t\tpageChange() {\n\t\t\t\tthis.msgTable = [];\n\t\t\t\tthis.findAllMsgs();\n\t\t\t},\n\t\t},\n    }\n</script>\n\n<style scoped lang=\"scss\">\n\t::v-deep .el-dialog {\n\t\tmargin-top: auto !important;\n\t\theight: 100%;;\n\t}\n    .el-table .success-row {\n        color: #409EFF;\n    }\n    .el-form-item {\n        text-align: left;\n    }\n    .el-dialog__body {\n        padding-top: 10px;\n    }\n\n    .el-tooltip__popper {\n      max-width: 30%;\n    }\n</style>\n"]}]}