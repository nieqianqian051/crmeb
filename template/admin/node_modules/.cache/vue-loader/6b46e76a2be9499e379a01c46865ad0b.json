{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/breadcrumb/index.vue?vue&type=style&index=0&id=503da8ce&scoped=true&lang=scss","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/breadcrumb/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/sass-loader/dist/cjs.js","mtime":1746465018452},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sYXlvdXQtbmF2YmFycy1icmVhZGNydW1iLWluZGV4IHsKICBoZWlnaHQ6IDY0cHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIC8vIHBhZGRpbmctcmlnaHQ6IDE1cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmV2LWJnLXRvcEJhcik7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXByZXYtYm9yZGVyLWNvbG9yLWxpZ2h0ZXIpOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/navBars/breadcrumb","sourcesContent":["<template>\n  <div class=\"layout-navbars-breadcrumb-index\">\n    <Logo v-if=\"setIsShowLogo\" />\n    <Breadcrumb />\n    <Horizontal :menuList=\"menuList\" v-if=\"isLayoutTransverse\" />\n    <transverseAside v-if=\"isLayoutClassic\" />\n    <User />\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '@/layout/navBars/breadcrumb/breadcrumb.vue';\nimport User from '@/layout/navBars/breadcrumb/user.vue';\nimport Logo from '@/layout/logo/index.vue';\nimport Horizontal from '@/layout/navMenu/horizontal.vue';\nimport transverseAside from '@/layout/component/transverseAside.vue';\nexport default {\n  name: 'layoutNavBars',\n  components: { Breadcrumb, User, Logo, Horizontal, transverseAside },\n  data() {\n    return {\n      menuList: [],\n    };\n  },\n  computed: {\n    // 设置 logo 是否显示\n    setIsShowLogo() {\n      let { isShowLogo, layout } = this.$store.state.themeConfig.themeConfig;\n      return (isShowLogo && layout === 'classic') || (isShowLogo && layout === 'transverse');\n    },\n    // 设置是否显示横向菜单\n    isLayoutTransverse() {\n      let { layout, isClassicSplitMenu } = this.$store.state.themeConfig.themeConfig;\n      return layout === 'transverse' || (isClassicSplitMenu && layout === 'classic');\n    },\n    isLayoutClassic() {\n      let { layout } = this.$store.state.themeConfig.themeConfig;\n      return layout === 'classic';\n    },\n  },\n  mounted() {\n    this.setFilterRoutes();\n    this.bus.$on('routesListChange', () => {\n      this.setFilterRoutes();\n    });\n  },\n  beforeDestroy() {\n    this.bus.$off('routesListChange');\n  },\n  methods: {\n    // 设置路由的过滤\n    setFilterRoutes() {\n      this.menuList = this.filterRoutesFun(this.$store.state.routesList.routesList);\n    },\n    // 设置路由的过滤递归函数\n    filterRoutesFun(arr) {\n      return arr\n        .filter((item) => item.path)\n        .map((item) => {\n          item = Object.assign({}, item);\n          if (item.children) item.children = this.filterRoutesFun(item.children);\n          return item;\n        });\n    },\n  },\n  watch: {\n    // 监听 vuex 数据变化\n    '$store.state': {\n      handler(val) {\n        if (val.routesList.routesList.length === this.menuList.length) return false;\n        this.setFilterRoutes();\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-navbars-breadcrumb-index {\n  height: 64px;\n  display: flex;\n  align-items: center;\n  // padding-right: 15px;\n  overflow: hidden;\n  background: var(--prev-bg-topBar);\n  border-bottom: 1px solid var(--prev-border-color-lighter);\n}\n</style>\n"]}]}