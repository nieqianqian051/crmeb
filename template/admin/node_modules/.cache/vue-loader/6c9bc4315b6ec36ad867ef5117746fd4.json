{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/product/productReply/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/product/productReply/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHJlcGx5TGlzdEFwaSwgc2V0UmVwbHlBcGksIGZpY3RpdGlvdXNSZXBseSB9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwppbXBvcnQgYWRkUmVwbHkgZnJvbSAnLi4vY29tcG9uZW50cy9hZGRSZXBseS52dWUnOwppbXBvcnQgZ29vZHNMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9nb29kc0xpc3QvaW5kZXgnOwppbXBvcnQgdXBsb2FkUGljdHVyZXMgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZFBpY3R1cmVzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncHJvZHVjdF9wcm9kdWN0RXZhbHVhdGUnLAogIGNvbXBvbmVudHM6IHsKICAgIGFkZFJlcGx5LAogICAgZ29vZHNMaXN0LAogICAgdXBsb2FkUGljdHVyZXMsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVtcGxhdGVSYWRpbzogMCwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgcmVwbHlNb2RhbDogZmFsc2UsCiAgICAgIHBpY3R1cmVNb2RhbDogZmFsc2UsCiAgICAgIGdvb2RzTW9kYWw6IGZhbHNlLAogICAgICBhdHRyTW9kYWw6IGZhbHNlLCAvLyDpgInmi6nllYblk4Hop4TmoLwKICAgICAgZ3JpZDogewogICAgICAgIHhsOiA3LAogICAgICAgIGxnOiAxMCwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDEyLAogICAgICAgIHhzOiAyNCwKICAgICAgfSwKICAgICAgZ3JpZFBpYzogewogICAgICAgIHhsOiA2LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDEyLAogICAgICB9LAogICAgICBncmlkQnRuOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDgsCiAgICAgICAgeHM6IDgsCiAgICAgIH0sCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGlzX3JlcGx5OiAnJywKICAgICAgICBkYXRhOiAnJywKICAgICAgICBzdG9yZV9uYW1lOiAnJywKICAgICAgICBrZXk6ICcnLAogICAgICAgIG9yZGVyOiAnJywKICAgICAgICBhY2NvdW50OiAnJywKICAgICAgICBwcm9kdWN0X2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09IHVuZGVmaW5lZCA/IDAgOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgIH0sCiAgICAgIHBpY2tlck9wdGlvbnM6IHRoaXMuJHRpbWVPcHRpb25zLAogICAgICB2YWx1ZTogJzQ1JywKICAgICAgdGFibGVMaXN0OiBbXSwKICAgICAgZ29vZHNBZGRUeXBlOiAnJywKICAgICAgZ29vZHNEYXRhOiB7fSwKICAgICAgYXR0ckRhdGE6IHt9LAogICAgICBhdmF0YXJEYXRhOiB7fSwKICAgICAgcGljdHVyZURhdGE6IFtdLAogICAgICBzZWxlY3RQcm9kdWN0QXR0ckxpc3Q6IFtdLAogICAgICBpc0Nob2ljZTogJycsCiAgICAgIHBpY1RpdDogJycsCiAgICAgIHRhYmxlSW5kZXg6IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGltZVZhbDogW10sCiAgICAgIGNvbnRlbnRzOiB7CiAgICAgICAgY29udGVudDogJycsCiAgICAgIH0sCiAgICAgIHJ1bGVJbmxpbmU6IHsKICAgICAgICBjb250ZW50OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWbnuWkjeWGheWuuScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgfSwKICAgICAgcm93czoge30sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaXNfcmVwbHkgPT0gMCkgdGhpcy5mb3JtVmFsaWRhdGUuaXNfcmVwbHkgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pc19yZXBseTsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUucGFyYW1zLmlkJyh0bywgZnJvbSkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wcm9kdWN0X2lkID0gMDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgcmVwbHlNb2RhbCh2YWx1ZSkgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy5nb29kc0RhdGEgPSB7fTsKICAgICAgICB0aGlzLmF0dHJEYXRhID0ge307CiAgICAgICAgdGhpcy5hdmF0YXJEYXRhID0ge307CiAgICAgICAgdGhpcy5waWN0dXJlRGF0YSA9IFtdOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLy8g5re75Yqg6Jma5ouf6K+E6K6677ybCiAgICBhZGRSZXAoKSB7CiAgICAgIC8vIHRoaXMuJG1vZGFsRm9ybShmaWN0aXRpb3VzUmVwbHkodGhpcy5mb3JtVmFsaWRhdGUucHJvZHVjdF9pZCkpLnRoZW4oKCkgPT4gdGhpcy5nZXRMaXN0KCkpOwogICAgICB0aGlzLnJlcGx5TW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGdldFJvd0tleShyb3cpIHsKICAgICAgcmV0dXJuIHJvdy51bmlxdWU7CiAgICB9LAogICAgZ2V0VGVtcGxhdGVSb3cocm93KSB7CiAgICAgIHRoaXMuYXR0ckRhdGEgPSByb3c7CiAgICAgIHRoaXMuYXR0ck1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgb2tzKCkgewogICAgICB0aGlzLm1vZGFscyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnNbJ2NvbnRlbnRzJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBzZXRSZXBseUFwaSh0aGlzLmNvbnRlbnRzLCB0aGlzLnJvd3MuaWQpCiAgICAgICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzWydjb250ZW50cyddLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbHMoKSB7CiAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbJ2NvbnRlbnRzJ10ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbChyb3csIHRpdCwgbnVtKSB7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogYHByb2R1Y3QvcmVwbHkvJHtyb3cuaWR9YCwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycsCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdC5zcGxpY2UobnVtLCAxKTsKICAgICAgICAgIHRoaXMudG90YWwgPSB0aGlzLnRvdGFsIC0gMTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOWbnuWkjQogICAgcmVwbHkocm93KSB7CiAgICAgIHRoaXMubW9kYWxzID0gdHJ1ZTsKICAgICAgdGhpcy5yb3dzID0gcm93OwogICAgfSwKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy50aW1lVmFsID0gZSB8fCBbXTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YSA9IHRoaXMudGltZVZhbFswXSA/ICh0aGlzLnRpbWVWYWwgPyB0aGlzLnRpbWVWYWwuam9pbignLScpIDogJycpIDogJyc7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBzb3J0TWV0aG9kKGEpIHsKICAgICAgaWYgKGEub3JkZXIgPT09ICdub3JtYWwnKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUua2V5ID0gJyc7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUub3JkZXIgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5rZXkgPSBhLmtleTsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5vcmRlciA9IGEub3JkZXI7CiAgICAgIH0KICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgY2xvc2UoZSkgewogICAgICB0aGlzLnJlcGx5TW9kYWwgPSBlOwogICAgICB0aGlzLmF0dHJEYXRhID0ge307CiAgICAgIHRoaXMudGVtcGxhdGVSYWRpbyA9ICcnOwogICAgfSwKICAgIC8vIOmAieaLqeaXtumXtAogICAgc2VsZWN0Q2hhbmdlKHRhYikgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhID0gdGFiOwogICAgICB0aGlzLnRpbWVWYWwgPSBbXTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWIl+ihqAogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfcmVwbHkgPSB0aGlzLmZvcm1WYWxpZGF0ZS5pc19yZXBseSB8fCAnJzsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuc3RvcmVfbmFtZSA9IHRoaXMuZm9ybVZhbGlkYXRlLnN0b3JlX25hbWUgfHwgJyc7CiAgICAgIHJlcGx5TGlzdEFwaSh0aGlzLmZvcm1WYWxpZGF0ZSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy50YWJsZUxpc3QgPSBkYXRhLmxpc3Q7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g6KGo5qC85pCc57SiCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNlYXJjaCgpIHt9LAogICAgY2FsbEdvb2RzKCkgewogICAgICB0aGlzLmdvb2RzTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGNhbGxBdHRyKCkgewogICAgICB0aGlzLmF0dHJNb2RhbCA9IHRydWU7CiAgICB9LAogICAgZ2V0UHJvZHVjdElkKGdvb2RzKSB7CiAgICAgIHRoaXMuZ29vZHNEYXRhID0gZ29vZHM7CiAgICAgIHRoaXMuZ29vZHNNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLmF0dHJEYXRhLnVuaXF1ZSA9ICcnOwogICAgICB0aGlzLnRlbXBsYXRlUmFkaW8gPSAnJzsKICAgICAgdGhpcy5hdHRyRGF0YSA9IHt9OwogICAgfSwKICAgIGdldFBpYyhwYykgewogICAgICB0aGlzLmF2YXRhckRhdGEgPSBwYzsKICAgICAgdGhpcy5waWN0dXJlTW9kYWwgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRQaWNEKHBjKSB7CiAgICAgIGxldCBwaWN0dXJlRGF0YSA9IFsuLi50aGlzLnBpY3R1cmVEYXRhXTsKICAgICAgcGljdHVyZURhdGEgPSBwaWN0dXJlRGF0YS5jb25jYXQocGMpOwogICAgICBwaWN0dXJlRGF0YS5zb3J0KChhLCBiKSA9PiBhLmF0dF9pZCAtIGIuYXR0X2lkKTsKICAgICAgbGV0IHBpY3R1cmUgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaWN0dXJlRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChwaWN0dXJlRGF0YVtpICsgMV0gJiYgcGljdHVyZURhdGFbaV0uYXR0X2lkICE9IHBpY3R1cmVEYXRhW2kgKyAxXS5hdHRfaWQpIHsKICAgICAgICAgIHBpY3R1cmUucHVzaChwaWN0dXJlRGF0YVtpXSk7CiAgICAgICAgfQogICAgICAgIGlmICghcGljdHVyZURhdGFbaSArIDFdKSB7CiAgICAgICAgICBwaWN0dXJlLnB1c2gocGljdHVyZURhdGFbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnBpY3R1cmVEYXRhID0gcGljdHVyZTsKICAgICAgdGhpcy5waWN0dXJlTW9kYWwgPSBmYWxzZTsKICAgIH0sCiAgICBjYWxsUGljdHVyZSh0eXBlKSB7CiAgICAgIHRoaXMuaXNDaG9pY2UgPSB0eXBlOwogICAgICB0aGlzLnBpY3R1cmVNb2RhbCA9IHRydWU7CiAgICB9LAogICAgcmVtb3ZlUGljdHVyZShhdHRfaWQpIHsKICAgICAgbGV0IGluZGV4ID0gdGhpcy5waWN0dXJlRGF0YS5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uYXR0X2lkID09PSBhdHRfaWQpOwogICAgICB0aGlzLnBpY3R1cmVEYXRhLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAuNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/product/productReply","sourcesContent":["<template>\n  <div class=\"article-manager\">\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: 0 }\">\n      <div class=\"padding-add\">\n        <el-form\n          ref=\"formValidate\"\n          :model=\"formValidate\"\n          inline\n          label-width=\"80px\"\n          label-position=\"left\"\n          @submit.native.prevent\n        >\n          <el-form-item label=\"评论时间：\">\n            <el-date-picker\n              clearable\n              v-model=\"timeVal\"\n              type=\"daterange\"\n              @change=\"onchangeTime\"\n              format=\"yyyy/MM/dd\"\n              value-format=\"yyyy/MM/dd\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              :picker-options=\"pickerOptions\"\n              style=\"width: 250px\"\n              class=\"mr20\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"评价状态：\">\n            <el-select\n              v-model=\"formValidate.is_reply\"\n              placeholder=\"请选择\"\n              clearable\n              @change=\"userSearchs\"\n              class=\"form_content_width\"\n            >\n              <el-option value=\"1\" label=\"已回复\"></el-option>\n              <el-option value=\"0\" label=\"未回复\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"商品信息：\" label-for=\"store_name\">\n            <el-input\n              placeholder=\"请输入商品ID或者商品信息\"\n              clearable\n              v-model=\"formValidate.store_name\"\n              class=\"form_content_width\"\n            />\n          </el-form-item>\n          <el-form-item label=\"用户名称：\" label-for=\"account\">\n            <el-input\n              enter-button\n              placeholder=\"请输入\"\n              clearable\n              v-model=\"formValidate.account\"\n              class=\"form_content_width\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"userSearchs\">搜索</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <el-row>\n        <el-col v-bind=\"grid\">\n          <el-button v-auth=\"['product-reply-save_fictitious_reply']\" type=\"primary\" @click=\"addRep\"\n            >添加自评</el-button\n          >\n        </el-col>\n      </el-row>\n      <el-table\n        ref=\"table\"\n        :data=\"tableList\"\n        class=\"ivu-mt mt14\"\n        v-loading=\"loading\"\n        @on-sort-change=\"sortMethod\"\n        empty-text=\"暂无数据\"\n      >\n        <el-table-column label=\"评论ID\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品信息\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <div class=\"imgPic acea-row row-middle\">\n              <div class=\"pictrue\" v-viewer><img v-lazy=\"scope.row.image\" /></div>\n              <div class=\"info line2\">{{ scope.row.store_name }}</div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"规格\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.suk }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户名称\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.nickname }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"评分\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.score }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"评价内容\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <div class=\"mb5 content_font\">{{ scope.row.comment }}</div>\n            <div v-viewer class=\"pictrue mr10\" v-for=\"(item, index) in scope.row.pics || []\" :key=\"index\">\n              <img v-lazy=\"item\" :src=\"item\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"回复内容\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.merchant_reply_content }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"评价时间\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.add_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <a @click=\"reply(scope.row)\">回复</a>\n            <el-divider direction=\"vertical\"></el-divider>\n            <a @click=\"del(scope.row, '删除评论', scope.$index)\">删除</a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination\n          v-if=\"total\"\n          :total=\"total\"\n          :page.sync=\"formValidate.page\"\n          :limit.sync=\"formValidate.limit\"\n          @pagination=\"getList\"\n        />\n      </div>\n    </el-card>\n    <el-dialog :visible.sync=\"modals\" scrollable title=\"回复内容\" width=\"720px\">\n      <el-form ref=\"contents\" :model=\"contents\" :rules=\"ruleInline\" label-position=\"right\" @submit.native.prevent>\n        <el-form-item prop=\"content\">\n          <el-input v-model=\"contents.content\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入回复内容\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button type=\"primary\" @click=\"oks\">确定</el-button>\n        <el-button @click=\"cancels\">取消</el-button>\n      </div>\n    </el-dialog>\n    <addReply\n      @close=\"close\"\n      :visible=\"replyModal\"\n      :goods=\"goodsData\"\n      :attr=\"attrData\"\n      :avatar=\"avatarData\"\n      :picture=\"pictureData\"\n      @callGoods=\"callGoods\"\n      @callAttr=\"callAttr\"\n      @callPicture=\"callPicture\"\n      @removePicture=\"removePicture\"\n    ></addReply>\n    <el-dialog :visible.sync=\"goodsModal\" title=\"选择商品\" width=\"1000px\">\n      <goodsList v-if=\"replyModal\" @getProductId=\"getProductId\"></goodsList>\n    </el-dialog>\n    <el-dialog :visible.sync=\"attrModal\" title=\"选择商品规格\" width=\"1000px\">\n      <el-table ref=\"table\" :row-key=\"getRowKey\" :data=\"goodsData.attrs\" height=\"500\">\n        <el-table-column label=\"\" width=\"60\">\n          <template slot-scope=\"scope\">\n            <el-radio v-model=\"templateRadio\" :label=\"scope.row.unique\" @change.native=\"getTemplateRow(scope.row)\"\n              >&nbsp;</el-radio\n            >\n          </template>\n        </el-table-column>\n        <el-table-column label=\"图片\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <div class=\"product-data\">\n              <img class=\"image\" :src=\"scope.row.image\" />\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"规格\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.suk }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"售价\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.ot_price }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"优惠价\" min-width=\"120\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.price }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-dialog>\n    <el-dialog :visible.sync=\"pictureModal\" width=\"950px\" title=\"上传商品图\" :close-on-click-modal=\"false\">\n      <uploadPictures\n        :isChoice=\"isChoice\"\n        @getPic=\"getPic\"\n        @getPicD=\"getPicD\"\n        :gridBtn=\"gridBtn\"\n        :gridPic=\"gridPic\"\n        v-if=\"pictureModal\"\n      ></uploadPictures>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { replyListApi, setReplyApi, fictitiousReply } from '@/api/product';\nimport addReply from '../components/addReply.vue';\nimport goodsList from '@/components/goodsList/index';\nimport uploadPictures from '@/components/uploadPictures';\n\nexport default {\n  name: 'product_productEvaluate',\n  components: {\n    addReply,\n    goodsList,\n    uploadPictures,\n  },\n  data() {\n    return {\n      templateRadio: 0,\n      modals: false,\n      replyModal: false,\n      pictureModal: false,\n      goodsModal: false,\n      attrModal: false, // 选择商品规格\n      grid: {\n        xl: 7,\n        lg: 10,\n        md: 12,\n        sm: 12,\n        xs: 24,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      formValidate: {\n        is_reply: '',\n        data: '',\n        store_name: '',\n        key: '',\n        order: '',\n        account: '',\n        product_id: this.$route.params.id === undefined ? 0 : this.$route.params.id,\n        page: 1,\n        limit: 15,\n      },\n      pickerOptions: this.$timeOptions,\n      value: '45',\n      tableList: [],\n      goodsAddType: '',\n      goodsData: {},\n      attrData: {},\n      avatarData: {},\n      pictureData: [],\n      selectProductAttrList: [],\n      isChoice: '',\n      picTit: '',\n      tableIndex: 0,\n      total: 0,\n      loading: false,\n      timeVal: [],\n      contents: {\n        content: '',\n      },\n      ruleInline: {\n        content: [{ required: true, message: '请输入回复内容', trigger: 'blur' }],\n      },\n      rows: {},\n    };\n  },\n  computed: {},\n  created() {\n    if (this.$route.query.is_reply == 0) this.formValidate.is_reply = this.$route.query.is_reply;\n    this.getList();\n  },\n  watch: {\n    '$route.params.id'(to, from) {\n      this.formValidate.product_id = 0;\n      this.getList();\n    },\n    replyModal(value) {\n      if (!value) {\n        this.goodsData = {};\n        this.attrData = {};\n        this.avatarData = {};\n        this.pictureData = [];\n        this.getList();\n      }\n    },\n  },\n  methods: {\n    // 添加虚拟评论；\n    addRep() {\n      // this.$modalForm(fictitiousReply(this.formValidate.product_id)).then(() => this.getList());\n      this.replyModal = true;\n    },\n    getRowKey(row) {\n      return row.unique;\n    },\n    getTemplateRow(row) {\n      this.attrData = row;\n      this.attrModal = false;\n    },\n    oks() {\n      this.modals = true;\n      this.$refs['contents'].validate((valid) => {\n        if (valid) {\n          setReplyApi(this.contents, this.rows.id)\n            .then(async (res) => {\n              this.$message.success(res.msg);\n              this.modals = false;\n              this.$refs['contents'].resetFields();\n              this.getList();\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    cancels() {\n      this.modals = false;\n      this.$refs['contents'].resetFields();\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `product/reply/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.tableList.splice(num, 1);\n          this.total = this.total - 1;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 回复\n    reply(row) {\n      this.modals = true;\n      this.rows = row;\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e || [];\n      this.formValidate.data = this.timeVal[0] ? (this.timeVal ? this.timeVal.join('-') : '') : '';\n      this.formValidate.page = 1;\n      this.getList();\n    },\n    sortMethod(a) {\n      if (a.order === 'normal') {\n        this.formValidate.key = '';\n        this.formValidate.order = '';\n      } else {\n        this.formValidate.key = a.key;\n        this.formValidate.order = a.order;\n      }\n      this.getList();\n    },\n    close(e) {\n      this.replyModal = e;\n      this.attrData = {};\n      this.templateRadio = '';\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.formValidate.page = 1;\n      this.getList();\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      this.formValidate.is_reply = this.formValidate.is_reply || '';\n      this.formValidate.store_name = this.formValidate.store_name || '';\n      replyListApi(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 表格搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getList();\n    },\n    search() {},\n    callGoods() {\n      this.goodsModal = true;\n    },\n    callAttr() {\n      this.attrModal = true;\n    },\n    getProductId(goods) {\n      this.goodsData = goods;\n      this.goodsModal = false;\n      this.attrData.unique = '';\n      this.templateRadio = '';\n      this.attrData = {};\n    },\n    getPic(pc) {\n      this.avatarData = pc;\n      this.pictureModal = false;\n    },\n    getPicD(pc) {\n      let pictureData = [...this.pictureData];\n      pictureData = pictureData.concat(pc);\n      pictureData.sort((a, b) => a.att_id - b.att_id);\n      let picture = [];\n      for (let i = 0; i < pictureData.length; i++) {\n        if (pictureData[i + 1] && pictureData[i].att_id != pictureData[i + 1].att_id) {\n          picture.push(pictureData[i]);\n        }\n        if (!pictureData[i + 1]) {\n          picture.push(pictureData[i]);\n        }\n      }\n      this.pictureData = picture;\n      this.pictureModal = false;\n    },\n    callPicture(type) {\n      this.isChoice = type;\n      this.pictureModal = true;\n    },\n    removePicture(att_id) {\n      let index = this.pictureData.findIndex((item) => item.att_id === att_id);\n      this.pictureData.splice(index, 1);\n    },\n  },\n};\n</script>\n<style scoped lang=\"stylus\">\n.content_font {\n  color: #2b85e4;\n}\n\n.search {\n  ::v-deep .ivu-form-item-content {\n    margin-left: 0 !important;\n  }\n}\n\n.ivu-mt .Button .bnt {\n  margin-right: 6px;\n}\n\n.ivu-mt .ivu-table-row {\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.65);\n}\n\n.ivu-mt ::v-deep .ivu-table-cell {\n  padding: 10px 0 !important;\n}\n\n.pictrue {\n  width: 36px;\n  height: 36px;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.pictrue img {\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: cover;\n}\n\n.ivu-mt .imgPic .info {\n  flex :1;\n  margin-left: 10px;\n}\n\n.ivu-mt .picList .pictrue {\n  height: 36px;\n  margin: 7px 3px 0 3px;\n}\n\n.ivu-mt .picList .pictrue img {\n  height: 100%;\n  display: block;\n}\n.product-data {\n  display: flex;\n  align-items: center;\n\n  .image {\n    width: 50px !important;\n    height: 50px !important;\n    margin-right: 10px;\n  }\n}\n</style>\n"]}]}