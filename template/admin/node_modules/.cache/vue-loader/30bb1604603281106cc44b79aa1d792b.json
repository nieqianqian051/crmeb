{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/recipe/recipeAdd/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/recipe/recipeAdd/index.vue","mtime":1724599027000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CglpbXBvcnQgV2FuZ0VkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvd2FuZ0VkaXRvci9pbmRleC52dWUnOwoJaW1wb3J0IHsgbGFiZWxMaXN0LGZvb2RMaXN0LHVwbG9hZFJlY2lwZUltYWdlcyxhZGRSZWNpcGUgfSBmcm9tICdAL2FwaS9yZWNpcGUnOwoJaW1wb3J0IHtkZWFsSW1nfSBmcm9tICJAL3V0aWxzL2luZGV4IgoJZXhwb3J0IGRlZmF1bHQgewoJICBuYW1lOiAncmVjaXBlQWRkJywKCSAgY29tcG9uZW50czogeyBXYW5nRWRpdG9yIH0sCgkgIGRhdGEoKSB7CgkgICAgcmV0dXJuIHsKCQkJc3BpblNob3c6IGZhbHNlLAoJCQlmb29kVHlwZXM6IFtdLAoJCQlmb29kQXJlYUxhYmVsczogW10sCgkJCXJhdGVDb2xvcnM6IFsnI0Y3REI0RCcsICcjRjdEQjREJ10sCgkJCXJhdGVDb2xvcnNzOiBbJyNGN0RCNEQnLCAnI0Y3REI0RCcsICcjRjdEQjREJ10sCgkJCXRocmVlTWVhbHM6IFsn5pep6aSQJywn5Y2I6aSQJywn5pma6aSQJ10sCgkJCW9wdGlvbnM6IFsKCQkJCXt2YWx1ZTogMSxsYWJlbDon5LiN6L6jJ30sCgkJCQl7dmFsdWU6IDIsbGFiZWw6J+i+oyd9CgkJCV0sCgkJCW9wdGlvbnMxOiBbCgkJCQl7dmFsdWU6IDEsbGFiZWw6J+aYkyd9LAoJCQkJe3ZhbHVlOiAyLGxhYmVsOifpmr4nfQoJCQldLAoJCQlyZWNpcGU6IHsKCQkJCWRpZmZpY3VsdHlMZXZlbDogMCwKCQkJCW5hbWU6ICcnLAoJCQkJYWxpYXM6ICcnLAoJCQkJbWFpbkltYWdlSWQ6ICcnLAoJCQkJbWFpbkZvb2RJZDogJycsCgkJCQltYWluRm9vZENvbnN1bXB0aW9uOiAnJywKCQkJCWZvb2RJZDogJycsCgkJCQlsYWJlbHM6IFtdLAoJCQkJZm9vZENvbnN1bXB0aW9uOiAnJywKCQkJCWRldGFpbHNUZXh0OiAnJywKCQkJCW5vdGU6ICcnLAoJCQkJbWFpamlTdGFnZUxhYmVsSWRzOiBbXSwKCQkJCWFyZWFMYWJlbElkczogW10sCgkJCQlyZWNpcGVMYWJlbElkczogW10sCgkJCQlzcGljeTogMCwKCQkJCWVjb25vbXk6IDAsCgkJCQl0aHJlZU1lYWw6IFtdLAoJCQkJZ2VhcjogMAoJCQl9LAoJCQlhbGlhc2VzOiBbJyddLAoJCQltYWluRm9vZHM6IFt7CgkJCSAgICBmb29kSWQ6ICcnLAoJCQkgICAgZm9vZE5hbWU6ICcnLAoJCQkgICAgY29uc3VtcHRpb246ICcnLAoJCQkgICAgbWFpbjogdHJ1ZSwKCQkJICAgIGNhc2NhZGVyU3RyOiAnJywKCQkJICAgIGNhc2NhZGVyOiBbXSwKCQkJfV0sCgkJCWZvb2RzOiBbewoJCQkgICAgZm9vZElkOiAnJywKCQkJICAgIGZvb2ROYW1lOiAnJywKCQkJICAgIGNvbnN1bXB0aW9uOiAnJywKCQkJICAgIG1haW46IGZhbHNlLAoJCQkgICAgY2FzY2FkZXJTdHI6ICcnLAoJCQkgICAgY2FzY2FkZXI6IFtdCgkJCX1dLAoJCQlhbGxNYWlqaVN0YWdlTGFiZWxzOiBbXSwKCQkJZm9vZExhYmVsczogW10sCgkJCXJlY2lwZU1haW5JbWFnZTogbnVsbCwKCQkJY29udGVudDogJycsCgkJCXJ1bGVzOiB7CgkJCQluYW1lOiBbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+mjn+iwseWQjeensOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CgkJCSAgICBdLAoJCQkgICAgbWFpbkltYWdlSWQ6IFsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6aOf6LCx5Li75Zu+5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2NoYW5nZScgfQoJCQkgICAgXSwKCQkJCW1haW5Gb29kSWQ6IFsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5Li75paZ6aOf5p2QJywgdHJpZ2dlcjogJ2NoYW5nZScgfQoJCQkJXSwKCQkJCXNwaWN5OiBbCgkJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqei+o+W6picsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KCQkJCV0sCgkJCSAgICBkaWZmaWN1bHR5TGV2ZWw6IFsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6Zq+5piT56iL5bqmJywgdHJpZ2dlcjogJ2NoYW5nZScgfQoJCQkgICAgXSwKCQkJICAgIGdlYXI6IFsKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5pCt6YWN5oOF5Ya1JywgdHJpZ2dlcjogJ2NoYW5nZScgfQoJCQkgICAgXSwKCQkJICAgIHRocmVlTWVhbDogWwoJCQkJCXsgdHlwZTogJ2FycmF5JywgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7foh7PlsJHpgInmi6nkuIDkuKrkuInppJDlvZLlsZ4nLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CgkJCSAgICBdLAoJCQkgICAgbWFpamlTdGFnZUxhYmVsSWRzOiBbCgkJCQkJeyB0eXBlOiAnYXJyYXknLCByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+iHs+WwkemAieaLqeS4gOS4qumjn+iwsem6puWQiemYtuautScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KCQkJICAgIF0sCgkJCQlkZXRhaWxzVGV4dDogWwoJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfpo5/osLHor6bmg4XkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQoJCQkJXQoJCQl9CgkgICAgfQoJICB9LAoJICBjcmVhdGVkKCkgewoJCSAgbGFiZWxMaXN0KHtzb3VyY2U6ICLpo5/osLEifSkKCQkgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKCQkgIAlpZihyZXMuY29kZSA9PT0gMjAwKXsKCQkgIAkJdGhpcy5mb29kQXJlYUxhYmVscyA9IHJlcy5kYXRhLmZpbHRlcihsYWJlbCA9PiBsYWJlbC5saXN0U2hvdyA9PSAyKS5zb3J0KChMMSwgTDIpID0+IEwxLm5hbWUubGVuZ3RoIC0gTDIubmFtZS5sZW5ndGgpCgkJICAJCS8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQoJCSAgCQl0aGlzLmFsbE1haWppU3RhZ2VMYWJlbHMgPSByZXMuZGF0YS5maWx0ZXIobGFiZWwgPT4gbGFiZWwubGlzdFNob3cgPT0gMSkuc29ydCgoTDEsIEwyKSA9PiBMMS5vcmRlck5vIC0gTDIub3JkZXJObykKCQkgIAkJdGhpcy5mb29kTGFiZWxzID0gcmVzLmRhdGEuZmlsdGVyKGxhYmVsID0+IGxhYmVsLmxpc3RTaG93ID09IDApLnNvcnQoKEwxLCBMMikgPT4gTDEub3JkZXJObyAtIEwyLm9yZGVyTm8pCgkJICAJfQoJCSAgfSkgCgkJICAuY2F0Y2goKGVycikgPT4gewoJCSAgCXRoaXMuJG1lc3NhZ2UoewoJCSAgCQl0eXBlOiAiZXJyb3IiLAoJCSAgCQltZXNzYWdlOiBlcnIsCgkJICAJCWR1cmF0aW9uOiAxMDAwCgkJICAJfSkKCQkgIH0pOwoJCSAgZm9vZExpc3Qoe2lzRmluZEZvb2RzOiB0cnVlfSkKCQkgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKCQkgICAgIGlmKHJlcy5jb2RlID09PSAyMDApewoJCSAgCSAgICB0aGlzLmZvb2RUeXBlcyA9IHJlcy5kYXRhLm1hcCh0eXBlID0+IHsKCQkgIAkgICAgICAgaWYgKHR5cGUuY2hpbGRyZW4gJiYgdHlwZS5jaGlsZHJlbi5sZW5ndGggPjEpCgkJICAJICAgICAgICAgICB0eXBlLmNoaWxkcmVuLnNvcnQoKGMxLCBjMikgPT5jMS5sYWJlbC5sZW5ndGggLSBjMi5sYWJlbC5sZW5ndGgpCgkJICAJICAgICAgIHJldHVybiB0eXBlCgkJICAJICAgIH0pLnNvcnQoKHQxLCB0MikgPT4gdDEubGFiZWwubGVuZ3RoIC0gdDIubGFiZWwubGVuZ3RoKQoJCSAgICAgfQoJCSAgfSkuY2F0Y2goKGVycikgPT4gewoJCSAgICB0aGlzLiRtZXNzYWdlKHsKCQkgICAgCXR5cGU6ICJlcnJvciIsCgkJICAgIAltZXNzYWdlOiBlcnIsCgkJICAgIAlkdXJhdGlvbjogMTAwMAoJCSAgICB9KQoJCSAgfSk7CgkJICAKCSAgfSwKCSAgbW91bnRlZCgpIHsKCQl0aGlzLmRyYUNoYW5nZSgpOwoJCXRoaXMuJHJlZnNbJ3JlY2lwZUZyb20nXS5yZXNldEZpZWxkcygpOwoJICB9LAoJICBtZXRob2RzOiB7CgkJICBkcmFDaGFuZ2UoKXsKCQkgIAl0aGlzLnJlY2lwZSA9IHsKCQkgIAkJbmFtZTogJycsCgkJICAJCWFsaWFzOiAnJywKCQkgIAkJbWFpbkltYWdlSWQ6ICcnLAoJCSAgCQltYWluRm9vZElkOiAnJywKCQkgIAkJbWFpbkZvb2RDb25zdW1wdGlvbjogJycsCgkJICAJCWZvb2RJZDogJycsCgkJICAJCWxhYmVsczogW10sCgkJICAJCWZvb2RDb25zdW1wdGlvbjogJycsCgkJICAJCWRldGFpbHNUZXh0OiAnJywKCQkgIAkJbm90ZTogJycsCgkJICAJCW1haWppU3RhZ2VMYWJlbElkczogW10sCgkJICAJCWFyZWFMYWJlbElkczogW10sCgkJICAJCXJlY2lwZUxhYmVsSWRzOiBbXSwKCQkgIAkJc3BpY3k6IDAsCgkJICAJCWVjb25vbXk6IDAsCgkJICAJCXRocmVlTWVhbDogW10sCgkJICAJCWRpZmZpY3VsdHlMZXZlbDogMCwKCQkgIAkJZ2VhcjogMAoJCSAgCX0KCQkgIAl0aGlzLmFsaWFzZXMgPSBbJyddCgkJICAJdGhpcy5yZWNpcGVNYWluSW1hZ2UgPSBudWxsCgkJICAJdGhpcy5tYWluRm9vZHMgPSBbewoJCSAgCSAgICBmb29kSWQ6ICcnLAoJCSAgCSAgICBmb29kTmFtZTogJycsCgkJICAJICAgIGNvbnN1bXB0aW9uOiAnJywKCQkgIAkgICAgbWFpbjogdHJ1ZSwKCQkgIAkgICAgY2FzY2FkZXJTdHI6ICcnLAoJCSAgCSAgICBjYXNjYWRlcjogW10sCgkJICAJfV0KCQkgIAl0aGlzLmZvb2RzID0gW3sKCQkgIAkgICAgZm9vZElkOiAnJywKCQkgIAkgICAgZm9vZE5hbWU6ICcnLAoJCSAgCSAgICBjb25zdW1wdGlvbjogJycsCgkJICAJICAgIG1haW46IGZhbHNlLAoJCSAgCSAgICBjYXNjYWRlclN0cjogJycsCgkJICAJICAgIGNhc2NhZGVyOiBbXQoJCSAgCX1dLAoJCQl0aGlzLmNvbnRlbnQgPSAnJwoJCSAgfSwKCQkgIGdldEVkaXRvckNvbnRlbnQoZGF0YSkgewoJCSAgCXRoaXMuY29udGVudCA9IGRhdGE7CgkJICB9LAoJCSAgcXVlcnlTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CgkJICAgICAgY29uc3QgcXVlcnlBcnIgPSBbe3ZhbHVlOiAn6Iul5bmyJ30sIHt2YWx1ZTogJ+mAgumHjyd9LCB7dmFsdWU6ICflsJHorrgnfSwge3ZhbHVlOiAn5oiW6L6T5YWl5YW35L2T5pWw5YC8KOWFiyknfV0KCQkgICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlTdHJpbmc/IHF1ZXJ5QXJyLmZpbHRlcihxdWVyeSA9PiBxdWVyeS52YWx1ZS5pbmNsdWRlcyhxdWVyeVN0cmluZykpOiBxdWVyeUFycgoJCSAgICAgIGNiKHJlc3VsdHMpICAvLyDosIPnlKggY2FsbGJhY2sg6L+U5Zue5bu66K6u5YiX6KGo55qE5pWw5o2uCgkJICB9LAoJCSAgYXN5bmMgYWRkUmVjaXBlSW1hZ2UocGFyYW0pIHsKCQkgICAgICBjb25zdCBpbWFnZURhdGEgPSBuZXcgRm9ybURhdGEoKQoJCSAgICAgIGltYWdlRGF0YS5hcHBlbmQoJ3VwbG9hZEZpbGVzJywgcGFyYW0uZmlsZSkKCQkgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGxvYWRSZWNpcGVJbWFnZXMoaW1hZ2VEYXRhKQoJCSAgICAgIGlmIChyZXN1bHQuY29kZSAhPSAyMDApIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOS4iuS8oOmjn+iwseS4u+WbvuWksei0pe+8jOivt+eojeWQjumHjeivle+8gWApCgkJICAgICAgdGhpcy5yZWNpcGVNYWluSW1hZ2UgPSBPYmplY3QuYXNzaWduKHJlc3VsdC5kYXRhWzBdLCB7aXNNYWluOiAxfSkKCQkgICAgICB0aGlzLnJlY2lwZS5tYWluSW1hZ2VJZCA9IHRoaXMucmVjaXBlTWFpbkltYWdlLnV1SWQKCQkgIH0sCgkJICBFbENhc2NhZGVyQ2hhbmdlKHZhbHVlLCBpbmRleCwgaXNNYWluKSB7CgkJICAgICAgaWYgKGlzTWFpbikgewoJCQkJICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLm15TWFpbkVsQ2FzY2FkZXJbaW5kZXhdKQoJCQkJICAvLyBsZXQgbGlzdCA9IHRoaXMuJHJlZnMubXlNYWluRWxDYXNjYWRlcltpbmRleF0uaW5wdXRWYWx1ZTsKCQkgICAgICAgICAgLy8gY29uc3QgZm9vZE5hbWUgPSBsaXN0LmdldChsaXN0LnNpemUoKSAtIDEpLnJlcGxhY2UoIiAiLCIiKTsKCQkgICAgICAgICAgdGhpcy5tYWluRm9vZHNbaW5kZXhdLmZvb2RJZCA9IHZhbHVlWzJdCgkJICAgICAgICAgIC8vIHRoaXMubWFpbkZvb2RzW2luZGV4XS5mb29kTmFtZSA9IGZvb2ROYW1lCgkJICAgICAgICAgIHRoaXMubWFpbkZvb2RzW2luZGV4XS5jYXNjYWRlclN0ciA9IHZhbHVlLmpvaW4oJywnKQoJCSAgICAgICAgICB0aGlzLnJlY2lwZS5tYWluRm9vZElkID0gdmFsdWVbMl0KCQkgICAgICB9IGVsc2UgewoJCSAgICAgICAgICAvLyBsZXQgbGlzdCA9IHRoaXMuJHJlZnMubXlNYWluRWxDYXNjYWRlcltpbmRleF0uaW5wdXRWYWx1ZTsKCQkgICAgICAgICAgLy8gY29uc3QgZm9vZE5hbWUgPSBsaXN0LmdldChsaXN0LnNpemUoKSAtIDEpLnJlcGxhY2UoIiAiLCIiKTsKCQkgICAgICAgICAgdGhpcy5mb29kc1tpbmRleF0uZm9vZElkID0gdmFsdWVbMl0KCQkgICAgICAgICAgLy8gdGhpcy5mb29kc1tpbmRleF0uZm9vZE5hbWUgPSBmb29kTmFtZQoJCSAgICAgICAgICB0aGlzLmZvb2RzW2luZGV4XS5jYXNjYWRlclN0ciA9IHZhbHVlLmpvaW4oJywnKQoJCSAgICAgICAgICB0aGlzLnJlY2lwZS5mb29kSWQgPSB2YWx1ZVsyXQoJCSAgICAgIH0KCQkgIH0sCgkJICBoYW5kbGVGaWx0ZXJNZXRob2Qobm9kZSxrZXl3b3JkKXsKCQkJICBjb25zb2xlLmxvZyhub2RlLGtleXdvcmQpCgkJICAJcmV0dXJuIG5vZGUubGFiZWwuaW5kZXhPZihrZXl3b3JkKSAhPT0gLTE7CgkJICB9LAoJCSAgaGFuZGxlRmlsdGVyTWV0aG9kMShub2RlLGtleXdvcmQpewoJCQkgICAgY29uc29sZS5sb2cobm9kZSxrZXl3b3JkKQoJCSAgCXJldHVybiBub2RlLmxhYmVsLmluZGV4T2Yoa2V5d29yZCkgIT09IC0xOwoJCSAgfSwKCQkgIC8vIOaPkOS6pAoJCSAgaGFuZGxlU3VibWl0KG5hbWUpIHsKCQkJdGhpcy5yZWNpcGUuZGV0YWlsc1RleHQgPSB0aGlzLmNvbnRlbnQKCQkgICAgdGhpcy4kcmVmcy5yZWNpcGVGcm9tLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKCQkJICAgaWYgKHZhbGlkKSB7CgkJCQkgICBpZih0aGlzLnJlY2lwZS5tYWlqaVN0YWdlTGFiZWxJZHMgJiYgdGhpcy5yZWNpcGUubWFpamlTdGFnZUxhYmVsSWRzLmxlbmd0aD4wKXsKCQkJCQkgIHRoaXMucmVjaXBlLm1haWppU3RhZ2VMYWJlbElkcy5mb3JFYWNoKGl0ZW09PnsKCQkJCQkJICBsZXQgb2JqID0gewoJCQkJCQkJICBsYWJlbElkOiBpdGVtCgkJCQkJCSAgfQoJCQkJCQkgIHRoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaikKCQkJCQkgIH0pCgkJCQkgICB9CgkJCQkgICBpZih0aGlzLnJlY2lwZS5hcmVhTGFiZWxJZHMgJiYgdGhpcy5yZWNpcGUuYXJlYUxhYmVsSWRzLmxlbmd0aD4wKXsKCQkJCQkgIHRoaXMucmVjaXBlLmFyZWFMYWJlbElkcy5mb3JFYWNoKGl0ZW09PnsKCQkJCQkJICBsZXQgb2JqID0gewoJCQkJCQkJICBsYWJlbElkOiBpdGVtCgkJCQkJCSAgfQoJCQkJCQkgIHRoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaikKCQkJCQkgIH0pCgkJCQkgICB9CgkJCQkgICBpZih0aGlzLnJlY2lwZS5yZWNpcGVMYWJlbElkcyAmJiB0aGlzLnJlY2lwZS5yZWNpcGVMYWJlbElkcy5sZW5ndGg+MCl7CgkJCQkJICB0aGlzLnJlY2lwZS5yZWNpcGVMYWJlbElkcy5mb3JFYWNoKGl0ZW09PnsKCQkJCQkJICBsZXQgb2JqID0gewoJCQkJCQkJICBsYWJlbElkOiBpdGVtCgkJCQkJCSAgfQoJCQkJCQkgIHRoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaikKCQkJCQkgIH0pCgkJCQkgICB9CgkJCQkgICBpZiAodGhpcy5hbGlhc2VzICE9IG51bGwpIHRoaXMucmVjaXBlLmFsaWFzID0gdGhpcy5hbGlhc2VzLmpvaW4oJ+OAgScpCgkJCQkgICB0aGlzLnJlY2lwZS5mb29kcyA9IFsuLi50aGlzLm1haW5Gb29kcywgLi4udGhpcy5mb29kc10KCQkJCSAgIGxldCBpbmRleFRvRGVsZXRlID0gdGhpcy5yZWNpcGUuZm9vZHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5mb29kSWQgPT09ICIiKTsKCQkJCSAgIHRoaXMucmVjaXBlLmZvb2RzLnNwbGljZShpbmRleFRvRGVsZXRlLDEpOwoJCQkJICAgdGhpcy5yZWNpcGUuZGV0YWlsc1RleHQgPSBkZWFsSW1nKHRoaXMucmVjaXBlLmRldGFpbHNUZXh0KQoJCQkJICAgdGhpcy5yZWNpcGUudGhyZWVNZWFsID0gSlNPTi5zdHJpbmdpZnkodGhpcy5yZWNpcGUudGhyZWVNZWFsKQoJCQkJICAgY29uc29sZS5sb2codGhpcy5yZWNpcGUpCgkJCQkgICBhZGRSZWNpcGUodGhpcy5yZWNpcGUpLnRoZW4oYXN5bmMgKHJlcykgPT4gewoJCQkJCQlpZihyZXMuY29kZSA9PSAyMDApewoJCQkJCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQkJCQkgIHRoaXMuc3BpblNob3cgPSBmYWxzZTsKCQkJCQkJCSAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiB0aGlzLiRyb3V0ZVByb1N0ciArICcvcmVjaXBlL2xpc3QnIH0pOwoJCQkJCQkJfSwgNTAwKTsKCQkJCQkJfWVsc2V7CgkJCQkJCQlzZXRUaW1lb3V0KChlKSA9PiB7CgkJCQkJCQkgIHRoaXMuc3BpblNob3cgPSBmYWxzZTsKCQkJCQkJCX0sIDEwMDApOwoJCQkJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKCQkJCQkJfQoJCQkJICAgfSkuY2F0Y2goZXJyID0+IHsKCQkJCQkJc2V0VGltZW91dCgoZSkgPT4gewoJCQkJCQkgIHRoaXMuc3BpblNob3cgPSBmYWxzZTsKCQkJCQkJfSwgMTAwMCk7CgkJCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS/neWtmOWksei0pSIpOwoJCQkJICAgfSkKCQkJICAgfQoJCSAgICB9KQoJCSAgfSwKCSAgfQogICAgfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/recipe/recipeAdd","sourcesContent":["<template>\n\t<div style=\"width: 100%;padding:25px\" v-loading=\"spinShow\">\n\t\t<pages-header\n\t\t  ref=\"pageHeader\"\n\t\t  :title=\"$route.params.recipeId ? '编辑食谱' : '添加食谱'\"\n\t\t  :backUrl=\"$routeProStr + '/recipe/list'\"\n\t\t></pages-header>\n\t\t<el-card :bordered=\"false\" shadow=\"never\" class=\"mt16\" :body-style=\"{ padding: '0 20px 20px' }\">\n\t\t\t<el-form ref=\"recipeFrom\" style=\"padding: 20px;\" :rules=\"rules\"\n\t\t\t:model=\"recipe\" label-width=\"100px\" label-position=\"right\">\n\t\t\t\t<el-form-item label=\"食谱名称\" prop=\"name\">\n\t\t\t\t\t<el-input size=\"mini\" v-model=\"recipe.name\" placeholder=\"请输入食谱名称\"/>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"食谱别名\" v-for=\"(alias, index) in aliases\">\n\t\t\t\t\t<el-input size=\"mini\" v-model=\"aliases[index]\" placeholder=\"请输入食谱别名\">\n\t\t\t\t\t\t<template slot=\"append\">\n\t\t\t\t\t\t\t<el-tooltip content=\"增加别名\" placement=\"top\" effect=\"light\">\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\"  @click=\"aliases.push('')\"><i class=\"el-icon-plus\"/></el-button>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t<el-tooltip content=\"减少别名\" placement=\"top\" effect=\"light\" v-show=\"aliases.length > 1\">\n\t\t\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\"  @click=\"aliases.splice(index, 1)\"><i class=\"el-icon-minus\"/></el-button>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"食谱主图\" prop=\"mainImageId\">\n\t\t\t\t\t<span style=\"color: gray;\">建议图片尺寸：345 * 345</span>\n\t\t\t\t\t<el-upload size=\"mini\" action=\"\" list-type=\"picture-card\" :limit=\"1\"\n\t\t\t\t\t\t\t\t\t:accept=\"'jpg'\"\n\t\t\t\t\t\t\t\t\t:http-request=\"addRecipeImage\"\n\t\t\t\t\t\t\t\t\t:file-list=\"recipeMainImage? [recipeMainImage]: []\"\n\t\t\t\t\t\t\t\t\t:on-exceed=\"() => $message.warning(`只能上传1张食谱主图`)\">\n\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\">点击上传</el-button>\n\t\t\t\t\t</el-upload>\n\t\t\t\t</el-form-item>\n\t\t\t\t<div v-for=\"(food, index) in mainFoods\">\n\t\t\t\t\t<el-form-item label=\"食谱主料\" size=\"mini\" prop=\"mainFoodId\" required>\n\t\t\t\t\t\t<el-cascader \n\t\t\t\t\t\t\tv-model=\"food.cascader\" \n\t\t\t\t\t\t\t:options=\"foodTypes\" placeholder=\"试试搜索: 请选择食谱主料\" \n\t\t\t\t\t\t\tref=\"myMainElCascader\"\n\t\t\t\t\t\t\t@change=\"value => ElCascaderChange(value, index, true)\" \n\t\t\t\t\t\t\tstyle=\"width: 80%;\"\n\t\t\t\t\t\t\t:filterable=\"true\"\n\t\t\t\t\t\t\t:filter-method=\"handleFilterMethod\"/>\n\t\t\t\t\t\t<el-tooltip content=\"增加主料\" placement=\"top\" effect=\"light\">\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"mainFoods.push({foodId: '',consumption: '', main: true, cascader: []})\"><i class=\"el-icon-plus\"/></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<el-tooltip content=\"减少主料\" placement=\"top\" effect=\"light\" v-show=\"mainFoods.length > 1\">\n\t\t\t\t\t\t\t<el-button type=\"danger\" @click=\"mainFoods.splice(index, 1)\"><i class=\"el-icon-minus\"/></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t <el-form-item label=\"主料用量\" size=\"mini\">\n\t\t\t\t\t\t <el-autocomplete v-model=\"mainFoods[index].consumption\" :fetch-suggestions=\"querySearch\" placeholder=\"请输入主料用量\" style=\"width: 80%;\"/>\n\t\t\t\t\t </el-form-item>\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"(food, index) in foods\">\n\t\t\t\t\t<el-form-item label=\"食谱配料\">\n\t\t\t\t\t\t<el-cascader \n\t\t\t\t\t\t\tsize=\"mini\" \n\t\t\t\t\t\t\tv-model=\"food.cascader\" \n\t\t\t\t\t\t\t:options=\"foodTypes\" \n\t\t\t\t\t\t\tplaceholder=\"试试搜索: 请选择食谱配料\" \n\t\t\t\t\t\t\tref=\"myElCascader\"\n\t\t\t\t\t\t\t@change=\"value => ElCascaderChange(value, index, false)\" \n\t\t\t\t\t\t\tstyle=\"width: 80%;\"\n\t\t\t\t\t\t\t:filterable=\"true\"\n\t\t\t\t\t\t\t:filter-method=\"handleFilterMethod1\"/>\n\t\t\t\t\t\t<el-tooltip size=\"mini\" content=\"增加配料\" placement=\"top\" effect=\"light\">\n\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\"  @click=\"foods.push({foodId: '',consumption: '', main: false, cascader: []})\"><i class=\"el-icon-plus\"/></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<el-tooltip size=\"mini\" content=\"减少配料\" placement=\"top\" effect=\"light\" v-show=\"foods.length > 1\">\n\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"foods.splice(index, 1)\"><i class=\"el-icon-minus\"/></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"配料用量\">\n\t\t\t\t\t\t<el-autocomplete size=\"mini\" v-model=\"foods[index].consumption\" :fetch-suggestions=\"querySearch\" placeholder=\"请输入配料用量\" style=\"width: 80%;\"/>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</div>\n\t\t\t\t<el-form-item label=\"食谱地区\">\n\t\t\t\t\t<el-select  v-model=\"recipe.areaLabelIds\" multiple placeholder=\"全国范围\" size=\"mini\" style=\"width: 80%;\">\n\t\t\t\t\t\t<el-option v-for=\"(areaLabel,index) in foodAreaLabels\" :key=\"index\" :label=\"areaLabel.name\" :value=\"areaLabel.uuId\"/>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"辣度\" prop=\"spicy\">\n\t\t\t\t\t<el-radio-group v-model=\"recipe.spicy\">\n\t\t\t\t\t\t <el-radio\n\t\t\t\t\t\t  v-for=\"item in options\"\n\t\t\t\t\t\t  :key=\"item.value\"\n\t\t\t\t\t\t  :value=\"item.value\"\n\t\t\t\t\t\t  :label=\"item.value\"\n\t\t\t\t\t\t>{{item.label}}</el-radio>\n\t\t\t\t\t</el-radio-group>\t\t\t\t\t\t\t\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"难易程度\" prop=\"difficultyLevel\">\n\t\t\t\t\t<el-radio-group v-model=\"recipe.difficultyLevel\">\n\t\t\t\t\t\t <el-radio\n\t\t\t\t\t\t  v-for=\"item in options1\"\n\t\t\t\t\t\t  :key=\"item.value\"\n\t\t\t\t\t\t  :value=\"item.value\"\n\t\t\t\t\t\t  :label=\"item.value\"\n\t\t\t\t\t\t>{{item.label}}</el-radio>\n\t\t\t\t\t</el-radio-group>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"搭配情况\" prop=\"gear\">\n\t\t\t\t\t<el-rate  \n\t\t\t\t\t\tv-model=\"recipe.gear\"\n\t\t\t\t\t\t:texts=\"['纯素','纯荤','荤素搭配']\"\n\t\t\t\t\t\tshow-text\n\t\t\t\t\t\t:max=\"3\"\n\t\t\t\t\t\t:text-color=\"'#666666'\"\n\t\t\t\t\t\t:colors=\"rateColorss\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</el-rate>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"三餐归属\" prop=\"threeMeal\">\n\t\t\t\t\t<el-checkbox-group v-model=\"recipe.threeMeal\" style=\"width: 350px;\" size=\"mini\">\n\t\t\t\t\t\t<el-checkbox v-for=\"(label,index) in threeMeals\" :label=\"label\" :key=\"index\">{{label}}</el-checkbox>\n\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"麦吉阶段\" prop=\"maijiStageLabelIds\">\n\t\t\t\t\t<el-checkbox-group v-model=\"recipe.maijiStageLabelIds\" style=\"width: 350px;\" size=\"mini\">\n\t\t\t\t\t\t<el-checkbox v-for=\"(label,index) in allMaijiStageLabels\" :label=\"label.uuId\">{{label.name}}</el-checkbox>\n\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"食谱标签\">\n\t\t\t\t\t<el-checkbox-group v-model=\"recipe.recipeLabelIds\" style=\"width: 350px;\" size=\"mini\">\n\t\t\t\t\t\t<el-checkbox v-for=\"(label,index) in foodLabels\" :label=\"label.uuId\" :key=\"index\">{{label.name}}</el-checkbox>\n\t\t\t\t\t\t<el-button icon=\"el-icon-plus\" circle size=\"mini\" @click=\"addLabelShow(true)\" style=\"margin-left: 20px;\"></el-button>\n\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"注意事项\">\n\t\t\t\t\t<el-input type=\"textarea\" v-model=\"recipe.note\" placeholder=\"请输入食谱的注意事项\"/>\n\t\t\t\t</el-form-item>\t\t\t\t\n\t\t\t\t<el-form-item label=\"食谱详情\" prop=\"detailsText\" label-position=\"top\">\n\t\t\t\t\t<WangEditor style=\"width: 100%\" :content=\"recipe.detailsText\" @editorContent=\"getEditorContent\"></WangEditor>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button\n\t\t\t\t\t  type=\"primary\"\n\t\t\t\t\t  class=\"submission\"\n\t\t\t\t\t  @click=\"handleSubmit('recipeFrom')\"\n\t\t\t\t\t  >保存</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</el-card>\n\t</div>\n</template>\n\n<script>\n\timport WangEditor from '@/components/wangEditor/index.vue';\n\timport { labelList,foodList,uploadRecipeImages,addRecipe } from '@/api/recipe';\n\timport {dealImg} from \"@/utils/index\"\n\texport default {\n\t  name: 'recipeAdd',\n\t  components: { WangEditor },\n\t  data() {\n\t    return {\n\t\t\tspinShow: false,\n\t\t\tfoodTypes: [],\n\t\t\tfoodAreaLabels: [],\n\t\t\trateColors: ['#F7DB4D', '#F7DB4D'],\n\t\t\trateColorss: ['#F7DB4D', '#F7DB4D', '#F7DB4D'],\n\t\t\tthreeMeals: ['早餐','午餐','晚餐'],\n\t\t\toptions: [\n\t\t\t\t{value: 1,label:'不辣'},\n\t\t\t\t{value: 2,label:'辣'}\n\t\t\t],\n\t\t\toptions1: [\n\t\t\t\t{value: 1,label:'易'},\n\t\t\t\t{value: 2,label:'难'}\n\t\t\t],\n\t\t\trecipe: {\n\t\t\t\tdifficultyLevel: 0,\n\t\t\t\tname: '',\n\t\t\t\talias: '',\n\t\t\t\tmainImageId: '',\n\t\t\t\tmainFoodId: '',\n\t\t\t\tmainFoodConsumption: '',\n\t\t\t\tfoodId: '',\n\t\t\t\tlabels: [],\n\t\t\t\tfoodConsumption: '',\n\t\t\t\tdetailsText: '',\n\t\t\t\tnote: '',\n\t\t\t\tmaijiStageLabelIds: [],\n\t\t\t\tareaLabelIds: [],\n\t\t\t\trecipeLabelIds: [],\n\t\t\t\tspicy: 0,\n\t\t\t\teconomy: 0,\n\t\t\t\tthreeMeal: [],\n\t\t\t\tgear: 0\n\t\t\t},\n\t\t\taliases: [''],\n\t\t\tmainFoods: [{\n\t\t\t    foodId: '',\n\t\t\t    foodName: '',\n\t\t\t    consumption: '',\n\t\t\t    main: true,\n\t\t\t    cascaderStr: '',\n\t\t\t    cascader: [],\n\t\t\t}],\n\t\t\tfoods: [{\n\t\t\t    foodId: '',\n\t\t\t    foodName: '',\n\t\t\t    consumption: '',\n\t\t\t    main: false,\n\t\t\t    cascaderStr: '',\n\t\t\t    cascader: []\n\t\t\t}],\n\t\t\tallMaijiStageLabels: [],\n\t\t\tfoodLabels: [],\n\t\t\trecipeMainImage: null,\n\t\t\tcontent: '',\n\t\t\trules: {\n\t\t\t\tname: [\n\t\t\t\t\t{ required: true, message: '食谱名称不能为空', trigger: 'blur' }\n\t\t\t    ],\n\t\t\t    mainImageId: [\n\t\t\t\t\t{ required: true, message: '食谱主图不能为空', trigger: 'change' }\n\t\t\t    ],\n\t\t\t\tmainFoodId: [\n\t\t\t\t\t{ required: true, message: '请选择主料食材', trigger: 'change' }\n\t\t\t\t],\n\t\t\t\tspicy: [\n\t\t\t\t\t{ required: true, message: '请选择辣度', trigger: 'change' }\n\t\t\t\t],\n\t\t\t    difficultyLevel: [\n\t\t\t\t\t{ required: true, message: '请选择难易程度', trigger: 'change' }\n\t\t\t    ],\n\t\t\t    gear: [\n\t\t\t\t\t{ required: true, message: '请选择搭配情况', trigger: 'change' }\n\t\t\t    ],\n\t\t\t    threeMeal: [\n\t\t\t\t\t{ type: 'array', required: true, message: '请至少选择一个三餐归属', trigger: 'change' }\n\t\t\t    ],\n\t\t\t    maijiStageLabelIds: [\n\t\t\t\t\t{ type: 'array', required: true, message: '请至少选择一个食谱麦吉阶段', trigger: 'change' }\n\t\t\t    ],\n\t\t\t\tdetailsText: [\n\t\t\t\t\t{ required: true, message: '食谱详情不能为空', trigger: 'blur' }\n\t\t\t\t]\n\t\t\t}\n\t    }\n\t  },\n\t  created() {\n\t\t  labelList({source: \"食谱\"})\n\t\t  .then(async (res) => {\n\t\t  \tif(res.code === 200){\n\t\t  \t\tthis.foodAreaLabels = res.data.filter(label => label.listShow == 2).sort((L1, L2) => L1.name.length - L2.name.length)\n\t\t  \t\t// console.log(res.data)\n\t\t  \t\tthis.allMaijiStageLabels = res.data.filter(label => label.listShow == 1).sort((L1, L2) => L1.orderNo - L2.orderNo)\n\t\t  \t\tthis.foodLabels = res.data.filter(label => label.listShow == 0).sort((L1, L2) => L1.orderNo - L2.orderNo)\n\t\t  \t}\n\t\t  }) \n\t\t  .catch((err) => {\n\t\t  \tthis.$message({\n\t\t  \t\ttype: \"error\",\n\t\t  \t\tmessage: err,\n\t\t  \t\tduration: 1000\n\t\t  \t})\n\t\t  });\n\t\t  foodList({isFindFoods: true})\n\t\t  .then(async (res) => {\n\t\t     if(res.code === 200){\n\t\t  \t    this.foodTypes = res.data.map(type => {\n\t\t  \t       if (type.children && type.children.length >1)\n\t\t  \t           type.children.sort((c1, c2) =>c1.label.length - c2.label.length)\n\t\t  \t       return type\n\t\t  \t    }).sort((t1, t2) => t1.label.length - t2.label.length)\n\t\t     }\n\t\t  }).catch((err) => {\n\t\t    this.$message({\n\t\t    \ttype: \"error\",\n\t\t    \tmessage: err,\n\t\t    \tduration: 1000\n\t\t    })\n\t\t  });\n\t\t  \n\t  },\n\t  mounted() {\n\t\tthis.draChange();\n\t\tthis.$refs['recipeFrom'].resetFields();\n\t  },\n\t  methods: {\n\t\t  draChange(){\n\t\t  \tthis.recipe = {\n\t\t  \t\tname: '',\n\t\t  \t\talias: '',\n\t\t  \t\tmainImageId: '',\n\t\t  \t\tmainFoodId: '',\n\t\t  \t\tmainFoodConsumption: '',\n\t\t  \t\tfoodId: '',\n\t\t  \t\tlabels: [],\n\t\t  \t\tfoodConsumption: '',\n\t\t  \t\tdetailsText: '',\n\t\t  \t\tnote: '',\n\t\t  \t\tmaijiStageLabelIds: [],\n\t\t  \t\tareaLabelIds: [],\n\t\t  \t\trecipeLabelIds: [],\n\t\t  \t\tspicy: 0,\n\t\t  \t\teconomy: 0,\n\t\t  \t\tthreeMeal: [],\n\t\t  \t\tdifficultyLevel: 0,\n\t\t  \t\tgear: 0\n\t\t  \t}\n\t\t  \tthis.aliases = ['']\n\t\t  \tthis.recipeMainImage = null\n\t\t  \tthis.mainFoods = [{\n\t\t  \t    foodId: '',\n\t\t  \t    foodName: '',\n\t\t  \t    consumption: '',\n\t\t  \t    main: true,\n\t\t  \t    cascaderStr: '',\n\t\t  \t    cascader: [],\n\t\t  \t}]\n\t\t  \tthis.foods = [{\n\t\t  \t    foodId: '',\n\t\t  \t    foodName: '',\n\t\t  \t    consumption: '',\n\t\t  \t    main: false,\n\t\t  \t    cascaderStr: '',\n\t\t  \t    cascader: []\n\t\t  \t}],\n\t\t\tthis.content = ''\n\t\t  },\n\t\t  getEditorContent(data) {\n\t\t  \tthis.content = data;\n\t\t  },\n\t\t  querySearch(queryString, cb) {\n\t\t      const queryArr = [{value: '若干'}, {value: '适量'}, {value: '少许'}, {value: '或输入具体数值(克)'}]\n\t\t      const results = queryString? queryArr.filter(query => query.value.includes(queryString)): queryArr\n\t\t      cb(results)  // 调用 callback 返回建议列表的数据\n\t\t  },\n\t\t  async addRecipeImage(param) {\n\t\t      const imageData = new FormData()\n\t\t      imageData.append('uploadFiles', param.file)\n\t\t      const result = await uploadRecipeImages(imageData)\n\t\t      if (result.code != 200) this.$message.error(`上传食谱主图失败，请稍后重试！`)\n\t\t      this.recipeMainImage = Object.assign(result.data[0], {isMain: 1})\n\t\t      this.recipe.mainImageId = this.recipeMainImage.uuId\n\t\t  },\n\t\t  ElCascaderChange(value, index, isMain) {\n\t\t      if (isMain) {\n\t\t\t\t  // console.log(this.$refs.myMainElCascader[index])\n\t\t\t\t  // let list = this.$refs.myMainElCascader[index].inputValue;\n\t\t          // const foodName = list.get(list.size() - 1).replace(\" \",\"\");\n\t\t          this.mainFoods[index].foodId = value[2]\n\t\t          // this.mainFoods[index].foodName = foodName\n\t\t          this.mainFoods[index].cascaderStr = value.join(',')\n\t\t          this.recipe.mainFoodId = value[2]\n\t\t      } else {\n\t\t          // let list = this.$refs.myMainElCascader[index].inputValue;\n\t\t          // const foodName = list.get(list.size() - 1).replace(\" \",\"\");\n\t\t          this.foods[index].foodId = value[2]\n\t\t          // this.foods[index].foodName = foodName\n\t\t          this.foods[index].cascaderStr = value.join(',')\n\t\t          this.recipe.foodId = value[2]\n\t\t      }\n\t\t  },\n\t\t  handleFilterMethod(node,keyword){\n\t\t\t  console.log(node,keyword)\n\t\t  \treturn node.label.indexOf(keyword) !== -1;\n\t\t  },\n\t\t  handleFilterMethod1(node,keyword){\n\t\t\t    console.log(node,keyword)\n\t\t  \treturn node.label.indexOf(keyword) !== -1;\n\t\t  },\n\t\t  // 提交\n\t\t  handleSubmit(name) {\n\t\t\tthis.recipe.detailsText = this.content\n\t\t    this.$refs.recipeFrom.validate(async valid => {\n\t\t\t   if (valid) {\n\t\t\t\t   if(this.recipe.maijiStageLabelIds && this.recipe.maijiStageLabelIds.length>0){\n\t\t\t\t\t  this.recipe.maijiStageLabelIds.forEach(item=>{\n\t\t\t\t\t\t  let obj = {\n\t\t\t\t\t\t\t  labelId: item\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t  this.recipe.labels.push(obj)\n\t\t\t\t\t  })\n\t\t\t\t   }\n\t\t\t\t   if(this.recipe.areaLabelIds && this.recipe.areaLabelIds.length>0){\n\t\t\t\t\t  this.recipe.areaLabelIds.forEach(item=>{\n\t\t\t\t\t\t  let obj = {\n\t\t\t\t\t\t\t  labelId: item\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t  this.recipe.labels.push(obj)\n\t\t\t\t\t  })\n\t\t\t\t   }\n\t\t\t\t   if(this.recipe.recipeLabelIds && this.recipe.recipeLabelIds.length>0){\n\t\t\t\t\t  this.recipe.recipeLabelIds.forEach(item=>{\n\t\t\t\t\t\t  let obj = {\n\t\t\t\t\t\t\t  labelId: item\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t  this.recipe.labels.push(obj)\n\t\t\t\t\t  })\n\t\t\t\t   }\n\t\t\t\t   if (this.aliases != null) this.recipe.alias = this.aliases.join('、')\n\t\t\t\t   this.recipe.foods = [...this.mainFoods, ...this.foods]\n\t\t\t\t   let indexToDelete = this.recipe.foods.findIndex(item => item.foodId === \"\");\n\t\t\t\t   this.recipe.foods.splice(indexToDelete,1);\n\t\t\t\t   this.recipe.detailsText = dealImg(this.recipe.detailsText)\n\t\t\t\t   this.recipe.threeMeal = JSON.stringify(this.recipe.threeMeal)\n\t\t\t\t   console.log(this.recipe)\n\t\t\t\t   addRecipe(this.recipe).then(async (res) => {\n\t\t\t\t\t\tif(res.code == 200){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t  this.spinShow = false;\n\t\t\t\t\t\t\t  this.$router.push({ path: this.$routeProStr + '/recipe/list' });\n\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsetTimeout((e) => {\n\t\t\t\t\t\t\t  this.spinShow = false;\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t\tthis.$message.error(res.msg);\n\t\t\t\t\t\t}\n\t\t\t\t   }).catch(err => {\n\t\t\t\t\t\tsetTimeout((e) => {\n\t\t\t\t\t\t  this.spinShow = false;\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\tthis.$message.error(\"保存失败\");\n\t\t\t\t   })\n\t\t\t   }\n\t\t    })\n\t\t  },\n\t  }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .el-form-item {\n        text-align: left;\n    }\n\t.head {\n\t  position: relative;\n\t  padding: 0 15px;\n\t  margin-bottom: 40px;\n\t  .edit-btn {\n\t    position: absolute;\n\t    right: 10px;\n\t    top: 0px;\n\t    display: flex;\n\t    align-items: center;\n\t  }\n\t}\n</style>"]}]}