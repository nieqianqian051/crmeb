{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/breadcrumb/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/breadcrumb/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBCcmVhZGNydW1iIGZyb20gJ0AvbGF5b3V0L25hdkJhcnMvYnJlYWRjcnVtYi9icmVhZGNydW1iLnZ1ZSc7CmltcG9ydCBVc2VyIGZyb20gJ0AvbGF5b3V0L25hdkJhcnMvYnJlYWRjcnVtYi91c2VyLnZ1ZSc7CmltcG9ydCBMb2dvIGZyb20gJ0AvbGF5b3V0L2xvZ28vaW5kZXgudnVlJzsKaW1wb3J0IEhvcml6b250YWwgZnJvbSAnQC9sYXlvdXQvbmF2TWVudS9ob3Jpem9udGFsLnZ1ZSc7CmltcG9ydCB0cmFuc3ZlcnNlQXNpZGUgZnJvbSAnQC9sYXlvdXQvY29tcG9uZW50L3RyYW5zdmVyc2VBc2lkZS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dE5hdkJhcnMnLAogIGNvbXBvbmVudHM6IHsgQnJlYWRjcnVtYiwgVXNlciwgTG9nbywgSG9yaXpvbnRhbCwgdHJhbnN2ZXJzZUFzaWRlIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbnVMaXN0OiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6K6+572uIGxvZ28g5piv5ZCm5pi+56S6CiAgICBzZXRJc1Nob3dMb2dvKCkgewogICAgICBsZXQgeyBpc1Nob3dMb2dvLCBsYXlvdXQgfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICByZXR1cm4gKGlzU2hvd0xvZ28gJiYgbGF5b3V0ID09PSAnY2xhc3NpYycpIHx8IChpc1Nob3dMb2dvICYmIGxheW91dCA9PT0gJ3RyYW5zdmVyc2UnKTsKICAgIH0sCiAgICAvLyDorr7nva7mmK/lkKbmmL7npLrmqKrlkJHoj5zljZUKICAgIGlzTGF5b3V0VHJhbnN2ZXJzZSgpIHsKICAgICAgbGV0IHsgbGF5b3V0LCBpc0NsYXNzaWNTcGxpdE1lbnUgfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICByZXR1cm4gbGF5b3V0ID09PSAndHJhbnN2ZXJzZScgfHwgKGlzQ2xhc3NpY1NwbGl0TWVudSAmJiBsYXlvdXQgPT09ICdjbGFzc2ljJyk7CiAgICB9LAogICAgaXNMYXlvdXRDbGFzc2ljKCkgewogICAgICBsZXQgeyBsYXlvdXQgfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICByZXR1cm4gbGF5b3V0ID09PSAnY2xhc3NpYyc7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0RmlsdGVyUm91dGVzKCk7CiAgICB0aGlzLmJ1cy4kb24oJ3JvdXRlc0xpc3RDaGFuZ2UnLCAoKSA9PiB7CiAgICAgIHRoaXMuc2V0RmlsdGVyUm91dGVzKCk7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmJ1cy4kb2ZmKCdyb3V0ZXNMaXN0Q2hhbmdlJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDorr7nva7ot6/nlLHnmoTov4fmu6QKICAgIHNldEZpbHRlclJvdXRlcygpIHsKICAgICAgdGhpcy5tZW51TGlzdCA9IHRoaXMuZmlsdGVyUm91dGVzRnVuKHRoaXMuJHN0b3JlLnN0YXRlLnJvdXRlc0xpc3Qucm91dGVzTGlzdCk7CiAgICB9LAogICAgLy8g6K6+572u6Lev55Sx55qE6L+H5ruk6YCS5b2S5Ye95pWwCiAgICBmaWx0ZXJSb3V0ZXNGdW4oYXJyKSB7CiAgICAgIHJldHVybiBhcnIKICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnBhdGgpCiAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIGl0ZW0uY2hpbGRyZW4gPSB0aGlzLmZpbHRlclJvdXRlc0Z1bihpdGVtLmNoaWxkcmVuKTsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICAvLyDnm5HlkKwgdnVleCDmlbDmja7lj5jljJYKICAgICckc3RvcmUuc3RhdGUnOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgaWYgKHZhbC5yb3V0ZXNMaXN0LnJvdXRlc0xpc3QubGVuZ3RoID09PSB0aGlzLm1lbnVMaXN0Lmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHRoaXMuc2V0RmlsdGVyUm91dGVzKCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/navBars/breadcrumb","sourcesContent":["<template>\n  <div class=\"layout-navbars-breadcrumb-index\">\n    <Logo v-if=\"setIsShowLogo\" />\n    <Breadcrumb />\n    <Horizontal :menuList=\"menuList\" v-if=\"isLayoutTransverse\" />\n    <transverseAside v-if=\"isLayoutClassic\" />\n    <User />\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '@/layout/navBars/breadcrumb/breadcrumb.vue';\nimport User from '@/layout/navBars/breadcrumb/user.vue';\nimport Logo from '@/layout/logo/index.vue';\nimport Horizontal from '@/layout/navMenu/horizontal.vue';\nimport transverseAside from '@/layout/component/transverseAside.vue';\nexport default {\n  name: 'layoutNavBars',\n  components: { Breadcrumb, User, Logo, Horizontal, transverseAside },\n  data() {\n    return {\n      menuList: [],\n    };\n  },\n  computed: {\n    // 设置 logo 是否显示\n    setIsShowLogo() {\n      let { isShowLogo, layout } = this.$store.state.themeConfig.themeConfig;\n      return (isShowLogo && layout === 'classic') || (isShowLogo && layout === 'transverse');\n    },\n    // 设置是否显示横向菜单\n    isLayoutTransverse() {\n      let { layout, isClassicSplitMenu } = this.$store.state.themeConfig.themeConfig;\n      return layout === 'transverse' || (isClassicSplitMenu && layout === 'classic');\n    },\n    isLayoutClassic() {\n      let { layout } = this.$store.state.themeConfig.themeConfig;\n      return layout === 'classic';\n    },\n  },\n  mounted() {\n    this.setFilterRoutes();\n    this.bus.$on('routesListChange', () => {\n      this.setFilterRoutes();\n    });\n  },\n  beforeDestroy() {\n    this.bus.$off('routesListChange');\n  },\n  methods: {\n    // 设置路由的过滤\n    setFilterRoutes() {\n      this.menuList = this.filterRoutesFun(this.$store.state.routesList.routesList);\n    },\n    // 设置路由的过滤递归函数\n    filterRoutesFun(arr) {\n      return arr\n        .filter((item) => item.path)\n        .map((item) => {\n          item = Object.assign({}, item);\n          if (item.children) item.children = this.filterRoutesFun(item.children);\n          return item;\n        });\n    },\n  },\n  watch: {\n    // 监听 vuex 数据变化\n    '$store.state': {\n      handler(val) {\n        if (val.routesList.routesList.length === this.menuList.length) return false;\n        this.setFilterRoutes();\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-navbars-breadcrumb-index {\n  height: 64px;\n  display: flex;\n  align-items: center;\n  // padding-right: 15px;\n  overflow: hidden;\n  background: var(--prev-bg-topBar);\n  border-bottom: 1px solid var(--prev-border-color-lighter);\n}\n</style>\n"]}]}