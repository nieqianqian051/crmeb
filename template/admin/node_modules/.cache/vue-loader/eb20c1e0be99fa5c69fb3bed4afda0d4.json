{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/routerView/parent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/routerView/parent.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncGFyZW50JywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlZnJlc2hSb3V0ZXJWaWV3S2V5OiBudWxsLAogICAgICBrZWVwQWxpdmVOYW1lTGlzdDogW10sCiAgICAgIGtlZXBBbGl2ZU5hbWVOZXdMaXN0OiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6K6+572u5Li755WM6Z2i5YiH5o2i5Yqo55S7CiAgICBzZXRUcmFuc2l0aW9uTmFtZSAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5hbmltYXRpb247CiAgICB9LAogICAgaXNUYWdIaXN0b3J5ICgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmlzVGFnc3ZpZXc7CiAgICB9LAogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICAvKioKICAqIOiOt+WPlumcgOimgeS/neaMgea0u+WKqOeKtuaAgeeahOe7hOS7tuWQjeensOWIl+ihqAogICovCiAgICB0aGlzLmtlZXBBbGl2ZU5hbWVMaXN0ID0gdGhpcy5nZXRLZWVwQWxpdmVOYW1lcygpOwogICAgLy8g55uR5ZCs5qCH562+6aG16KeG5Zu+5Yi35paw6Lev55Sx6KeG5Zu+5LqL5Lu2CiAgICB0aGlzLmJ1cy4kb24oJ29uVGFnc1ZpZXdSZWZyZXNoUm91dGVyVmlldycsIChwYXRoKSA9PiB7CiAgICAgIC8vIOWmguaenOW9k+WJjei3r+eUsei3r+W+hOS4jeetieS6juS8oOWFpeeahOi3r+W+hO+8jOWImeebtOaOpei/lOWbnmZhbHNlCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9PSBwYXRoKSByZXR1cm4gZmFsc2U7CiAgICAgIC8vIOi/h+a7pOaOieW9k+WJjei3r+eUseWvueW6lOeahOe7hOS7tuWQjeensO+8jOW5tumHjeaWsOiuvue9rmtlZXBBbGl2ZU5hbWVMaXN0CiAgICAgIHRoaXMua2VlcEFsaXZlTmFtZUxpc3QgPSB0aGlzLmdldEtlZXBBbGl2ZU5hbWVzKCkuZmlsdGVyKChuYW1lKSA9PiB0aGlzLiRyb3V0ZS5uYW1lICE9PSBuYW1lKTsKICAgICAgLy8g5Yi35paw6Lev55Sx6KeG5Zu+a2V5CiAgICAgIHRoaXMucmVmcmVzaFJvdXRlclZpZXdLZXkgPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICAvLyDlnKjkuIvkuIDkuKp0aWNr5Lit6YeN5paw6K6+572ua2VlcEFsaXZlTmFtZUxpc3QKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMucmVmcmVzaFJvdXRlclZpZXdLZXkgPSBudWxsOwogICAgICAgIC8qKgogICAgICAgICAqIOiOt+WPlumcgOimgeS/neaMgea0u+WKqOeKtuaAgeeahOe7hOS7tuWQjeensOWIl+ihqAogICAgICAgICAqLwogICAgICAgIHRoaXMua2VlcEFsaXZlTmFtZUxpc3QgPSB0aGlzLmdldEtlZXBBbGl2ZU5hbWVzKCk7CiAgICAgIH0pOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygndGhpcy5rZWVwQWxpdmVOYW1lTGlzdCcsIHRoaXMua2VlcEFsaXZlTmFtZUxpc3QsIHRoaXMucmVmcmVzaFJvdXRlclZpZXdLZXkpCiAgfSwKCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6Lev55Sx57yT5a2Y5YiX6KGo77yIbmFtZe+8ie+8jOm7mOiupOi3r+eUseWFqOmDqOe8k+WtmAogICAgZ2V0S2VlcEFsaXZlTmFtZXMgKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUua2VlcEFsaXZlTmFtZXMua2VlcEFsaXZlTmFtZXM7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["parent.vue"],"names":[],"mappings":";AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"parent.vue","sourceRoot":"src/layout/routerView","sourcesContent":["<template>\n  <div :class=\"isTagHistory ? 'h100' : 'h101'\">\n    <transition :name=\"setTransitionName\"\n                mode=\"out-in\">\n      <keep-alive :include=\"keepAliveNameList\">\n        <router-view :key=\"refreshRouterViewKey\" />\n      </keep-alive>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'parent',\n  data () {\n    return {\n      refreshRouterViewKey: null,\n      keepAliveNameList: [],\n      keepAliveNameNewList: [],\n    };\n  },\n  computed: {\n    // 设置主界面切换动画\n    setTransitionName () {\n      return this.$store.state.themeConfig.themeConfig.animation;\n    },\n    isTagHistory () {\n      return this.$store.state.themeConfig.themeConfig.isTagsview;\n    },\n  },\n  created () {\n    /**\n  * 获取需要保持活动状态的组件名称列表\n  */\n    this.keepAliveNameList = this.getKeepAliveNames();\n    // 监听标签页视图刷新路由视图事件\n    this.bus.$on('onTagsViewRefreshRouterView', (path) => {\n      // 如果当前路由路径不等于传入的路径，则直接返回false\n      if (this.$route.path !== path) return false;\n      // 过滤掉当前路由对应的组件名称，并重新设置keepAliveNameList\n      this.keepAliveNameList = this.getKeepAliveNames().filter((name) => this.$route.name !== name);\n      // 刷新路由视图key\n      this.refreshRouterViewKey = this.$route.path;\n      // 在下一个tick中重新设置keepAliveNameList\n      this.$nextTick(() => {\n        this.refreshRouterViewKey = null;\n        /**\n         * 获取需要保持活动状态的组件名称列表\n         */\n        this.keepAliveNameList = this.getKeepAliveNames();\n      });\n    });\n    console.log('this.keepAliveNameList', this.keepAliveNameList, this.refreshRouterViewKey)\n  },\n\n  methods: {\n    // 获取路由缓存列表（name），默认路由全部缓存\n    getKeepAliveNames () {\n      return this.$store.state.keepAliveNames.keepAliveNames;\n    },\n  },\n};\n</script>\n"]}]}