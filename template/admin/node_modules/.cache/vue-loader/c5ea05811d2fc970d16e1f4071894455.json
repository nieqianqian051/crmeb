{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/devise/diyIndex.vue?vue&type=script&crossorigin=anonymous&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/devise/diyIndex.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNhdGVnb3J5TGlzdCwgZ2V0RGl5SW5mbywgc2F2ZURpeSwgZ2V0VXJsLCBzZXREZWZhdWx0LCByZWNvdmVyeSwgZ2V0Um91dGluZUNvZGUgfSBmcm9tICdAL2FwaS9kaXknOwppbXBvcnQgdnVlZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZSc7CmltcG9ydCBtUGFnZSBmcm9tICdAL2NvbXBvbmVudHMvbW9iaWxlUGFnZURpeS9pbmRleC5qcyc7CmltcG9ydCBtQ29uZmlnIGZyb20gJ0AvY29tcG9uZW50cy9tb2JpbGVDb25maWdEaXkvaW5kZXguanMnOwppbXBvcnQgZm9vdFBhZ2UgZnJvbSAnQC9jb21wb25lbnRzL3BhZ2VzRm9vdCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBodG1sMmNhbnZhcyBmcm9tICdodG1sMmNhbnZhcyc7CmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlanMyJzsKaW1wb3J0IHsgd3JpdGVVcGRhdGUgfSBmcm9tICdAYXBpL29yZGVyJzsKaW1wb3J0IGNoZWNrQXJyYXkgZnJvbSAnQC9saWJzL3Blcm1pc3Npb24nOwoKbGV0IGlkR2xvYmFsID0gMDsKZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWydyZWxvYWQnXSwKICBuYW1lOiAnaW5kZXgudnVlJywKICBjb21wb25lbnRzOiB7CiAgICBmb290UGFnZSwKICAgIGh0bWwyY2FudmFzLAogICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUsCiAgICAuLi5tUGFnZSwKICAgIC4uLm1Db25maWcsCiAgfSwKICBmaWx0ZXJzOiB7CiAgICBmaWx0ZXJUeHQgKHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgcmV0dXJuICh2YWwgPSB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSAxKSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICB0aXRsZVR4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVRpdGxlIHx8ICfpppbpobUnLAogICAgICBuYW1lVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlTmFtZSB8fCAn5qih5p2/JywKICAgICAgc2hvd1R4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVNob3csCiAgICAgIGNvbG9yVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlQ29sb3IsCiAgICAgIHBpY1R4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVBpYywKICAgICAgY29sb3JQaWNrZXJUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VDb2xvclBpY2tlciwKICAgICAgdGFiVmFsVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlVGFiVmFsLAogICAgICBwaWNVcmxUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VQaWNVcmwsCiAgICB9KSwKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xpZW50SGVpZ2h0OiAnJywgLy/pobXpnaLliqjmgIHpq5jluqYKICAgICAgcm9sbEhlaWdodDogJycsCiAgICAgIGxlZnRNZW51OiBbXSwgLy8g5bem5L6n6I+c5Y2VCiAgICAgIGxDb25maWc6IFtdLCAvLyDlt6bkvqfnu4Tku7YKICAgICAgbUNvbmZpZzogW10sIC8vIOS4remXtOe7hOS7tua4suafkwogICAgICByQ29uZmlnOiBbXSwgLy8g5Y+z5L6n57uE5Lu26YWN572uCiAgICAgIGFjdGl2ZUNvbmZpZ05hbWU6ICcnLAogICAgICBwcm9wc09iajoge30sIC8vIOe7hOS7tuS8oOmAkueahOaVsOaNriwKICAgICAgYWN0aXZlSW5kZXg6IC0xMDAsIC8vIOmAieS4reeahOS4i+aghwogICAgICBudW1iZXI6IDAsCiAgICAgIHBhZ2VJZDogJycsCiAgICAgIHBhZ2VOYW1lOiAnJywKICAgICAgcGFnZVR5cGU6ICcnLAogICAgICBjYXRlZ29yeTogW10sCiAgICAgIHRhYkxpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+e7hOS7tuW6kycsCiAgICAgICAgICBrZXk6IDAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+mhtemdoumTvuaOpScsCiAgICAgICAgICBrZXk6IDEsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgdGFiQ3VyOiAwLAogICAgICB1cmxMaXN0OiBbXSwKICAgICAgZm9vdEFjdGl2ZTogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpc1NlYXJjaDogZmFsc2UsCiAgICAgIGlzVGFiOiBmYWxzZSwKICAgICAgaXNGbGxvdzogZmFsc2UsCiAgICAgIHFyY29kZUltZzogJycsCiAgICAgIG1vZGFsOiBmYWxzZSwKICAgICAgbmFtZU1vZGFsOiBmYWxzZSwKICAgICAgc2F2ZU5hbWU6ICcnLAogICAgfTsKICB9LAogIGJlZm9yZVJvdXRlTGVhdmUgKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAvLyDlr7zoiKrnprvlvIDor6Xnu4Tku7bnmoTlr7nlupTot6/nlLHml7bosIPnlKgKICB9LAogIGJlZm9yZUNyZWF0ZSAoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy90aXRsZVVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL25hbWVVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9zaG93VXBkYXRhJywgMSk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9jb2xvclVwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWNrZXJVcGRhdGEnLCAnI2Y1ZjVmNScpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcmFkaW9VcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY3VybFVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVEVNUFRZJyk7CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIGNvbnNvbGUubG9nKDExMTEsIHRoaXMubUNvbmZpZykKICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHsKICAgICAgcmV0dXJuICfliLfmlrDpobXpnaLlsIbkuKLlpLHlhoXlrrks5piv5ZCm57un57utPyc7CiAgICB9OwogICAgdGhpcy5jYXRlZ29yeUxpc3QoKTsKICAgIHRoaXMuZ2V0VXJsTGlzdCgpOwogICAgdGhpcy5wYWdlSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgIHRoaXMucGFnZU5hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5uYW1lOwogICAgdGhpcy5wYWdlVHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGU7CiAgICB0aGlzLmxDb25maWcgPSB0aGlzLm9ialRvQXJyKG1QYWdlKTsKICB9LAogIG1vdW50ZWQgKCkgewogICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29uYmVmb3JldW5sb2FkJywgdGhpcy5iZWZvcmVVbmxvYWQpOwogICAgbGV0IGltZ0xpc3QgPSB7CiAgICAgIGltZ0xpc3Q6IFtyZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvZm9vdC0wMDUucG5nJyksIHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9mb290LTAwNi5wbmcnKV0sCiAgICAgIG5hbWU6ICfotK3nianovaYnLAogICAgICBsaW5rOiAnL3BhZ2VzL29yZGVyX2FkZGNhcnQvb3JkZXJfYWRkY2FydCcsCiAgICB9OwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9GT09URVInLCB7CiAgICAgICAgdGl0bGU6ICfkuJPpopjpobXmmK/lkKbmmL7npLonLAogICAgICAgIG5hbWU6IGltZ0xpc3QsCiAgICAgIH0pOwogICAgICB0aGlzLmFycmF5U29ydCgpOwogICAgICBpZiAodGhpcy5wYWdlSWQgIT0gMCkgewogICAgICAgIHRoaXMuZ2V0RGVmYXVsdENvbmZpZygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd1RpdGxlKCk7CiAgICAgIH0KICAgICAgdGhpcy5jbGllbnRIZWlnaHQgPSBgJHtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fWA7IC8v6I635Y+W5rWP6KeI5Zmo5Y+v6KeG5Yy65Z+f6auY5bqmCiAgICAgIGxldCBIID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH1gIC0gMTgwOwogICAgICB0aGlzLnJvbGxIZWlnaHQgPSBIID4gNjUwID8gNjUwIDogSDsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5jbGllbnRIZWlnaHQgPSBgJHtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fWA7CiAgICAgICAgbGV0IEggPSBgJHtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fWAgLSAxODA7CiAgICAgICAgdGhhdC5yb2xsSGVpZ2h0ID0gSCA+IDY1MCA/IDY1MCA6IEg7CiAgICAgIH07CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmVNb2RhbCAoKSB7CiAgICAgIGlmICghdGhpcy5zYXZlTmFtZSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35YWI6L6T5YWl5qih5p2/5ZCN56ewJyk7CiAgICAgIHRoaXMuc2F2ZUNvbmZpZygxLCB0aGlzLnNhdmVOYW1lKTsKICAgIH0sCiAgICAvL+Wwj+eoi+W6j+S6jOe7tOeggQogICAgcm91dGluZUNvZGUgKGlkKSB7CiAgICAgIGdldFJvdXRpbmVDb2RlKGlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucXJjb2RlSW1nID0gcmVzLmRhdGEuaW1hZ2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIHByZXZpZXcgKHJvdykgewogICAgICB0aGlzLm1vZGFsID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKGUpID0+IHsKICAgICAgICB0aGlzLmNyZWF0UXJDb2RlKHJvdy5pZCk7CiAgICAgICAgdGhpcy5yb3V0aW5lQ29kZSh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v55Sf5oiQ5LqM57u056CBCiAgICBjcmVhdFFyQ29kZSAoaWQpIHsKICAgICAgdGhpcy4kcmVmcy5xckNvZGVVcmwuaW5uZXJIVE1MID0gJyc7CiAgICAgIGxldCB1cmwgPSBgJHt0aGlzLkJhc2VVUkx9cGFnZXMvYW5uZXgvc3BlY2lhbC9pbmRleD9pZD0ke2lkfWA7CiAgICAgIHZhciBxcmNvZGUgPSBuZXcgUVJDb2RlKHRoaXMuJHJlZnMucXJDb2RlVXJsLCB7CiAgICAgICAgdGV4dDogdXJsLCAvLyDpnIDopoHovazmjaLkuLrkuoznu7TnoIHnmoTlhoXlrrkKICAgICAgICB3aWR0aDogMTYwLAogICAgICAgIGhlaWdodDogMTYwLAogICAgICAgIGNvbG9yRGFyazogJyMwMDAwMDAnLAogICAgICAgIGNvbG9yTGlnaHQ6ICcjZmZmZmZmJywKICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuSCwKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VXaW5kb3cgKCkgewogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBtZXNzYWdlOiAn5YWz6Zet6aG16Z2i5YmN6K+35YWI5L+d5a2Y5pWw5o2u77yM5pyq5L+d5a2Y55qE6K+d5pWw5o2u5Lya5Lii5aSxJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBpY29uQ2xhc3M6ICdlbC1pY29uLXdhcm5pbmcnLAogICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0bi1jdXN0b20tY2FuY2VsJywKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgLy8gdGhpcy5zYXZlQ29uZmlnKCk7CiAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTsKICAgIH0sCiAgICBsZWZ0UmVtb3ZlICh7IHRvLCBmcm9tLCBpdGVtLCBjbG9uZSwgb2xkSW5kZXgsIG5ld0luZGV4IH0pIHsKICAgICAgaWYgKHRoaXMuaXNTZWFyY2ggJiYgbmV3SW5kZXggPT0gMCkgewogICAgICAgIGlmIChpdGVtLl91bmRlcmx5aW5nX3ZtXy5uYW1lID09ICd6X3dlY2hhdF9hdHRlbnRpb24nKSB7CiAgICAgICAgICB0aGlzLmlzRmxsb3cgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9BUlJBWVJFQVNUJywgdGhpcy5tQ29uZmlnWzBdLm51bSk7CiAgICAgICAgICB0aGlzLm1Db25maWcuc3BsaWNlKDAsIDEpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKHRoaXMuaXNGbGxvdyA9IHRydWUgJiYgbmV3SW5kZXggPj0gMSkpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9BUlJBWVJFQVNUJywgdGhpcy5tQ29uZmlnWzBdLm51bSk7CiAgICAgIH0KICAgIH0sCiAgICBvbk1vdmUgKGUpIHsKICAgICAgaWYgKGUucmVsYXRlZENvbnRleHQuZWxlbWVudC5uYW1lID09ICdzZWFyY2hfYm94JykgcmV0dXJuIGZhbHNlOwogICAgICBpZiAoZS5yZWxhdGVkQ29udGV4dC5lbGVtZW50Lm5hbWUgPT0gJ25hdl9iYXInKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIG9uQ29weSAoY29weURhdGEpIHsKICAgICAgdGhpcy4kY29weVRleHQoY29weURhdGEpCiAgICAgICAgLnRoZW4oKG1lc3NhZ2UpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5aSN5Yi25oiQ5YqfJyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5aSN5Yi25aSx6LSlJyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgb25FcnJvciAoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WkjeWItuWksei0pScpOwogICAgfSwKICAgIC8v6K6+572u6buY6K6k5pWw5o2uCiAgICBzZXRtb3JlbiAoKSB7CiAgICAgIHRoaXMuJG1zZ2JveCh7CiAgICAgICAgdGl0bGU6ICfkv53lrZjkuLrpu5jorqTmlbDmja4nLAogICAgICAgIG1lc3NhZ2U6ICfmgqjnoa7lrprlsIblvZPliY3orr7orqHorr7kuLrpu5jorqTmlbDmja7lkJcnLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGljb25DbGFzczogJ2VsLWljb24td2FybmluZycsCiAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAnYnRuLWN1c3RvbS1jYW5jZWwnLAogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHNldERlZmF1bHQodGhpcy5wYWdlSWQpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTsKICAgIH0sCiAgICAvL+aBouWkjem7mOiupAogICAgZ2V0bW9yZW4gKCkgewogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5oGi5aSN6buY6K6k5pWw5o2uJywKICAgICAgICBtZXNzYWdlOiAn5oKo56Gu5a6a5oGi5aSN5Li65LmL5YmN5L+d5a2Y55qE6buY6K6k5pWw5o2u5ZCXJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBpY29uQ2xhc3M6ICdlbC1pY29uLXdhcm5pbmcnLAogICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0bi1jdXN0b20tY2FuY2VsJywKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICByZWNvdmVyeSh0aGlzLnBhZ2VJZCkKICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7CiAgICB9LAogICAgLy8g6I635Y+WdXJsCiAgICBnZXRVcmxMaXN0ICgpIHsKICAgICAgZ2V0VXJsKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy51cmxMaXN0ID0gcmVzLmRhdGEudXJsOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlt6bkvqd0YWIKICAgIGJpbmRUYWIgKGluZGV4KSB7CiAgICAgIHRoaXMudGFiQ3VyID0gaW5kZXg7CiAgICB9LAogICAgLy8g6aG16Z2i5qCH6aKY54K55Ye7CiAgICBzaG93VGl0bGUgKCkgewogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTEwMDsKICAgICAgbGV0IG9iaiA9IHt9OwogICAgICBmb3IgKHZhciBpIGluIG1Db25maWcpIHsKICAgICAgICBpZiAoaSA9PSAncGFnZVRpdGxlJykgewogICAgICAgICAgLy8gdGhpcy5yQ29uZmlnID0gb2JqCiAgICAgICAgICBvYmogPSBtQ29uZmlnW2ldOwogICAgICAgICAgb2JqLmNvbmZpZ05hbWUgPSBtQ29uZmlnW2ldLm5hbWU7CiAgICAgICAgICBvYmouY25hbWUgPSAn6aG16Z2i6K6+572uJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IGFiYyA9IG9iajsKICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgIHRoaXMuckNvbmZpZ1swXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7CiAgICB9LAogICAgLy8g6aG16Z2i5bqV6YOo54K55Ye7CiAgICBzaG93Rm9vdCAoKSB7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTAxOwogICAgICBsZXQgb2JqID0ge307CiAgICAgIGZvciAodmFyIGkgaW4gbUNvbmZpZykgewogICAgICAgIGlmIChpID09ICdwYWdlRm9vdCcpIHsKICAgICAgICAgIC8vIHRoaXMuckNvbmZpZyA9IG9iagogICAgICAgICAgb2JqID0gbUNvbmZpZ1tpXTsKICAgICAgICAgIG9iai5jb25maWdOYW1lID0gbUNvbmZpZ1tpXS5uYW1lOwogICAgICAgICAgb2JqLmNuYW1lID0gJ+W6lemDqOiPnOWNlSc7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBhYmMgPSBvYmo7CiAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICB0aGlzLnJDb25maWdbMF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwogICAgfSwKICAgIC8vIOWvueixoei9rOaVsOe7hAogICAgb2JqVG9BcnIgKGRhdGEpIHsKICAgICAgbGV0IG9iaiA9IE9iamVjdC5rZXlzKGRhdGEpOwogICAgICBsZXQgbSA9IG9iai5tYXAoKGtleSkgPT4gZGF0YVtrZXldKTsKICAgICAgcmV0dXJuIG07CiAgICB9LAogICAgbG9nIChldnQpIHsKICAgICAgLy8g5Lit6Ze05ouW5ou95o6S5bqPCiAgICAgIGlmIChldnQubW92ZWQpIHsKICAgICAgICBpZiAoZXZ0Lm1vdmVkLmVsZW1lbnQubmFtZSA9PSAnc2VhcmNoX2JveCcgfHwgZXZ0Lm1vdmVkLmVsZW1lbnQubmFtZSA9PSAnbmF2X2JhcicpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivpee7hOS7tuemgeatouaLluaLvScpOwogICAgICAgIH0KCiAgICAgICAgLy8gaWYgKGV2dC5tb3ZlZC5lbGVtZW50Lm5hbWUgPT0gIm5hdl9iYXIiKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuivpee7hOS7tuemgeatouaLluaLvSIpOwogICAgICAgIC8vIH0KICAgICAgICBldnQubW92ZWQub2xkTnVtID0gdGhpcy5tQ29uZmlnW2V2dC5tb3ZlZC5vbGRJbmRleF0ubnVtOwogICAgICAgIGV2dC5tb3ZlZC5uZXdOdW0gPSB0aGlzLm1Db25maWdbZXZ0Lm1vdmVkLm5ld0luZGV4XS5udW07CiAgICAgICAgZXZ0Lm1vdmVkLnN0YXR1cyA9IGV2dC5tb3ZlZC5vbGRJbmRleCA+IGV2dC5tb3ZlZC5uZXdJbmRleDsKICAgICAgICB0aGlzLm1Db25maWcuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7CiAgICAgICAgICBlbC5udW0gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDEwMDAgKyBpbmRleDsKICAgICAgICB9KTsKICAgICAgICBldnQubW92ZWQubGlzdCA9IHRoaXMubUNvbmZpZzsKICAgICAgICB0aGlzLnJDb25maWcgPSBbXTsKICAgICAgICBsZXQgaXRlbSA9IGV2dC5tb3ZlZC5lbGVtZW50OwogICAgICAgIGxldCB0ZW1wSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwogICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gZXZ0Lm1vdmVkLm5ld0luZGV4OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2RlZmF1bHRBcnJheVNvcnQnLCBldnQubW92ZWQpOwogICAgICB9CiAgICAgIC8vIOS7juW3puWQkeWPs+aLluaLveaOkuW6jwogICAgICBpZiAoZXZ0LmFkZGVkKSB7CiAgICAgICAgbGV0IGRhdGEgPSBldnQuYWRkZWQuZWxlbWVudDsKICAgICAgICBsZXQgb2JqID0ge307CiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMDsKICAgICAgICBkYXRhLm51bSA9IHRpbWVzdGFtcDsKICAgICAgICB0aGlzLmFjdGl2ZUNvbmZpZ05hbWUgPSBkYXRhLm5hbWU7CiAgICAgICAgbGV0IHRlbXBJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7CiAgICAgICAgdGVtcEl0ZW0uaWQgPSAnaWQnICsgdGVtcEl0ZW0ubnVtOwogICAgICAgIHRoaXMubUNvbmZpZ1tldnQuYWRkZWQubmV3SW5kZXhdID0gdGVtcEl0ZW07CiAgICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICAgIHRoaXMubUNvbmZpZy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHsKICAgICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICAgIH0pOwogICAgICAgIGV2dC5hZGRlZC5saXN0ID0gdGhpcy5tQ29uZmlnOwogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBldnQuYWRkZWQubmV3SW5kZXg7CiAgICAgICAgLy8g5L+d5a2Y57uE5Lu25ZCN56ewCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VUQ09ORklHTkFNRScsIGRhdGEubmFtZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvZGVmYXVsdEFycmF5U29ydCcsIGV2dC5hZGRlZCk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9uZURvZyAoZGF0YSkgewogICAgICAvLyB0aGlzLm1Db25maWcucHVzaCh0ZW1wSXRlbSkKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5kYXRhLAogICAgICB9OwogICAgfSwKICAgIC8v5pWw57uE5YWD57Sg5LqS5o2i5L2N572uCiAgICBzd2FwQXJyYXkgKGFyciwgaW5kZXgxLCBpbmRleDIpIHsKICAgICAgYXJyW2luZGV4MV0gPSBhcnIuc3BsaWNlKGluZGV4MiwgMSwgYXJyW2luZGV4MV0pWzBdOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIC8v54K55Ye75LiK5LiL56e75Yqo77ybCiAgICBtb3ZlUGFnZSAoaXRlbSwgaW5kZXgsIHR5cGUpIHsKICAgICAgaWYgKHR5cGUpIHsKICAgICAgICBpZiAoaW5kZXggPT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5tQ29uZmlnLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnc2VhcmNoX2JveCcgfHwgaXRlbS5uYW1lID09ICduYXZfYmFyJykgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivpee7hOS7tuemgeatouenu+WKqCcpOwogICAgICB9CiAgICAgIC8vIGlmIChpdGVtLm5hbWUgPT0gIm5hdl9iYXIiKSB7CiAgICAgIC8vICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor6Xnu4Tku7bnpoHmraLnp7vliqgiKTsKICAgICAgLy8gfQogICAgICBpZiAodHlwZSkgewogICAgICAgIC8vIGlmKHRoaXMubUNvbmZpZ1tpbmRleC0xXS5uYW1lICA9PSAic2VhcmNoX2JveCIgfHwgdGhpcy5tQ29uZmlnW2luZGV4LTFdLm5hbWUgID09ICJuYXZfYmFyIil7CiAgICAgICAgaWYgKHRoaXMubUNvbmZpZ1tpbmRleCAtIDFdLm5hbWUgPT0gJ3NlYXJjaF9ib3gnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmkJzntKLmoYblv4XpobvkuLrpobbpg6gnKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zd2FwQXJyYXkodGhpcy5tQ29uZmlnLCBpbmRleCAtIDEsIGluZGV4KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN3YXBBcnJheSh0aGlzLm1Db25maWcsIGluZGV4LCBpbmRleCArIDEpOwogICAgICB9CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgIG9iai5vbGRJbmRleCA9IGluZGV4OwogICAgICBpZiAodHlwZSkgewogICAgICAgIG9iai5uZXdJbmRleCA9IGluZGV4IC0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmoubmV3SW5kZXggPSBpbmRleCArIDE7CiAgICAgIH0KICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICB9KTsKICAgICAgbGV0IHRlbXBJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSk7CiAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgb2JqLmVsZW1lbnQgPSBpdGVtOwogICAgICBvYmoubGlzdCA9IHRoaXMubUNvbmZpZzsKICAgICAgaWYgKHR5cGUpIHsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXggLSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleCArIDE7CiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VUQ09ORklHTkFNRScsIGl0ZW0ubmFtZSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2RlZmF1bHRBcnJheVNvcnQnLCBvYmopOwogICAgfSwKICAgIC8vIOe7hOS7tua3u+WKoAogICAgYWRkRG9tQ29uIChpdGVtLCB0eXBlLCBpbmRleCkgewogICAgICBpZiAoaXRlbS5uYW1lID09ICdzZWFyY2hfYm94JykgewogICAgICAgIGlmICh0aGlzLmlzU2VhcmNoKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6K+l57uE5Lu25Y+q6IO95re75Yqg5LiA5qyhJyk7CiAgICAgICAgdGhpcy5pc1NlYXJjaCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnbmF2X2JhcicpIHsKICAgICAgICBpZiAodGhpcy5pc1RhYikgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivpee7hOS7tuWPquiDvea3u+WKoOS4gOasoScpOwogICAgICAgIHRoaXMuaXNUYWIgPSB0cnVlOwogICAgICB9CiAgICAgIGlkR2xvYmFsICs9IDE7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgbGV0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMDsKICAgICAgaXRlbS5udW0gPSBgJHt0aW1lc3RhbXB9YDsKICAgICAgaXRlbS5pZCA9IGBpZCR7dGltZXN0YW1wfWA7CiAgICAgIHRoaXMuYWN0aXZlQ29uZmlnTmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgbGV0IHRlbXBJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSk7CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ3NlYXJjaF9ib3gnKSB7CiAgICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgICAgdGhpcy5tQ29uZmlnLnVuc2hpZnQodGVtcEl0ZW0pOwogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwOwogICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgfQogICAgICAvLyDliqjmgIHmi5bliqjlj6/kuIrkvKDmraTpg6jliIbku6PnoIEKICAgICAgZWxzZSBpZiAoaXRlbS5uYW1lID09ICduYXZfYmFyJykgewogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIGlmICh0aGlzLm1Db25maWdbMF0gJiYgdGhpcy5tQ29uZmlnWzBdLm5hbWUgPT09ICdzZWFyY2hfYm94JykgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgxLCAwLCB0ZW1wSXRlbSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgwLCAwLCB0ZW1wSXRlbSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMDsKICAgICAgICB9CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgICB0aGlzLnJDb25maWcgPSBbXTsKICAgICAgICAgIHRoaXMubUNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSB0aGlzLm1Db25maWcubGVuZ3RoIC0gMTsKICAgICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZShpbmRleCArIDEsIDAsIHRlbXBJdGVtKTsKICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICB9KTsKICAgICAgLy8g5L+d5a2Y57uE5Lu25ZCN56ewCiAgICAgIG9iai5lbGVtZW50ID0gaXRlbTsKICAgICAgb2JqLmxpc3QgPSB0aGlzLm1Db25maWc7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0Jywgb2JqKTsKICAgIH0sCiAgICAvL+S4remXtOmhteeCueWHu+a3u+WKoOaooeWdl++8mwogICAgYmluZEFkZERvbSAoaXRlbSwgdHlwZSwgaW5kZXgpIHsKICAgICAgbGV0IGkgPSBpdGVtOwogICAgICB0aGlzLmxDb25maWcuZm9yRWFjaCgoaikgPT4gewogICAgICAgIGlmIChpdGVtLm5hbWUgPT0gai5uYW1lKSB7CiAgICAgICAgICBpID0gajsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmFkZERvbUNvbihpLCB0eXBlLCBpbmRleCk7CiAgICB9LAogICAgLy/lt6bovrnphY3nva7mqKHlnZfngrnlh7vmt7vliqDvvJsKICAgIGFkZERvbSAoaXRlbSwgdHlwZSkgewogICAgICB0aGlzLmFkZERvbUNvbihpdGVtLCB0eXBlKTsKICAgIH0sCiAgICAvLyDngrnlh7vmmL7npLrnm7jlupTnmoTphY3nva4KICAgIGJpbmRjb25maWcgKGl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgfSwKICAgIC8vIOe7hOS7tuWIoOmZpAogICAgYmluZERlbGV0ZSAoaXRlbSwga2V5KSB7CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ3NlYXJjaF9ib3gnKSB7CiAgICAgICAgdGhpcy5pc1NlYXJjaCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ25hdl9iYXInKSB7CiAgICAgICAgdGhpcy5pc1RhYiA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMubUNvbmZpZy5zcGxpY2Uoa2V5LCAxKTsKICAgICAgdGhpcy5yQ29uZmlnLnNwbGljZSgwLCAxKTsKICAgICAgaWYgKHRoaXMubUNvbmZpZy5sZW5ndGggIT0ga2V5KSB7CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGhpcy5tQ29uZmlnW2tleV0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLm1Db25maWcubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0ga2V5IC0gMTsKICAgICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRoaXMubUNvbmZpZ1trZXkgLSAxXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2hvd1RpdGxlKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIOWIoOmZpOesrOWHoOS4qumFjee9rgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9ERUxFVEVBUlJBWScsIGl0ZW0pOwogICAgfSwKICAgIC8vIOe7hOS7tui/lOWbngogICAgY29uZmlnIChkYXRhKSB7CiAgICAgIGxldCBwcm9wc09iaiA9IHRoaXMucHJvcHNPYmo7CiAgICAgIHByb3BzT2JqLmRhdGEgPSBkYXRhOwogICAgICBwcm9wc09iai5uYW1lID0gdGhpcy5hY3RpdmVDb25maWdOYW1lOwogICAgfSwKICAgIGFkZFNvcnQgKGFyciwgaW5kZXgxLCBpbmRleDIpIHsKICAgICAgYXJyW2luZGV4MV0gPSBhcnIuc3BsaWNlKGluZGV4MiwgMSwgYXJyW2luZGV4MV0pWzBdOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIC8vIOaVsOe7hOaOkuW6jwogICAgYXJyYXlTb3J0ICgpIHsKICAgICAgbGV0IHRlbXBBcnIgPSBbXTsKICAgICAgbGV0IGJhc2lzID0gewogICAgICAgIHRpdGxlOiAn5Z+656GA57uE5Lu2JywKICAgICAgICBsaXN0OiBbXSwKICAgICAgICBpc09wZW46IHRydWUsCiAgICAgIH07CiAgICAgIGxldCBtYXJrZXRpbmcgPSB7CiAgICAgICAgdGl0bGU6ICfokKXplIDnu4Tku7YnLAogICAgICAgIGxpc3Q6IFtdLAogICAgICAgIGlzT3BlbjogdHJ1ZSwKICAgICAgfTsKICAgICAgbGV0IHRvb2wgPSB7CiAgICAgICAgdGl0bGU6ICflt6Xlhbfnu4Tku7YnLAogICAgICAgIGxpc3Q6IFtdLAogICAgICAgIGlzT3BlbjogdHJ1ZSwKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coJ+W3puS+p+iPnOWNlS0tLTExJywgdGhpcy5sQ29uZmlnKQogICAgICB0aGlzLmxDb25maWcubWFwKChlbCwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoZWwudHlwZSA9PSAwKSB7CiAgICAgICAgICBiYXNpcy5saXN0LnB1c2goZWwpOwogICAgICAgIH0KICAgICAgICBpZiAoZWwudHlwZSA9PSAxKSB7CiAgICAgICAgICBpZiAoZWwubmFtZSA9PSAnaG9tZV9zZWNraWxsJyAmJiBjaGVja0FycmF5KCdzZWNraWxsJykpIHsKICAgICAgICAgICAgbWFya2V0aW5nLmxpc3QucHVzaChlbCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVsLm5hbWUgPT0gJ2hvbWVfYmFyZ2FpbicgJiYgY2hlY2tBcnJheSgnYmFyZ2FpbicpKSB7CiAgICAgICAgICAgIG1hcmtldGluZy5saXN0LnB1c2goZWwpOwogICAgICAgICAgfSBlbHNlIGlmIChlbC5uYW1lID09ICdob21lX3BpbmsnICYmIGNoZWNrQXJyYXkoJ2NvbWJpbmF0aW9uJykpIHsKICAgICAgICAgICAgbWFya2V0aW5nLmxpc3QucHVzaChlbCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVsLm5hbWUgIT0gJ2hvbWVfc2Vja2lsbCcgJiYgZWwubmFtZSAhPSAnaG9tZV9iYXJnYWluJyAmJiBlbC5uYW1lICE9ICdob21lX3BpbmsnKSB7CiAgICAgICAgICAgIG1hcmtldGluZy5saXN0LnB1c2goZWwpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoZWwudHlwZSA9PSAyKSB7CiAgICAgICAgICB0b29sLmxpc3QucHVzaChlbCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGVtcEFyci5wdXNoKGJhc2lzLCBtYXJrZXRpbmcsIHRvb2wpOwogICAgICB0aGlzLmxlZnRNZW51ID0gdGVtcEFycjsKICAgICAgY29uc29sZS5sb2coJ+W3puS+p+iPnOWNlS0tLScsIHRoaXMubGVmdE1lbnUpCiAgICB9LAogICAgLy8gdG9JbWFnZSh2YWwpewogICAgLy8gICAgIGh0bWwyY2FudmFzKHRoaXMuJHJlZnMuaW1nQ29udGFpbmVyLHsKICAgIC8vICAgICAgICAgdXNlQ09SUzp0cnVlLAogICAgLy8gICAgICAgICBsb2dnaW5nOnRydWUsCiAgICAvLyAgICAgICAgIHRhaW50VGVzdDogZmFsc2UsCiAgICAvLyAgICAgICAgIGJhY2tncm91bmRDb2xvcjogbnVsbAogICAgLy8gICAgIH0pLnRoZW4oKGNhbnZhcykgPT4gewogICAgLy8gICAgICAgICBsZXQgaW1nVXJsID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycpOwogICAgLy8gICAgICAgICB0aGlzLmRpeVNhdmVEYXRlKHZhbCxpbWdVcmwpCiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgZGl5U2F2ZURhdGUgKHZhbCwgaW5pdCwgbmFtZSkgewogICAgICBzYXZlRGl5KGluaXQgPyAwIDogdGhpcy5wYWdlSWQsIHsKICAgICAgICB0eXBlOiB0aGlzLnBhZ2VUeXBlLAogICAgICAgIHZhbHVlOiB2YWwsCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGVUeHQsCiAgICAgICAgbmFtZTogbmFtZSB8fCB0aGlzLm5hbWVUeHQsCiAgICAgICAgaXNfc2hvdzogdGhpcy5zaG93VHh0ID8gMSA6IDAsCiAgICAgICAgaXNfYmdfY29sb3I6IHRoaXMuY29sb3JUeHQgPyAxIDogMCwKICAgICAgICBjb2xvcl9waWNrZXI6IHRoaXMuY29sb3JQaWNrZXJUeHQsCiAgICAgICAgYmdfcGljOiB0aGlzLnBpY1VybFR4dCwKICAgICAgICBiZ190YWJfdmFsOiB0aGlzLnRhYlZhbFR4dCwKICAgICAgICBpc19iZ19waWM6IHRoaXMucGljVHh0ID8gMSA6IDAsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAoIWluaXQpIHsKICAgICAgICAgICAgdGhpcy5wYWdlSWQgPSByZXMuZGF0YS5pZDsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc2F2ZU5hbWUgPSAnJzsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+d5a2Y6YWN572uCiAgICBzYXZlQ29uZmlnIChpbml0LCBuYW1lKSB7CiAgICAgIGlmICh0aGlzLm1Db25maWcubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5pqC5pyq5re75Yqg5Lu75L2V57uE5Lu277yM5L+d5a2Y5aSx6LSl77yBJyk7CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGV0IHZhbCA9IHRoaXMuJHN0b3JlLnN0YXRlLm1vYmlsZENvbmZpZy5kZWZhdWx0QXJyYXk7CiAgICAgIGlmICghdGhpcy5mb290QWN0aXZlKSB7CiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMDsKICAgICAgICB2YWxbdGltZXN0YW1wXSA9IHRoaXMuJHN0b3JlLnN0YXRlLm1vYmlsZENvbmZpZy5wYWdlRm9vdGVyOwogICAgICAgIHRoaXMuZm9vdEFjdGl2ZSA9IHRydWU7CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMubmFtZU1vZGFsID0gZmFsc2U7CiAgICAgICAgdGhpcy5kaXlTYXZlRGF0ZSh2YWwsIGluaXQsIG5hbWUpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bpu5jorqTphY3nva4KICAgIGdldERlZmF1bHRDb25maWcgKCkgewogICAgICBnZXREaXlJbmZvKHRoaXMucGFnZUlkKS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgIGxldCBvYmogPSB7fTsKICAgICAgICBsZXQgdGVtcEFSUiA9IFtdOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3RpdGxlVXBkYXRhJywgZGF0YS5pbmZvLnRpdGxlKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9uYW1lVXBkYXRhJywgZGF0YS5pbmZvLm5hbWUpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3Nob3dVcGRhdGEnLCBkYXRhLmluZm8uaXNTaG93KTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9jb2xvclVwZGF0YScsIGRhdGEuaW5mby5pc0JnQ29sb3IgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljVXBkYXRhJywgZGF0YS5pbmZvLmlzQmdQaWMgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGlja2VyVXBkYXRhJywgZGF0YS5pbmZvLmNvbG9yUGlja2VyIHx8ICcjZjVmNWY1Jyk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcmFkaW9VcGRhdGEnLCBkYXRhLmluZm8uYmdUYWJWYWwgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljdXJsVXBkYXRhJywgZGF0YS5pbmZvLmJnUGljIHx8ICcnKTsKICAgICAgICBsZXQgbmV3QXJyID0gdGhpcy5vYmpUb0FycihkYXRhLmluZm8udmFsdWUpOwoKICAgICAgICBmdW5jdGlvbiBzb3J0TnVtYmVyIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDsKICAgICAgICB9CgogICAgICAgIG5ld0Fyci5zb3J0KHNvcnROdW1iZXIpOwogICAgICAgIG5ld0Fyci5tYXAoKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ2hlYWRlclNlcmNoJykgewogICAgICAgICAgICB0aGlzLmlzU2VhcmNoID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChlbC5uYW1lID09ICd0YWJOYXYnKSB7CiAgICAgICAgICAgIHRoaXMuaXNUYWIgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ2dvb2RMaXN0JykgewogICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7CiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShlbC50aW1lc3RhbXAsIGVsLnNlbGVjdENvbmZpZy5hY3RpdmVWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBlbC5pZCA9ICdpZCcgKyBlbC50aW1lc3RhbXA7CiAgICAgICAgICB0aGlzLmxDb25maWcubWFwKChpdGVtLCBqKSA9PiB7CiAgICAgICAgICAgIGlmIChlbC5uYW1lID09IGl0ZW0uZGVmYXVsdE5hbWUpIHsKICAgICAgICAgICAgICBpdGVtLm51bSA9IGVsLnRpbWVzdGFtcDsKICAgICAgICAgICAgICBpdGVtLmlkID0gJ2lkJyArIGVsLnRpbWVzdGFtcDsKICAgICAgICAgICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgICAgICAgICB0ZW1wQVJSLnB1c2godGVtcEl0ZW0pOwogICAgICAgICAgICAgIG9ialtlbC50aW1lc3RhbXBdID0gZWw7CiAgICAgICAgICAgICAgdGhpcy5tQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICAgICAgICAgIC8vIOS/neWtmOm7mOiupOe7hOS7tumFjee9rgogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL0FEREFSUkFZJywgewogICAgICAgICAgICAgICAgbnVtOiBlbC50aW1lc3RhbXAsCiAgICAgICAgICAgICAgICB2YWw6IGVsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgbGV0IG9ianMgPSBuZXdBcnJbbmV3QXJyLmxlbmd0aCAtIDFdOwoKICAgICAgICBpZiAob2Jqcy5uYW1lID09ICdwYWdlRm9vdCcpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2Zvb3RQYWdlVXBkYXRhJywgb2Jqcyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2hvd1RpdGxlKCk7CiAgICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IDA7CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGhpcy5tQ29uZmlnWzBdKTsKICAgICAgfSk7CiAgICB9LAogICAgY2F0ZWdvcnlMaXN0ICgpIHsKICAgICAgY2F0ZWdvcnlMaXN0KChyZXMpID0+IHsKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjee9rgogICAgcmVhc3QgKCkgewogICAgICBpZiAodGhpcy5wYWdlSWQgPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aWsOWinumhtemdou+8jOaXoOazlemHjee9ricpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1zZ2JveCh7CiAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICBtZXNzYWdlOiAn6YeN572u5Lya5oGi5aSN5Yiw5LiK5qyh5L+d5a2Y55qE5pWw5o2u77yM56Gu5a6a5LiN5L+d5a2Y5b2T5YmN5pON5L2c5ZCX77yfJywKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGljb25DbGFzczogJ2VsLWljb24td2FybmluZycsCiAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdidG4tY3VzdG9tLWNhbmNlbCcsCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5tQ29uZmlnID0gW107CiAgICAgICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTk5OwogICAgICAgICAgICB0aGlzLmdldERlZmF1bHRDb25maWcoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTsKICAgICAgfQogICAgfSwKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvdGl0bGVVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9uYW1lVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvc2hvd1VwZGF0YScsIDEpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvY29sb3JVcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY1VwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGlja2VyVXBkYXRhJywgJyNmNWY1ZjUnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3JhZGlvVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWN1cmxVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9TRVRFTVBUWScpOwogIH0sCiAgZGVzdHJveWVkICgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3RpdGxlVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvbmFtZVVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3Nob3dVcGRhdGEnLCAxKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2NvbG9yVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWNVcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY2tlclVwZGF0YScsICcjZjVmNWY1Jyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9yYWRpb1VwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljdXJsVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VURU1QVFknKTsKICB9LAp9Owo="},null]}