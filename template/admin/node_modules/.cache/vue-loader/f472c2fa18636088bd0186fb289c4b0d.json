{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/appChat/feedback.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/appChat/feedback.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGZlZWRiYWNrRGF0YUFwaSwgZmVlZGJhY2tGcm9tQXBpIH0gZnJvbSAnQC9hcGkva2VmdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmVlZGJhY2snLAogIHByb3BzOiB7CiAgICBjaGFuZ2U6IEJvb2xlYW4sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93OiBmYWxzZSwKICAgICAgZm9ybUl0ZW06IHsKICAgICAgICByZWxhX25hbWU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgfSwKICAgICAgbm90aWNlOiAnJywKICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgcmVsYV9uYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaCqOeahOWnk+WQjScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBjb250ZW50OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeVmeiogOWGheWuuScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBwaG9uZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+Whq+WGmeaJi+acuuWPt+eggScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0sCiAgICAgICAgICB7IHBhdHRlcm46IC9eMVszNDU2Nzg5XVxkezl9JC8sIG1lc3NhZ2U6ICfmiYvmnLrlj7fnoIHmoLzlvI/kuI3mraPnoa4nLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE5vdGljZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0KG5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGZlZWRiYWNrRnJvbUFwaSh0aGlzLmZvcm1JdGVtKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2FjaGUoKGVycikgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZUNoYW5nZScsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDlub/lkYoKICAgIGdldE5vdGljZSgpIHsKICAgICAgZmVlZGJhY2tEYXRhQXBpKCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLm5vdGljZSA9IHJlcy5kYXRhLmZlZWRiYWNrOwogICAgICAgIH0pCiAgICAgICAgLmNhY2hlKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["feedback.vue"],"names":[],"mappings":";AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"feedback.vue","sourceRoot":"src/pages/kefu/appChat","sourcesContent":["<template>\n  <div>\n    <div class=\"feedback\" :class=\"change === true ? 'on' : ''\">\n      <div class=\"feedback-header acea-row\">\n        <span class=\"sp1\">商城客服已离线</span>\n        <div>\n          <i class=\"el-icon-close\" style=\"font-size: 18px\" @click=\"close\"></i>\n        </div>\n      </div>\n      <div v-if=\"!isShow\">\n        <div class=\"feedback-conent mb20\">\n          <div class=\"ft\" v-text=\"notice\"></div>\n        </div>\n        <div>\n          <el-form :model=\"formItem\" ref=\"formItem\" class=\"pl15\" :rules=\"ruleValidate\">\n            <el-form-item prop=\"rela_name\">\n              <el-input v-model=\"formItem.rela_name\" placeholder=\"请输入您的姓名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"phone\">\n              <el-input v-model=\"formItem.phone\" placeholder=\"请输入您的联系电话\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"content\">\n              <el-input v-model=\"formItem.content\" class=\"mb10\" type=\"textarea\" placeholder=\"请输入留言内容\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"handleSubmit('formItem')\" style=\"width: 100%\">提交留言</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n      <div class=\"sure\" v-if=\"isShow\">\n        <div class=\"sure-yuan\"></div>\n        <div class=\"sp1 mb10\">提交成功</div>\n        <div class=\"sp2 mb30\">您的信息提交成功，我们会尽快与您取得联系！</div>\n        <el-button type=\"primary\" @click=\"close\">好的</el-button>\n      </div>\n    </div>\n    <div class=\"maskModel\" @touchmove.prevent v-show=\"change === true\"></div>\n  </div>\n</template>\n\n<script>\nimport { feedbackDataApi, feedbackFromApi } from '@/api/kefu';\nexport default {\n  name: 'feedback',\n  props: {\n    change: Boolean,\n  },\n  data() {\n    return {\n      isShow: false,\n      formItem: {\n        rela_name: '',\n        content: '',\n        phone: '',\n      },\n      notice: '',\n      ruleValidate: {\n        rela_name: [{ required: true, message: '请输入您的姓名', trigger: 'blur' }],\n        content: [{ required: true, message: '请输入留言内容', trigger: 'blur' }],\n        phone: [\n          { required: true, message: '请填写手机号码', trigger: 'change' },\n          { pattern: /^1[3456789]\\d{9}$/, message: '手机号码格式不正确', trigger: 'blur' },\n        ],\n      },\n    };\n  },\n  mounted() {\n    this.getNotice();\n  },\n  methods: {\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          feedbackFromApi(this.formItem)\n            .then((res) => {\n              this.isShow = true;\n            })\n            .cache((err) => {\n              this.$message.error(err.msg);\n            });\n        } else {\n        }\n      });\n    },\n    close: function () {\n      this.$emit('closeChange', false);\n    },\n    // 广告\n    getNotice() {\n      feedbackDataApi()\n        .then((res) => {\n          this.notice = res.data.feedback;\n        })\n        .cache((err) => {\n          this.$message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.maskModel {\n  z-index: 7777 !important;\n}\n.on {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n  -webkit-transform: scale(1) !important;\n  -o-transform: scale(1) !important;\n  -moz-transform: scale(1) !important;\n  -ms-transform: scale(1) !important;\n}\n.pl15 {\n  padding: 0 15px;\n}\n.sure {\n  width: 100%;\n  height: 480px;\n  text-align: center;\n  &-yuan {\n    width: 70px;\n    height: 70px;\n    border-radius: 50%;\n    overflow: hidden;\n    background: #55d443;\n    margin: 54px auto;\n    line-height: 70px;\n  }\n  .sp1 {\n    color: #333333;\n    font-size: 16px;\n  }\n  .sp2 {\n    color: #999999;\n    font-size: 13px;\n  }\n}\n.feedback {\n  position: fixed;\n  width: 320px;\n  height: 530px;\n  border-radius: 2px;\n  background-color: #fff;\n  z-index: 9999;\n  top: 50%;\n  left: 50%;\n  margin-left: -150px;\n  margin-top: -237px;\n  transition: all 0.3s ease-in-out 0s;\n  -webkit-transition: all 0.3s ease-in-out 0s;\n  -o-transition: all 0.3s ease-in-out 0s;\n  -moz-transition: all 0.3s ease-in-out 0s;\n  -webkit-transform: scale(0);\n  -o-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  transform: scale(0);\n  opacity: 0;\n  &-header {\n    width: 100%;\n    height: 50px;\n    line-height: 50px;\n    padding: 0 15px;\n    background: linear-gradient(270deg, #1890ff 0%, #3875ea 100%);\n    align-items: center;\n    justify-content: space-between;\n    .sp1 {\n      color: #fff;\n      font-size: 16px;\n    }\n  }\n  &-conent {\n    padding: 15px;\n    .ft {\n      color: #333333;\n      font-size: 13px;\n    }\n  }\n}\n</style>\n"]}]}