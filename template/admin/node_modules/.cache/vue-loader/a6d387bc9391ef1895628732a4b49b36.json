{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/articleDetails.vue?vue&type=style&index=0&id=76269a54&scoped=true&lang=scss","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/articleDetails.vue","mtime":1722514052000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/sass-loader/dist/cjs.js","mtime":1746465018452},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kZXRhaWxzIHsKCXBvc2l0aW9uOiBmaXhlZDsKCXdpZHRoOiAxMDAlOwoJaGVpZ2h0OiAxMDAlOwoJYmFja2dyb3VuZDogcmdiYSgxLCAxLCAxLCAwLjgpOwoJdG9wOiAxcHg7CglsZWZ0OiAxcHg7Cgl6LWluZGV4OiA0OwoJZGlzcGxheTogZmxleDsKCWFsaWduLWl0ZW1zOiBjZW50ZXI7CglqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQouZGV0YWlsc19hIHsKCXdpZHRoOiA4MCU7CgloZWlnaHQ6IDk1JTsKCWJhY2tncm91bmQ6ICNmZmY7CglvdmVyZmxvdzogc2Nyb2xsOwp9CgouZWwtdGFibGUgLnN1Y2Nlc3Mtcm93IHsKCWJhY2tncm91bmQtY29sb3I6ICNmNWZhZmY7Cgljb2xvcjogIzQwOWVmZjsKfQoKLmVsLWRpdmlkZXIgewoJbWFyZ2luLXRvcDogMDsKfQoKLmdjRGV0YWlsIHsKCW1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5lbC1zdGVwLmlzLWNlbnRlciAuZWwtc3RlcF9fZGVzY3JpcHRpb24gewoJcGFkZGluZzogMDsKfQoKLm9yZGVyRGV0YWlsIHsKCWNvbG9yOiAjOTA5Mzk5OwoJb3ZlcmZsb3c6IGhpZGRlbjsKCXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwoJd2hpdGUtc3BhY2U6IG5vd3JhcDsKfQoKLmVsLXN3aXRjaF9fbGFiZWwgewoJY29sb3I6ICM5MDkzOTk7Cn0KCi5zZWxlY3RlX25hbWUgewoJd2lkdGg6IDcuNSU7Cglmb250LXNpemU6IHNtYWxsOwoJbGluZS1oZWlnaHQ6IDMycHg7Cgl0ZXh0LWFsaWduOiByaWdodDsKfQoKLnNlbGVjdGVfbnVtYmVyIHsKCXdpZHRoOiA4MHB4Owp9Cgouc2VsZWN0ZV9taWRkbGUgewoJd2lkdGg6IDMwcHg7Cglmb250LXNpemU6IHNtYWxsOwoJbGluZS1oZWlnaHQ6IDMycHg7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLnFsLWVkaXRvcj5wPmltZ3sKCXdpZHRoOiAxNTBweDsKCWhlaWdodDogMTUwcHg7Cn0KLkR5bmFtaWNDbGFzcz5zcGFuPnA+aW1newoJd2lkdGg6IDEwMHB4OwoJaGVpZ2h0OiAxMDBweDsKfQouZGV0YWltZzJ7Cglwb3NpdGlvbjogZml4ZWQ7Cgl6LWluZGV4OjE7CglkaXNwbGF5OiBmbGV4OwoJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CglhbGlnbi1pdGVtczogY2VudGVyOwoJd2lkdGg6IDEwMCU7CgloZWlnaHQ6IDEwMCU7CgliYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwODI7Cn0KLmx1a3sKCXdpZHRoOiAxMDAwcHg7CgloZWlnaHQ6IDkwMHB4Owp9Cg=="},{"version":3,"sources":["articleDetails.vue"],"names":[],"mappings":";AA8kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"articleDetails.vue","sourceRoot":"src/pages/community","sourcesContent":["<template>\r\n\t<div class=\"details\" v-if=\"dynamic\">\r\n\t\t<div class=\"details_a\">\r\n\t\t\t<!--动态详情-->\r\n\t\t\t<div style=\"width: 79.2%;padding: 10px 20px;background: aliceblue;display: flex;justify-content: space-between;position: fixed;\">\r\n\t\t\t\t<span>动态详情</span>\r\n\t\t\t\t<span @click=\"dynamicClick\">\r\n\t\t\t\t\t<i class=\"el-icon-close\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<!--头像-->\r\n\t\t\t<div style=\"display: flex;justify-content: space-evenly;margin-top: 50px;\">\r\n\t\t\t\t<div style=\"width:100px;height:100px;\">\r\n\t\t\t\t\t<img :src=\"commentMsg.user.headUrl\" v-if=\"commentMsg.user && commentMsg.user.headUrl\" width=\"100\" height=\"100\"/>\r\n\t\t\t\t\t<img src=\"https://maiji-static-images.oss-cn-beijing.aliyuncs.com/maiji-static-images/7adab52c3646400e9e61d0442874cedc.png\" v-else width=\"100\" height=\"100\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"width:80%;height:100px;\">\r\n\t\t\t\t\t<ul style=\"width:100%;height:100%;display: flex;flex-flow: wrap;list-style: none;margin: 0;padding: 0;align-items: center;\">\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">用户昵称：</span>\r\n\t\t\t\t\t\t\t{{commentMsg.user != null ? commentMsg.user.nickName : ''}}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">动态标题：</span>\r\n\t\t\t\t\t\t\t{{commentMsg.title || '—'}}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;display:flex;align-items: center;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">动态类型：</span>\r\n\t\t\t\t\t\t\t<el-tag v-if=\"commentMsg.priority==0\">普通动态</el-tag>\r\n\t\t\t\t\t\t\t<el-tag type=\"success\" v-if=\"commentMsg.priority==1\">推荐动态</el-tag>\r\n\t\t\t\t\t\t\t<el-tag type=\"warning\" v-if=\"commentMsg.priority==2\">精选动态</el-tag>\r\n\t\t\t\t\t\t\t<el-tag type=\"danger\" v-if=\"commentMsg.priority==3\">案例</el-tag>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">地理位置：</span>\r\n\t\t\t\t\t\t\t<el-tag type=\"success\" v-if=\"commentMsg.showLocation ==true\">显示地理位置</el-tag>\r\n\t\t\t\t\t\t\t<el-tag type=\"danger\" v-else>不显示地理位置</el-tag>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">未读评论：</span>\r\n\t\t\t\t\t\t\t<el-badge :value=\"commentMsg.notReadCount\">\r\n\t\t\t\t\t\t\t\t<span style=\"color: #409EFF; cursor: pointer;line-height:50px;\" @click=\"commentMsgShowChange(true)\">选择动态</span>\r\n\t\t\t\t\t\t\t</el-badge>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">发布时间：</span>\r\n\t\t\t\t\t\t\t{{ commentMsg.publishTime | dateFormatter}}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t\t<span style=\"color:#999999;\">是否收藏：</span>\r\n\t\t\t\t\t\t\t<el-tag type=\"success\" v-if=\"commentMsg.isCollect ==true\">已收藏</el-tag>\r\n\t\t\t\t\t\t\t<el-tag type=\"danger\" v-else>未收藏</el-tag>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t<span style=\"color:#999999;\">是否点赞：</span>\r\n\t\t\t\t\t\t<el-tag type=\"success\" v-if=\"commentMsg.isPraise ==true\">已点赞</el-tag>\r\n\t\t\t\t\t\t<el-tag type=\"danger\" v-else>未点赞</el-tag>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"width: 67%;margin:0px auto 0;height: 23px;\">\r\n\t\t\t\t<ul style=\"width:100%;height:100%;display: flex;list-style: none;margin: 0;padding: 0;align-items: center;\">\r\n\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t<span style=\"color:#999999;\">点赞量：</span>\r\n\t\t\t\t\t\t{{commentMsg.praiseCount}}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t<span style=\"color:#999999;\">访问量：</span>\r\n\t\t\t\t\t\t{{commentMsg.pu}}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t<span style=\"color:#999999;\">收藏量：</span>\r\n\t\t\t\t\t\t{{commentMsg.collectCount}}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t<span style=\"color:#999999;\">转发量：</span>\r\n\t\t\t\t\t\t{{commentMsg.transmitCount}}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li style=\"width: 300px;\">\r\n\t\t\t\t\t\t<span style=\"color:#999999;\">评论数量：</span>\r\n\t\t\t\t\t\t{{commentMsg.commentedCount}}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<!--动态内容-->\r\n\t\t\t<div style=\"padding:10px 30px;\" class=\"DynamicClass\">\r\n\t\t\t\t<p style=\"margin:6px 0px;color:#999999;\">动态内容：</p>\r\n\t\t\t\t<span v-html=\"commentMsg.content\"></span>\r\n\t\t\t</div>\r\n\t\t\t<!--动态图片-->\r\n\t\t\t<div style=\"padding:0px 30px;\">\r\n\t\t\t\t<p style=\"margin:6px 0px;color:#999999;\">动态图片：</p>\r\n\t\t\t\t<div style=\"display: flex;\" v-if=\"commentMsg.files\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t:src=\"img.smallUrl\"\r\n\t\t\t\t\tv-for=\"img in commentMsg.files\"\r\n\t\t\t\t\t:key=\"img.uuId\"\r\n\t\t\t\t\tstyle=\"width:100px;height:100px;margin-left: 20px;\"\r\n\t\t\t\t\t@click=\"dynamicImgclick(img.smallUrl)\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!--评论状态-->\r\n\t\t\t<div style=\"padding:25px 30px 10px;display: flex;justify-content: space-between;\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<el-select v-model=\"examine\" size=\"small\">\r\n\t\t\t\t\t\t<el-option label=\"评论状态：全部评论\" :value=\"2\" />\r\n\t\t\t\t\t\t<el-option label=\"评论状态：未审核\" :value=\"0\" />\r\n\t\t\t\t\t\t<el-option label=\"评论状态：审核通过\" :value=\"1\" />\r\n\t\t\t\t\t\t<el-option label=\"评论状态：审核拒绝\" :value=\"3\" />\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t\t<span style=\"margin-left: 20px;\">用户名搜索:</span>\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"searchComment.content\"\r\n\t\t\t\t\t\tplaceholder=\"用户名关键词搜索\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tstyle=\"width: 200px;padding-left: 10px\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t<span style=\"margin-left: 20px;\">关键词搜索:</span>\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"searchComment.content\"\r\n\t\t\t\t\t\tplaceholder=\"评论内容关键词搜索\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tstyle=\"width: 200px; margin-right: 20px;padding-left: 10px\"\r\n\t\t\t\t\t\t></el-input>\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"findAllComments()\">搜索</el-button>\r\n\t\t\t\t\t<el-button size=\"small\" @click=\"searchComment.content = ''; findAllComments()\">刷新</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"readCommentBatch(0)\">\r\n\t\t\t\t\t\t审核通过\r\n\t\t\t\t\t\t<i class=\"el-icon-check\" />\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button type=\"danger\" size=\"small\" @click=\"readCommentBatch(3)\">\r\n\t\t\t\t\t审核拒绝\r\n\t\t\t\t\t<i class=\"el-icon-close\" />\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!--回复列表-->\r\n\t\t\t<div style=\"padding:0px 30px; 0px;\">\r\n\t\t\t\t<el-table\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\tv-loading=\"commentTableLoading\"\r\n\t\t\t\t\t:data=\"commentTable\"\r\n\t\t\t\t\t@selection-change=\"(rows) => comments = rows\"\r\n\t\t\t\t\t:header-cell-style=\"{backgroundColor: '#DCDFE6'}\"\r\n\t\t\t\t\t:cell-style=\"{paddingTop: '7px', paddingBottom: '3px'}\">\r\n\t\t\t\t\t<el-table-column type=\"selection\" width=\"45\" />\r\n\t\t\t\t\t<el-table-column label=\"头像\" width=\"70\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t:src=\"scope.row.sourceUser.headUrl\"\r\n\t\t\t\t\t\t\t\tv-if=\"scope.row.sourceUser && scope.row.sourceUser.headUrl\"\r\n\t\t\t\t\t\t\t\twidth=\"45\"\r\n\t\t\t\t\t\t\t\theight=\"45\"/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc=\"../../assets/images/maijiCat.png\"\r\n\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\twidth=\"45\"\r\n\t\t\t\t\t\t\t\theight=\"45\"/>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column\r\n\t\t\t\t\t\tlabel=\"用户昵称\"\r\n\t\t\t\t\t\twidth=\"100\"\r\n\t\t\t\t\t\tshow-overflow-tooltip>\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t{{ scope.row.sourceUser !=null ? scope.row.sourceUser.nickName : '-' }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"评论/回复内容\" min-width=\"400\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t\t<el-tooltip :content=\"scope.row.content\" placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t<el-col style=\"font-weight: bold; width: 50%; padding-right: 10px;\" class=\"mjn\">\r\n\t\t\t\t\t\t\t\t\t\t<span style=\"line-height: 39px;\">评论内容：{{scope.row.content}}</span>\r\n\t\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t\t\t<el-col style=\"width: 50%;\">\r\n\t\t\t\t\t\t\t\t\t<el-tag type=\"info\" size=\"mini\" v-if=\"scope.row.readAlready == 0\">未审核</el-tag>\r\n\t\t\t\t\t\t\t\t\t<el-tag\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"scope.row.readAlready == 1 && scope.row.delete == 0\"\r\n\t\t\t\t\t\t\t\t\t\t>审核通过</el-tag>\r\n\t\t\t\t\t\t\t\t\t<el-tag\r\n\t\t\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"scope.row.readAlready == 1 && scope.row.delete != 0\"\r\n\t\t\t\t\t\t\t\t\t\t>审核拒绝</el-tag>\r\n\t\t\t\t\t\t\t\t\t<el-popover\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\t\t\tpopper-class=\"myPopper\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"margin-left: 10px;\">\r\n\t\t\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t:rows=\"3\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"comment.content\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入回复内容\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%;\"/>\r\n\t\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t\t\t\t\t\tplain\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"replyComment(scope.row, 2)\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%; margin-top: 10px;\"\r\n\t\t\t\t\t\t\t\t\t\t\t>确定</el-button>\r\n\t\t\t\t\t\t\t\t\t\t<span slot=\"reference\" style=\"color: #409EFF; cursor: pointer;\">\r\n\t\t\t\t\t\t\t\t\t\t\t回复\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-edit\" />\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t\t\t\t\t<span style=\"margin: 0 10px;\">{{ scope.row.publishTime | dateFormatter }}</span>\r\n\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: green;\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"comments = [scope.row]; readComment(0);\">\r\n\t\t\t\t\t\t\t\t\t\t{{scope.row.readAlready == 1 && '重新' || ''}}审核通过\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-check\" />\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: red;\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"comments = [scope.row]; readComment(3);\">\r\n\t\t\t\t\t\t\t\t\t\t{{scope.row.readAlready == 1 && '重新' || ''}}审核拒绝\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-close\" />\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t\t<el-row v-for=\"(cc,index) in scope.row.commentList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<el-tooltip :content=\"cc.content\" placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t<el-col\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: gray; width: 50%; line-height: 39px; padding-right: 10px;\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"mjn\"\r\n\t\t\t\t\t\t\t\t\t\t>{{cc.sourceUser.nickName}} 回复 {{cc.targetUser.nickName}}：{{cc.content}}</el-col>\r\n\t\t\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t\t\t<el-col style=\"width: 50%;\">\r\n\t\t\t\t\t\t\t\t\t<el-tag type=\"info\" size=\"mini\" v-if=\"cc.readAlready == 0\">未审核</el-tag>\r\n\t\t\t\t\t\t\t\t\t<el-tag\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"cc.readAlready == 1 && cc.delete == 0\"\r\n\t\t\t\t\t\t\t\t\t\t>审核通过</el-tag>\r\n\t\t\t\t\t\t\t\t\t<el-tag\r\n\t\t\t\t\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"cc.readAlready == 1 && cc.delete != 0\"\r\n\t\t\t\t\t\t\t\t\t\t>审核拒绝</el-tag>\r\n\t\t\t\t\t\t\t\t\t\t<el-popover\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\t\t\t\t\t\t\tpopper-class=\"myPopper\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-left: 10px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:rows=\"3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"comment.content\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入回复内容\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%;\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplain\r\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"replyComment(cc, 1)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%; margin-top: 10px;\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>确定</el-button>\r\n\t\t\t\t\t\t\t\t\t\t\t<span slot=\"reference\" style=\"color: #409EFF; cursor: pointer;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t回复\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-edit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t\t\t\t\t\t<span style=\"margin: 0 10px;\">{{ cc.publishTime | dateFormatter }}</span>\r\n\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: green;\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"comments = [cc]; readComment(0);\">\r\n\t\t\t\t\t\t\t\t\t\t{{cc.readAlready == 1 && '重新' || ''}}审核通过\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-check\" />\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"color: red;\"\r\n\t\t\t\t\t\t\t\t\t\t@click=\"comments = [cc]; readComment(3);\">\r\n\t\t\t\t\t\t\t\t\t\t{{cc.readAlready == 1 && '重新' || ''}}审核拒绝\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-close\" />\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\t\t\t</div>\r\n\t\t\t<el-row style=\"margin-top: 15px; float: right; padding-right: 25px;\">\n\t\t\t\t<pagination\n\t\t\t\t\tv-if=\"total\"\n\t\t\t\t\t:total=\"total\"\n\t\t\t\t\t:page.sync=\"searchComment.page\"\n\t\t\t\t\t:limit.sync=\"searchComment.limit\"\n\t\t\t\t\t@pagination=\"pageChange\"/>\r\n\t\t\t</el-row>\r\n\t\t</div>\r\n\t\t<commentMsgList ref=\"commentMsgList\" @closeCommentMsgList=\"closeCommentMsgList\">></commentMsgList>\r\n\t\t<div class=\"detaimg2\" v-show=\"dynamicShow\">\r\n\t\t\t<span @click=\"shutDownIMG\" style=\"position: absolute;right: 70px;top: 26px;font-size: 40px;color: #ffffff;\">\r\n\t\t\t<i class=\"el-icon-circle-close\"></i></span> \r\n\t\t\t<div :style=\"{backgroundImage:'url('+dynamicImg+')',backgroundSize:'contain',backgroundRepeat:'no-repeat',backgroundPosition:'center'}\" class=\"luk\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { findComMsgByIdApi,findAllCommentsApi,readCommentApi,commentReplyApi,commentCommentApi } from '@/api/community'\r\n\timport commentMsgList from './commentMsgList';\n\texport default {\n\t\tname: 'article_details',\r\n\t\tcomponents: {\n\t\t\tcommentMsgList\r\n\t\t},\n\t\tprops: {\n\t\t  msgId: {\n\t\t    type: String,\n\t\t    default: '',\n\t\t  },\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\tdynamic: false,\n\t\t\t\tcommentMsg: {},\n\t\t\t\texamine: 2,\n\t\t\t\ttotal: 0,\n\t\t\t\tsearchComment: {\n\t\t\t\t  nickName: null,\n\t\t\t\t  content: null,\n\t\t\t\t  msgId: '',\n\t\t\t\t  readAlready: null,\n\t\t\t\t  delete: null,\n\t\t\t\t  page: 1,\n\t\t\t\t  limit: 15\n\t\t\t\t},\n\t\t\t\tdynamicShow: false,\n\t\t\t\tdynamicImg: '',\n\t\t\t\tcommentTableLoading: false,\n\t\t\t\tcommentTable: [],\n\t\t\t\tcomments: [],\n\t\t\t\tcomment: {\n\t\t\t\t  belongId: null,\n\t\t\t\t  content: null,\n\t\t\t\t  status: 3,\n\t\t\t\t  readAlready: 1,\n\t\t\t\t},\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\n\t\t\t\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\texamine: function (value) {\r\n\t\t\t\tthis.searchComment.readAlready = 1;\r\n\t\t\t    if (value == 2) {\r\n\t\t\t\t\tthis.searchComment.readAlready = null;\r\n\t\t\t\t\tthis.searchComment.delete = null;\r\n\t\t\t    }\r\n\t\t\t    if (value == 0) {\r\n\t\t\t\t\tthis.searchComment.readAlready = 0;\r\n\t\t\t\t\tthis.searchComment.delete = 0;\r\n\t\t\t    }\r\n\t\t\t\tif (value == 1) this.searchComment.delete = 0;\r\n\t\t\t\tif (value == 3) this.searchComment.delete = 3;\r\n\t\t\t\tthis.findAllComments();\r\n\t\t\t},\n\t\t\tcommentMsg: function (value) {\n\t\t\t  if (value.msgId) this.findAllComments();\n\t\t\t},\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tdateFormatter (datetime) {\n\t\t\t\tif(datetime) {\n\t\t\t\t\tdatetime = new Date(datetime);\n\t\t\t\t\tlet y = datetime.getFullYear() + '-'\n\t\t\t\t\tlet yue = datetime.getMonth()+1;\n\t\t\t\t\tlet mon = yue < 10 ? '0'+yue+'-' : yue+'-'\n\t\t\t\t\tlet d = datetime.getDate() < 10 ? '0'+datetime.getDate() : datetime.getDate()\n\t\t\t\t\tlet hours = datetime.getHours() < 10 ? '0' + datetime.getHours() + ':' : datetime.getHours() + ':'\n\t\t\t\t\tlet minutes = datetime.getMinutes() < 10 ? \"0\" +datetime.getMinutes()+\":\" : datetime.getMinutes()+\":\"\n\t\t\t\t\tlet seconds = datetime.getSeconds() < 10 ? \"0\"+datetime.getSeconds() : datetime.getSeconds()\n\t\t\t\t\treturn y + mon + d + '\\n' + hours + minutes + seconds\n\t\t\t\t}\n\t\t\t\treturn '—'\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetDetails(msgId) {\n\t\t\t\tfindComMsgByIdApi(msgId).then(async (res) => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tlet data = res.data;\n\t\t\t\t\t\tthis.commentMsg = data;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message.error(res.msg);\n\t\t\t\t\t}\n\t\t\t\t}).catch((res) => {\n\t\t\t\t\tthis.$message.error(res.msg);\n\t\t\t\t});\n\t\t\t},\n\t\t\tdynamicClick() {\n\t\t\t\tthis.commentMsg ={}\n\t\t\t\tthis.dynamic = false;\n\t\t\t},\n\t\t\tshutDownIMG(){\n\t\t\t\tthis.dynamicShow= false;\n\t\t\t\tthis.dynamicImg = \"\"\n\t\t\t},\n\t\t\tcommentMsgShowChange(){\n\t\t\t\tthis.$refs.commentMsgList.commentMsgShow = true;\n\t\t\t\tthis.$refs.commentMsgList.findAllMsgs();\n\t\t\t},\n\t\t\tdynamicImgclick(row){\n\t\t\t    this.dynamicImg = row\n\t\t\t\tif(row){\n\t\t\t\t\tthis.dynamicShow = true\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync findAllComments() {\n\t\t\t\tthis.commentTableLoading = true;\n\t\t\t\tthis.searchComment.msgId = this.msgId;\n\t\t\t\tconst result = await findAllCommentsApi(this.searchComment);\n\t\t\t\tif (result.code == 200) this.commentTable = result.data.list;\n\t\t\t\tthis.total = result.data.count\n\t\t\t\tthis.commentTableLoading = false;\n\t\t\t},\n\t\t\tpageChange() {\n\t\t\t\tthis.commentTable = [];\n\t\t\t\tthis.findAllComments();\n\t\t\t},\n\t\t\t// 审批量核评论\n\t\t\tasync readCommentBatch(read) {\n\t\t\t\tif (this.comments.length == 0)\n\t\t\t\t\treturn this.$message.warning(`请先选择要审核的评论`);\n\t\t\t    const type = (read == 0 && \"通过\") || \"拒绝\";\n\t\t\t\tthis.$confirm(\"确定审核通过所选评论及其所有回复？\", `动态评论审核`, {\n\t\t\t\t\tconfirmButtonText: `确定审核${type}`,\n\t\t\t\t\tcancelButtonText: `取消审核`,\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t}).then(() => {\n\t\t\t\t\tconst commentsAll = [];\n\t\t\t\t\tthis.comments.forEach((c) => {\n\t\t\t\t\t\tcommentsAll.push(c);\n\t\t\t\t\t\tif (c.commentList) commentsAll.push(...c.commentList);\n\t\t\t\t\t});\n\t\t\t\t\tthis.comments = commentsAll;\n\t\t\t\t\tthis.readComment(read);\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 审核评论\n\t\t\tasync readComment(read) {\n\t\t\t\tthis.comments = this.comments.map((c) =>\n\t\t\t\t\tObject.assign(c, {\n\t\t\t\t\t\tdelete: read,\n\t\t\t\t\t\tdeleteReason: read == 3 && \"审核不通过\",\n\t\t\t\t\t\treadAlready: 1,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tthis.commentTableLoading = true;\n\t\t\t\tconst result = await readCommentApi(this.comments);\n\t\t\t\tif (result.code != 200)\n\t\t\t\t\treturn this.$message.error(`操作失败，请稍后重试`);\n\t\t\t\tthis.findAllComments();\n\t\t\t\treturn this.$message.success(`操作成功`);\n\t\t\t},\n\t\t\t// 回复评论\n\t\t\tasync replyComment(row, type) {\n\t\t\t\tthis.commentTableLoading = true;\n\t\t\t\tif (!this.comment.content)\n\t\t\t\t\treturn this.$message.warning(`请先输入回复内容`);\n\t\t\t\tthis.comment.belongId = row.commentId;\n\t\t\t\tlet result = {};\n\t\t\t\tif (type == 1) result = await commentReplyApi(this.comment);\n\t\t\t\tif (type == 2) result = await commentCommentApi(this.comment);\n\t\t\t\tif (result.code != 200)\n\t\t\t\t\treturn this.$message.error(`回复评论失败，请稍后重试`);\n\t\t\t\tArray.from(document.getElementsByClassName(\"myPopper\")).forEach(\n\t\t\t\t\t(ep) => (ep.style.display = \"none\")\n\t\t\t\t);\n\t\t\t\tthis.findAllComments();\n\t\t\t\treturn this.$message.success(`回复评论成功`);\n\t\t\t},\n\t\t\tcloseCommentMsgList(msgs) {\n\t\t\t\tthis.commentMsg = msgs\n\t\t\t\tthis.msgId = msgs.msgId\n\t\t\t\tthis.findAllComments();\n\t\t\t\tthis.$refs.commentMsgList.commentMsgShow = false;\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.details {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: rgba(1, 1, 1, 0.8);\r\n\t\ttop: 1px;\r\n\t\tleft: 1px;\r\n\t\tz-index: 4;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.details_a {\r\n\t\twidth: 80%;\r\n\t\theight: 95%;\r\n\t\tbackground: #fff;\r\n\t\toverflow: scroll;\r\n\t}\r\n\r\n\t.el-table .success-row {\r\n\t\tbackground-color: #f5faff;\r\n\t\tcolor: #409eff;\r\n\t}\r\n\r\n\t.el-divider {\r\n\t\tmargin-top: 0;\r\n\t}\r\n\r\n\t.gcDetail {\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.el-step.is-center .el-step__description {\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.orderDetail {\r\n\t\tcolor: #909399;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.el-switch__label {\r\n\t\tcolor: #909399;\r\n\t}\r\n\r\n\t.selecte_name {\r\n\t\twidth: 7.5%;\r\n\t\tfont-size: small;\r\n\t\tline-height: 32px;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.selecte_number {\r\n\t\twidth: 80px;\r\n\t}\r\n\r\n\t.selecte_middle {\r\n\t\twidth: 30px;\r\n\t\tfont-size: small;\r\n\t\tline-height: 32px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.ql-editor>p>img{\r\n\t\twidth: 150px;\r\n\t\theight: 150px;\r\n\t}\r\n\t.DynamicClass>span>p>img{\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t}\r\n\t.detaimg2{\r\n\t\tposition: fixed;\r\n\t\tz-index:1;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #00000082;\r\n\t}\r\n\t.luk{\r\n\t\twidth: 1000px;\r\n\t\theight: 900px;\r\n\t}\r\n</style>"]}]}