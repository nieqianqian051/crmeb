{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/appChat/mobile/index.vue?vue&type=style&index=0&id=4e0982a6&lang=stylus&scoped=true","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/appChat/mobile/index.vue","mtime":1719473336000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/index.js","mtime":1746465207601},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5oZWFkLWJveHsKICBwb3NpdGlvbiByZWxhdGl2ZQogIGRpc3BsYXkgZmxleAogIGFsaWduLWl0ZW1zIGNlbnRlcgogIGp1c3RpZnktY29udGVudCBjZW50ZXIKICBjb2xvciAjZmZmCiAgaGVpZ2h0IDQ1cHgKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoODVkZWcsICMzODc1RUEgMCUsICMxODkwRkMgMTAwJSk7CiAgc3BhbnsKICAgIHBvc2l0aW9uIGFic29sdXRlCiAgICB3aWR0aCA0NXB4CiAgICBoZWlnaHQgMTAwJQogICAgbGVmdCAwCiAgICB0b3AgMAogICAgdGV4dC1hbGlnbiBjZW50ZXIKICAgIGxpbmUtaGVpZ2h0IDQ1cHgKICB9Cn0KLmNoYXQtYm94IHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgaGVpZ2h0OiAxMDAlOwogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZCAjRjBGMUYyCiAgLmhlYWQtYm94IHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg4NWRlZywgIzM4NzVFQSAwJSwgIzE4OTBGQyAxMDAlKTsKCiAgICAudGl0bGUtaGQgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBoZWlnaHQ6IDQzcHg7CiAgICAgIHBhZGRpbmc6IDAgLjNyZW07CiAgICAgIGNvbG9yOiAjZmZmOwoKICAgICAgLmljb24tZmFuaHVpIHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgbGVmdDogLjNyZW07CiAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgICB9CgogICAgICAuaWNvbi1nZW5nZHVvMiB7CiAgICAgICAgLyogI2lmZGVmIE1QICovCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIHJpZ2h0OiAyLjFyZW07CiAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgICAgIC8qICNlbmRpZiAqLwogICAgICB9CiAgICB9CiAgfQoKICAuc2Nyb2xsLWJveCB7CiAgICBmbGV4OiAxOwogIH0KCiAgLmZvb3Rlci1ib3ggewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBoZWlnaHQ6IDFyZW07CiAgICBwYWRkaW5nOiAwIC4zcmVtOwogICAgY29sb3I6IHJnYmEoMCwwLDAsMC44KTsKICAgIGJhY2tncm91bmQ6ICNmN2Y3Zjc7CiAgICAud29yZHN7CiAgICAgIG1hcmdpbi1yaWdodCAuMThyZW0KICAgIH0KICAgIC53b3JkcyAuaWNvbmZvbnQgewogICAgICBmb250LXNpemU6IC41cmVtCiAgICB9CgogICAgLmlucHV0LWJveCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGZsZXggMQogICAgICBoZWlnaHQ6IC42NHJlbTsKICAgICAgcGFkZGluZy1yaWdodDogMC4wNXJlbTsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgICAgYm9yZGVyLXJhZGl1czogLjMycmVtOwogICAgICBvdmVyZmxvdyBoaWRkZW4KCiAgICAgIGlucHV0IHsKICAgICAgICBmbGV4OiAxOwogICAgICAgIHBhZGRpbmctbGVmdDogLjJyZW07CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIGJvcmRlciB0cmFuc3BhcmVudCAhaW1wb3J0YW50CgogICAgICB9CiAgICAgIDo6di1kZWVwIC5lbC1pbnB1dF9faW5uZXJ7CiAgICAgICAgZm9udC1zaXplIC4yOHJlbSAhaW1wb3J0YW50CiAgICAgIH0KICAgICAgOjp2LWRlZXAgLmVsLWlucHV0X19pbm5lciwgLmVsLWlucHV0X19pbm5lcjpob3ZlciwgLmVsLWlucHV0X19pbm5lcjpmb2N1cyB7CiAgICAgICAgYm9yZGVyIHRyYW5zcGFyZW50CiAgICAgICAgYm94LXNoYWRvdzogbm9uZTsKICAgICAgfQoKICAgICAgLmljb25mb250IHsKICAgICAgICBmb250LXNpemU6IC41cmVtOwogICAgICAgIGNvbG9yOiAjY2NjOwogICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgIH0KCiAgICAgIC5pc1NlbmQgewogICAgICAgIGNvbG9yOiAjMzg3NUVBOwogICAgICB9CiAgICB9CgogICAgLmVtb2ppIC5pY29uZm9udCB7CiAgICAgIG1hcmdpbi1sZWZ0OiAuMThyZW07CiAgICAgIGZvbnQtc2l6ZTogLjVyZW07CiAgICB9CgogICAgLm1vcmUgLmljb25mb250IHsKICAgICAgbWFyZ2luLWxlZnQ6IC4xOHJlbTsKICAgICAgZm9udC1zaXplOiAuNXJlbTsKICAgIH0KCiAgfQp9CgoudG9vbC13cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBwYWRkaW5nOiAuNDVyZW0gLjZyZW07CiAgYmFja2dyb3VuZDogI2ZmZjsKICBmb250LXNpemU6IC4yNHJlbTsKCiAgLnRvb2wtaXRlbSB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CgogICAgaW1nIHsKICAgICAgd2lkdGg6IDEuMDRyZW07CiAgICAgIGhlaWdodDogMS4wNHJlbTsKICAgIH0KICB9Cn0KCi5zbGlkZXItYmFubmVyIHsKICBwYWRkaW5nLWJvdHRvbSAuMjVyZW0KICBiYWNrZ3JvdW5kOiAjZmZmOwoKICAuZW0gewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgd2lkdGg6IC41cmVtOwogICAgaGVpZ2h0OiAuNXJlbTsKICAgIG1hcmdpbjogLjRyZW0gMCAwIC41cmVtOwogIH0KfQoKLndvcmRzLW1hc2sgewogIHotaW5kZXg6IDUwOwogIHBvc2l0aW9uOiBmaXhlZDsKICBsZWZ0OiAwOwogIHRvcDogMDsKICByaWdodDogMDsKICBib3R0b206IDA7CiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpOwoKICAuY29udGVudCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICB0b3A6IDEuMTRyZW07CiAgICBib3R0b206IDA7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBib3JkZXItcmFkaXVzOiAwLjA2cmVtIDAuMDZyZW0gMHB4IDBweDsKCiAgICAudGl0bGUtYm94IHsKICAgICAgcGFkZGluZzogMCAuM3JlbSAuM3JlbTsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBib3JkZXItYm90dG9tIDFweCBzb2xpZCAjRjVGNkY5CiAgICAgIC50YWItYm94ewogICAgICAgIHBvc2l0aW9uIHJlbGF0aXZlCiAgICAgICAgZGlzcGxheSBmbGV4CiAgICAgICAganVzdGlmeS1jb250ZW50IHNwYWNlLWJldHdlZW4KICAgICAgICBwYWRkaW5nIC40cmVtIDIuMnJlbSAuM3JlbQogICAgICAgIGZvbnQtc2l6ZSAuMzJyZW0KICAgICAgICBjb2xvciAjOUY5RjlGCiAgICAgICAgLm9uewogICAgICAgICAgY29sb3IgIzM4NzVFQQogICAgICAgICAgZm9udC13ZWlnaHQgYm9sZAogICAgICAgIH0KICAgICAgICAucmlnaHQtaWNvbnsKICAgICAgICAgIHBvc2l0aW9uIGFic29sdXRlCiAgICAgICAgICByaWdodCAwCiAgICAgICAgICB0b3AgNTAlCiAgICAgICAgICB0cmFuc2Zvcm0gdHJhbnNsYXRlWSgtNTAlKQogICAgICAgICAgLmljb25mb250ewogICAgICAgICAgICBtYXJnaW4tbGVmdCAuMnJlbQogICAgICAgICAgICBmb250LXNpemUgLjQ4cmVtCiAgICAgICAgICAgIGNvbG9yICNDOENBRDAKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLmlucHV0LWJveHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgd2lkdGg6IDYuOXJlbTsKICAgICAgICBoZWlnaHQ6IC42NHJlbTsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjA1cmVtOwogICAgICAgIG1hcmdpbi1sZWZ0OiAuMThyZW07CiAgICAgICAgYm9yZGVyLXJhZGl1czogLjMycmVtOwogICAgICAgIG92ZXJmbG93IGhpZGRlbgoKICAgICAgICA6OnYtZGVlcCAuZWwtaW5wdXRfX2lubmVyewogICAgICAgICAgYmFja2dyb3VuZCAjRjVGNkY5CiAgICAgICAgfQogICAgICAgIDo6di1kZWVwIC5lbC1pbnB1dF9faW5uZXIsIC5lbC1pbnB1dF9faW5uZXI6aG92ZXIsIC5lbC1pbnB1dF9faW5uZXI6Zm9jdXMgewogICAgICAgICAgYm9yZGVyIHRyYW5zcGFyZW50CiAgICAgICAgICBib3gtc2hhZG93OiBub25lOwogICAgICAgIH0KICAgICAgfQogICAgICAuaWNvbi1jaGExIHsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgICB9CiAgICB9CgogICAgLnNjcm9sbC1ib3ggewogICAgICBmbGV4OiAxOwogICAgICBkaXNwbGF5IGZsZXgKICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgLnNjcm9sbC1sZWZ0ewogICAgICAgIHdpZHRoIDEuNzZyZW0KICAgICAgICBoZWlnaHQgMTAwJQogICAgICAgIG92ZXJmbG93LXkgc2Nyb2xsCiAgICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmcgdG91Y2gKICAgICAgICBiYWNrZ3JvdW5kICNGNUY2RjkKICAgICAgICAubGVmdC1pdGVtewogICAgICAgICAgcG9zaXRpb24gcmVsYXRpdmUKICAgICAgICAgIGRpc3BsYXkgZmxleAogICAgICAgICAgYWxpZ24taXRlbXMgY2VudGVyCiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyCiAgICAgICAgICB3aWR0aCAxMDAlCiAgICAgICAgICBoZWlnaHQgMS4wOXJlbQogICAgICAgICAgY29sb3IgIzI4MjgyOAogICAgICAgICAgZm9udC1zaXplIC4yNnJlbQogICAgICAgICAgJi5hY3RpdmV7CiAgICAgICAgICAgIGNvbG9yICMzODc1RUEKICAgICAgICAgICAgYmFja2dyb3VuZCAjZmZmCiAgICAgICAgICAgICY6YWZ0ZXJ7CiAgICAgICAgICAgICAgY29udGVudCAnICcKICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgbGVmdCAwCiAgICAgICAgICAgICAgdG9wIDUwJQogICAgICAgICAgICAgIHRyYW5zZm9ybSB0cmFuc2xhdGVZKC01MCUpCiAgICAgICAgICAgICAgd2lkdGggMC4wNnJlbQogICAgICAgICAgICAgIGhlaWdodCAuNDZyZW0KICAgICAgICAgICAgICBiYWNrZ3JvdW5kICMzODc1RUEKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgJi5hZGRfY2F0ZXsKICAgICAgICAgICAgY29sb3IgIzlGOUY5RgogICAgICAgICAgICBmb250LXNpemUgLjI2cmVtCiAgICAgICAgICAgIC5pY29uZm9udHsKICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQgMC4xcmVtCiAgICAgICAgICAgICAgZm9udC1zaXplIC4yNHJlbQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIC5yaWdodC1ib3h7CiAgICAgICAgZmxleCAxCiAgICAgICAgb3ZlcmZsb3cgc2Nyb2xsCiAgICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmcgdG91Y2gKICAgICAgfQogICAgICAubXNnLWl0ZW0gewogICAgICAgIHBhZGRpbmc6IC4yNXJlbSAuM3JlbTsKICAgICAgICBjb2xvciAjODg4ODg4CiAgICAgICAgZm9udC1zaXplIC4yOHJlbQogICAgICAgIC50aXRsZXsKICAgICAgICAgIG1hcmdpbi1yaWdodCAuMnJlbQogICAgICAgICAgY29sb3IgIzI4MjgyOAogICAgICAgIH0KICAgICAgICAmLmFkZC1tZ3sKICAgICAgICAgIGRpc3BsYXkgZmxleAogICAgICAgICAgYWxpZ24taXRlbXMgY2VudGVyCiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQgZmxleC1lbmQKICAgICAgICAgIGZvbnQtc2l6ZSAuMjhyZW0KICAgICAgICAgIHBhZGRpbmcgLjE1cmVtIC4zcmVtCiAgICAgICAgICAuaWNvbmZvbnR7CiAgICAgICAgICAgIGZvbnQtc2l6ZSAuMzZyZW0KICAgICAgICAgICAgbWFyZ2luLXJpZ2h0IC4xcmVtCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9CgouY2hhdC1zY3JvbGwtYm94IHsKICBmbGV4OiAxOwogIG92ZXJmbG93OiBoaWRkZW47CiAgLmRheS1ib3h7CiAgICBtYXJnaW4tYm90dG9tIC4ycmVtCiAgICBmb250LXNpemUgLjI0cmVtCiAgICBjb2xvciAjOTk5CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQogIC5jaGF0LWl0ZW0gewogICAgZGlzcGxheTogZmxleDsKICAgIG1hcmdpbi1ib3R0b206IC4zNnJlbTsKICAgIGZvbnQtc2l6ZSAuMjhyZW0KICAgIC5hdmF0YXIgewogICAgICB3aWR0aDogLjhyZW07CiAgICAgIGhlaWdodDogLjhyZW07CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIH0KCiAgICAubXNnLWJveCB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIG1heC13aWR0aDogNC41MnJlbTsKICAgICAgbWFyZ2luLWxlZnQ6IC4yMnJlbTsKICAgICAgcGFkZGluZzogLjFyZW0gLjI0cmVtOwogICAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgICBib3JkZXItcmFkaXVzOiAuMTRyZW07CiAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsKICAgICAgZm9udC1zaXplIC4yOHJlbQogICAgfQoKICAgIC5pbWctYm94IHsKICAgICAgd2lkdGg6IDIuN3JlbTsKICAgICAgbWFyZ2luLWxlZnQ6IC4yMnJlbTsKCiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDIuN3JlbTsKICAgICAgICBib3JkZXItcmFkaXVzIDZweAogICAgICB9CiAgICB9CgogICAgLnByb2R1Y3QtYm94IHsKICAgICAgd2lkdGg6IDQuNTJyZW07CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgIGJvcmRlci1yYWRpdXM6IC4xNHJlbTsKICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgbWFyZ2luLWxlZnQ6IC4yMnJlbTsKCiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDQuNTJyZW07CiAgICAgIH0KCiAgICAgIC5pbmZvIHsKICAgICAgICBwYWRkaW5nOiAuMTZyZW0gLjI2cmVtOwoKICAgICAgICAucHJpY2UgewogICAgICAgICAgZm9udC1zaXplOiAuMzZyZW07CiAgICAgICAgICBjb2xvcjogI0Y3NEMzMTsKCiAgICAgICAgICB0ZXh0IHsKICAgICAgICAgICAgZm9udC1zaXplOiAuMjhyZW07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLm9yZGVyLWJveCB7CiAgICAgIHdpZHRoOiA0LjUycmVtOwogICAgICBtYXJnaW4tbGVmdDogLjIycmVtOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICBib3JkZXItcmFkaXVzOiAuMTRyZW07CgogICAgICAudGl0bGUgewogICAgICAgIHBhZGRpbmc6IC4xNXJlbSAuMnJlbTsKICAgICAgICBmb250LXNpemU6IC4yNnJlbTsKICAgICAgICBjb2xvcjogIzI4MjgyODsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0VDRUZGODsKICAgICAgfQoKICAgICAgLmluZm8gewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgcGFkZGluZzogLjJyZW07CgogICAgICAgIGltZyB7CiAgICAgICAgICB3aWR0aDogMS4yNHJlbTsKICAgICAgICAgIGhlaWdodDogMS4yNHJlbTsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMDZyZW07CiAgICAgICAgfQoKICAgICAgICAucHJvZHVjdC1pbmZvIHsKICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgIG1hcmdpbi1sZWZ0OiAuMTZyZW07CgogICAgICAgICAgLm5hbWUgewogICAgICAgICAgICBmb250LXNpemU6IC4yNnJlbTsKICAgICAgICAgIH0KCiAgICAgICAgICAucHJpY2UgewogICAgICAgICAgICBmb250LXNpemU6IC4zcmVtOwogICAgICAgICAgICBjb2xvcjogI0Y3NEMzMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAmLnJpZ2h0LWJveCB7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsKCiAgICAgIC5tc2ctYm94IHsKICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgICBtYXJnaW4tcmlnaHQ6IC4yMnJlbTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWNlYzYwOwoKICAgICAgICBjb2xvciAjMzMzCiAgICAgIH0KCiAgICAgIC5pbWctYm94IHsKICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgICBtYXJnaW4tcmlnaHQ6IC4yMnJlbTsKICAgICAgfQoKICAgICAgLnByb2R1Y3QtYm94IHsKICAgICAgICBtYXJnaW4tbGVmdDogMDsKICAgICAgICBtYXJnaW4tcmlnaHQ6IC4yMnJlbTsKICAgICAgfQoKICAgICAgLm9yZGVyLWJveCB7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAuMjJyZW07CiAgICAgIH0KICAgIH0KCiAgICAuZW0gewogICAgICBtYXJnaW46IDA7CiAgICB9CiAgfQp9Ci50cmFuc2Zlci1tYXNrCiAgei1pbmRleCAzMAogIHBvc2l0aW9uIGZpeGVkCiAgbGVmdCAwCiAgdG9wIDAKICB3aWR0aCAxMDAlCiAgaGVpZ2h0IDEwMCUKICBiYWNrZ3JvdW5kIHJnYmEoMCwwLDAsMC41KQogIC5jb250ZW50CiAgICBwb3NpdGlvbiBhYnNvbHV0ZQogICAgbGVmdCAwCiAgICBib3R0b20gMAogICAgdHJhbnNmb3JtIHRyYW5zbGF0ZVkoMTAwJSkKICAgIHRvcCAyLjVyZW0KICAgIHJpZ2h0IDAKICAgIGRpc3BsYXkgZmxleAogICAgZmxleC1kaXJlY3Rpb24gY29sdW1uCiAgICBiYWNrZ3JvdW5kICNmZmYKICAgIGJvcmRlci1yYWRpdXM6IC4xNnJlbSAuMTZyZW0gMHB4IDBweDsKICAgICYub24KICAgICAgYW5pbWF0aW9uIHVwIC4ycyBsaW5lYXIKICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7CiAgICAudGl0bGUKICAgICAgcG9zaXRpb24gcmVsYXRpdmUKICAgICAgZGlzcGxheSBmbGV4CiAgICAgIGFsaWduLWl0ZW1zIGNlbnRlcgogICAgICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyCiAgICAgIGhlaWdodCAxLjFyZW0KICAgICAgZm9udC1zaXplIC4zMnJlbQogICAgICBmb250LXdlaWdodCBib2xkCiAgICAgIGNvbG9yICMyODI4MjgKICAgICAgLmljb25mb250CiAgICAgICAgcG9zaXRpb24gYWJzb2x1dGUKICAgICAgICByaWdodCAuM3JlbQogICAgICAgIHRvcCA1MCUKICAgICAgICB0cmFuc2Zvcm0gdHJhbnNsYXRlWSgtNTAlKQogICAgICAgIGNvbG9yICNDOENBRDAKICAgICAgICBmb250LXNpemUgLjQ0cmVtCiAgICAubGlzdC13cmFwcGVyCiAgICAgIGZsZXggMQogICAgICBwYWRkaW5nLWxlZnQgLjNyZW0KICAgICAgb3ZlcmZsb3cteSBzY3JvbGwKICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmcgdG91Y2gKICAgICAgLmxpc3QtaXRlbQogICAgICAgIGRpc3BsYXkgZmxleAogICAgICAgIGFsaWduLWl0ZW1zIGNlbnRlcgogICAgICAgIHBhZGRpbmcgLjE2cmVtIDAKICAgICAgICBib3JkZXItYm90dG9tIDFweCBzb2xpZCAjRUNFRkY4CiAgICAgICAgLmNoZWNrLWJveAogICAgICAgICAgd2lkdGggLjcycmVtCiAgICAgICAgLmF2YXRhci1ib3ggaW1nCiAgICAgICAgICB3aWR0aCAuOXJlbQogICAgICAgICAgaGVpZ2h0IC45cmVtCiAgICAgICAgICBib3JkZXItcmFkaXVzIDAuMDZyZW0KICAgICAgICAubmlja05hbWUKICAgICAgICAgIG1hcmdpbi1sZWZ0IC4yOHJlbQogICAgICAgICAgY29sb3IgIzI4MjgyOAogICAgICAgICAgZm9udC1zaXplIC4zcmVtCiAgICAgICAgICBmb250LXdlaWdodCBib2xkCiAgICAuYnRuCiAgICAgIHdpZHRoIDYuOXJlbQogICAgICBoZWlnaHQgLjg2cmVtCiAgICAgIG1hcmdpbiAuNXJlbSBhdXRvCiAgICAgIGNvbG9yICNmZmYKICAgICAgYmFja2dyb3VuZCAjMzg3NUVBCiAgICAgIGZvbnQtc2l6ZSAuM3JlbQogICAgICBib3JkZXItcmFkaXVzOiAuNDNyZW0gIWltcG9ydGFudDsKLmJyb2FkY2FzdC1kZXRhaWxzX2JveCB7CiAgZGlzcGxheTogZmxleDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBwYWRkaW5nOiAuMjRyZW07Cn0KCi5icm9hZGNhc3RfZGV0YWlsc19pbWcgewogIHdpZHRoOiAxLjRyZW07CiAgaGVpZ2h0OiAxLjRyZW07CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouYnJvYWRjYXN0X2RldGFpbHNfaW1nIGltZyB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9CgouYnJvYWRjYXN0X2RldGFpbHNfcGljQm94IHsKICB3aWR0aDogNzUlOwogIG1hcmdpbi1sZWZ0OiAuMjRyZW07Cn0KCi5icm9hZGNhc3RfZGV0YWlsc190aXQgewogIGZvbnQtc2l6ZTogLjI4cmVtOwogIGNvbG9yOiAjMzMzMzMzOwogIGhlaWdodDogLjg1cmVtOwogIGZvbnQtd2VpZ2h0OiA4MDA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICBkaXNwbGF5OiAtd2Via2l0LWJveDsKICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7CiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7Cn0KCi5icm9hZGNhc3RfZGV0YWlsc19waWMgewogIGZvbnQtc2l6ZTogLjM2cmVtOwogIGNvbG9yOiAjZTkzMzIzOwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5icm9hZGNhc3RfZGV0YWlsc19waWNfbnVtIHsKICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDsKICBmb250LXNpemU6IC4yOHJlbTsKICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogIG1hcmdpbi1sZWZ0OiAwLjFyZW07Cn0KCi5icm9hZGNhc3RfZGV0YWlsc19idG4gewogIHdpZHRoOiAxLjNyZW07CiAgaGVpZ2h0OiAuNXJlbTsKICBiYWNrZ3JvdW5kOiAjZTgzMzIzOwogIG9wYWNpdHk6IDE7CiAgYm9yZGVyLXJhZGl1czogMS4yNXJlbTsKICBjb2xvcjogI2ZmZjsKICBmb250LXNpemU6IC4yNHJlbTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbGluZS1oZWlnaHQ6IC41cmVtOwp9CgouYnJvYWRjYXN0LWRldGFpbHNfbnVtIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IC44cmVtOwogIGxpbmUtaGVpZ2h0OiAuOHJlbTsKICBjb2xvcjogIzAwMDAwMDsKICBmb250LXNpemU6IC4yNnJlbTsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgcmdiYSgwLCAwLCAwLCAwLjIpOwogIHBhZGRpbmc6IDAgLjI0cmVtOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAgnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/kefu/appChat/mobile","sourcesContent":["<template>\n  <div class=\"chat-box\">\n    <div class=\"head-box\">\n      <div class=\"back\" @click=\"goBack\"><span class=\"iconfont iconfanhui\"></span></div>\n      <div class=\"title\">{{ nickname ? nickname + '-' : '' }}对话详情</div>\n    </div>\n    <!-- 商品信息 -->\n    <div class=\"broadcast-details_box\" v-if=\"productId && productInfo.id\">\n      <div class=\"broadcast_details_img\">\n        <img :src=\"productInfo.image\" />\n      </div>\n      <div class=\"broadcast_details_picBox\">\n        <div class=\"broadcast_details_tit\" v-text=\"productInfo.store_name\"></div>\n        <div class=\"acea-row row-between\">\n          <div class=\"broadcast_details_pic\">\n            ￥{{ productInfo.price }}<span class=\"broadcast_details_pic_num\">￥{{ productInfo.ot_price }}</span>\n          </div>\n          <div class=\"broadcast_details_btn\" @click=\"sendProduct\">发送客服</div>\n        </div>\n      </div>\n    </div>\n    <!-- 订单发送 -->\n    <div class=\"broadcast_box\" v-if=\"orderId && orderInfo.id\">\n      <div class=\"broadcast-details_num broadcast_num\">\n        <span>订单号：{{ orderInfo.order_id }}</span>\n        <span>{{ orderInfo.add_time_y }} {{ orderInfo.add_time_h }}</span>\n      </div>\n      <div class=\"broadcast-details_box\">\n        <div class=\"broadcast_details_img\">\n          <img :src=\"cartInfo.productInfo.image\" />\n          <div class=\"broadcast_details_model\">{{ orderInfo.cartInfo ? orderInfo.cartInfo.length : 0 }}件商品</div>\n        </div>\n        <div class=\"broadcast_details_picBox\">\n          <div class=\"broadcast_details_tit\">\n            {{ cartInfo.productInfo.store_name }}\n          </div>\n          <div class=\"acea-row row-between\">\n            <div class=\"broadcast_details_pic\">\n              ￥{{ cartInfo.productInfo.price\n              }}<text class=\"broadcast_details_pic_num\">￥{{ cartInfo.productInfo.ot_price }}</text>\n            </div>\n            <div class=\"broadcast_details_btn\" @click=\"sendOrder\">发送客服</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"chat-scroll-box\">\n      <vue-scroll\n          :ops=\"ops\"\n          ref=\"scrollBox\"\n          @refresh-activate=\"handleActivate\"\n          @refresh-start=\"handleStart\"\n          @refresh-before-deactivate=\"handleBeforeDeactivate\"\n          @refresh-deactivate=\"handleDeactivate\"\n      >\n        <div class=\"slot-refresh\" slot=\"refresh-deactive\"></div>\n        <div class=\"slot-refresh\" slot=\"refresh-beforeDeactive\"></div>\n        <div id=\"chatBox\" class=\"chat\" ref=\"chat\" style=\"padding: 0.3rem\">\n          <div v-for=\"(item, index) in records\" :key=\"index\" :id=\"`chat_${item.id}`\">\n            <div class=\"day-box\" v-if=\"item.show\">{{ item.time }}</div>\n            <div class=\"chat-item\" :class=\"{ 'right-box': item.to_uid == toUid }\">\n              <img class=\"avatar\" :src=\"item.avatar\" mode=\"\" />\n              <!-- 消息 -->\n              <div class=\"msg-box\" v-if=\"item.msn_type == 1\" v-html=\"item.msn\"></div>\n              <!-- 图片 -->\n              <div class=\"img-box\" v-if=\"item.msn_type == 3\" v-viewer><img v-lazy=\"item.msn\" mode=\"widthFix\" /></div>\n              <!-- 商品 -->\n              <div class=\"product-box\" v-if=\"item.msn_type == 5\" @click=\"goProduct(item)\">\n                <img :src=\"item.productInfo.image\" />\n                <div class=\"info\">\n                  <div class=\"price\"><span>￥</span>{{ item.productInfo.price }}</div>\n                  <div class=\"name line2\">{{ item.productInfo.store_name }}</div>\n                </div>\n              </div>\n              <!-- 订单 -->\n              <div class=\"order-box\" v-if=\"item.msn_type == 6\" @click=\"goOrderDetail(item)\">\n                <div class=\"title\">订单ID: {{ item.orderInfo.order_id }}</div>\n                <div class=\"info\">\n                  <img :src=\"item.orderInfo.cartInfo[0].productInfo.image\" />\n                  <div class=\"product-info\">\n                    <div class=\"name line2\">{{ item.orderInfo.cartInfo[0].productInfo.store_name }}</div>\n                    <div class=\"price\">¥{{ item.orderInfo.cartInfo[0].productInfo.price }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </vue-scroll>\n    </div>\n    <div class=\"footer-box\">\n      <div class=\"words\" v-if=\"userToken\" @click=\"showWords\">\n        <el-upload\n            :show-file-list=\"false\"\n            :action=\"fileUrl\"\n            :before-upload=\"beforeUpload\"\n            :data=\"uploadData\"\n            :headers=\"header\"\n            :multiple=\"true\"\n            :on-success=\"handleSuccess\"\n            accept=\"image/*\"\n            :on-format-error=\"handleFormatError\"\n            style=\"margin-top: 1px; display: inline-block\"\n        >\n          <span class=\"iconfont icontupian3\"></span>\n        </el-upload>\n      </div>\n      <div class=\"input-box\">\n        <el-input v-model=\"con\" placeholder=\"请输入内容\" />\n        <span class=\"iconfont iconfasong\" @click=\"sendText\" :class=\"{ isSend: isSend }\"></span>\n      </div>\n      <div class=\"emoji\" @click=\"openBox(1)\"><span class=\"iconfont iconbiaoqing2\"></span></div>\n    </div>\n    <!-- 表情 -->\n    <div class=\"banner slider-banner\" v-show=\"isSwiper\">\n      <swiper class=\"swiper-wrapper\" ref=\"mySwiper\" :options=\"swiperOptions\">\n        <swiper-slide v-for=\"(emojiList, index) in emojiGroup\" :key=\"index\">\n          <i class=\"em\" :class=\"emoji\" v-for=\"emoji in emojiList\" :key=\"emoji\" @click=\"addEmoji(emoji)\"></i>\n        </swiper-slide>\n      </swiper>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Setting from '@/setting';\nimport { Socket } from '@/libs/socket';\nimport util from '@/libs/util';\nimport emojiList from '@/utils/emoji';\nimport { serviceList, serviceListApi, getOrderApi, chatListApi, productApi } from '@/api/kefu';\nimport { getCookies, removeCookies, setCookies } from '@/libs/util';\nimport { isPicUpload } from '@/utils';\n\nconst chunk = function (arr, num) {\n  num = num * 1 || 1;\n  var ret = [];\n  arr.forEach(function (item, i) {\n    if (i % num === 0) {\n      ret.push([]);\n    }\n    ret[ret.length - 1].push(item);\n  });\n  return ret;\n};\n\nexport default {\n  name: 'chat_mobile',\n  data() {\n    return {\n      ops: {\n        vuescroll: {\n          mode: 'slide',\n          enable: false,\n          auto: false,\n          autoLoadDistance: 0,\n          pullRefresh: {\n            enable: true,\n            auto: false,\n            autoLoadDistance: 0,\n            tips: {\n              deactive: '',\n              active: '上拉加载更多',\n              start: 'Loading...',\n              beforeDeactive: ' ',\n            },\n          },\n          pushLoad: {\n            enable: false,\n          },\n        },\n        bar: {\n          background: '#393232',\n          opacity: '.5',\n          size: '2px',\n        },\n      },\n      swiperOptions: {},\n      status: false,\n      loading: false,\n      isTool: false,\n      isSwiper: false,\n      isWords: false,\n      autoplay: false,\n      circular: true,\n      interval: 3000,\n      duration: 500,\n      emojiGroup: chunk(emojiList, 21),\n      con: '',\n      toUid: '',\n      limit: 15,\n      upperId: 0,\n      chatList: [],\n      kefuInfo: {},\n      scrollTop: 0,\n      active: true,\n      isScroll: true,\n      oldHeight: 0,\n      selector: '',\n      transferList: [], //转接列表\n      isTransfer: false,\n      uploadData: {}, // 上传参数\n      header: {},\n      fileUrl: '',\n      userToken: '',\n      tourist_uid: '', //游客的uid\n      orderId: '',\n      orderInfo: '',\n      cartInfo: '',\n      productId: '',\n      productInfo: '',\n      tourist_avatar: '',\n    };\n  },\n  computed: {\n    isSend() {\n      if (this.con.length == 0) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    records() {\n      return this.chatList.map((item, index) => {\n        item.time = this.$moment(item.add_time * 1000).format('MMMDo h:mm');\n        if (index) {\n          if (item.add_time - this.chatList[index - 1].add_time >= 300) {\n            item.show = true;\n          } else {\n            item.show = false;\n          }\n        } else {\n          item.show = true;\n        }\n        return item;\n      });\n    },\n  },\n  created() {\n    let token = localStorage.getItem('LOGIN_STATUS_TOKEN') || '';\n    this.fileUrl = Setting.apiBaseURL.replace('adminapi', 'kefuapi') + '/tourist/upload';\n    this.userToken = token;\n    this.toUid = this.$route.query.toUid || '';\n    this.nickname = this.$route.query.nickname || '';\n    this.orderId = this.$route.query.orderId || '';\n    this.productId = this.$route.query.product_id || '';\n  },\n  mounted() {\n    if (!this.$wechat._isMobile()) this.$router.replace('/kefu/appChat');\n    let that = this;\n    this.getServiceList();\n    if (this.userToken) {\n      this.getOrderInfo();\n      this.getGoodsInfo();\n    }\n    // 上传头部token\n    this.header['Authori-zation'] = 'Bearer ' + getCookies('kefu_token');\n    Socket.then((ws) => {\n      if (this.userToken) {\n        ws.send({\n          type: 'login',\n          data: this.userToken,\n        });\n      }\n      // 消息接收\n      ws.$on(['reply', 'chat'], (data) => {\n        if (data.msn_type == 1 || data.msn_type == 2) {\n          data.msn = this.replace_em(data.msn);\n        }\n        this.chatList.push(data);\n        this.$nextTick(() => {\n          this.$refs['scrollBox'].refresh();\n          this.scrollBom();\n        });\n        setTimeout((res) => {\n          this.$refs['scrollBox'].refresh();\n        }, 300);\n      });\n      ws.$on('socket_error', () => {\n        this.$message.error('连接失败');\n      });\n      ws.$on('error', () => {\n        this.$message.error('连接失败');\n      });\n      ws.$on('to_transfer', (data) => {\n        ws.send({\n          data: {\n            id: data.toUid,\n          },\n          type: 'to_chat',\n        });\n      });\n      ws.$on('online', (data) => {\n        if (data.online == 0 && data.uid == that.toUid) {\n          that.$Modal.confirm({\n            title: '提示',\n            content: '客服已离线，是否需要反馈？',\n            okText: '确定',\n            cancelText: '取消',\n            onOk: () => {\n              that.$router.replace({\n                path: '/kefu/mobile_feedback',\n              });\n            },\n          });\n        }\n      });\n    });\n    this.$nextTick(() => {});\n  },\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    handleFormatError(file) {\n      this.$message.error('上传图片只能是 jpg、jpg、jpeg、gif 格式!');\n    },\n    // 获取商品信息\n    getGoodsInfo() {\n      if (!this.productId) return;\n      productApi(this.productId)\n          .then((res) => {\n            this.productInfo = res.data;\n          })\n          .catch((err) => {\n            this.$message.error(err.msg);\n          });\n    },\n    // 获取订单信息\n    getOrderInfo() {\n      if (!this.orderId) return;\n      getOrderApi(this.orderId, {\n        token: this.userToken,\n      }).then((res) => {\n        this.orderInfo = res.data;\n        if (this.orderInfo.add_time_h) {\n          this.orderInfo.add_time_h = this.orderInfo.add_time_h.substring(\n              0,\n              this.orderInfo.add_time_h.lastIndexOf(':'),\n          );\n        }\n        if (this.orderInfo.cartInfo.length) {\n          this.cartInfo = this.orderInfo.cartInfo[0];\n        }\n      });\n    },\n    // 获取随机客服\n    getServiceList() {\n      serviceListApi({\n        token: this.userToken,\n      })\n          .then((res) => {\n            this.toUid = res.data.uid;\n            this.tourist_uid = res.data.tourist_uid;\n            document.title = res.data.nickname;\n            this.tourist_avatar = res.data.tourist_avatar;\n            if (this.userToken) {\n              this.getChatList();\n            }\n            let obj = {\n              data: {\n                id: res.data.uid,\n                tourist_uid: this.tourist_uid,\n              },\n              type: 'to_chat',\n            };\n            Socket.then((ws) => {\n              ws.send(obj);\n            });\n          })\n          .catch((error) => {\n            this.$message.error(error.msg);\n            setTimeout((res) => {\n              this.$router.replace({\n                path: '/kefu/mobile_feedback',\n              });\n            }, 2000);\n          });\n    },\n    // 上传之前\n    beforeUpload(file) {\n      const isImage = file.type === 'image/jpeg' || file.type === 'image/png';\n      if (!isImage) {\n        this.$message.error('上传图片只能是 JPG、PNG 格式!');\n      }\n      this.uploadData = {\n        filename: file,\n        token: this.userToken,\n      };\n      let promise = new Promise((resolve) => {\n        this.$nextTick(function () {\n          resolve(true);\n        });\n      });\n      return promise;\n    },\n    // 上传成功\n    handleSuccess(res, file, fileList) {\n      if (res.status === 200) {\n        this.$message.success(res.msg);\n        this.sendMsg(res.data.url, 3);\n      } else {\n        this.$message.error(res.msg);\n      }\n    },\n    // 滚动到底部\n    scrollBom() {\n      setTimeout((res) => {\n        let num = parseFloat(document.getElementById('chatBox').offsetHeight);\n        if (this.$refs['scrollBox']) {\n          this.$refs['scrollBox'].scrollTo(\n              {\n                y: num,\n              },\n              300,\n          );\n        }\n      }, 300);\n    },\n    // 订单详情\n    goOrderDetail(item) {\n      this.$router.push({\n        path: `/kefu/orderDetail/${item.orderInfo.id}`,\n      });\n    },\n    // 底部功能区打开\n    openBox(key) {\n      if (key == 1) {\n        this.isTool = false;\n        this.isSwiper = !this.isSwiper;\n      } else {\n        this.isSwiper = false;\n        this.isTool = !this.isTool;\n      }\n      this.$refs['scrollBox'].refresh();\n      this.$nextTick(() => {\n        this.scrollBom();\n      });\n    },\n    showWords() {\n      this.isWords = true;\n    },\n\n    // 转接\n    goTransfer() {\n      this.isTransfer = true;\n    },\n    // 转接关闭\n    closeTransfer() {\n      this.transferList.forEach((el, index) => {\n        el.isCheck = false;\n      });\n      this.isTransfer = false;\n    },\n    // 商品信息\n    goodsInfo() {\n      this.$router.push({\n        path: '/kefu/goods/list?toUid=' + this.toUid,\n      });\n    },\n    // 表情点击\n    addEmoji(item) {\n      let val = `[${item}]`;\n      this.con += val;\n    },\n    // 聊天表情转换\n    replace_em(str) {\n      str = str.replace(/\\[em-([\\s\\S]*)\\]/g, \"<span class='em em-$1'/></span>\");\n      return str;\n    },\n    // 获取聊天列表\n    getChatList() {\n      let self = this;\n      chatListApi({\n        limit: this.limit,\n        uid: this.toUid,\n        upperId: this.upperId,\n        token: this.userToken,\n      }).then((res) => {\n        var sH = 0;\n        res.data.forEach((el) => {\n          if (el.msn_type == 1 || el.msn_type == 2) {\n            el.msn = this.replace_em(el.msn);\n          }\n        });\n        let selector = '';\n        if (this.upperId == 0) {\n          selector = `chat_${res.data[res.data.length - 1].id}`;\n        } else {\n          selector = `chat_${this.chatList[0].id}`;\n        }\n        this.selector = selector;\n        this.chatList = [...res.data, ...this.chatList];\n        this.loading = false;\n        this.isScroll = res.data.length >= this.limit;\n        this.$refs['scrollBox'].refresh();\n        this.$nextTick(() => {\n          this.$emit('change', true);\n          let num = parseFloat(document.getElementById(selector).offsetTop) - 60;\n          this.$refs['scrollBox'].scrollTo(\n              {\n                y: num,\n              },\n              0,\n          );\n        });\n      });\n    },\n    // 发送订单\n    sendOrder() {\n      this.sendMsg(this.orderId, 6);\n      this.orderId = 0;\n      this.orderInfo = {};\n    },\n    // 发送商品\n    sendProduct() {\n      this.sendMsg(this.productId, 5);\n      this.productId = 0;\n      this.productInfo = {};\n    },\n    // 发送消息\n    sendText() {\n      if (!this.isSend) {\n        this.$message.error('请输入内容');\n      }\n      this.sendMsg(this.con, 1);\n      this.con = '';\n    },\n    // ws发送\n    sendMsg(msn, type) {\n      let obj = {\n        type: 'chat',\n        data: {\n          msn,\n          type,\n          is_tourist: this.userToken ? 0 : 1,\n          to_uid: this.toUid,\n          tourist_uid: this.tourist_uid,\n          form_type: this.$wechat.isWeixin() ? 1 : 3,\n          tourist_avatar: this.userToken ? '' : this.tourist_avatar,\n        },\n      };\n      Socket.then((ws) => {\n        ws.send(obj);\n      });\n    },\n    // 图片上传\n    uploadImg() {\n      let self = this;\n      self.$util.uploadImageOne('upload/image', function (res) {\n        if (res.code == 200) {\n          self.sendMsg(res.data, 3);\n        }\n      });\n    },\n    //  商品详情页\n    goProduct(item) {\n      let url = window.location.protocol + '//' + window.location.host + '/pages/goods_details/index?id=' + item.msn;\n      window.open(url, '_blank');\n    },\n    // 用户订单\n    goAdminOrder() {\n      // this.$router.push({\n      //     path:'/kefu/orderList/0/'+this.toUid\n      // })\n      let url =\n          window.location.protocol +\n          '//' +\n          window.location.host +\n          '/pages/goods/order_details/index?order_id=' +\n          item.msn;\n      window.open(url, '_blank');\n    },\n    // 滚动到底部\n    height() {\n      let self = this;\n      var scrollTop = 0;\n      let info = uni.createSelectorQuery().select('.chat');\n      setTimeout((res) => {\n        info\n            .boundingClientRect(function (data) {\n              //data - 各种参数\n              scrollTop = data.height;\n              if (self.active) {\n                self.scrollTop = parseInt(scrollTop) + 500;\n              } else {\n                self.scrollTop = parseInt(scrollTop) + 100;\n              }\n            })\n            .exec();\n      }, 1000);\n    },\n    handleActivate(vm, refreshDom) {\n      this.upperId = this.chatList[0].id;\n    },\n    handleStart(vm, refreshDom, done) {\n      setTimeout(() => {\n        // load finished\n        done();\n      }, 2000);\n    },\n    handleBeforeDeactivate(vm, refreshDom, done) {\n      if (this.userToken) {\n        this.getChatList();\n        this.$on('change', (data) => {\n          if (data) done();\n        });\n      } else {\n        done();\n      }\n    },\n    handleDeactivate(vm, refreshDom) {\n      let num = parseFloat(document.getElementById(this.selector).offsetTop) - 60;\n      this.$refs['scrollBox'].scrollTo(\n          {\n            y: num,\n          },\n          0,\n      );\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.head-box{\n  position relative\n  display flex\n  align-items center\n  justify-content center\n  color #fff\n  height 45px\n  background: linear-gradient(85deg, #3875EA 0%, #1890FC 100%);\n  span{\n    position absolute\n    width 45px\n    height 100%\n    left 0\n    top 0\n    text-align center\n    line-height 45px\n  }\n}\n.chat-box {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  height: 100vh;\n  background #F0F1F2\n  .head-box {\n    background: linear-gradient(85deg, #3875EA 0%, #1890FC 100%);\n\n    .title-hd {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      height: 43px;\n      padding: 0 .3rem;\n      color: #fff;\n\n      .icon-fanhui {\n        position: absolute;\n        left: .3rem;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .icon-gengduo2 {\n        /* #ifdef MP */\n        position: absolute;\n        right: 2.1rem;\n        top: 50%;\n        transform: translateY(-50%);\n        /* #endif */\n      }\n    }\n  }\n\n  .scroll-box {\n    flex: 1;\n  }\n\n  .footer-box {\n    display: flex;\n    align-items: center;\n    height: 1rem;\n    padding: 0 .3rem;\n    color: rgba(0,0,0,0.8);\n    background: #f7f7f7;\n    .words{\n      margin-right .18rem\n    }\n    .words .iconfont {\n      font-size: .5rem\n    }\n\n    .input-box {\n      display: flex;\n      align-items: center;\n      flex 1\n      height: .64rem;\n      padding-right: 0.05rem;\n      background-color: #fff;\n      border-radius: .32rem;\n      overflow hidden\n\n      input {\n        flex: 1;\n        padding-left: .2rem;\n        height: 100%;\n        border transparent !important\n\n      }\n      ::v-deep .el-input__inner{\n        font-size .28rem !important\n      }\n      ::v-deep .el-input__inner, .el-input__inner:hover, .el-input__inner:focus {\n        border transparent\n        box-shadow: none;\n      }\n\n      .iconfont {\n        font-size: .5rem;\n        color: #ccc;\n        font-weight: normal;\n      }\n\n      .isSend {\n        color: #3875EA;\n      }\n    }\n\n    .emoji .iconfont {\n      margin-left: .18rem;\n      font-size: .5rem;\n    }\n\n    .more .iconfont {\n      margin-left: .18rem;\n      font-size: .5rem;\n    }\n\n  }\n}\n\n.tool-wrapper {\n  display: flex;\n  justify-content: space-between;\n  padding: .45rem .6rem;\n  background: #fff;\n  font-size: .24rem;\n\n  .tool-item {\n    text-align: center;\n\n    img {\n      width: 1.04rem;\n      height: 1.04rem;\n    }\n  }\n}\n\n.slider-banner {\n  padding-bottom .25rem\n  background: #fff;\n\n  .em {\n    display: inline-block;\n    width: .5rem;\n    height: .5rem;\n    margin: .4rem 0 0 .5rem;\n  }\n}\n\n.words-mask {\n  z-index: 50;\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n\n  .content {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 1.14rem;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    background: #fff;\n    border-radius: 0.06rem 0.06rem 0px 0px;\n\n    .title-box {\n      padding: 0 .3rem .3rem;\n      position: relative;\n      border-bottom 1px solid #F5F6F9\n      .tab-box{\n        position relative\n        display flex\n        justify-content space-between\n        padding .4rem 2.2rem .3rem\n        font-size .32rem\n        color #9F9F9F\n        .on{\n          color #3875EA\n          font-weight bold\n        }\n        .right-icon{\n          position absolute\n          right 0\n          top 50%\n          transform translateY(-50%)\n          .iconfont{\n            margin-left .2rem\n            font-size .48rem\n            color #C8CAD0\n          }\n        }\n      }\n      .input-box{\n        display: flex;\n        align-items: center;\n        width: 6.9rem;\n        height: .64rem;\n        padding-right: 0.05rem;\n        margin-left: .18rem;\n        border-radius: .32rem;\n        overflow hidden\n\n        ::v-deep .el-input__inner{\n          background #F5F6F9\n        }\n        ::v-deep .el-input__inner, .el-input__inner:hover, .el-input__inner:focus {\n          border transparent\n          box-shadow: none;\n        }\n      }\n      .icon-cha1 {\n        position: absolute;\n        right: 0;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n    }\n\n    .scroll-box {\n      flex: 1;\n      display flex\n      overflow: hidden;\n      .scroll-left{\n        width 1.76rem\n        height 100%\n        overflow-y scroll\n        -webkit-overflow-scrolling touch\n        background #F5F6F9\n        .left-item{\n          position relative\n          display flex\n          align-items center\n          justify-content center\n          width 100%\n          height 1.09rem\n          color #282828\n          font-size .26rem\n          &.active{\n            color #3875EA\n            background #fff\n            &:after{\n              content ' '\n              position: absolute;\n              left 0\n              top 50%\n              transform translateY(-50%)\n              width 0.06rem\n              height .46rem\n              background #3875EA\n            }\n          }\n          &.add_cate{\n            color #9F9F9F\n            font-size .26rem\n            .iconfont{\n              margin-right 0.1rem\n              font-size .24rem\n            }\n          }\n        }\n      }\n      .right-box{\n        flex 1\n        overflow scroll\n        -webkit-overflow-scrolling touch\n      }\n      .msg-item {\n        padding: .25rem .3rem;\n        color #888888\n        font-size .28rem\n        .title{\n          margin-right .2rem\n          color #282828\n        }\n        &.add-mg{\n          display flex\n          align-items center\n          justify-content flex-end\n          font-size .28rem\n          padding .15rem .3rem\n          .iconfont{\n            font-size .36rem\n            margin-right .1rem\n          }\n        }\n      }\n    }\n  }\n}\n\n.chat-scroll-box {\n  flex: 1;\n  overflow: hidden;\n  .day-box{\n    margin-bottom .2rem\n    font-size .24rem\n    color #999\n    text-align: center;\n  }\n  .chat-item {\n    display: flex;\n    margin-bottom: .36rem;\n    font-size .28rem\n    .avatar {\n      width: .8rem;\n      height: .8rem;\n      border-radius: 50%;\n    }\n\n    .msg-box {\n      display: flex;\n      align-items: center;\n      max-width: 4.52rem;\n      margin-left: .22rem;\n      padding: .1rem .24rem;\n      background: #fff;\n      border-radius: .14rem;\n      word-break: break-all;\n      font-size .28rem\n    }\n\n    .img-box {\n      width: 2.7rem;\n      margin-left: .22rem;\n\n      img {\n        width: 2.7rem;\n        border-radius 6px\n      }\n    }\n\n    .product-box {\n      width: 4.52rem;\n      background-color: #fff;\n      border-radius: .14rem;\n      overflow: hidden;\n      margin-left: .22rem;\n\n      img {\n        width: 4.52rem;\n      }\n\n      .info {\n        padding: .16rem .26rem;\n\n        .price {\n          font-size: .36rem;\n          color: #F74C31;\n\n          text {\n            font-size: .28rem;\n          }\n        }\n      }\n    }\n\n    .order-box {\n      width: 4.52rem;\n      margin-left: .22rem;\n      background-color: #fff;\n      border-radius: .14rem;\n\n      .title {\n        padding: .15rem .2rem;\n        font-size: .26rem;\n        color: #282828;\n        border-bottom: 1px solid #ECEFF8;\n      }\n\n      .info {\n        display: flex;\n        padding: .2rem;\n\n        img {\n          width: 1.24rem;\n          height: 1.24rem;\n          border-radius: 0.06rem;\n        }\n\n        .product-info {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          margin-left: .16rem;\n\n          .name {\n            font-size: .26rem;\n          }\n\n          .price {\n            font-size: .3rem;\n            color: #F74C31;\n          }\n        }\n      }\n    }\n\n    &.right-box {\n      flex-direction: row-reverse;\n\n      .msg-box {\n        margin-left: 0;\n        margin-right: .22rem;\n        background-color: #9cec60;\n\n        color #333\n      }\n\n      .img-box {\n        margin-left: 0;\n        margin-right: .22rem;\n      }\n\n      .product-box {\n        margin-left: 0;\n        margin-right: .22rem;\n      }\n\n      .order-box {\n        margin-left: 0;\n        margin-right: .22rem;\n      }\n    }\n\n    .em {\n      margin: 0;\n    }\n  }\n}\n.transfer-mask\n  z-index 30\n  position fixed\n  left 0\n  top 0\n  width 100%\n  height 100%\n  background rgba(0,0,0,0.5)\n  .content\n    position absolute\n    left 0\n    bottom 0\n    transform translateY(100%)\n    top 2.5rem\n    right 0\n    display flex\n    flex-direction column\n    background #fff\n    border-radius: .16rem .16rem 0px 0px;\n    &.on\n      animation up .2s linear\n      animation-fill-mode: forwards;\n    .title\n      position relative\n      display flex\n      align-items center\n      justify-content center\n      height 1.1rem\n      font-size .32rem\n      font-weight bold\n      color #282828\n      .iconfont\n        position absolute\n        right .3rem\n        top 50%\n        transform translateY(-50%)\n        color #C8CAD0\n        font-size .44rem\n    .list-wrapper\n      flex 1\n      padding-left .3rem\n      overflow-y scroll\n      -webkit-overflow-scrolling touch\n      .list-item\n        display flex\n        align-items center\n        padding .16rem 0\n        border-bottom 1px solid #ECEFF8\n        .check-box\n          width .72rem\n        .avatar-box img\n          width .9rem\n          height .9rem\n          border-radius 0.06rem\n        .nickName\n          margin-left .28rem\n          color #282828\n          font-size .3rem\n          font-weight bold\n    .btn\n      width 6.9rem\n      height .86rem\n      margin .5rem auto\n      color #fff\n      background #3875EA\n      font-size .3rem\n      border-radius: .43rem !important;\n.broadcast-details_box {\n  display: flex;\n  background: #fff;\n  border-radius: 6px;\n  padding: .24rem;\n}\n\n.broadcast_details_img {\n  width: 1.4rem;\n  height: 1.4rem;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n}\n\n.broadcast_details_img img {\n  width: 100%;\n  height: 100%;\n}\n\n.broadcast_details_picBox {\n  width: 75%;\n  margin-left: .24rem;\n}\n\n.broadcast_details_tit {\n  font-size: .28rem;\n  color: #333333;\n  height: .85rem;\n  font-weight: 800;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  text-align: left !important;\n}\n\n.broadcast_details_pic {\n  font-size: .36rem;\n  color: #e93323;\n  text-align: left;\n}\n\n.broadcast_details_pic_num {\n  text-decoration: line-through;\n  font-size: .28rem;\n  color: rgba(0, 0, 0, 0.5);\n  margin-left: 0.1rem;\n}\n\n.broadcast_details_btn {\n  width: 1.3rem;\n  height: .5rem;\n  background: #e83323;\n  opacity: 1;\n  border-radius: 1.25rem;\n  color: #fff;\n  font-size: .24rem;\n  text-align: center;\n  line-height: .5rem;\n}\n\n.broadcast-details_num {\n  width: 100%;\n  height: .8rem;\n  line-height: .8rem;\n  color: #000000;\n  font-size: .26rem;\n  display: flex;\n  justify-content: space-between;\n  background: #fff;\n  border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\n  padding: 0 .24rem;\n}\n</style>\n<style>\n@keyframes up {\n  0% {\n    transform: translateY(100%);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n.emoji-outer {\n  position: absolute;\n  right: 0.5rem;\n  bottom: 0.3rem;\n  width: 0.5rem;\n  height: 0.5rem;\n}\n</style>\n"]}]}