{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/communityList/index.vue?vue&type=style&index=0&id=1df6f3f0&scoped=true&lang=scss","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/communityList/index.vue","mtime":1722492401000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/sass-loader/dist/cjs.js","mtime":1746465018452},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cjo6di1kZWVwIC5lbC10YWJzX19pdGVtIHsKICBoZWlnaHQ6IDU0cHggIWltcG9ydGFudDsKICBsaW5lLWhlaWdodDogNTRweCAhaW1wb3J0YW50Owp9Cjo6di1kZWVwIC5lbC1iYWRnZV9fY29udGVudC5pcy1maXhlZCB7Cgl0b3A6IDhweCAhaW1wb3J0YW50Owp9Ci5waWNCb3ggewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBjdXJzb3I6IHBvaW50ZXI7CgogIC51cExvYWQgewogICAgd2lkdGg6IDU4cHg7CiAgICBoZWlnaHQ6IDU4cHg7CiAgICBsaW5lLWhlaWdodDogNThweDsKICAgIGJvcmRlcjogMXB4IGRvdHRlZCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDIpOwogICAgZm9udC1zaXplOiAyNHB4OwogICAgZm9udC13ZWlnaHQ6IDUwMDsKICB9CgogIC5waWN0cnVlIHsKICAgIHdpZHRoOiA2MHB4OwogICAgaGVpZ2h0OiA2MHB4OwogICAgYm9yZGVyOiAxcHggZG90dGVkIHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIG1hcmdpbi1yaWdodDogMTBweDsKCiAgICBpbWcgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQogIH0KfQoKLnVzZXJGcm9tIHsKICA6OnYtZGVlcCAuaXZ1LWZvcm0taXRlbS1jb250ZW50IHsKICAgIG1hcmdpbi1sZWZ0OiAwcHggIWltcG9ydGFudDsKICB9Cn0KCi51c2VyQWxlcnQgewogIG1hcmdpbi10b3A6IDIwcHg7Cn0KCi51c2VySSB7CiAgY29sb3I6IHZhcigtLXByZXYtY29sb3ItcHJpbWFyeSk7CiAgZm9udC1zdHlsZTogbm9ybWFsOwp9CgppbWcgewogIGhlaWdodDogMzZweDsKICBkaXNwbGF5OiBibG9jazsKfQoKLnRhYkJveF9pbWcgewogIHdpZHRoOiAzNnB4OwogIGhlaWdodDogMzZweDsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwoKICBpbWcgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgfQp9CgoudGFiQm94X3RpdCB7CiAgd2lkdGg6IDYwJTsKICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDsKICBtYXJnaW46IDAgMnB4IDAgMTBweDsKICBsZXR0ZXItc3BhY2luZzogMXB4OwogIHBhZGRpbmc6IDVweCAwOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCi5tb2RlbEJveCB7CiAgOjp2LWRlZXAgLml2dS1tb2RhbC1ib2R5IHsKICAgIHBhZGRpbmc6IDAgMTZweCAxNnB4IDE2cHggIWltcG9ydGFudDsKICB9Cn0KCi52aXBOYW1lIHsKICBjb2xvcjogI2RhYjE3NjsKfQoKLmxpc3Rib3ggewogIDo6di1kZWVwIC5pdnUtZGl2aWRlci1ob3Jpem9udGFsIHsKICAgIG1hcmdpbjogMCAhaW1wb3J0YW50OwogIH0KfQoKLmxhYmVsSW5wdXQgewogIHdpZHRoOiAxODBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjZGNkZWUyOwogIHBhZGRpbmc6IDAgMTVweDsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgbWluLWhlaWdodDogMzBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZm9udC1zaXplOiAxMnB4OwogIC5zcGFuIHsKICAgIGNvbG9yOiAjYzVjOGNlOwogIH0KCiAgLml2dS1pY29uLWlvcy1hcnJvdy1kb3duIHsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIGNvbG9yOiAjODA4Njk1OwogIH0KfQoKLmRlbW8tZHJhd2VyLWZvb3RlciB7CiAgd2lkdGg6IDEwMCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMDsKICBsZWZ0OiAwOwogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZThlOGU4OwogIHBhZGRpbmc6IDEwcHggMTZweDsKICB0ZXh0LWFsaWduOiByaWdodDsKICBiYWNrZ3JvdW5kOiAjZmZmOwp9Ci5zZWFyY2gtZm9ybSB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgLnNlYXJjaC1mb3JtLWJveCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAgZmxleDogMTsKICB9Cn0KLnNlYXJjaC1mb3JtLXN1YiB7CiAgZGlzcGxheTogZmxleDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAigBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/community/communityList","sourcesContent":["<template>\n\t<div>\n\t\t<el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: 0 }\">\n\t\t\t<div class=\"padding-add\">\n\t\t\t\t<el-form\n\t\t\t\t\tref=\"userFrom\"\n\t\t\t\t\t:model=\"userFrom\"\n\t\t\t\t\tlabel-width=\"80px\"\n\t\t\t\t\tlabel-position=\"right\"\n\t\t\t\t\t@submit.native.prevent\n\t\t\t\t\tinline>\n\t\t\t\t\t<div class=\"acea-row search-form\">\n\t\t\t\t\t\t<el-form-item label=\"动态话题：\" label-for=\"act\" prop=\"act\">\n\t\t\t\t\t\t\t<el-select\n\t\t\t\t\t\t\t\tv-model=\"userFrom.act\"\n\t\t\t\t\t\t\t\tplaceholder=\"动态话题：请选择\"\n\t\t\t\t\t\t\t\tclearable style=\"width: 180px;\">\n\t\t\t\t\t\t\t    <el-option\n\t\t\t\t\t\t\t\t\tv-for=\"act in selectDataLabel\"\n\t\t\t\t\t\t\t\t\t:key=\"act.uuId\"\n\t\t\t\t\t\t\t\t\t:label=\"act.actName\"\n\t\t\t\t\t\t\t\t\t:value=\"act.actName\"/>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"用户名：\" label-for=\"nickName\" prop=\"nickName\">\n\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\tv-model=\"userFrom.nickName\"\n\t\t\t\t\t\t\t\tplaceholder=\"用户名关键词搜索\"\n\t\t\t\t\t\t\t\tstyle=\"width: 180px;\"\n\t\t\t\t\t\t\t\tclass=\"form_content_width\">\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"动态内容：\" label-for=\"content\" prop=\"content\">\n\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\tv-model=\"userFrom.content\"\n\t\t\t\t\t\t\t\tplaceholder=\"动态内容关键词搜索\"\n\t\t\t\t\t\t\t\tstyle=\"width: 180px;\"\n\t\t\t\t\t\t\t\tclass=\"form_content_width\">\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"发布时间：\" label-for=\"publishTimes\">\n\t\t\t\t\t\t\t<el-date-picker\n\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\tv-model=\"regDates\"\n\t\t\t\t\t\t\t\ttype=\"daterange\"\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\tstart-placeholder=\"开始日期\"\n\t\t\t\t\t\t\t\tend-placeholder=\"结束日期\"\n\t\t\t\t\t\t\t\t@change=\"handleChange\"\n\t\t\t\t\t\t\t\t:picker-options=\"pickerOptions\"\n\t\t\t\t\t\t\t\tstyle=\"width: 250px\"\n\t\t\t\t\t\t\t\tclass=\"mr20\"></el-date-picker>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item class=\"search-form-sub\">\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"comSearch\">搜索</el-button>\n\t\t\t\t\t\t\t<el-button class=\"ResetSearch\" @click=\"reset('userFrom')\">重置</el-button>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</div>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t</el-card>\n\t\t<el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\" :body-style=\"{ padding: '0 20px 20px' }\">\n\t\t\t<el-tabs v-model=\"userFrom.priority\" @tab-click=\"onClickTab\">\n\t\t\t  <el-tab-pane :label=\"item.name\" :name=\"item.type\" v-for=\"(item, index) in headeNum\" :key=\"index\" />\n\t\t\t</el-tabs>\n\t\t\t<el-table :data=\"communityList\"\n\t\t\t\t\tclass=\"mt16\"\n\t\t\t\t\tref=\"table\"\n\t\t\t\t\thighlight-current-row\n\t\t\t\t\tv-loading=\"loading\"\n\t\t\t\t\tempty-text=\"暂无数据\"\n\t\t\t\t\tno-filtered-userFrom-text=\"暂无筛选结果\"\n\t\t\t\t\t@sort-change=\"sortChanged\"\n\t\t\t\t\t@select=\"handleSelectRow\"\n\t\t\t\t\t@select-all=\"handleSelectAll\"\n\t\t\t\t\t@row-click=\"handleRowClick\">\n\t\t\t\t<el-table-column label=\"ID\" type=\"index\" width=\"80\" align=\"center\" />\n\t\t\t\t<el-table-column label=\"头像\" width=\"80\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div class=\"tabBox_img\" v-viewer>\n\t\t\t\t\t\t\t<img v-lazy=\"scope.row.user.headUrl\" v-if=\"scope.row.user && scope.row.user.headUrl && /(\\.jpg|\\.jpeg|\\.png|\\.gif|\\.bmp)$/i.test(scope.row.user.headUrl)\"/>\n\t\t\t\t\t\t\t<img src=\"../../../assets/images/maijiCat.png\" v-else/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t  label=\"用户名\"\n\t\t\t\t  width=\"180\"\n\t\t\t\t  show-overflow-tooltip>\n\t\t\t\t  <template slot-scope=\"scope\">\n\t\t\t\t  \t<div>\n\t\t\t\t\t\t{{ scope.row.user.nickName || '麦吉用户' }}\n\t\t\t\t  \t</div>\n\t\t\t\t  </template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"动态话题/内容\" width=\"352\" show-overflow-tooltip>\n\t\t\t\t  <template slot-scope=\"scope\">\n\t\t\t\t    <span style=\"color: gray;\">标题：</span>\n\t\t\t\t    <span>{{ scope.row.title || '—' }}</span>\n\t\t\t\t    <br />\n\t\t\t\t    <span style=\"color: gray;\">内容：</span>\n\t\t\t\t    <span>{{ scope.row.content }}</span>\n\t\t\t\t  </template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tlabel=\"发布时间\"\n\t\t\t\t\twidth=\"180\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.publishTime | dateFormatter }}\n\t\t\t\t\t</template>\n\t\t\t    </el-table-column>\n\t\t\t\t<el-table-column label=\"动态标签\" width=\"180\" align=\"center\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<span v-if=\"scope.row.labelIds.length == 0\">普通动态</span>\n\t\t\t\t\t\t<span style=\"color:#2db2ea;margin-left: 15px;\" v-if=\"scope.row.labelIds.includes(1)\">首页推荐</span> \n\t\t\t\t\t\t<span style=\"color:#ffa93c;margin-left: 15px;\" v-if=\"scope.row.labelIds.includes(3)\">精选动态</span><br>\n\t\t\t\t\t\t<span style=\"color:#8f7ee5;\" v-if=\"scope.row.labelIds.includes(2)\">案例动态</span>\n\t\t\t\t\t\t<span style=\"color:#8f7ee5;margin-left: 15px;\" v-if=\"scope.row.labelIds.includes(0)\">优质动态</span> \n\t\t\t\t\t\t<span style=\"color:#34d384;margin-left: 15px;\" v-if=\"scope.row.isTop == 1 && ! ['1', '2', '3'].includes(userFrom.priority)\">全局置顶</span>\n\t\t\t\t\t\t<el-tag\n\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\tv-if=\"userFrom.isolation && scope.row.examined == 1\"\n\t\t\t\t\t\t\t>自动审核</el-tag>\n\t\t\t\t\t\t<el-tag\n\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\tv-if=\"userFrom.isolation && scope.row.examined == 2\"\n\t\t\t\t\t\t\t>人工审核</el-tag>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"回复用户\" width=\"100\" align=\"center\">\n\t\t\t\t    <template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-popover\n\t\t\t\t\t\t\twidth=\"250\"\n\t\t\t\t\t\t\tref=\"popover\"\n\t\t\t\t\t\t\ttrigger=\"click\"\n\t\t\t\t\t\t\tpopper-popper-class=\"myPopper\"\n\t\t\t\t\t\t\tstyle=\"margin-left: 10px;\" >\n\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t\t:rows=\"3\"\n\t\t\t\t\t\t\t\tv-model=\"scope.row.rcontent\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入回复内容\"\n\t\t\t\t\t\t\t\tstyle=\"width: 100%;\"/>\n\t\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t\tplain\n\t\t\t\t\t\t\t\t@click=\"commentMsg(scope)\"\n\t\t\t\t\t\t\t\tstyle=\"width: 100%; margin-top: 10px;\"\n\t\t\t\t\t\t\t\t>确定</el-button>\n\t\t\t\t\t\t\t<span slot=\"reference\" style=\"color: #409EFF; cursor: pointer;\">\n\t\t\t\t\t\t\t回复\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</el-popover>\n\t\t\t\t    </template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"详情/评论\" width=\"150\" align=\"center\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-badge :value=\"scope.row.commentedCount\" class=\"item_a\">\n\t\t\t\t\t\t\t<el-button type=\"text\" size=\"mini\" @click=\"showDialog(scope.row.msgId)\">查看详情</el-button>\n\t\t\t\t\t\t</el-badge>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"置顶序号\" width=\"80\" fixed=\"right\" v-if=\"userFrom.priority == '5'\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-input size=\"mini\" width=\"80\"\n\t\t\t\t\t\t\tv-model=\"scope.row.topSort\" \n\t\t\t\t\t\t\t@blur=\"editArticle(Object.assign(scope.row, {isTop: 1}), 1)\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tlabel=\"操作\"\n\t\t\t\t\tfixed=\"right\"\n\t\t\t\t\twidth=\"200\"\n\t\t\t\t\tv-if=\"['-1'].includes(userFrom.priority)\"\n\t\t\t\t\talign=\"center\">\n\t\t\t\t\t<template slot-scope=\"scope\" v-if=\"['-1', '0'].includes(userFrom.priority)\">\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t@click=\"auditClick(scope.row)\"\n\t\t\t\t\t\t\tv-if=\"!scope.row.isolation\"\n\t\t\t\t\t\t\t>审核</el-button>\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t@click=\"editArticle(Object.assign(scope.row, {isolation: false}), 1)\"\n\t\t\t\t\t\t\tv-if=\"scope.row.isolation\"\n\t\t\t\t\t\t\tstyle=\"color: red;\"\n\t\t\t\t\t\t\t>取消屏蔽</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" align=\"center\" width=\"200\" fixed=\"right\" v-if=\"userFrom.priority != '-1'\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t@click=\"auditClick(scope.row)\"\n\t\t\t\t\t\t\tv-if=\"!scope.row.isolation\"\n\t\t\t\t\t\t>重新审核</el-button>\n\t\t\t\t\t<el-button\n\t\t\t\t\t\tv-if=\"userFrom.priority != '6'\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\tstyle=\"color:red\"\n\t\t\t\t\t\t@click=\"editArticle(Object.assign(scope.row, {isolation: true, examined: 1}), 1)\">\n\t\t\t\t\t\t屏蔽 </el-button>\n\t\t\t\t\t<el-button\n\t\t\t\t\t\tv-if=\"userFrom.priority == '6'\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t@click=\"editArticle(Object.assign(scope.row, {isolation: false}), 1)\"\n\t\t\t\t\t\tstyle=\"color: red;\">取消屏蔽</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<div class=\"acea-row row-right page\">\n\t\t\t\t<pagination\n\t\t\t\t  v-if=\"total\"\n\t\t\t\t  :total=\"total\"\n\t\t\t\t  :page.sync=\"userFrom.page\"\n\t\t\t\t  :limit.sync=\"userFrom.limit\"\n\t\t\t\t  @pagination=\"pageChange\"/>\n\t\t\t</div>\n\t\t</el-card>\n\t    <articleDetails ref=\"articleDetails\" :msgId=\"msgId\"></articleDetails>\n\t\t<commentAudit :auditValue =\"auditValue\" @funclick=\"getMKsgForson\"></commentAudit>\n\t</div>\n</template>\n<script>\n\timport { communityList,comActivityList,commentMsgApi,\n\t\teditComMsgInfoApi,editComMiddleLabelApi } from '@/api/community';\n\timport articleDetails from '../articleDetails';\n\timport commentAudit from '../commentAudit';\n\texport default {\n\t\tname: 'community_list',\n\t\tcomponents: {\n\t\t  commentAudit,\n\t\t  articleDetails\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmsgId: '',\n\t\t\t\tnumerical:0,\n\t\t\t\tauditValue:[],\n\t\t\t\ttotal: 0,\n\t\t\t\tloading: false,\n\t\t\t\tcommunityList: [],\n\t\t\t\tuserFrom: {\n\t\t\t\t\tpriority: '-1',\n\t\t\t\t\tact: '',\n\t\t\t\t    content: '',\n\t\t\t\t\tisolation: false,\n\t\t\t\t\tnickName: '',\n\t\t\t\t\tpublishTime1: '',\n\t\t\t\t\tpublishTime2: '',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: 15\n\t\t\t\t},\n\t\t\t\theadeNum: [\n\t\t\t\t\t{ type: '-1', name: '待审核' },\n\t\t\t\t\t{ type: '0', name: '优质动态' },\n\t\t\t\t\t{ type: '5', name: '置顶动态' },\n\t\t\t\t\t{ type: '1', name: '推荐动态' },\n\t\t\t\t\t{ type: '3', name: '精选动态' },\n\t\t\t\t\t{ type: '2', name: '案例动态' },\n\t\t\t\t\t{ type: '4', name: '积分动态' },\n\t\t\t\t\t{ type: '-2', name: '审核拒绝' },\n\t\t\t\t\t{ type: '6', name: '屏蔽动态' },\n\t\t\t\t],\n\t\t\t\tselectedIds: [],\n\t\t\t\tregDates: [],\n\t\t\t\tpickerOptions: {\n\t\t\t\t    shortcuts: [\n\t\t\t\t        {\n\t\t\t\t            text: \"最近一周\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setDate(start.getDate() - 6);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近两周\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setDate(start.getDate() - 13);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近三周\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setDate(start.getDate() - 20);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近一月\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setMonth(start.getMonth() - 1);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近两月\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setMonth(start.getMonth() - 2);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近三月\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setMonth(start.getMonth() - 2);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近半年\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setMonth(start.getMonth() - 6);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        },\n\t\t\t\t        {\n\t\t\t\t            text: \"最近一年\",\n\t\t\t\t            onClick(picker) {\n\t\t\t\t                const start = new Date();\n\t\t\t\t                start.setFullYear(start.getFullYear() - 1);\n\t\t\t\t                picker.$emit(\"pick\", [start, new Date()]);\n\t\t\t\t            }\n\t\t\t\t        }\n\t\t\t\t    ]\n\t\t\t\t},\n\t\t\t\tselectDataLabel: []\n\t\t\t}\n\t    },\n\t\tcreated() {\n\t\t\tthis.getList();\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getComActivity();\n\t\t},\n\t\tfilters: {\n\t\t\tdateFormatter (datetime) {\n\t\t\t\tif(datetime) {\n\t\t\t\t\tdatetime = new Date(datetime);\n\t\t\t\t\tlet y = datetime.getFullYear() + '-'\n\t\t\t\t\tlet yue = datetime.getMonth()+1;\n\t\t\t\t\tlet mon = yue < 10 ? '0'+yue+'-' : yue+'-'\n\t\t\t\t\tlet d = datetime.getDate() < 10 ? '0'+datetime.getDate() : datetime.getDate()\n\t\t\t\t\tlet hours = datetime.getHours() < 10 ? '0' + datetime.getHours() + ':' : datetime.getHours() + ':'\n\t\t\t\t\tlet minutes = datetime.getMinutes() < 10 ? \"0\" +datetime.getMinutes()+\":\" : datetime.getMinutes()+\":\"\n\t\t\t\t\tlet seconds = datetime.getSeconds() < 10 ? \"0\"+datetime.getSeconds() : datetime.getSeconds()\n\t\t\t\t\treturn y + mon + d + '\\n' + hours + minutes + seconds\n\t\t\t\t}\n\t\t\t\treturn '—'\n\t\t\t},\n\t\t},\n\t    methods: {\n\t\t\tonClickTab() {\n\t\t\t\tthis.userFrom.page = 1;\n\t\t\t\tthis.communityList = [];\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\tpageChange() {\n\t\t\t\tthis.communityList = [];\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\tsortChanged(e, props, order) {\n\t\t\t\tthis.userFrom[e.prop] = e.order.replace(\"ending\",\"\");\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\thandleSelectRow(selection, row) {\n\t\t\t\tlet ids = [];\n\t\t\t\t\tselection.map((e) => {\n\t\t\t\t\tids.push(e.uid);\n\t\t\t\t});\n\t\t\t\tthis.selectedIds = ids;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t//确保dom加载完毕\n\t\t\t\t\tthis.setChecked();\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleSelectAll(selection) {\n\t\t\t\tlet ids = [];\n\t\t\t\tselection.map((e) => {\n\t\t\t\t\tids.push(e.uid);\n\t\t\t\t});\n\t\t\t\tthis.selectedIds = ids;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t//确保dom加载完毕\n\t\t\t\t\tthis.setChecked();\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetChecked() {\n\t\t\t\t//将new Set()转化为数组\n\t\t\t\tthis.ids = [...this.selectedIds];\n\t\t\t\t// 找到绑定的table的ref对应的dom，找到table的objData对象，objData保存的是当前页的数据\n\t\t\t\tlet objData = this.$refs.table.objData;\n\t\t\t\tfor (let index in objData) {\n\t\t\t\t\tif (this.selectedIds.has(objData[index].uid)) {\n\t\t\t\t\t\tobjData[index]._isChecked = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetComActivity() {\n\t\t\t\tcomActivityList().then(res=>{\n\t\t\t\t\tlet arr = []\n\t\t\t\t\tres.data.forEach(function(item){\n\t\t\t\t\t\tlet obj = {\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\tactName : \"#\"+item.actName+\"#\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tarr.push(obj)\n\t\t\t\t\t})\n\t\t\t\t\tthis.selectDataLabel = arr\n\t\t\t\t})\t\n\t\t\t},\n\t\t\tgetList() {\n\t\t\t\tthis.loading = true;\n\t\t\t\tcommunityList(this.userFrom).then(async (res)=>{\n\t\t\t\t\tlet data = res.data;\n\t\t\t\t\tthis.communityList = data.list;\n\t\t\t\t\tthis.total = data.count;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.setChecked();\n\t\t\t\t\t});\n\t\t\t\t}) .catch((res) => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$message.error(res.msg);\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync commentMsg(scope) {\n\t\t\t\tconst data = {\n\t\t\t\t\tbelongId: scope.row.msgId,\n\t\t\t\t\tcontent: scope.row.rcontent,\n\t\t\t\t\tstatus: 0,\n\t\t\t\t};\n\t\t\t\tconst result = await commentMsgApi(data);\n\t\t\t\tif (result.code != 200)\n\t\t\t\t\treturn this.$message.error(`回复失败，请稍后重试`);\n\t\t\t\tdocument.body.click() \n\t\t\t\tthis.$refs['popover'].doClose();\n\t\t\t\treturn this.$message.success(`回复成功，请点击查看评论`);\n\t\t\t},\n\t\t\thandleRowClick() {\n\t\t\t\t\n\t\t\t},\n\t\t\tshowDialog(msgId) {\n\t\t\t\tthis.$refs.articleDetails.dynamic = true;\n\t\t\t\tthis.msgId = msgId\n\t\t\t\tthis.$refs.articleDetails.getDetails(msgId);\n\t\t\t\tthis.$refs.articleDetails.findAllComments();\n\t\t\t},\n\t\t\tasync editArticle(row, type) {\n\t\t\t\tlet result = {};\n\t\t\t\tif (type == 1) result = await editComMsgInfoApi(row);\n\t\t\t\tif (type == 2) result = await editComMiddleLabelApi(row);\n\t\t\t\tif (result.code != 200)\n\t\t\t\treturn this.$message.error(`设置失败，请稍后重试`);\n\t\t\t\tthis.getList();\n\t\t\t\tArray.from(document.getElementsByClassName(\"myPopper\")).forEach(\n\t\t\t\t\t(ep) => (ep.style.display = \"none\")\n\t\t\t\t);\n\t\t\t\treturn this.$message.success(`设置成功`);\n\t\t\t},\n\t\t\tauditClick(value){\n\t\t\t\tthis.numerical++\n\t\t\t\tthis.auditValue =[value,this.numerical]     \n\t\t\t},\n\t\t\tgetMKsgForson(data){\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\tcomSearch() {\n\t\t\t\tthis.userFrom.page = 1;\n\t\t\t\tthis.communityList = [];\n\t\t\t\tthis.getList();\n\t\t\t},\n\t\t\treset(name) {\n\t\t\t\tthis.$refs[name].resetFields();\n\t\t\t\tthis.regDates = []\n\t\t\t\tthis.userFrom.publishTime1 = ''\n\t\t\t\tthis.userFrom.publishTime1 = ''\n\t\t\t    this.communityList = [];\n\t\t\t    this.getList();\n\t\t\t},\n\t\t\thandleChange(e) {\n\t\t\t\tthis.regDates = e || [];\n\t\t\t\tif(this.regDates.length===0){\n\t\t\t\t\tthis.userFrom.publishTime1 = ''\n\t\t\t\t\tthis.userFrom.publishTime2 = ''\n\t\t\t\t}else{\n\t\t\t\t\tthis.userFrom.publishTime1 = e[0]\n\t\t\t\t\tthis.userFrom.publishTime2 = e[1]\n\t\t\t\t}\t\n\t\t\t}\n\t    }\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .el-tabs__item {\n  height: 54px !important;\n  line-height: 54px !important;\n}\n::v-deep .el-badge__content.is-fixed {\n\ttop: 8px !important;\n}\n.picBox {\n  display: inline-block;\n  cursor: pointer;\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n    font-size: 24px;\n    font-weight: 500;\n  }\n\n  .pictrue {\n    width: 60px;\n    height: 60px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 10px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n\n.userFrom {\n  ::v-deep .ivu-form-item-content {\n    margin-left: 0px !important;\n  }\n}\n\n.userAlert {\n  margin-top: 20px;\n}\n\n.userI {\n  color: var(--prev-color-primary);\n  font-style: normal;\n}\n\nimg {\n  height: 36px;\n  display: block;\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.tabBox_tit {\n  width: 60%;\n  font-size: 12px !important;\n  margin: 0 2px 0 10px;\n  letter-spacing: 1px;\n  padding: 5px 0;\n  box-sizing: border-box;\n}\n\n.modelBox {\n  ::v-deep .ivu-modal-body {\n    padding: 0 16px 16px 16px !important;\n  }\n}\n\n.vipName {\n  color: #dab176;\n}\n\n.listbox {\n  ::v-deep .ivu-divider-horizontal {\n    margin: 0 !important;\n  }\n}\n\n.labelInput {\n  width: 180px;\n  border: 1px solid #dcdee2;\n  padding: 0 15px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n  font-size: 12px;\n  .span {\n    color: #c5c8ce;\n  }\n\n  .ivu-icon-ios-arrow-down {\n    font-size: 14px;\n    color: #808695;\n  }\n}\n\n.demo-drawer-footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n.search-form {\n  display: flex;\n  justify-content: space-between;\n  .search-form-box {\n    display: flex;\n    flex-wrap: wrap;\n    flex: 1;\n  }\n}\n.search-form-sub {\n  display: flex;\n}\n</style>\n"]}]}