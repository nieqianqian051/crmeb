{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navMenu/horizontal.vue?vue&type=style&index=0&id=b7124ca6&scoped=true&lang=scss","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navMenu/horizontal.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/sass-loader/dist/cjs.js","mtime":1746465018452},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cjo6di1kZWVwIC5lbC1zY3JvbGxiYXJfX2Jhci5pcy1ob3Jpem9udGFsIHsKICBoZWlnaHQ6IDA7Cn0KLmVsLW1lbnUtaG9yaXpvbnRhbC13YXJwIHsKICBmbGV4OiAxOwogIG92ZXJmbG93OiBoaWRkZW47CiAgbWFyZ2luLXJpZ2h0OiAzMHB4OwogIDo6di1kZWVwIC5lbC1zY3JvbGxiYXJfX2Jhci5pcy12ZXJ0aWNhbCB7CiAgICBkaXNwbGF5OiBub25lOwogIH0KICA6OnYtZGVlcCAuZWwtc2Nyb2xsYmFyX193cmFwIHsKICAgIG92ZXJmbG93LXk6IGhpZGRlbiAhaW1wb3J0YW50OwogIH0KICA6OnYtZGVlcGEgewogICAgd2lkdGg6IDEwMCU7CiAgfQogIC5lbC1tZW51LmVsLW1lbnUtLWhvcml6b250YWwgewogICAgZGlzcGxheTogZmxleDsKICAgIGhlaWdodDogMTAwJTsKICAgIHdpZHRoOiAxMDAlOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICB9Cn0K"},{"version":3,"sources":["horizontal.vue"],"names":[],"mappings":";AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"horizontal.vue","sourceRoot":"src/layout/navMenu","sourcesContent":["<template>\n  <div class=\"el-menu-horizontal-warp\">\n    <el-scrollbar @wheel.native.prevent=\"onElMenuHorizontalScroll\" ref=\"elMenuHorizontalScrollRef\">\n      <el-menu\n        router\n        :default-active=\"activePath || defaultActive\"\n        background-color=\"transparent\"\n        mode=\"horizontal\"\n        @select=\"onHorizontalSelect\"\n      >\n        <template v-for=\"val in menuList\">\n          <el-submenu\n            :index=\"val.path\"\n            v-if=\"val.is_show && val.children && val.children.length > 0\"\n            :key=\"val.path\"\n          >\n            <template slot=\"title\">\n              <!-- <i class=\"ivu-icon\" :class=\"val.icon ? 'el-icon-' + val.icon : ''\"></i> -->\n              <span>{{ $t(val.title) }}</span>\n            </template>\n            <SubItem :chil=\"val.children\" />\n          </el-submenu>\n          <template v-else-if=\"val.is_show\">\n            <el-menu-item :index=\"val.path\" :key=\"val.path\">\n              <template slot=\"title\" v-if=\"!val.isLink || (val.isLink && val.isIframe)\">\n                <!-- <i class=\"ivu-icon\" :class=\"val.icon ? 'el-icon-' + val.icon : ''\"></i> -->\n                {{ $t(val.title) }}\n              </template>\n              <template slot=\"title\" v-else>\n                <a :href=\"val.isLink\" target=\"_blank\">\n                  <Icon :type=\"val.icon ? val.icon : ''\" />\n                  {{ $t(val.title) }}\n                </a>\n              </template>\n            </el-menu-item>\n          </template>\n        </template>\n      </el-menu>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport SubItem from '@/layout/navMenu/subItem.vue';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'navMenuHorizontal',\n  components: { SubItem },\n  props: {\n    menuList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  computed: {\n    ...mapState('menu', ['activePath']),\n  },\n  data() {\n    return {\n      defaultActive: null,\n    };\n  },\n  mounted() {\n    this.initElMenuOffsetLeft();\n    this.setCurrentRouterHighlight(this.$route.path);\n  },\n  methods: {\n    // 设置横向滚动条可以鼠标滚轮滚动\n    onElMenuHorizontalScroll(e) {\n      const eventDelta = e.wheelDelta || -e.deltaY * 40;\n      this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft =\n        this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft + eventDelta / 4;\n    },\n    // 初始化数据，页面刷新时，滚动条滚动到对应位置\n    initElMenuOffsetLeft() {\n      this.$nextTick(() => {\n        let els = document.querySelector('.el-menu.el-menu--horizontal li.is-active');\n        if (!els) return false;\n        this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft = els.offsetLeft;\n      });\n    },\n    // 路由过滤递归函数\n    filterRoutesFun(arr) {\n      return arr\n        .filter((item) => !item.isHide)\n        .map((item) => {\n          item = Object.assign({}, item);\n          if (item.children) item.children = this.filterRoutesFun(item.children);\n          return item;\n        });\n    },\n    // 传送当前子级数据到菜单中\n    setSendClassicChildren(path) {\n      const currentPathSplit = path.split('/');\n      let currentData = {};\n      this.filterRoutesFun(this.$store.state.routesList.routesList).map((v, k) => {\n        if (v.path === `/${currentPathSplit[1]}`) {\n          v['k'] = k;\n          currentData['item'] = [{ ...v }];\n          currentData['children'] = [{ ...v }];\n          if (v.children) currentData['children'] = v.children;\n        }\n      });\n      return currentData;\n    },\n    // 菜单激活回调\n    onHorizontalSelect(path) {\n      this.bus.$emit('setSendClassicChildren', this.setSendClassicChildren(path));\n    },\n    // 设置页面当前路由高亮\n    setCurrentRouterHighlight(path) {\n      const currentPathSplit = path.split('/');\n      if (this.$store.state.themeConfig.themeConfig.layout === 'classic') {\n        this.defaultActive = `/${currentPathSplit[1]}`;\n      } else {\n        this.defaultActive = path;\n      }\n    },\n  },\n  watch: {\n    // 监听路由的变化\n    $route: {\n      handler(to) {\n        this.setCurrentRouterHighlight(to.path);\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .el-scrollbar__bar.is-horizontal {\n  height: 0;\n}\n.el-menu-horizontal-warp {\n  flex: 1;\n  overflow: hidden;\n  margin-right: 30px;\n  ::v-deep .el-scrollbar__bar.is-vertical {\n    display: none;\n  }\n  ::v-deep .el-scrollbar__wrap {\n    overflow-y: hidden !important;\n  }\n  ::v-deepa {\n    width: 100%;\n  }\n  .el-menu.el-menu--horizontal {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n  }\n}\n</style>\n"]}]}