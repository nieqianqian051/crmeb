{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/component/aside.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/component/aside.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWZXJ0aWNhbCBmcm9tICdAL2xheW91dC9uYXZNZW51L3ZlcnRpY2FsLnZ1ZSc7CmltcG9ydCBMb2dvIGZyb20gJ0AvbGF5b3V0L2xvZ28vaW5kZXgudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXlvdXRBc2lkZScsCiAgY29tcG9uZW50czogeyBWZXJ0aWNhbCwgTG9nbyB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBtZW51TGlzdDogW10sCiAgICAgIGNsaWVudFdpZHRoOiAnJywKICAgICAgY2F0TmFtZTogJycsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFkbWluVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAuYWRtaW5UaXRsZSB8fCAnJzsKICAgIH0sCiAgICAvLyDorr7nva7lt6bkvqfoj5zljZXnmoTlhbfkvZPlrr3luqYKICAgIG1lbnVMaXN0KCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51cy5jaGlsZE1lbnVMaXN0Lmxlbmd0aCA+IDAKICAgICAgICA/ICh0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5pc0NvbGxhcHNlID0gZmFsc2UpCiAgICAgICAgOiAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcuaXNDb2xsYXBzZSA9IHRydWUpOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubWVudXMuY2hpbGRNZW51TGlzdDsKICAgIH0sCiAgICBzZXRDb2xsYXBzZVdpZHRoKCkgewogICAgICBsZXQgeyBsYXlvdXQsIGlzQ29sbGFwc2UgfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICBsZXQgYXNpZGVCckNvbG9yID0gJyc7CiAgICAgIGxheW91dCA9PT0gJ2NsYXNzaWMnIHx8IGxheW91dCA9PT0gJ2NvbHVtbnMnID8gKGFzaWRlQnJDb2xvciA9ICdsYXlvdXQtZWwtYXNpZGUtYnItY29sb3InKSA6ICcnOwoKICAgICAgaWYgKGxheW91dCA9PT0gJ2NvbHVtbnMnKSB7CiAgICAgICAgLy8g5YiG5qCP5biD5bGA77yM6I+c5Y2V5pS26LW35pe25a695bqm57uZIDFweCAvIOaaguS4ujBweAogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICByZXR1cm4gWydsYXlvdXQtYXNpZGUtd2lkdGgxJywgYXNpZGVCckNvbG9yXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIFsnbGF5b3V0LWFzaWRlLXdpZHRoLWRlZmF1bHQnLCBhc2lkZUJyQ29sb3JdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlhbblroPluIPlsYDnu5kgNjRweAogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICByZXR1cm4gWydsYXlvdXQtYXNpZGUtd2lkdGgxJywgYXNpZGVCckNvbG9yXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIFsnbGF5b3V0LWFzaWRlLXdpZHRoLWRlZmF1bHQnLCBhc2lkZUJyQ29sb3IsIGxheW91dCA9PT0gJ2NsYXNzaWMnID8gJ3B0OCcgOiAnJ107CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6K6+572uIGxvZ28g5piv5ZCm5pi+56S6CiAgICBzZXRTaG93TG9nbygpIHsKICAgICAgbGV0IHsgbGF5b3V0LCBpc1Nob3dMb2dvIH0gPSB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZzsKICAgICAgcmV0dXJuIChpc1Nob3dMb2dvICYmIGxheW91dCA9PT0gJ2RlZmF1bHRzJykgfHwgKGlzU2hvd0xvZ28gJiYgbGF5b3V0ID09PSAnY29sdW1ucycpOwogICAgfSwKICAgIC8vIOiOt+WPluW4g+WxgOmFjee9ruS/oeaBrwogICAgZ2V0VGhlbWVDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZzsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0TWVudUZpeGVkKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpOwogICAgdGhpcy5zZXRGaWx0ZXJSb3V0ZXMoKTsKICAgIC8vIHRoaXMuYnVzLiRvbignc2V0U2VuZENvbHVtbnNDaGlsZHJlbicsIChyZXMpID0+IHsKICAgIC8vICAgdGhpcy5tZW51TGlzdCA9IHJlcyB8fCBbXTsKICAgIC8vICAgdGhpcy5tZW51TGlzdC5sZW5ndGggPiAwCiAgICAvLyAgICAgPyAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcuaXNDb2xsYXBzZSA9IGZhbHNlKQogICAgLy8gICAgIDogKHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmlzQ29sbGFwc2UgPSB0cnVlKTsKICAgIC8vIH0pOwogICAgdGhpcy5idXMuJG9uKCdsYXlvdXRNb2JpbGVSZXNpemUnLCAocmVzKSA9PiB7CiAgICAgIHRoaXMuaW5pdE1lbnVGaXhlZChyZXMuY2xpZW50V2lkdGgpOwogICAgfSk7CiAgICB0aGlzLmJ1cy4kb24oJ29uZUNhdE5hbWUnLCAobmFtZSkgPT4gewogICAgICB0aGlzLmNhdE5hbWUgPSBuYW1lOwogICAgfSk7CiAgICAvLyDoj5zljZXmu5rliqjmnaHnm5HlkKwKICAgIHRoaXMuYnVzLiRvbigndXBkYXRlRWxTY3JvbGxCYXInLCAoKSA9PiB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMubGF5b3V0QXNpZGVSZWYudXBkYXRlKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9KTsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5sYXlvdXQgIT09ICdjb2x1bW5zJykgewogICAgICB0aGlzLmJ1cy4kb24oJ3JvdXRlc0xpc3RDaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgdGhpcy5zZXRGaWx0ZXJSb3V0ZXMoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5idXMuJG9mZigncm91dGVzTGlzdENoYW5nZScpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6K6+572uL+i/h+a7pOi3r+eUse+8iOmdnumdmeaAgei3r+eUsS/mmK/lkKbmmL7npLrlnKjoj5zljZXkuK3vvIkKICAgIHNldEZpbHRlclJvdXRlcygpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmxheW91dCA9PT0gJ2NvbHVtbnMnKSByZXR1cm4gZmFsc2U7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbWVudXMvY2hpbGRNZW51TGlzdCcsIHRoaXMuZmlsdGVyUm91dGVzRnVuKHRoaXMuJHN0b3JlLnN0YXRlLnJvdXRlc0xpc3Qucm91dGVzTGlzdCkpOwogICAgICAvLyB0aGlzLm1lbnVMaXN0ID0gdGhpcy5maWx0ZXJSb3V0ZXNGdW4odGhpcy4kc3RvcmUuc3RhdGUucm91dGVzTGlzdC5yb3V0ZXNMaXN0KTsKICAgIH0sCiAgICAvLyDorr7nva4v6L+H5ruk6Lev55SxIOmAkuW9kuWHveaVsAogICAgZmlsdGVyUm91dGVzRnVuKGFycikgewogICAgICByZXR1cm4gYXJyCiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5wYXRoKQogICAgICAgIC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSBpdGVtLmNoaWxkcmVuID0gdGhpcy5maWx0ZXJSb3V0ZXNGdW4oaXRlbS5jaGlsZHJlbik7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDorr7nva7oj5zljZXlr7zoiKrmmK/lkKblm7rlrprvvIjnp7vliqjnq6/vvIkKICAgIGluaXRNZW51Rml4ZWQoY2xpZW50V2lkdGgpIHsKICAgICAgdGhpcy5jbGllbnRXaWR0aCA9IGNsaWVudFdpZHRoOwogICAgICB0aGlzLiRlbWl0KCdyb3V0ZXNMaXN0Q2hhbmdlJyk7CiAgICB9LAogIH0sCiAgLy8g6aG16Z2i6ZSA5q+B5pe2CiAgZGVzdHJveWVkKCkgewogICAgLy8g5Y+W5raI6I+c5Y2V5rua5Yqo5p2h55uR5ZCsCiAgICB0aGlzLmJ1cy4kb2ZmKCd1cGRhdGVFbFNjcm9sbEJhcicsICgpID0+IHt9KTsKICB9LAp9Owo="},{"version":3,"sources":["aside.vue"],"names":[],"mappings":";AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aside.vue","sourceRoot":"src/layout/component","sourcesContent":["<template>\n  <el-aside class=\"layout-aside\" :class=\"setCollapseWidth\" v-if=\"clientWidth > 1000\">\n    <Logo v-if=\"setShowLogo && menuList.length && getThemeConfig.layout !== 'columns'\" />\n    <div v-if=\"menuList.length && getThemeConfig.layout == 'columns'\" class=\"cat-name\">\n      {{ adminTitle || catName }}\n    </div>\n    <el-scrollbar class=\"flex-auto\" ref=\"layoutAsideRef\">\n      <Vertical :menuList=\"menuList\" :class=\"setCollapseWidth\" />\n    </el-scrollbar>\n  </el-aside>\n  <el-drawer :visible.sync=\"getThemeConfig.isCollapse\" :with-header=\"false\" direction=\"ltr\" size=\"180px\" v-else>\n    <el-aside class=\"layout-aside w100 h100\">\n      <Logo v-if=\"setShowLogo && menuList.length\" />\n      <el-scrollbar class=\"flex-auto\" ref=\"layoutAsideRef\">\n        <Vertical :menuList=\"menuList\" />\n      </el-scrollbar>\n    </el-aside>\n  </el-drawer>\n</template>\n\n<script>\nimport Vertical from '@/layout/navMenu/vertical.vue';\nimport Logo from '@/layout/logo/index.vue';\nexport default {\n  name: 'layoutAside',\n  components: { Vertical, Logo },\n  data() {\n    return {\n      // menuList: [],\n      clientWidth: '',\n      catName: '',\n    };\n  },\n  computed: {\n    adminTitle() {\n      return this.$store.state.app.adminTitle || '';\n    },\n    // 设置左侧菜单的具体宽度\n    menuList() {\n      this.$store.state.menus.childMenuList.length > 0\n        ? (this.$store.state.themeConfig.themeConfig.isCollapse = false)\n        : (this.$store.state.themeConfig.themeConfig.isCollapse = true);\n      return this.$store.state.menus.childMenuList;\n    },\n    setCollapseWidth() {\n      let { layout, isCollapse } = this.$store.state.themeConfig.themeConfig;\n      let asideBrColor = '';\n      layout === 'classic' || layout === 'columns' ? (asideBrColor = 'layout-el-aside-br-color') : '';\n\n      if (layout === 'columns') {\n        // 分栏布局，菜单收起时宽度给 1px / 暂为0px\n        if (isCollapse) {\n          return ['layout-aside-width1', asideBrColor];\n        } else {\n          return ['layout-aside-width-default', asideBrColor];\n        }\n      } else {\n        // 其它布局给 64px\n        if (isCollapse) {\n          return ['layout-aside-width1', asideBrColor];\n        } else {\n          return ['layout-aside-width-default', asideBrColor, layout === 'classic' ? 'pt8' : ''];\n        }\n      }\n    },\n    // 设置 logo 是否显示\n    setShowLogo() {\n      let { layout, isShowLogo } = this.$store.state.themeConfig.themeConfig;\n      return (isShowLogo && layout === 'defaults') || (isShowLogo && layout === 'columns');\n    },\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n  },\n  created() {\n    this.initMenuFixed(document.body.clientWidth);\n    this.setFilterRoutes();\n    // this.bus.$on('setSendColumnsChildren', (res) => {\n    //   this.menuList = res || [];\n    //   this.menuList.length > 0\n    //     ? (this.$store.state.themeConfig.themeConfig.isCollapse = false)\n    //     : (this.$store.state.themeConfig.themeConfig.isCollapse = true);\n    // });\n    this.bus.$on('layoutMobileResize', (res) => {\n      this.initMenuFixed(res.clientWidth);\n    });\n    this.bus.$on('oneCatName', (name) => {\n      this.catName = name;\n    });\n    // 菜单滚动条监听\n    this.bus.$on('updateElScrollBar', () => {\n      setTimeout(() => {\n        this.$refs.layoutAsideRef.update();\n      }, 300);\n    });\n    if (this.$store.state.themeConfig.themeConfig.layout !== 'columns') {\n      this.bus.$on('routesListChange', () => {\n        this.setFilterRoutes();\n      });\n    }\n  },\n  beforeDestroy() {\n    this.bus.$off('routesListChange');\n  },\n  methods: {\n    // 设置/过滤路由（非静态路由/是否显示在菜单中）\n    setFilterRoutes() {\n      if (this.$store.state.themeConfig.themeConfig.layout === 'columns') return false;\n      this.$store.commit('menus/childMenuList', this.filterRoutesFun(this.$store.state.routesList.routesList));\n      // this.menuList = this.filterRoutesFun(this.$store.state.routesList.routesList);\n    },\n    // 设置/过滤路由 递归函数\n    filterRoutesFun(arr) {\n      return arr\n        .filter((item) => item.path)\n        .map((item) => {\n          item = Object.assign({}, item);\n          if (item.children) item.children = this.filterRoutesFun(item.children);\n          return item;\n        });\n    },\n    // 设置菜单导航是否固定（移动端）\n    initMenuFixed(clientWidth) {\n      this.clientWidth = clientWidth;\n      this.$emit('routesListChange');\n    },\n  },\n  // 页面销毁时\n  destroyed() {\n    // 取消菜单滚动条监听\n    this.bus.$off('updateElScrollBar', () => {});\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.cat-name {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  border-bottom: 1px solid var(--prev-border-color-lighter);\n  font-weight: 500;\n  font-size: 15px;\n}\n</style>\n"]}]}