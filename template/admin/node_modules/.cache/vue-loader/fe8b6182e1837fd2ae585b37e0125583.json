{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/recipe/list/handle/recipeDetails.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/recipe/list/handle/recipeDetails.vue","mtime":1719916451000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBXYW5nRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy93YW5nRWRpdG9yL2luZGV4LnZ1ZSc7CmltcG9ydCB7IGRldGFpbHNBcGksbGFiZWxMaXN0LGZvb2RMaXN0LHVwbG9hZFJlY2lwZUltYWdlcyxlZGl0UmVjaXBlIH0gZnJvbSAnQC9hcGkvcmVjaXBlJzsKaW1wb3J0IHtkZWFsSW1nfSBmcm9tICJAL3V0aWxzL2luZGV4IgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3JlY2lwZURldGFpbHMnLAogIGNvbXBvbmVudHM6IHsgV2FuZ0VkaXRvciB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewoJCWFjdGl2ZU5hbWU6ICfpo5/osLHor6bmg4UnLAoJCW1vZGFsczogZmFsc2UsCgkJbG9hZGluZzogZmFsc2UsCgkJZm9vZFR5cGVzOiBbXSwKCQlmb29kQXJlYUxhYmVsczogW10sCgkJcmF0ZUNvbG9yczogWycjRjdEQjREJywgJyNGN0RCNEQnXSwKCQlyYXRlQ29sb3JzczogWycjRjdEQjREJywgJyNGN0RCNEQnLCAnI0Y3REI0RCddLAoJCXRocmVlTWVhbHM6IFsn5pep6aSQJywn5Y2I6aSQJywn5pma6aSQJ10sCgkJb3B0aW9uczogWwoJCQl7dmFsdWU6IDEsbGFiZWw6J+S4jei+oyd9LAoJCQl7dmFsdWU6IDIsbGFiZWw6J+i+oyd9CgkJXSwKCQlvcHRpb25zMTogWwoJCQl7dmFsdWU6IDEsbGFiZWw6J+aYkyd9LAoJCQl7dmFsdWU6IDIsbGFiZWw6J+mavid9CgkJXSwKCQlyZWNpcGU6IHsKCQkJbmFtZTogJycsCgkJCWFsaWFzOiAnJywKCQkJbWFpbkltYWdlSWQ6ICcnLAoJCQltYWluRm9vZElkOiAnJywKCQkJbWFpbkZvb2RDb25zdW1wdGlvbjogJycsCgkJCWZvb2RJZDogJycsCgkJCWxhYmVsczogW10sCgkJCWZvb2RDb25zdW1wdGlvbjogJycsCgkJCWRldGFpbHNUZXh0OiAnJywKCQkJbm90ZTogJycsCgkJCW1haWppU3RhZ2VMYWJlbElkczogW10sCgkJCWFyZWFMYWJlbElkczogW10sCgkJCXJlY2lwZUxhYmVsSWRzOiBbXSwKCQkJc3BpY3k6IDAsCgkJCWVjb25vbXk6IDAsCgkJCXRocmVlTWVhbDogW10sCgkJCWRpZmZpY3VsdHlMZXZlbDogMCwKCQkJZ2VhcjogMAoJCX0sCgkJYWxpYXNlczogWycnXSwKCQltYWluRm9vZHM6IFt7CgkJICAgIGZvb2RJZDogJycsCgkJICAgIGZvb2ROYW1lOiAnJywKCQkgICAgY29uc3VtcHRpb246ICcnLAoJCSAgICBtYWluOiB0cnVlLAoJCSAgICBjYXNjYWRlclN0cjogJycsCgkJICAgIGNhc2NhZGVyOiBbXSwKCQl9XSwKCQlmb29kczogW3sKCQkgICAgZm9vZElkOiAnJywKCQkgICAgZm9vZE5hbWU6ICcnLAoJCSAgICBjb25zdW1wdGlvbjogJycsCgkJICAgIG1haW46IGZhbHNlLAoJCSAgICBjYXNjYWRlclN0cjogJycsCgkJICAgIGNhc2NhZGVyOiBbXQoJCX1dLAoJCWFsbE1haWppU3RhZ2VMYWJlbHM6IFtdLAoJCWZvb2RMYWJlbHM6IFtdLAoJCXJlY2lwZU1haW5JbWFnZTogbnVsbCwKCSAgICBjb250ZW50OiAnJywKCQlydWxlczogewoJCQluYW1lOiBbCgkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6aOf6LCx5ZCN56ew5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH0KCQkgICAgXSwKCQkgICAgbWFpbkltYWdlSWQ6IFsKCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfpo5/osLHkuLvlm77kuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CgkJICAgIF0sCgkJCW1haW5Gb29kSWQ6IFsKCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nkuLvmlpnpo5/mnZAnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CgkJCV0sCgkJCXNwaWN5OiBbCgkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6L6j5bqmJywgdHJpZ2dlcjogJ2NoYW5nZScgfQoJCQldLAoJCSAgICBkaWZmaWN1bHR5TGV2ZWw6IFsKCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6npmr7mmJPnqIvluqYnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CgkJICAgIF0sCgkJICAgIGdlYXI6IFsKCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmkK3phY3mg4XlhrUnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CgkJICAgIF0sCgkJICAgIHRocmVlTWVhbDogWwoJCQkJeyB0eXBlOiAnYXJyYXknLCByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+iHs+WwkemAieaLqeS4gOS4quS4iemkkOW9kuWxnicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KCQkgICAgXSwKCQkgICAgbWFpamlTdGFnZUxhYmVsSWRzOiBbCgkJCQl7IHR5cGU6ICdhcnJheScsIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36Iez5bCR6YCJ5oup5LiA5Liq6aOf6LCx6bqm5ZCJ6Zi25q61JywgdHJpZ2dlcjogJ2NoYW5nZScgfQoJCSAgICBdLAoJCQlkZXRhaWxzVGV4dDogWwoJCQkJeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+mjn+iwseivpuaDheS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CgkJCV0KCQl9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkge30sCiAgbW91bnRlZCAoKSB7CiAgfSwKICBtZXRob2RzOiB7CglkcmFDaGFuZ2UoKXsKCQl0aGlzLnJlY2lwZSA9IHsKCQkJbmFtZTogJycsCgkJCWFsaWFzOiAnJywKCQkJbWFpbkltYWdlSWQ6ICcnLAoJCQltYWluRm9vZElkOiAnJywKCQkJbWFpbkZvb2RDb25zdW1wdGlvbjogJycsCgkJCWZvb2RJZDogJycsCgkJCWxhYmVsczogW10sCgkJCWZvb2RDb25zdW1wdGlvbjogJycsCgkJCWRldGFpbHNUZXh0OiAnJywKCQkJbm90ZTogJycsCgkJCW1haWppU3RhZ2VMYWJlbElkczogW10sCgkJCWFyZWFMYWJlbElkczogW10sCgkJCXJlY2lwZUxhYmVsSWRzOiBbXSwKCQkJc3BpY3k6IDAsCgkJCWVjb25vbXk6IDAsCgkJCXRocmVlTWVhbDogW10sCgkJCWRpZmZpY3VsdHlMZXZlbDogMCwKCQkJZ2VhcjogMAoJCX0KCQl0aGlzLmFsaWFzZXMgPSBbJyddCgkJdGhpcy5yZWNpcGVNYWluSW1hZ2UgPSBudWxsCgkJdGhpcy5tYWluRm9vZHMgPSBbewoJCSAgICBmb29kSWQ6ICcnLAoJCSAgICBmb29kTmFtZTogJycsCgkJICAgIGNvbnN1bXB0aW9uOiAnJywKCQkgICAgbWFpbjogdHJ1ZSwKCQkgICAgY2FzY2FkZXJTdHI6ICcnLAoJCSAgICBjYXNjYWRlcjogW10sCgkJfV0KCQl0aGlzLmZvb2RzID0gW3sKCQkgICAgZm9vZElkOiAnJywKCQkgICAgZm9vZE5hbWU6ICcnLAoJCSAgICBjb25zdW1wdGlvbjogJycsCgkJICAgIG1haW46IGZhbHNlLAoJCSAgICBjYXNjYWRlclN0cjogJycsCgkJICAgIGNhc2NhZGVyOiBbXQoJCX1dCgkJdGhpcy5jb250ZW50ID0gJycKCX0sCglhc3luYyBlZGl0U2F2ZSgpIHsKCSAgdGhpcy5yZWNpcGUuZGV0YWlsc1RleHQgPSB0aGlzLmNvbnRlbnQ7CgkgIHRoaXMuJHJlZnMucmVjaXBlRnJvbS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CgkgICAgICBpZiAoIXZhbGlkKSB7CgkgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UoewoJCQkJCQl0eXBlOiAiZXJyb3IiLAoJCQkJCQltZXNzYWdlOiAi57yW6L6R6aOf6LCx5aSx6LSl77yM6K+356Gu6K6k57yW6L6R6KeE6IyD77yBIiwKCQkJCQkJZHVyYXRpb246IDEwMDAKCQkJCQl9KQoJICAgICAgfQoJCSAgaWYodGhpcy5yZWNpcGUubWFpamlTdGFnZUxhYmVsSWRzICYmIHRoaXMucmVjaXBlLm1haWppU3RhZ2VMYWJlbElkcy5sZW5ndGg+MCl7CgkJCSAgdGhpcy5yZWNpcGUubWFpamlTdGFnZUxhYmVsSWRzLmZvckVhY2goaXRlbT0+ewoJCQkJICBsZXQgb2JqID0gewoJCQkJCSAgbGFiZWxJZDogaXRlbQoJCQkJICB9CgkJCQkgIHRoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaikKCQkJICB9KQoJCSAgfQoJCSAgaWYodGhpcy5yZWNpcGUuYXJlYUxhYmVsSWRzICYmIHRoaXMucmVjaXBlLmFyZWFMYWJlbElkcy5sZW5ndGg+MCl7CgkJCSAgdGhpcy5yZWNpcGUuYXJlYUxhYmVsSWRzLmZvckVhY2goaXRlbT0+ewoJCQkJICBsZXQgb2JqID0gewoJCQkJCSAgbGFiZWxJZDogaXRlbQoJCQkJICB9CgkJCQkgIHRoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaikKCQkJICB9KQoJCSAgfQoJICAgICAgaWYodGhpcy5yZWNpcGUucmVjaXBlTGFiZWxJZHMgJiYgdGhpcy5yZWNpcGUucmVjaXBlTGFiZWxJZHMubGVuZ3RoPjApewoJCQkgIHRoaXMucmVjaXBlLnJlY2lwZUxhYmVsSWRzLmZvckVhY2goaXRlbT0+ewoJCQkJICBsZXQgb2JqID0gewoJCQkJCSAgbGFiZWxJZDogaXRlbQoJCQkJICB9CgkJCQkgIHRoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaikKCQkJICB9KQoJCSAgfQoJICAgICAgCgkJICBpZiAodGhpcy5hbGlhc2VzICE9IG51bGwpIHRoaXMucmVjaXBlLmFsaWFzID0gdGhpcy5hbGlhc2VzLmpvaW4oJ+OAgScpCgkgICAgICB0aGlzLnJlY2lwZS5mb29kcyA9IFsuLi50aGlzLm1haW5Gb29kcywgLi4udGhpcy5mb29kc10KCQkgIGxldCBpbmRleFRvRGVsZXRlID0gdGhpcy5yZWNpcGUuZm9vZHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5mb29kSWQgPT09ICIiKTsKCQkgIHRoaXMucmVjaXBlLmZvb2RzLnNwbGljZShpbmRleFRvRGVsZXRlLDEpOwoJICAgICAgdGhpcy5yZWNpcGUuZGV0YWlsc1RleHQgPSBkZWFsSW1nKHRoaXMucmVjaXBlLmRldGFpbHNUZXh0KQoJCSAgdGhpcy5yZWNpcGUudGhyZWVNZWFsID0gSlNPTi5zdHJpbmdpZnkodGhpcy5yZWNpcGUudGhyZWVNZWFsKQoJCSAgY29uc29sZS5sb2coMTExMSx0aGlzLnJlY2lwZSkKCQkgIHRoaXMubG9hZGluZyA9IHRydWU7CgkgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlZGl0UmVjaXBlKHRoaXMucmVjaXBlKTsKCSAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKCQkJICB0aGlzLiRtZXNzYWdlKHsKCQkJCXR5cGU6ICJzdWNjZXNzIiwKCQkJCW1lc3NhZ2U6ICLkv53lrZjmiJDlip/vvIEiLAoJCQkJZHVyYXRpb246IDEwMDAKCQkJICB9KQoJCQkgIHNldFRpbWVvdXQoKCk9PnsKCQkJCSAgdGhpcy5nZXREZXRhaWxzKHRoaXMucmVjaXBlLnV1SWQpOwoJCQkJICB0aGlzLmxvYWRpbmcgPSBmYWxzZQoJCQkgIH0sMjAwMCkKCSAgICAgIH1lbHNlewoJCQkgIHRoaXMubG9hZGluZyA9IGZhbHNlCgkJCSAgdGhpcy4kbWVzc2FnZSh7CgkJCQl0eXBlOiAiZXJyb3IiLAoJCQkJbWVzc2FnZTogIue8lui+kemjn+iwseWksei0pe+8gSIsCgkJCQlkdXJhdGlvbjogMTAwMAoJCQkgIH0pCgkJICB9IAoJICB9KQoJfSwKCWdldEVkaXRvckNvbnRlbnQoZGF0YSkgewoJCXRoaXMuY29udGVudCA9IGRhdGE7Cgl9LAoJZ2V0RGV0YWlscyhpZCkgewoJCXRoaXMuZHJhQ2hhbmdlKCk7CgkJbGFiZWxMaXN0KHtzb3VyY2U6ICLpo5/osLEifSkKCQkudGhlbihhc3luYyAocmVzKSA9PiB7CgkJCWlmKHJlcy5jb2RlID09PSAyMDApewoJCQkJdGhpcy5mb29kQXJlYUxhYmVscyA9IHJlcy5kYXRhLmZpbHRlcihsYWJlbCA9PiBsYWJlbC5saXN0U2hvdyA9PSAyKS5zb3J0KChMMSwgTDIpID0+IEwxLm5hbWUubGVuZ3RoIC0gTDIubmFtZS5sZW5ndGgpCgkJCQkvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkKCQkJCXRoaXMuYWxsTWFpamlTdGFnZUxhYmVscyA9IHJlcy5kYXRhLmZpbHRlcihsYWJlbCA9PiBsYWJlbC5saXN0U2hvdyA9PSAxKS5zb3J0KChMMSwgTDIpID0+IEwxLm9yZGVyTm8gLSBMMi5vcmRlck5vKQoJCQkJdGhpcy5mb29kTGFiZWxzID0gcmVzLmRhdGEuZmlsdGVyKGxhYmVsID0+IGxhYmVsLmxpc3RTaG93ID09IDApLnNvcnQoKEwxLCBMMikgPT4gTDEub3JkZXJObyAtIEwyLm9yZGVyTm8pCgkJCX0KCQl9KSAKCQkuY2F0Y2goKGVycikgPT4gewoJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCXR5cGU6ICJlcnJvciIsCgkJCQltZXNzYWdlOiBlcnIsCgkJCQlkdXJhdGlvbjogMTAwMAoJCQl9KQoJCX0pOwoJCWZvb2RMaXN0KHtpc0ZpbmRGb29kczogdHJ1ZX0pCgkJLnRoZW4oYXN5bmMgKHJlcykgPT4gewoJCSAgIGlmKHJlcy5jb2RlID09PSAyMDApewoJCQkgICAgdGhpcy5mb29kVHlwZXMgPSByZXMuZGF0YS5tYXAodHlwZSA9PiB7CgkJCSAgICAgICBpZiAodHlwZS5jaGlsZHJlbiAmJiB0eXBlLmNoaWxkcmVuLmxlbmd0aCA+MSkKCQkJICAgICAgICAgICB0eXBlLmNoaWxkcmVuLnNvcnQoKGMxLCBjMikgPT5jMS5sYWJlbC5sZW5ndGggLSBjMi5sYWJlbC5sZW5ndGgpCgkJCSAgICAgICByZXR1cm4gdHlwZQoJCQkgICAgfSkuc29ydCgodDEsIHQyKSA9PiB0MS5sYWJlbC5sZW5ndGggLSB0Mi5sYWJlbC5sZW5ndGgpCgkJICAgfQoJCX0pLmNhdGNoKChlcnIpID0+IHsKCQkgIHRoaXMuJG1lc3NhZ2UoewoJCSAgCXR5cGU6ICJlcnJvciIsCgkJICAJbWVzc2FnZTogZXJyLAoJCSAgCWR1cmF0aW9uOiAxMDAwCgkJICB9KQoJCX0pOwoJICAgIGRldGFpbHNBcGkoaWQpCgkJLnRoZW4oYXN5bmMgKHJlcykgPT4gewoJICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKCQkJdGhpcy5yZWNpcGUudXVJZCA9IHJlcy5kYXRhLnV1SWQKCQkJdGhpcy5yZWNpcGUubmFtZSA9IHJlcy5kYXRhLm5hbWUKCQkJdGhpcy5yZWNpcGUubm90ZSA9IHJlcy5kYXRhLm5vdGUKCQkJdGhpcy5yZWNpcGUuc3BpY3kgPSByZXMuZGF0YS5zcGljeQoJCQl0aGlzLnJlY2lwZS5lY29ub215ID0gcmVzLmRhdGEuZWNvbm9teQoJCQl0aGlzLnJlY2lwZS5kaWZmaWN1bHR5TGV2ZWwgPSByZXMuZGF0YS5kaWZmaWN1bHR5TGV2ZWwKCQkJdGhpcy5yZWNpcGUuZ2VhciA9IHJlcy5kYXRhLmdlYXIKCQkJaWYgKHJlcy5kYXRhLm1haW5Gb29kcykgewoJCQkgICAgdGhpcy5tYWluRm9vZHMgPSByZXMuZGF0YS5tYWluRm9vZHMubWFwKGZvb2QgPT4gT2JqZWN0LmFzc2lnbihmb29kLCB7Y2FzY2FkZXI6IGZvb2QuY2FzY2FkZXJTdHIhPW51bGw/Zm9vZC5jYXNjYWRlclN0ci5zcGxpdCgnLCcpOltdfSkpCgkJCSAgICB0aGlzLnJlY2lwZS5tYWluRm9vZElkID0gdGhpcy5tYWluRm9vZHNbMF0uZm9vZElkCgkJCSAgICB0aGlzLnJlY2lwZS5tYWluRm9vZENvbnN1bXB0aW9uID0gdGhpcy5tYWluRm9vZHNbMF0uY29uc3VtcHRpb24KCQkJfQoJCQlpZiAocmVzLmRhdGEuZm9vZHMpIHsKCQkJICAgIHRoaXMuZm9vZHMgPSByZXMuZGF0YS5mb29kcy5tYXAoZm9vZCA9PiBPYmplY3QuYXNzaWduKGZvb2QsIHtjYXNjYWRlcjogZm9vZC5jYXNjYWRlclN0ciE9bnVsbD9mb29kLmNhc2NhZGVyU3RyLnNwbGl0KCcsJyk6W119KSkKCQkJICAgIHRoaXMucmVjaXBlLmZvb2RJZCA9IHRoaXMuZm9vZHNbMF0uZm9vZElkCgkJCSAgICB0aGlzLnJlY2lwZS5mb29kQ29uc3VtcHRpb24gPSB0aGlzLmZvb2RzWzBdLmNvbnN1bXB0aW9uCgkJCX0KCQkJaWYocmVzLmRhdGEuYXJlYUxhYmVsSWRzKXsKCQkJCXRoaXMucmVjaXBlLmFyZWFMYWJlbElkcyA9IHJlcy5kYXRhLmFyZWFMYWJlbElkcy5maWx0ZXIobGFiZWwgPT4gbGFiZWwubGlzdFNob3cgPT0gMikubWFwKGxhYmVsID0+IGxhYmVsLnV1SWQpCgkJCQl0aGlzLnJlY2lwZS5tYWlqaVN0YWdlTGFiZWxJZHMgPSByZXMuZGF0YS5hcmVhTGFiZWxJZHMuZmlsdGVyKGxhYmVsID0+IGxhYmVsLmxpc3RTaG93ID09IDEpLm1hcChsYWJlbCA9PiBsYWJlbC51dUlkKQoJCQkJdGhpcy5yZWNpcGUucmVjaXBlTGFiZWxJZHMgPSByZXMuZGF0YS5hcmVhTGFiZWxJZHMuZmlsdGVyKGxhYmVsID0+IGxhYmVsLmxpc3RTaG93ID09IDApLm1hcChsYWJlbCA9PiBsYWJlbC51dUlkKQoJCQl9CgkJCXRoaXMuYWxpYXNlcyA9IHJlcy5kYXRhLmFsaWFzZXMKCQkJdGhpcy5yZWNpcGVNYWluSW1hZ2UgPSByZXMuZGF0YS5tYWluSW1hZ2UKCQkJdGhpcy5yZWNpcGUubWFpbkltYWdlSWQgPSByZXMuZGF0YS5tYWluSW1hZ2UudXVJZAoJCQl0aGlzLnJlY2lwZS5kZXRhaWxzVGV4dCA9IHJlcy5kYXRhLmRldGFpbHNUZXh0CgkJCXRoaXMucmVjaXBlLnRocmVlTWVhbCA9IEpTT04ucGFyc2UocmVzLmRhdGEudGhyZWVNZWFsKQoJICAgICAgfSBlbHNlIHsKCQkJICB0aGlzLiRtZXNzYWdlKHsKCQkJICAJdHlwZTogImVycm9yIiwKCQkJICAJbWVzc2FnZTogcmVzLm1zZywKCQkJICAJZHVyYXRpb246IDEwMDAKCQkJICB9KQoJICAgICAgfQoJICAgIH0pCgkgICAgLmNhdGNoKChlcnIpID0+IHsKCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQl0eXBlOiAiZXJyb3IiLAoJCQkJbWVzc2FnZTogZXJyLAoJCQkJZHVyYXRpb246IDEwMDAKCQkJfSkKCSAgICB9KTsKCX0sCglxdWVyeVNlYXJjaChxdWVyeVN0cmluZywgY2IpIHsKCSAgICBjb25zdCBxdWVyeUFyciA9IFt7dmFsdWU6ICfoi6XlubInfSwge3ZhbHVlOiAn6YCC6YePJ30sIHt2YWx1ZTogJ+WwkeiuuCd9LCB7dmFsdWU6ICfmiJbovpPlhaXlhbfkvZPmlbDlgLwo5YWLKSd9XQoJICAgIGNvbnN0IHJlc3VsdHMgPSBxdWVyeVN0cmluZz8gcXVlcnlBcnIuZmlsdGVyKHF1ZXJ5ID0+IHF1ZXJ5LnZhbHVlLmluY2x1ZGVzKHF1ZXJ5U3RyaW5nKSk6IHF1ZXJ5QXJyCgkgICAgY2IocmVzdWx0cykgIC8vIOiwg+eUqCBjYWxsYmFjayDov5Tlm57lu7rorq7liJfooajnmoTmlbDmja4KCX0sCglhc3luYyBhZGRSZWNpcGVJbWFnZShwYXJhbSkgewoJICAgIGNvbnN0IGltYWdlRGF0YSA9IG5ldyBGb3JtRGF0YSgpCgkgICAgaW1hZ2VEYXRhLmFwcGVuZCgndXBsb2FkRmlsZXMnLCBwYXJhbS5maWxlKQoJICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwbG9hZFJlY2lwZUltYWdlcyhpbWFnZURhdGEpCgkgICAgaWYgKHJlc3VsdC5jb2RlICE9IDIwMCkgdGhpcy4kbWVzc2FnZS5lcnJvcihg5LiK5Lyg6aOf6LCx5Li75Zu+5aSx6LSl77yM6K+356iN5ZCO6YeN6K+V77yBYCkKCSAgICB0aGlzLnJlY2lwZU1haW5JbWFnZSA9IE9iamVjdC5hc3NpZ24ocmVzdWx0LmRhdGFbMF0sIHtpc01haW46IDF9KQoJICAgIHRoaXMucmVjaXBlLm1haW5JbWFnZUlkID0gdGhpcy5yZWNpcGVNYWluSW1hZ2UudXVJZAoJfSwKCUVsQ2FzY2FkZXJDaGFuZ2UodmFsdWUsIGluZGV4LCBpc01haW4pIHsKCQljb25zb2xlLmxvZyh2YWx1ZSkKCQljb25zb2xlLmxvZyh0aGlzLiRyZWZzLm15TWFpbkVsQ2FzY2FkZXJbaW5kZXhdLnN1Z2dlc3Rpb25zWzBdLmxhYmVsKQoJICAgIGlmIChpc01haW4pIHsKCSAgICAgICAgY29uc3QgZm9vZE5hbWUgPSB0aGlzLiRyZWZzLm15TWFpbkVsQ2FzY2FkZXJbaW5kZXhdLnN1Z2dlc3Rpb25zWzBdLmxhYmVsCgkgICAgICAgIHRoaXMubWFpbkZvb2RzW2luZGV4XS5mb29kSWQgPSB2YWx1ZVsyXQoJICAgICAgICB0aGlzLm1haW5Gb29kc1tpbmRleF0uZm9vZE5hbWUgPSBmb29kTmFtZQoJICAgICAgICB0aGlzLm1haW5Gb29kc1tpbmRleF0uY2FzY2FkZXJTdHIgPSB2YWx1ZS5qb2luKCcsJykKCSAgICAgICAgdGhpcy5yZWNpcGUubWFpbkZvb2RJZCA9IHZhbHVlWzJdCgkgICAgfSBlbHNlIHsKCSAgICAgICAgY29uc3QgZm9vZE5hbWUgPSB0aGlzLiRyZWZzLm15RWxDYXNjYWRlcltpbmRleF0uc3VnZ2VzdGlvbnNbMF0ubGFiZWwKCSAgICAgICAgdGhpcy5mb29kc1tpbmRleF0uZm9vZElkID0gdmFsdWVbMl0KCSAgICAgICAgdGhpcy5mb29kc1tpbmRleF0uZm9vZE5hbWUgPSBmb29kTmFtZQoJICAgICAgICB0aGlzLmZvb2RzW2luZGV4XS5jYXNjYWRlclN0ciA9IHZhbHVlLmpvaW4oJywnKQoJICAgICAgICB0aGlzLnJlY2lwZS5mb29kSWQgPSB2YWx1ZVsyXQoJICAgIH0KCX0sCgloYW5kbGVGaWx0ZXJNZXRob2Qobm9kZSxrZXl3b3JkKXsKCQlyZXR1cm4gbm9kZS5sYWJlbC5pbmRleE9mKGtleXdvcmQpICE9PSAtMTsKCX0sCgloYW5kbGVGaWx0ZXJNZXRob2QxKG5vZGUsa2V5d29yZCl7CgkJcmV0dXJuIG5vZGUubGFiZWwuaW5kZXhPZihrZXl3b3JkKSAhPT0gLTE7Cgl9LAogIH0sCn07Cg=="},{"version":3,"sources":["recipeDetails.vue"],"names":[],"mappings":";AAgJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"recipeDetails.vue","sourceRoot":"src/pages/recipe/list/handle","sourcesContent":["<template>\n\t<div style=\"width: 100%;padding:25px\">\n\t\t<el-drawer :visible.sync=\"modals\" :title=\"activeName\"\n\t\t :wrapperClosable=\"false\" :size=\"1100\" \n\t\t destroy-on-close @close=\"draChange\" v-loading=\"loading\">\n\t\t\t<div class=\"acea-row head\">\n\t\t\t\t<div class=\"edit-btn\">\n\t\t\t\t\t<el-button type=\"primary\" @click=\"editSave\">保存</el-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\t<el-form ref=\"recipeFrom\" :model=\"recipe\" :rules=\"rules\" label-width=\"100px\" label-position=\"right\">\n\t\t\t\t\t<el-form-item label=\"食谱名称\" prop=\"name\">\n\t\t\t\t\t\t<el-input size=\"mini\" v-model=\"recipe.name\" placeholder=\"请输入食谱名称\"/>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"食谱别名\" v-for=\"(alias, index) in aliases\">\n\t\t\t\t\t\t<el-input size=\"mini\" v-model=\"aliases[index]\" placeholder=\"请输入食谱别名\">\n\t\t\t\t\t\t\t<template slot=\"append\">\n\t\t\t\t\t\t\t\t<el-tooltip content=\"增加别名\" placement=\"top\" effect=\"light\">\n\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\"  @click=\"aliases.push('')\"><i class=\"el-icon-plus\"/></el-button>\n\t\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t\t<el-tooltip content=\"减少别名\" placement=\"top\" effect=\"light\" v-show=\"aliases.length > 1\">\n\t\t\t\t\t\t\t\t\t<el-button type=\"danger\" size=\"mini\"  @click=\"aliases.splice(index, 1)\"><i class=\"el-icon-minus\"/></el-button>\n\t\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"食谱主图\" prop=\"mainImageId\">\n\t\t\t\t\t\t<span style=\"color: gray;\">建议图片尺寸：345 * 345</span>\n\t\t\t\t\t\t<el-upload size=\"mini\" action=\"\" list-type=\"picture-card\" :limit=\"1\"\n\t\t\t\t\t\t\t\t\t\t:accept=\"'jpg'\"\n\t\t\t\t\t\t\t\t\t\t:http-request=\"addRecipeImage\"\n\t\t\t\t\t\t\t\t\t\t:file-list=\"recipeMainImage? [recipeMainImage]: []\"\n\t\t\t\t\t\t\t\t\t\t:on-exceed=\"() => $message.warning(`只能上传1张食谱主图`)\">\n\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\">点击上传</el-button>\n\t\t\t\t\t\t</el-upload>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<div v-for=\"(food, index) in mainFoods\">\n\t\t\t\t\t\t<el-form-item label=\"食谱主料\" size=\"mini\" prop=\"mainFoodId\" required>\n\t\t\t\t\t\t\t<el-cascader \n\t\t\t\t\t\t\t\tv-model=\"food.cascader\" \n\t\t\t\t\t\t\t\t:options=\"foodTypes\" placeholder=\"试试搜索: 请选择食谱主料\" \n\t\t\t\t\t\t\t\tref=\"myMainElCascader\"\n\t\t\t\t\t\t\t\t@change=\"value => ElCascaderChange(value, index, true)\" \n\t\t\t\t\t\t\t\tstyle=\"width: 80%;\"\n\t\t\t\t\t\t\t\t:filterable=\"true\"\n\t\t\t\t\t\t\t\t:filter-method=\"handleFilterMethod\"/>\n\t\t\t\t\t\t\t<el-tooltip content=\"增加主料\" placement=\"top\" effect=\"light\">\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"mainFoods.push({foodId: '',consumption: '', main: true, cascader: []})\"><i class=\"el-icon-plus\"/></el-button>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t<el-tooltip content=\"减少主料\" placement=\"top\" effect=\"light\" v-show=\"mainFoods.length > 1\">\n\t\t\t\t\t\t\t\t<el-button type=\"danger\" @click=\"mainFoods.splice(index, 1)\"><i class=\"el-icon-minus\"/></el-button>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t <el-form-item label=\"主料用量\" size=\"mini\">\n\t\t\t\t\t\t\t <el-autocomplete v-model=\"mainFoods[index].consumption\" :fetch-suggestions=\"querySearch\" placeholder=\"请输入主料用量\" style=\"width: 80%;\"/>\n\t\t\t\t\t\t </el-form-item>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-for=\"(food, index) in foods\">\n\t\t\t\t\t\t<el-form-item label=\"食谱配料\">\n\t\t\t\t\t\t\t<el-cascader \n\t\t\t\t\t\t\t\tsize=\"mini\" \n\t\t\t\t\t\t\t\tv-model=\"food.cascader\" \n\t\t\t\t\t\t\t\t:options=\"foodTypes\" \n\t\t\t\t\t\t\t\tplaceholder=\"试试搜索: 请选择食谱配料\" \n\t\t\t\t\t\t\t\tref=\"myElCascader\"\n\t\t\t\t\t\t\t\t@change=\"value => ElCascaderChange(value, index, false)\" \n\t\t\t\t\t\t\t\tstyle=\"width: 80%;\"\n\t\t\t\t\t\t\t\t:filterable=\"true\"\n\t\t\t\t\t\t\t\t:filter-method=\"handleFilterMethod1\"/>\n\t\t\t\t\t\t\t<el-tooltip size=\"mini\" content=\"增加配料\" placement=\"top\" effect=\"light\">\n\t\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\"  @click=\"foods.push({foodId: '',consumption: '', main: false, cascader: []})\"><i class=\"el-icon-plus\"/></el-button>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t<el-tooltip size=\"mini\" content=\"减少配料\" placement=\"top\" effect=\"light\" v-show=\"foods.length > 1\">\n\t\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"foods.splice(index, 1)\"><i class=\"el-icon-minus\"/></el-button>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"配料用量\">\n\t\t\t\t\t\t\t<el-autocomplete size=\"mini\" v-model=\"foods[index].consumption\" :fetch-suggestions=\"querySearch\" placeholder=\"请输入配料用量\" style=\"width: 80%;\"/>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</div>\n\t\t\t\t\t<el-form-item label=\"食谱地区\">\n\t\t\t\t\t\t<el-select  v-model=\"recipe.areaLabelIds\" multiple placeholder=\"全国范围\" size=\"mini\" style=\"width: 80%;\">\n\t\t\t\t\t\t\t<el-option v-for=\"(areaLabel,index) in foodAreaLabels\" :key=\"index\" :label=\"areaLabel.name\" :value=\"areaLabel.uuId\"/>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"辣度\" prop=\"spicy\">\n\t\t\t\t\t\t<el-radio-group v-model=\"recipe.spicy\">\n\t\t\t\t\t\t\t <el-radio\n\t\t\t\t\t\t\t  v-for=\"item in options\"\n\t\t\t\t\t\t\t  :key=\"item.value\"\n\t\t\t\t\t\t\t  :value=\"item.value\"\n\t\t\t\t\t\t\t  :label=\"item.value\"\n\t\t\t\t\t\t\t>{{item.label}}</el-radio>\n\t\t\t\t\t\t</el-radio-group>\t\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"难易程度\" prop=\"difficultyLevel\">\n\t\t\t\t\t\t<el-radio-group v-model=\"recipe.difficultyLevel\">\n\t\t\t\t\t\t\t <el-radio\n\t\t\t\t\t\t\t  v-for=\"item in options1\"\n\t\t\t\t\t\t\t  :key=\"item.value\"\n\t\t\t\t\t\t\t  :value=\"item.value\"\n\t\t\t\t\t\t\t  :label=\"item.value\"\n\t\t\t\t\t\t\t>{{item.label}}</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"搭配情况\" prop=\"gear\">\n\t\t\t\t\t\t<el-rate  \n\t\t\t\t\t\t\tv-model=\"recipe.gear\"\n\t\t\t\t\t\t\t:texts=\"['纯素','纯荤','荤素搭配']\"\n\t\t\t\t\t\t\tshow-text\n\t\t\t\t\t\t\t:max=\"3\"\n\t\t\t\t\t\t\t:text-color=\"'#666666'\"\n\t\t\t\t\t\t\t:colors=\"rateColorss\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</el-rate>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"三餐归属\" prop=\"threeMeal\">\n\t\t\t\t\t\t<el-checkbox-group v-model=\"recipe.threeMeal\" style=\"width: 350px;\" size=\"mini\">\n\t\t\t\t\t\t\t<el-checkbox v-for=\"(label,index) in threeMeals\" :label=\"label\" :key=\"index\">{{label}}</el-checkbox>\n\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"麦吉阶段\" prop=\"maijiStageLabelIds\">\n\t\t\t\t\t\t<el-checkbox-group v-model=\"recipe.maijiStageLabelIds\" style=\"width: 350px;\" size=\"mini\">\n\t\t\t\t\t\t\t<el-checkbox v-for=\"(label,index) in allMaijiStageLabels\" :label=\"label.uuId\">{{label.name}}</el-checkbox>\n\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"食谱标签\">\n\t\t\t\t\t\t<el-checkbox-group v-model=\"recipe.recipeLabelIds\" style=\"width: 350px;\" size=\"mini\">\n\t\t\t\t\t\t\t<el-checkbox v-for=\"(label,index) in foodLabels\" :label=\"label.uuId\" :key=\"index\">{{label.name}}</el-checkbox>\n\t\t\t\t\t\t\t<el-button icon=\"el-icon-plus\" circle size=\"mini\" @click=\"addLabelShow(true)\" style=\"margin-left: 20px;\"></el-button>\n\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"注意事项\">\n\t\t\t\t\t\t<el-input type=\"textarea\" v-model=\"recipe.note\" placeholder=\"请输入食谱的注意事项\"/>\n\t\t\t\t\t</el-form-item>\t\t\t\t\n\t\t\t\t\t<el-form-item label=\"食谱详情\" prop=\"detailsText\" label-position=\"top\" >\n\t\t\t\t\t\t<WangEditor style=\"width: 100%\" :content=\"recipe.detailsText\" @editorContent=\"getEditorContent\"></WangEditor>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n        </el-drawer>\n    </div>\n</template>\n\n<script>\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { detailsApi,labelList,foodList,uploadRecipeImages,editRecipe } from '@/api/recipe';\nimport {dealImg} from \"@/utils/index\"\nexport default {\n  name: 'recipeDetails',\n  components: { WangEditor },\n  data() {\n    return {\n\t\tactiveName: '食谱详情',\n\t\tmodals: false,\n\t\tloading: false,\n\t\tfoodTypes: [],\n\t\tfoodAreaLabels: [],\n\t\trateColors: ['#F7DB4D', '#F7DB4D'],\n\t\trateColorss: ['#F7DB4D', '#F7DB4D', '#F7DB4D'],\n\t\tthreeMeals: ['早餐','午餐','晚餐'],\n\t\toptions: [\n\t\t\t{value: 1,label:'不辣'},\n\t\t\t{value: 2,label:'辣'}\n\t\t],\n\t\toptions1: [\n\t\t\t{value: 1,label:'易'},\n\t\t\t{value: 2,label:'难'}\n\t\t],\n\t\trecipe: {\n\t\t\tname: '',\n\t\t\talias: '',\n\t\t\tmainImageId: '',\n\t\t\tmainFoodId: '',\n\t\t\tmainFoodConsumption: '',\n\t\t\tfoodId: '',\n\t\t\tlabels: [],\n\t\t\tfoodConsumption: '',\n\t\t\tdetailsText: '',\n\t\t\tnote: '',\n\t\t\tmaijiStageLabelIds: [],\n\t\t\tareaLabelIds: [],\n\t\t\trecipeLabelIds: [],\n\t\t\tspicy: 0,\n\t\t\teconomy: 0,\n\t\t\tthreeMeal: [],\n\t\t\tdifficultyLevel: 0,\n\t\t\tgear: 0\n\t\t},\n\t\taliases: [''],\n\t\tmainFoods: [{\n\t\t    foodId: '',\n\t\t    foodName: '',\n\t\t    consumption: '',\n\t\t    main: true,\n\t\t    cascaderStr: '',\n\t\t    cascader: [],\n\t\t}],\n\t\tfoods: [{\n\t\t    foodId: '',\n\t\t    foodName: '',\n\t\t    consumption: '',\n\t\t    main: false,\n\t\t    cascaderStr: '',\n\t\t    cascader: []\n\t\t}],\n\t\tallMaijiStageLabels: [],\n\t\tfoodLabels: [],\n\t\trecipeMainImage: null,\n\t    content: '',\n\t\trules: {\n\t\t\tname: [\n\t\t\t\t{ required: true, message: '食谱名称不能为空', trigger: 'blur' }\n\t\t    ],\n\t\t    mainImageId: [\n\t\t\t\t{ required: true, message: '食谱主图不能为空', trigger: 'change' }\n\t\t    ],\n\t\t\tmainFoodId: [\n\t\t\t\t{ required: true, message: '请选择主料食材', trigger: 'change' }\n\t\t\t],\n\t\t\tspicy: [\n\t\t\t\t{ required: true, message: '请选择辣度', trigger: 'change' }\n\t\t\t],\n\t\t    difficultyLevel: [\n\t\t\t\t{ required: true, message: '请选择难易程度', trigger: 'change' }\n\t\t    ],\n\t\t    gear: [\n\t\t\t\t{ required: true, message: '请选择搭配情况', trigger: 'change' }\n\t\t    ],\n\t\t    threeMeal: [\n\t\t\t\t{ type: 'array', required: true, message: '请至少选择一个三餐归属', trigger: 'change' }\n\t\t    ],\n\t\t    maijiStageLabelIds: [\n\t\t\t\t{ type: 'array', required: true, message: '请至少选择一个食谱麦吉阶段', trigger: 'change' }\n\t\t    ],\n\t\t\tdetailsText: [\n\t\t\t\t{ required: true, message: '食谱详情不能为空', trigger: 'blur' }\n\t\t\t]\n\t\t}\n    }\n  },\n  created() {},\n  mounted () {\n  },\n  methods: {\n\tdraChange(){\n\t\tthis.recipe = {\n\t\t\tname: '',\n\t\t\talias: '',\n\t\t\tmainImageId: '',\n\t\t\tmainFoodId: '',\n\t\t\tmainFoodConsumption: '',\n\t\t\tfoodId: '',\n\t\t\tlabels: [],\n\t\t\tfoodConsumption: '',\n\t\t\tdetailsText: '',\n\t\t\tnote: '',\n\t\t\tmaijiStageLabelIds: [],\n\t\t\tareaLabelIds: [],\n\t\t\trecipeLabelIds: [],\n\t\t\tspicy: 0,\n\t\t\teconomy: 0,\n\t\t\tthreeMeal: [],\n\t\t\tdifficultyLevel: 0,\n\t\t\tgear: 0\n\t\t}\n\t\tthis.aliases = ['']\n\t\tthis.recipeMainImage = null\n\t\tthis.mainFoods = [{\n\t\t    foodId: '',\n\t\t    foodName: '',\n\t\t    consumption: '',\n\t\t    main: true,\n\t\t    cascaderStr: '',\n\t\t    cascader: [],\n\t\t}]\n\t\tthis.foods = [{\n\t\t    foodId: '',\n\t\t    foodName: '',\n\t\t    consumption: '',\n\t\t    main: false,\n\t\t    cascaderStr: '',\n\t\t    cascader: []\n\t\t}]\n\t\tthis.content = ''\n\t},\n\tasync editSave() {\n\t  this.recipe.detailsText = this.content;\n\t  this.$refs.recipeFrom.validate(async valid => {\n\t      if (!valid) {\n\t          return this.$message({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tmessage: \"编辑食谱失败，请确认编辑规范！\",\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t      }\n\t\t  if(this.recipe.maijiStageLabelIds && this.recipe.maijiStageLabelIds.length>0){\n\t\t\t  this.recipe.maijiStageLabelIds.forEach(item=>{\n\t\t\t\t  let obj = {\n\t\t\t\t\t  labelId: item\n\t\t\t\t  }\n\t\t\t\t  this.recipe.labels.push(obj)\n\t\t\t  })\n\t\t  }\n\t\t  if(this.recipe.areaLabelIds && this.recipe.areaLabelIds.length>0){\n\t\t\t  this.recipe.areaLabelIds.forEach(item=>{\n\t\t\t\t  let obj = {\n\t\t\t\t\t  labelId: item\n\t\t\t\t  }\n\t\t\t\t  this.recipe.labels.push(obj)\n\t\t\t  })\n\t\t  }\n\t      if(this.recipe.recipeLabelIds && this.recipe.recipeLabelIds.length>0){\n\t\t\t  this.recipe.recipeLabelIds.forEach(item=>{\n\t\t\t\t  let obj = {\n\t\t\t\t\t  labelId: item\n\t\t\t\t  }\n\t\t\t\t  this.recipe.labels.push(obj)\n\t\t\t  })\n\t\t  }\n\t      \n\t\t  if (this.aliases != null) this.recipe.alias = this.aliases.join('、')\n\t      this.recipe.foods = [...this.mainFoods, ...this.foods]\n\t\t  let indexToDelete = this.recipe.foods.findIndex(item => item.foodId === \"\");\n\t\t  this.recipe.foods.splice(indexToDelete,1);\n\t      this.recipe.detailsText = dealImg(this.recipe.detailsText)\n\t\t  this.recipe.threeMeal = JSON.stringify(this.recipe.threeMeal)\n\t\t  console.log(1111,this.recipe)\n\t\t  this.loading = true;\n\t      const result = await editRecipe(this.recipe);\n\t      if (result.code == 200) {\n\t\t\t  this.$message({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"保存成功！\",\n\t\t\t\tduration: 1000\n\t\t\t  })\n\t\t\t  setTimeout(()=>{\n\t\t\t\t  this.getDetails(this.recipe.uuId);\n\t\t\t\t  this.loading = false\n\t\t\t  },2000)\n\t      }else{\n\t\t\t  this.loading = false\n\t\t\t  this.$message({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: \"编辑食谱失败！\",\n\t\t\t\tduration: 1000\n\t\t\t  })\n\t\t  } \n\t  })\n\t},\n\tgetEditorContent(data) {\n\t\tthis.content = data;\n\t},\n\tgetDetails(id) {\n\t\tthis.draChange();\n\t\tlabelList({source: \"食谱\"})\n\t\t.then(async (res) => {\n\t\t\tif(res.code === 200){\n\t\t\t\tthis.foodAreaLabels = res.data.filter(label => label.listShow == 2).sort((L1, L2) => L1.name.length - L2.name.length)\n\t\t\t\t// console.log(res.data)\n\t\t\t\tthis.allMaijiStageLabels = res.data.filter(label => label.listShow == 1).sort((L1, L2) => L1.orderNo - L2.orderNo)\n\t\t\t\tthis.foodLabels = res.data.filter(label => label.listShow == 0).sort((L1, L2) => L1.orderNo - L2.orderNo)\n\t\t\t}\n\t\t}) \n\t\t.catch((err) => {\n\t\t\tthis.$message({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err,\n\t\t\t\tduration: 1000\n\t\t\t})\n\t\t});\n\t\tfoodList({isFindFoods: true})\n\t\t.then(async (res) => {\n\t\t   if(res.code === 200){\n\t\t\t    this.foodTypes = res.data.map(type => {\n\t\t\t       if (type.children && type.children.length >1)\n\t\t\t           type.children.sort((c1, c2) =>c1.label.length - c2.label.length)\n\t\t\t       return type\n\t\t\t    }).sort((t1, t2) => t1.label.length - t2.label.length)\n\t\t   }\n\t\t}).catch((err) => {\n\t\t  this.$message({\n\t\t  \ttype: \"error\",\n\t\t  \tmessage: err,\n\t\t  \tduration: 1000\n\t\t  })\n\t\t});\n\t    detailsApi(id)\n\t\t.then(async (res) => {\n\t      if (res.code === 200) {\n\t\t\tthis.recipe.uuId = res.data.uuId\n\t\t\tthis.recipe.name = res.data.name\n\t\t\tthis.recipe.note = res.data.note\n\t\t\tthis.recipe.spicy = res.data.spicy\n\t\t\tthis.recipe.economy = res.data.economy\n\t\t\tthis.recipe.difficultyLevel = res.data.difficultyLevel\n\t\t\tthis.recipe.gear = res.data.gear\n\t\t\tif (res.data.mainFoods) {\n\t\t\t    this.mainFoods = res.data.mainFoods.map(food => Object.assign(food, {cascader: food.cascaderStr!=null?food.cascaderStr.split(','):[]}))\n\t\t\t    this.recipe.mainFoodId = this.mainFoods[0].foodId\n\t\t\t    this.recipe.mainFoodConsumption = this.mainFoods[0].consumption\n\t\t\t}\n\t\t\tif (res.data.foods) {\n\t\t\t    this.foods = res.data.foods.map(food => Object.assign(food, {cascader: food.cascaderStr!=null?food.cascaderStr.split(','):[]}))\n\t\t\t    this.recipe.foodId = this.foods[0].foodId\n\t\t\t    this.recipe.foodConsumption = this.foods[0].consumption\n\t\t\t}\n\t\t\tif(res.data.areaLabelIds){\n\t\t\t\tthis.recipe.areaLabelIds = res.data.areaLabelIds.filter(label => label.listShow == 2).map(label => label.uuId)\n\t\t\t\tthis.recipe.maijiStageLabelIds = res.data.areaLabelIds.filter(label => label.listShow == 1).map(label => label.uuId)\n\t\t\t\tthis.recipe.recipeLabelIds = res.data.areaLabelIds.filter(label => label.listShow == 0).map(label => label.uuId)\n\t\t\t}\n\t\t\tthis.aliases = res.data.aliases\n\t\t\tthis.recipeMainImage = res.data.mainImage\n\t\t\tthis.recipe.mainImageId = res.data.mainImage.uuId\n\t\t\tthis.recipe.detailsText = res.data.detailsText\n\t\t\tthis.recipe.threeMeal = JSON.parse(res.data.threeMeal)\n\t      } else {\n\t\t\t  this.$message({\n\t\t\t  \ttype: \"error\",\n\t\t\t  \tmessage: res.msg,\n\t\t\t  \tduration: 1000\n\t\t\t  })\n\t      }\n\t    })\n\t    .catch((err) => {\n\t\t\tthis.$message({\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage: err,\n\t\t\t\tduration: 1000\n\t\t\t})\n\t    });\n\t},\n\tquerySearch(queryString, cb) {\n\t    const queryArr = [{value: '若干'}, {value: '适量'}, {value: '少许'}, {value: '或输入具体数值(克)'}]\n\t    const results = queryString? queryArr.filter(query => query.value.includes(queryString)): queryArr\n\t    cb(results)  // 调用 callback 返回建议列表的数据\n\t},\n\tasync addRecipeImage(param) {\n\t    const imageData = new FormData()\n\t    imageData.append('uploadFiles', param.file)\n\t    const result = await uploadRecipeImages(imageData)\n\t    if (result.code != 200) this.$message.error(`上传食谱主图失败，请稍后重试！`)\n\t    this.recipeMainImage = Object.assign(result.data[0], {isMain: 1})\n\t    this.recipe.mainImageId = this.recipeMainImage.uuId\n\t},\n\tElCascaderChange(value, index, isMain) {\n\t\tconsole.log(value)\n\t\tconsole.log(this.$refs.myMainElCascader[index].suggestions[0].label)\n\t    if (isMain) {\n\t        const foodName = this.$refs.myMainElCascader[index].suggestions[0].label\n\t        this.mainFoods[index].foodId = value[2]\n\t        this.mainFoods[index].foodName = foodName\n\t        this.mainFoods[index].cascaderStr = value.join(',')\n\t        this.recipe.mainFoodId = value[2]\n\t    } else {\n\t        const foodName = this.$refs.myElCascader[index].suggestions[0].label\n\t        this.foods[index].foodId = value[2]\n\t        this.foods[index].foodName = foodName\n\t        this.foods[index].cascaderStr = value.join(',')\n\t        this.recipe.foodId = value[2]\n\t    }\n\t},\n\thandleFilterMethod(node,keyword){\n\t\treturn node.label.indexOf(keyword) !== -1;\n\t},\n\thandleFilterMethod1(node,keyword){\n\t\treturn node.label.indexOf(keyword) !== -1;\n\t},\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    .el-form-item {\n        text-align: left;\n    }\n\t.head {\n\t  position: relative;\n\t  padding: 0 15px;\n\t  margin-bottom: 40px;\n\t  .edit-btn {\n\t    position: absolute;\n\t    right: 10px;\n\t    top: 0px;\n\t    display: flex;\n\t    align-items: center;\n\t  }\n\t}\n</style>\n\n"]}]}