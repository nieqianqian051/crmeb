{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/customerInfo/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/customerInfo/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGtlZnVjcmVhdGVBcGkgfSBmcm9tICdAL2FwaS9zZXR0aW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICAgIGRhdGE6ICcnLAogICAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgfSwKICAgICAgdGFibGVMaXN0MjogW10sCiAgICAgIHRpbWVWYWw6IFtdLAogICAgICBmcm9tTGlzdDogewogICAgICAgIHRpdGxlOiAn6YCJ5oup5pe26Ze0JywKICAgICAgICBjdXN0b206IHRydWUsCiAgICAgICAgZnJvbVR4dDogWwogICAgICAgICAgeyB0ZXh0OiAn5YWo6YOoJywgdmFsOiAnJyB9LAogICAgICAgICAgeyB0ZXh0OiAn5LuK5aSpJywgdmFsOiAndG9kYXknIH0sCiAgICAgICAgICB7IHRleHQ6ICfmmKjlpKknLCB2YWw6ICd5ZXN0ZXJkYXknIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnIDov5E35aSpJywgdmFsOiAnbGF0ZWx5NycgfSwKICAgICAgICAgIHsgdGV4dDogJ+acgOi/kTMw5aSpJywgdmFsOiAnbGF0ZWx5MzAnIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnKzmnIgnLCB2YWw6ICdtb250aCcgfSwKICAgICAgICAgIHsgdGV4dDogJ+acrOW5tCcsIHZhbDogJ3llYXInIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgY3VycmVudGlkOiAwLAogICAgICBwcm9kdWN0Um93OiB7fSwKICAgICAgbG9hZGluZzI6IGZhbHNlLAogICAgICB0b3RhbDI6IDAsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlhbfkvZPml6XmnJ8KICAgIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMudGltZVZhbCA9IGU7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEgPSB0aGlzLnRpbWVWYWwgPyB0aGlzLnRpbWVWYWwuam9pbignLScpIDogJyc7CiAgICAgIHRoaXMuZ2V0TGlzdFNlcnZpY2UoKTsKICAgIH0sCiAgICAvLyDpgInmi6nml7bpl7QKICAgIHNlbGVjdENoYW5nZSh0YWIpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YSA9IHRhYjsKICAgICAgdGhpcy50aW1lVmFsID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdFNlcnZpY2UoKTsKICAgIH0sCiAgICAvLyDlrqLmnI3liJfooagKICAgIGdldExpc3RTZXJ2aWNlKCkgewogICAgICB0aGlzLmxvYWRpbmcyID0gdHJ1ZTsKICAgICAga2VmdWNyZWF0ZUFwaSh0aGlzLmZvcm1WYWxpZGF0ZSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy50YWJsZUxpc3QyID0gZGF0YS5saXN0OwogICAgICAgICAgdGhpcy50b3RhbDIgPSBkYXRhLmNvdW50OwogICAgICAgICAgdGhpcy50YWJsZUxpc3QyLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICBpdGVtLl9pc0NoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5sb2FkaW5nMiA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57SiCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdFNlcnZpY2UoKTsKICAgIH0sCiAgICBjdXJyZW50aWRSYWRpbyhyb3cpIHsKICAgICAgc2VsZi5jdXJyZW50aWQgPSByb3cudWlkOwogICAgICB0aGlzLnByb2R1Y3RSb3cgPSByb3c7CiAgICAgIGlmICh0aGlzLnByb2R1Y3RSb3cudWlkKSB7CiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmZvZGRlciA9PT0gJ2ltYWdlJykgewogICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgICAgIGxldCBpbWFnZU9iamVjdCA9IHsKICAgICAgICAgICAgaW1hZ2U6IHRoaXMucHJvZHVjdFJvdy5oZWFkaW1ndXJsLAogICAgICAgICAgICB1aWQ6IHRoaXMucHJvZHVjdFJvdy51aWQsCiAgICAgICAgICB9OwogICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLnNldCgnaW1hZ2UnLCBpbWFnZU9iamVjdCk7CiAgICAgICAgICBmb3JtX2NyZWF0ZV9oZWxwZXIuY2xvc2UoJ2ltYWdlJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2ltYWdlT2JqZWN0JywgewogICAgICAgICAgICBpbWFnZTogdGhpcy5wcm9kdWN0Um93LmhlYWRpbWd1cmwsCiAgICAgICAgICAgIHVpZDogdGhpcy5wcm9kdWN0Um93LnVpZCwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOmAieaLqeWVhuWTgScpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/customerInfo","sourcesContent":["<template>\n  <div class=\"customer\">\n    <el-form ref=\"formValidate\" :model=\"formValidate\" label-width=\"80px\" inline @submit.native.prevent>\n      <el-form-item label=\"搜索用户：\">\n        <el-input\n          clearable\n          placeholder=\"请输入用户UID、昵称或手机号\"\n          v-model=\"formValidate.nickname\"\n          class=\"form_content_width\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"userSearchs\">查询</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      class=\"mt15\"\n      v-loading=\"loading2\"\n      highlight-current-row\n      no-userFrom-text=\"暂无数据\"\n      no-filtered-userFrom-text=\"暂无筛选结果\"\n      ref=\"selection\"\n      :data=\"tableList2\"\n      height=\"450\"\n    >\n      <el-table-column width=\"50\">\n        <template slot-scope=\"scope\">\n          <el-radio\n            v-model=\"currentid\"\n            :disabled=\"!!scope.row.is_del\"\n            :label=\"scope.row.uid\"\n            @input=\"() => currentidRadio(scope.row)\"\n            >&nbsp;</el-radio\n          >\n        </template>\n      </el-table-column>\n      <el-table-column label=\"UID\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.uid }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户头像\" min-width=\"90\">\n        <template slot-scope=\"scope\">\n          <div class=\"tabBox_img\" v-viewer>\n            <img v-lazy=\"scope.row.headimgurl\" />\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户昵称\" min-width=\"180\">\n        <template slot-scope=\"scope\">\n          <div>{{ scope.row.nickname }}</div>\n          <div style=\"color: red\">{{ scope.row.is_del ? '用户已注销' : '' }}</div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"手机号\" min-width=\"180\">\n        <template slot-scope=\"scope\">\n          <div>{{ scope.row.phone }}</div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"是否关注公众号\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <span v-text=\"scope.row.subscribe === 1 ? '关注' : '未关注'\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"注册时间\" min-width=\"180\">\n        <template slot-scope=\"scope\">\n          <div>{{ scope.row.add_time }}</div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"acea-row row-right page\">\n      <pagination\n        v-if=\"total2\"\n        :total=\"total2\"\n        :page.sync=\"formValidate.page\"\n        :limit.sync=\"formValidate.limit\"\n        @pagination=\"getListService\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport { kefucreateApi } from '@/api/setting';\nexport default {\n  name: 'index',\n  data() {\n    return {\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        nickname: '',\n      },\n      tableList2: [],\n      timeVal: [],\n      fromList: {\n        title: '选择时间',\n        custom: true,\n        fromTxt: [\n          { text: '全部', val: '' },\n          { text: '今天', val: 'today' },\n          { text: '昨天', val: 'yesterday' },\n          { text: '最近7天', val: 'lately7' },\n          { text: '最近30天', val: 'lately30' },\n          { text: '本月', val: 'month' },\n          { text: '本年', val: 'year' },\n        ],\n      },\n      currentid: 0,\n      productRow: {},\n      loading2: false,\n      total2: 0,\n    };\n  },\n  created() {},\n  mounted() {\n    this.getListService();\n  },\n  methods: {\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal ? this.timeVal.join('-') : '';\n      this.getListService();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.getListService();\n    },\n    // 客服列表\n    getListService() {\n      this.loading2 = true;\n      kefucreateApi(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList2 = data.list;\n          this.total2 = data.count;\n          this.tableList2.map((item) => {\n            item._isChecked = false;\n          });\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          this.loading2 = false;\n          this.$message.error(res.msg);\n        });\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n    currentidRadio(row) {\n      self.currentid = row.uid;\n      this.productRow = row;\n      if (this.productRow.uid) {\n        if (this.$route.query.fodder === 'image') {\n          /* eslint-disable */\n          let imageObject = {\n            image: this.productRow.headimgurl,\n            uid: this.productRow.uid,\n          };\n          form_create_helper.set('image', imageObject);\n          form_create_helper.close('image');\n        } else {\n          this.$emit('imageObject', {\n            image: this.productRow.headimgurl,\n            uid: this.productRow.uid,\n          });\n        }\n      } else {\n        this.$message.warning('请先选择商品');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.customer{\n  height 100%\n  background-color: #fff;\n}\n.tabBox_img\n    width 36px\n    height 36px\n    border-radius:4px;\n    cursor pointer\n    img\n        width 100%\n        height 100%\n.modelBox\n    ::v-deep \n    .ivu-table-header\n        width 100% !important\n.trees-coadd\n    width: 100%;\n    height: 385px;\n    .scollhide\n        width: 100%;\n        height: 100%;\n        overflow-x: hidden;\n        overflow-y: scroll;\n.scollhide::-webkit-scrollbar {\n    display: none;\n}\n.footer{\n    margin: 15px 0;\n    padding-right: 20px;\n}\n::v-deep .el-form--inline .el-form-item{\n  margin-bottom 0\n}\n</style>\n"]}]}