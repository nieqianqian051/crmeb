{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/goodsList/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/goodsList/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGNhc2NhZGVyTGlzdEFwaSwgY2hhbmdlTGlzdEFwaSB9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwppbXBvcnQgeyBsaXZlR29vZHMgfSBmcm9tICdAL2FwaS9saXZlJzsKaW1wb3J0IHsgZ2V0UHJvZHVjdExpc3QgfSBmcm9tICdAL2FwaS9kaXknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2luZGV4JywKICBwcm9wczogewogICAgaXNfbmV3OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycsCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAogICAgZGl5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGlzY2hlY2tib3g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgbGl2ZVN0YXR1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBpc0xpdmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgaXNkaXk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgc2VsZWN0SWRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgfSwKICAgIGRhdGFzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVtcGxhdGVSYWRpbzogMCwKICAgICAgbW9kYWxfbG9hZGluZzogZmFsc2UsCiAgICAgIHRyZWVTZWxlY3Q6IFtdLAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgICBjYXRlX2lkOiAnJywKICAgICAgICBzdG9yZV9uYW1lOiAnJywKICAgICAgICBpc19uZXc6IHRoaXMuaXNfbmV3LAogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogMTAsCiAgICAgICAgbGc6IDEwLAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0LAogICAgICB9LAogICAgICB0YWJsZUxpc3Q6IFtdLAogICAgICBjdXJyZW50aWQ6IDAsCiAgICAgIHByb2R1Y3RSb3c6IHt9LAogICAgICBpbWFnZXM6IFtdLAogICAgICBtYW55OiAnJywKICAgICAgZ29vZFR5cGU6ICcnLAogICAgICBnb29kTGlzdDogWwogICAgICAgIHsKICAgICAgICAgIGFjdGl2ZVZhbHVlOiAwLAogICAgICAgICAgdGl0bGU6ICfllYblk4HliJfooagnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYWN0aXZlVmFsdWU6ICc0JywKICAgICAgICAgIHRpdGxlOiAn54Ot6Zeo5qac5Y2VJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGFjdGl2ZVZhbHVlOiAnNScsCiAgICAgICAgICB0aXRsZTogJ+mmluWPkeaWsOWTgScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBhY3RpdmVWYWx1ZTogJzYnLAogICAgICAgICAgdGl0bGU6ICfkv4PplIDljZXlk4EnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYWN0aXZlVmFsdWU6ICc3JywKICAgICAgICAgIHRpdGxlOiAn57K+5ZOB5o6o6I2QJywKICAgICAgICB9LAogICAgICBdLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDogewogICAgaXNjaGVja2JveDogewogICAgICBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgICAgdGhpcy5tYW55ID0gJ21hbnknOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQgbWFueSA9ICcnOwogICAgaWYgKHRoaXMuaXNjaGVja2JveCkgewogICAgICBtYW55ID0gJ21hbnknOwogICAgfSBlbHNlIHsKICAgICAgbWFueSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGU7CiAgICB9CiAgICB0aGlzLm1hbnkgPSBtYW55OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ29vZHNDYXRlZ29yeSgpOwogICAgaWYgKHRoaXMuZGl5KSB7CiAgICAgIHRoaXMucHJvZHVjdExpc3QoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcHJvZHVjdExpc3QoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHBhZ2U6IHRoaXMuZm9ybVZhbGlkYXRlLnBhZ2UsCiAgICAgICAgbGltaXQ6IHRoaXMuZm9ybVZhbGlkYXRlLmxpbWl0LAogICAgICAgIGNhdGVfaWQ6IHRoaXMuZm9ybVZhbGlkYXRlLmNhdGVfaWQsCiAgICAgICAgc3RvcmVfbmFtZTogdGhpcy5mb3JtVmFsaWRhdGUuc3RvcmVfbmFtZSwKICAgICAgICB0eXBlOiB0aGlzLnR5cGUgPyB0aGlzLnR5cGUgOiB0aGlzLmdvb2RUeXBlLAogICAgICB9OwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRQcm9kdWN0TGlzdChkYXRhKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRUZW1wbGF0ZVJvdyhyb3cpIHsKICAgICAgbGV0IGltYWdlcyA9IFtdOwogICAgICBsZXQgaW1hZ2VPYmplY3QgPSB7CiAgICAgICAgaW1hZ2U6IHJvdy5pbWFnZSwKICAgICAgICBwcm9kdWN0X2lkOiByb3cuaWQsCiAgICAgICAgc3RvcmVfbmFtZTogcm93LnN0b3JlX25hbWUsCiAgICAgICAgdGVtcF9pZDogcm93LnRlbXBfaWQsCiAgICAgIH07CiAgICAgIGltYWdlcy5wdXNoKGltYWdlT2JqZWN0KTsKICAgICAgdGhpcy5pbWFnZXMgPSBpbWFnZXM7CiAgICAgIHRoaXMuZGl5VmFsID0gcm93OwogICAgICB0aGlzLiRlbWl0KCdnZXRQcm9kdWN0SWQnLCByb3cpOwogICAgfSwKICAgIGNoYW5nZUNoZWNrYm94KHNlbGVjdGlvbikgewogICAgICBsZXQgaW1hZ2VzID0gW107CiAgICAgIHNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgbGV0IGltYWdlT2JqZWN0ID0gewogICAgICAgICAgaW1hZ2U6IGl0ZW0uaW1hZ2UsCiAgICAgICAgICBwcm9kdWN0X2lkOiBpdGVtLmlkLAogICAgICAgICAgc3RvcmVfbmFtZTogaXRlbS5zdG9yZV9uYW1lLAogICAgICAgICAgdGVtcF9pZDogaXRlbS50ZW1wX2lkLAogICAgICAgIH07CiAgICAgICAgaW1hZ2VzLnB1c2goaW1hZ2VPYmplY3QpOwogICAgICB9KTsKCiAgICAgIHRoaXMuaW1hZ2VzID0gaW1hZ2VzOwogICAgICB0aGlzLmRpeVZhbCA9IHNlbGVjdGlvbjsKICAgICAgdGhpcy4kZW1pdCgnZ2V0UHJvZHVjdERpeScsIHNlbGVjdGlvbik7CiAgICB9LAogICAgLy8g5ZWG5ZOB5YiG57G777ybCiAgICBnb29kc0NhdGVnb3J5KCkgewogICAgICBjYXNjYWRlckxpc3RBcGkoMSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnRyZWVTZWxlY3QgPSByZXMuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VDaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLmRpeSkgewogICAgICAgIHRoaXMucHJvZHVjdExpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIl+ihqAogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLmxpdmVTdGF0dXMpIHsKICAgICAgICBpZiAodGhpcy5pc0xpdmUpIHsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlzX2xpdmUgPSAxOwogICAgICAgIH0KICAgICAgICBjaGFuZ2VMaXN0QXBpKHRoaXMuZm9ybVZhbGlkYXRlKQogICAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdElkcyk7CiAgICAgICAgICAgIHRoaXMudGFibGVMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0SWRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgbGV0IGFyciA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJZHMubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICAgIGRhdGEubGlzdC5tYXAoKGkpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoaS5pZCA9PSBpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpKTsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMudGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKGksIHRydWUpOwoKICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2hlY2tib3goYXJyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGl2ZUdvb2RzKHsKICAgICAgICAgIGlzX3Nob3c6ICcxJywKICAgICAgICAgIHN0YXR1czogJzEnLAogICAgICAgICAgbGl2ZV9pZDogdGhpcy5kYXRhcy5pZCwKICAgICAgICAgIGtlcndvcmQ6IHRoaXMuZm9ybVZhbGlkYXRlLnN0b3JlX25hbWUsCiAgICAgICAgICBwYWdlOiB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlLAogICAgICAgICAgbGltaXQ6IHRoaXMuZm9ybVZhbGlkYXRlLmxpbWl0LAogICAgICAgIH0pCiAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGRhdGEubGlzdC5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICAgIGVsLmltYWdlID0gZWwuY292ZXJfaW1nOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0SWRzLmxlbmd0aCkgewogICAgICAgICAgICAgIHRoaXMuc2VsZWN0SWRzLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgZGF0YS5saXN0Lm1hcCgoaSkgPT4gewogICAgICAgICAgICAgICAgICBpZiAoaS5pZCA9PSBpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS50b2dnbGVSb3dTZWxlY3Rpb24oaSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy50YWJsZUxpc3QgPSBkYXRhLmxpc3Q7CiAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb2soKSB7CiAgICAgIGlmICh0aGlzLmltYWdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmZvZGRlciA9PT0gJ2ltYWdlJykgewogICAgICAgICAgbGV0IGltYWdlVmFsdWUgPSBmb3JtX2NyZWF0ZV9oZWxwZXIuZ2V0KCdpbWFnZScpOwogICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLnNldCgnaW1hZ2UnLCBpbWFnZVZhbHVlLmNvbmNhdCh0aGlzLmltYWdlcykpOwogICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLmNsb3NlKCdpbWFnZScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyZWZzLnRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICBpZiAodGhpcy5pc2RpeSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdnZXRQcm9kdWN0SWQnLCB0aGlzLmRpeVZhbCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdnZXRQcm9kdWN0SWQnLCB0aGlzLmltYWdlcyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35YWI6YCJ5oup5ZWG5ZOBJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDooajmoLzmkJzntKIKICAgIHVzZXJTZWFyY2hzKCkgewogICAgICB0aGlzLmN1cnJlbnRpZCA9IDA7CiAgICAgIHRoaXMucHJvZHVjdFJvdyA9IHt9OwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gMTsKICAgICAgaWYgKHRoaXMuZGl5KSB7CiAgICAgICAgdGhpcy5wcm9kdWN0TGlzdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9CiAgICB9LAogICAgY2xlYXIoKSB7CiAgICAgIHRoaXMucHJvZHVjdFJvdy5pZCA9ICcnOwogICAgICB0aGlzLmN1cnJlbnRpZCA9ICcnOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/goodsList","sourcesContent":["<template>\n  <div class=\"goodList\">\n    <el-form ref=\"formValidate\" :model=\"formValidate\" label-width=\"80px\" label-position=\"right\" inline class=\"tabform\">\n      <el-form-item label=\"商品分类：\" v-if=\"!liveStatus\">\n        <el-cascader\n          v-model=\"formValidate.cate_id\"\n          size=\"small\"\n          :options=\"treeSelect\"\n          :props=\"{ checkStrictly: true, emitPath: false }\"\n          clearable\n          class=\"form_content_width\"\n        ></el-cascader>\n      </el-form-item>\n      <el-form-item label=\"商品类型：\" v-if=\"!type && diy\">\n        <el-select v-model=\"goodType\" clearable @change=\"userSearchs\" class=\"form_content_width\">\n          <el-option v-for=\"item in goodList\" :value=\"item.activeValue\" :key=\"item.activeValue\" :label=\"item.title\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"商品搜索：\">\n        <el-input\n          clearable\n          placeholder=\"请输入商品名称/关键字/编号\"\n          v-model=\"formValidate.store_name\"\n          class=\"form_content_width\"\n        />\n        <el-button type=\"primary\" @click=\"userSearchs\" class=\"ml15\">查询</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      ref=\"table\"\n      empty-text=\"暂无数据\"\n      max-height=\"400\"\n      :highlight-current-row=\"many !== 'many'\"\n      :data=\"tableList\"\n      v-loading=\"loading\"\n      @select=\"changeCheckbox\"\n      @select-all=\"changeCheckbox\"\n    >\n      <el-table-column v-if=\"many == 'many'\" type=\"selection\" width=\"55\"> </el-table-column>\n      <el-table-column v-else width=\"50\">\n        <template slot-scope=\"scope\">\n          <el-radio v-model=\"templateRadio\" :label=\"scope.row.id\" @change.native=\"getTemplateRow(scope.row)\"\n            >&nbsp;</el-radio\n          >\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"商品ID\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"图片\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <div class=\"tabBox_img\" v-viewer>\n            <img v-lazy=\"scope.row.image\" />\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"商品名称\" min-width=\"250\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.store_name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"商品分类\" min-width=\"150\" v-if=\"liveStatus\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.cate_name }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"acea-row row-right page\">\n      <pagination\n        v-if=\"total\"\n        :total=\"total\"\n        :page.sync=\"formValidate.page\"\n        :limit.sync=\"formValidate.limit\"\n        @pagination=\"pageChange\"\n      />\n      <el-button type=\"primary\" @click=\"ok\" v-if=\"many === 'many' && !diy\" class=\"ml15\">提交</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { cascaderListApi, changeListApi } from '@/api/product';\nimport { liveGoods } from '@/api/live';\nimport { getProductList } from '@/api/diy';\nexport default {\n  name: 'index',\n  props: {\n    is_new: {\n      type: String,\n      default: '',\n    },\n    type: {\n      type: Number,\n      default: 0,\n    },\n    diy: {\n      type: Boolean,\n      default: false,\n    },\n    ischeckbox: {\n      type: Boolean,\n      default: false,\n    },\n    liveStatus: {\n      type: Boolean,\n      default: false,\n    },\n    isLive: {\n      type: Boolean,\n      default: false,\n    },\n    isdiy: {\n      type: Boolean,\n      default: false,\n    },\n    selectIds: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n    datas: {\n      type: Object,\n      default: function () {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      templateRadio: 0,\n      modal_loading: false,\n      treeSelect: [],\n      formValidate: {\n        page: 1,\n        limit: 15,\n        cate_id: '',\n        store_name: '',\n        is_new: this.is_new,\n      },\n      total: 0,\n      modals: false,\n      loading: false,\n      grid: {\n        xl: 10,\n        lg: 10,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tableList: [],\n      currentid: 0,\n      productRow: {},\n      images: [],\n      many: '',\n      goodType: '',\n      goodList: [\n        {\n          activeValue: 0,\n          title: '商品列表',\n        },\n        {\n          activeValue: '4',\n          title: '热门榜单',\n        },\n        {\n          activeValue: '5',\n          title: '首发新品',\n        },\n        {\n          activeValue: '6',\n          title: '促销单品',\n        },\n        {\n          activeValue: '7',\n          title: '精品推荐',\n        },\n      ],\n    };\n  },\n  computed: {},\n  watch: {\n    ischeckbox: {\n      handler(newVal, oldVal) {\n        if (newVal) {\n          this.many = 'many';\n        }\n      },\n      immediate: true,\n    },\n  },\n  created() {\n    let many = '';\n    if (this.ischeckbox) {\n      many = 'many';\n    } else {\n      many = this.$route.query.type;\n    }\n    this.many = many;\n  },\n  mounted() {\n    this.goodsCategory();\n    if (this.diy) {\n      this.productList();\n    } else {\n      this.getList();\n    }\n  },\n  methods: {\n    productList() {\n      let data = {\n        page: this.formValidate.page,\n        limit: this.formValidate.limit,\n        cate_id: this.formValidate.cate_id,\n        store_name: this.formValidate.store_name,\n        type: this.type ? this.type : this.goodType,\n      };\n      this.loading = true;\n      getProductList(data)\n        .then((res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$message.error(res.msg);\n        });\n    },\n    getTemplateRow(row) {\n      let images = [];\n      let imageObject = {\n        image: row.image,\n        product_id: row.id,\n        store_name: row.store_name,\n        temp_id: row.temp_id,\n      };\n      images.push(imageObject);\n      this.images = images;\n      this.diyVal = row;\n      this.$emit('getProductId', row);\n    },\n    changeCheckbox(selection) {\n      let images = [];\n      selection.forEach(function (item) {\n        let imageObject = {\n          image: item.image,\n          product_id: item.id,\n          store_name: item.store_name,\n          temp_id: item.temp_id,\n        };\n        images.push(imageObject);\n      });\n\n      this.images = images;\n      this.diyVal = selection;\n      this.$emit('getProductDiy', selection);\n    },\n    // 商品分类；\n    goodsCategory() {\n      cascaderListApi(1)\n        .then((res) => {\n          this.treeSelect = res.data;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    pageChange() {\n      if (this.diy) {\n        this.productList();\n      } else {\n        this.getList();\n      }\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      if (!this.liveStatus) {\n        if (this.isLive) {\n          this.formValidate.is_live = 1;\n        }\n        changeListApi(this.formValidate)\n          .then(async (res) => {\n            let data = res.data;\n            console.log(this.selectIds);\n            this.tableList = data.list;\n            this.total = res.data.count;\n            this.loading = false;\n            this.$nextTick(() => {\n              if (this.selectIds.length) {\n                let arr = [];\n                this.selectIds.map((item) => {\n                  data.list.map((i) => {\n                    if (i.id == item) {\n                      console.log(i);\n                      this.$refs.table.toggleRowSelection(i, true);\n\n                      arr.push(i);\n                    }\n                  });\n                });\n                this.changeCheckbox(arr);\n              }\n            });\n          })\n          .catch((res) => {\n            this.loading = false;\n            this.$message.error(res.msg);\n          });\n      } else {\n        liveGoods({\n          is_show: '1',\n          status: '1',\n          live_id: this.datas.id,\n          kerword: this.formValidate.store_name,\n          page: this.formValidate.page,\n          limit: this.formValidate.limit,\n        })\n          .then(async (res) => {\n            let data = res.data;\n            data.list.forEach((el) => {\n              el.image = el.cover_img;\n            });\n            if (this.selectIds.length) {\n              this.selectIds.map((item) => {\n                data.list.map((i) => {\n                  if (i.id == item) {\n                    console.log(i);\n                    this.$refs.table.toggleRowSelection(i);\n                  }\n                });\n              });\n            }\n            this.$nextTick((e) => {\n              this.tableList = data.list;\n              this.total = res.data.count;\n              this.loading = false;\n            });\n          })\n          .catch((res) => {\n            this.loading = false;\n            this.$message.error(res.msg);\n          });\n      }\n    },\n    ok() {\n      if (this.images.length > 0) {\n        if (this.$route.query.fodder === 'image') {\n          let imageValue = form_create_helper.get('image');\n          form_create_helper.set('image', imageValue.concat(this.images));\n          form_create_helper.close('image');\n        } else {\n          this.$refs.table.clearSelection();\n          if (this.isdiy) {\n            this.$emit('getProductId', this.diyVal);\n          } else {\n            this.$emit('getProductId', this.images);\n          }\n        }\n      } else {\n        this.$message.warning('请先选择商品');\n      }\n    },\n    // 表格搜索\n    userSearchs() {\n      this.currentid = 0;\n      this.productRow = {};\n      this.formValidate.page = 1;\n      if (this.diy) {\n        this.productList();\n      } else {\n        this.getList();\n      }\n    },\n    clear() {\n      this.productRow.id = '';\n      this.currentid = '';\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.footer {\n  margin: 15px 0;\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.tabform {\n  ::v-deep .ivu-form-item {\n    margin-bottom: 16px !important;\n  }\n}\n\n.btn {\n  margin-top: 20px;\n  float: right;\n}\n\n.goodList {\n  ::v-deeptable {\n    width: 100% !important;\n  }\n}\n</style>\n"]}]}