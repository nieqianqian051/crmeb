{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/appChat/mobile/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/appChat/mobile/index.vue","mtime":1719473336000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB7IFNvY2tldCB9IGZyb20gJ0AvbGlicy9zb2NrZXQnOwppbXBvcnQgdXRpbCBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCBlbW9qaUxpc3QgZnJvbSAnQC91dGlscy9lbW9qaSc7CmltcG9ydCB7IHNlcnZpY2VMaXN0LCBzZXJ2aWNlTGlzdEFwaSwgZ2V0T3JkZXJBcGksIGNoYXRMaXN0QXBpLCBwcm9kdWN0QXBpIH0gZnJvbSAnQC9hcGkva2VmdSc7CmltcG9ydCB7IGdldENvb2tpZXMsIHJlbW92ZUNvb2tpZXMsIHNldENvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCB7IGlzUGljVXBsb2FkIH0gZnJvbSAnQC91dGlscyc7Cgpjb25zdCBjaHVuayA9IGZ1bmN0aW9uIChhcnIsIG51bSkgewogIG51bSA9IG51bSAqIDEgfHwgMTsKICB2YXIgcmV0ID0gW107CiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgIGlmIChpICUgbnVtID09PSAwKSB7CiAgICAgIHJldC5wdXNoKFtdKTsKICAgIH0KICAgIHJldFtyZXQubGVuZ3RoIC0gMV0ucHVzaChpdGVtKTsKICB9KTsKICByZXR1cm4gcmV0Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjaGF0X21vYmlsZScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wczogewogICAgICAgIHZ1ZXNjcm9sbDogewogICAgICAgICAgbW9kZTogJ3NsaWRlJywKICAgICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgICBhdXRvOiBmYWxzZSwKICAgICAgICAgIGF1dG9Mb2FkRGlzdGFuY2U6IDAsCiAgICAgICAgICBwdWxsUmVmcmVzaDogewogICAgICAgICAgICBlbmFibGU6IHRydWUsCiAgICAgICAgICAgIGF1dG86IGZhbHNlLAogICAgICAgICAgICBhdXRvTG9hZERpc3RhbmNlOiAwLAogICAgICAgICAgICB0aXBzOiB7CiAgICAgICAgICAgICAgZGVhY3RpdmU6ICcnLAogICAgICAgICAgICAgIGFjdGl2ZTogJ+S4iuaLieWKoOi9veabtOWkmicsCiAgICAgICAgICAgICAgc3RhcnQ6ICdMb2FkaW5nLi4uJywKICAgICAgICAgICAgICBiZWZvcmVEZWFjdGl2ZTogJyAnLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHB1c2hMb2FkOiB7CiAgICAgICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgYmFyOiB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzM5MzIzMicsCiAgICAgICAgICBvcGFjaXR5OiAnLjUnLAogICAgICAgICAgc2l6ZTogJzJweCcsCiAgICAgICAgfSwKICAgICAgfSwKICAgICAgc3dpcGVyT3B0aW9uczoge30sCiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpc1Rvb2w6IGZhbHNlLAogICAgICBpc1N3aXBlcjogZmFsc2UsCiAgICAgIGlzV29yZHM6IGZhbHNlLAogICAgICBhdXRvcGxheTogZmFsc2UsCiAgICAgIGNpcmN1bGFyOiB0cnVlLAogICAgICBpbnRlcnZhbDogMzAwMCwKICAgICAgZHVyYXRpb246IDUwMCwKICAgICAgZW1vamlHcm91cDogY2h1bmsoZW1vamlMaXN0LCAyMSksCiAgICAgIGNvbjogJycsCiAgICAgIHRvVWlkOiAnJywKICAgICAgbGltaXQ6IDE1LAogICAgICB1cHBlcklkOiAwLAogICAgICBjaGF0TGlzdDogW10sCiAgICAgIGtlZnVJbmZvOiB7fSwKICAgICAgc2Nyb2xsVG9wOiAwLAogICAgICBhY3RpdmU6IHRydWUsCiAgICAgIGlzU2Nyb2xsOiB0cnVlLAogICAgICBvbGRIZWlnaHQ6IDAsCiAgICAgIHNlbGVjdG9yOiAnJywKICAgICAgdHJhbnNmZXJMaXN0OiBbXSwgLy/ovazmjqXliJfooagKICAgICAgaXNUcmFuc2ZlcjogZmFsc2UsCiAgICAgIHVwbG9hZERhdGE6IHt9LCAvLyDkuIrkvKDlj4LmlbAKICAgICAgaGVhZGVyOiB7fSwKICAgICAgZmlsZVVybDogJycsCiAgICAgIHVzZXJUb2tlbjogJycsCiAgICAgIHRvdXJpc3RfdWlkOiAnJywgLy/muLjlrqLnmoR1aWQKICAgICAgb3JkZXJJZDogJycsCiAgICAgIG9yZGVySW5mbzogJycsCiAgICAgIGNhcnRJbmZvOiAnJywKICAgICAgcHJvZHVjdElkOiAnJywKICAgICAgcHJvZHVjdEluZm86ICcnLAogICAgICB0b3VyaXN0X2F2YXRhcjogJycsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU2VuZCgpIHsKICAgICAgaWYgKHRoaXMuY29uLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgcmVjb3JkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hhdExpc3QubWFwKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIGl0ZW0udGltZSA9IHRoaXMuJG1vbWVudChpdGVtLmFkZF90aW1lICogMTAwMCkuZm9ybWF0KCdNTU1EbyBoOm1tJyk7CiAgICAgICAgaWYgKGluZGV4KSB7CiAgICAgICAgICBpZiAoaXRlbS5hZGRfdGltZSAtIHRoaXMuY2hhdExpc3RbaW5kZXggLSAxXS5hZGRfdGltZSA+PSAzMDApIHsKICAgICAgICAgICAgaXRlbS5zaG93ID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGl0ZW0uc2hvdyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpdGVtLnNob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdMT0dJTl9TVEFUVVNfVE9LRU4nKSB8fCAnJzsKICAgIHRoaXMuZmlsZVVybCA9IFNldHRpbmcuYXBpQmFzZVVSTC5yZXBsYWNlKCdhZG1pbmFwaScsICdrZWZ1YXBpJykgKyAnL3RvdXJpc3QvdXBsb2FkJzsKICAgIHRoaXMudXNlclRva2VuID0gdG9rZW47CiAgICB0aGlzLnRvVWlkID0gdGhpcy4kcm91dGUucXVlcnkudG9VaWQgfHwgJyc7CiAgICB0aGlzLm5pY2tuYW1lID0gdGhpcy4kcm91dGUucXVlcnkubmlja25hbWUgfHwgJyc7CiAgICB0aGlzLm9yZGVySWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlcklkIHx8ICcnOwogICAgdGhpcy5wcm9kdWN0SWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5wcm9kdWN0X2lkIHx8ICcnOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICghdGhpcy4kd2VjaGF0Ll9pc01vYmlsZSgpKSB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2tlZnUvYXBwQ2hhdCcpOwogICAgbGV0IHRoYXQgPSB0aGlzOwogICAgdGhpcy5nZXRTZXJ2aWNlTGlzdCgpOwogICAgaWYgKHRoaXMudXNlclRva2VuKSB7CiAgICAgIHRoaXMuZ2V0T3JkZXJJbmZvKCk7CiAgICAgIHRoaXMuZ2V0R29vZHNJbmZvKCk7CiAgICB9CiAgICAvLyDkuIrkvKDlpLTpg6h0b2tlbgogICAgdGhpcy5oZWFkZXJbJ0F1dGhvcmktemF0aW9uJ10gPSAnQmVhcmVyICcgKyBnZXRDb29raWVzKCdrZWZ1X3Rva2VuJyk7CiAgICBTb2NrZXQudGhlbigod3MpID0+IHsKICAgICAgaWYgKHRoaXMudXNlclRva2VuKSB7CiAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICB0eXBlOiAnbG9naW4nLAogICAgICAgICAgZGF0YTogdGhpcy51c2VyVG9rZW4sCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8g5raI5oGv5o6l5pS2CiAgICAgIHdzLiRvbihbJ3JlcGx5JywgJ2NoYXQnXSwgKGRhdGEpID0+IHsKICAgICAgICBpZiAoZGF0YS5tc25fdHlwZSA9PSAxIHx8IGRhdGEubXNuX3R5cGUgPT0gMikgewogICAgICAgICAgZGF0YS5tc24gPSB0aGlzLnJlcGxhY2VfZW0oZGF0YS5tc24pOwogICAgICAgIH0KICAgICAgICB0aGlzLmNoYXRMaXN0LnB1c2goZGF0YSk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmc1snc2Nyb2xsQm94J10ucmVmcmVzaCgpOwogICAgICAgICAgdGhpcy5zY3JvbGxCb20oKTsKICAgICAgICB9KTsKICAgICAgICBzZXRUaW1lb3V0KChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnNbJ3Njcm9sbEJveCddLnJlZnJlc2goKTsKICAgICAgICB9LCAzMDApOwogICAgICB9KTsKICAgICAgd3MuJG9uKCdzb2NrZXRfZXJyb3InLCAoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6L+e5o6l5aSx6LSlJyk7CiAgICAgIH0pOwogICAgICB3cy4kb24oJ2Vycm9yJywgKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+i/nuaOpeWksei0pScpOwogICAgICB9KTsKICAgICAgd3MuJG9uKCd0b190cmFuc2ZlcicsIChkYXRhKSA9PiB7CiAgICAgICAgd3Muc2VuZCh7CiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIGlkOiBkYXRhLnRvVWlkLAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICd0b19jaGF0JywKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHdzLiRvbignb25saW5lJywgKGRhdGEpID0+IHsKICAgICAgICBpZiAoZGF0YS5vbmxpbmUgPT0gMCAmJiBkYXRhLnVpZCA9PSB0aGF0LnRvVWlkKSB7CiAgICAgICAgICB0aGF0LiRNb2RhbC5jb25maXJtKHsKICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgICAgICBjb250ZW50OiAn5a6i5pyN5bey56a757q/77yM5piv5ZCm6ZyA6KaB5Y+N6aaI77yfJywKICAgICAgICAgICAgb2tUZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgY2FuY2VsVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgICAgICB0aGF0LiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICBwYXRoOiAnL2tlZnUvbW9iaWxlX2ZlZWRiYWNrJywKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHt9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICBoYW5kbGVGb3JtYXRFcnJvcihmaWxlKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+WPquiDveaYryBqcGfjgIFqcGfjgIFqcGVn44CBZ2lmIOagvOW8jyEnKTsKICAgIH0sCiAgICAvLyDojrflj5bllYblk4Hkv6Hmga8KICAgIGdldEdvb2RzSW5mbygpIHsKICAgICAgaWYgKCF0aGlzLnByb2R1Y3RJZCkgcmV0dXJuOwogICAgICBwcm9kdWN0QXBpKHRoaXMucHJvZHVjdElkKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnByb2R1Y3RJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluiuouWNleS/oeaBrwogICAgZ2V0T3JkZXJJbmZvKCkgewogICAgICBpZiAoIXRoaXMub3JkZXJJZCkgcmV0dXJuOwogICAgICBnZXRPcmRlckFwaSh0aGlzLm9yZGVySWQsIHsKICAgICAgICB0b2tlbjogdGhpcy51c2VyVG9rZW4sCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMub3JkZXJJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgaWYgKHRoaXMub3JkZXJJbmZvLmFkZF90aW1lX2gpIHsKICAgICAgICAgIHRoaXMub3JkZXJJbmZvLmFkZF90aW1lX2ggPSB0aGlzLm9yZGVySW5mby5hZGRfdGltZV9oLnN1YnN0cmluZygKICAgICAgICAgICAgICAwLAogICAgICAgICAgICAgIHRoaXMub3JkZXJJbmZvLmFkZF90aW1lX2gubGFzdEluZGV4T2YoJzonKSwKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLm9yZGVySW5mby5jYXJ0SW5mby5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY2FydEluZm8gPSB0aGlzLm9yZGVySW5mby5jYXJ0SW5mb1swXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPlumaj+acuuWuouacjQogICAgZ2V0U2VydmljZUxpc3QoKSB7CiAgICAgIHNlcnZpY2VMaXN0QXBpKHsKICAgICAgICB0b2tlbjogdGhpcy51c2VyVG9rZW4sCiAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMudG9VaWQgPSByZXMuZGF0YS51aWQ7CiAgICAgICAgICAgIHRoaXMudG91cmlzdF91aWQgPSByZXMuZGF0YS50b3VyaXN0X3VpZDsKICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSByZXMuZGF0YS5uaWNrbmFtZTsKICAgICAgICAgICAgdGhpcy50b3VyaXN0X2F2YXRhciA9IHJlcy5kYXRhLnRvdXJpc3RfYXZhdGFyOwogICAgICAgICAgICBpZiAodGhpcy51c2VyVG9rZW4pIHsKICAgICAgICAgICAgICB0aGlzLmdldENoYXRMaXN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICBpZDogcmVzLmRhdGEudWlkLAogICAgICAgICAgICAgICAgdG91cmlzdF91aWQ6IHRoaXMudG91cmlzdF91aWQsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB0eXBlOiAndG9fY2hhdCcsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIFNvY2tldC50aGVuKCh3cykgPT4gewogICAgICAgICAgICAgIHdzLnNlbmQob2JqKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgIHBhdGg6ICcva2VmdS9tb2JpbGVfZmVlZGJhY2snLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgIH0pOwogICAgfSwKICAgIC8vIOS4iuS8oOS5i+WJjQogICAgYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgY29uc3QgaXNJbWFnZSA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnIHx8IGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZyc7CiAgICAgIGlmICghaXNJbWFnZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+WPquiDveaYryBKUEfjgIFQTkcg5qC85byPIScpOwogICAgICB9CiAgICAgIHRoaXMudXBsb2FkRGF0YSA9IHsKICAgICAgICBmaWxlbmFtZTogZmlsZSwKICAgICAgICB0b2tlbjogdGhpcy51c2VyVG9rZW4sCiAgICAgIH07CiAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHByb21pc2U7CiAgICB9LAogICAgLy8g5LiK5Lyg5oiQ5YqfCiAgICBoYW5kbGVTdWNjZXNzKHJlcywgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB0aGlzLnNlbmRNc2cocmVzLmRhdGEudXJsLCAzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9CiAgICB9LAogICAgLy8g5rua5Yqo5Yiw5bqV6YOoCiAgICBzY3JvbGxCb20oKSB7CiAgICAgIHNldFRpbWVvdXQoKHJlcykgPT4gewogICAgICAgIGxldCBudW0gPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0Qm94Jykub2Zmc2V0SGVpZ2h0KTsKICAgICAgICBpZiAodGhpcy4kcmVmc1snc2Nyb2xsQm94J10pIHsKICAgICAgICAgIHRoaXMuJHJlZnNbJ3Njcm9sbEJveCddLnNjcm9sbFRvKAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHk6IG51bSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIDMwMCwKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9LCAzMDApOwogICAgfSwKICAgIC8vIOiuouWNleivpuaDhQogICAgZ29PcmRlckRldGFpbChpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiBgL2tlZnUvb3JkZXJEZXRhaWwvJHtpdGVtLm9yZGVySW5mby5pZH1gLAogICAgICB9KTsKICAgIH0sCiAgICAvLyDlupXpg6jlip/og73ljLrmiZPlvIAKICAgIG9wZW5Cb3goa2V5KSB7CiAgICAgIGlmIChrZXkgPT0gMSkgewogICAgICAgIHRoaXMuaXNUb29sID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc1N3aXBlciA9ICF0aGlzLmlzU3dpcGVyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNTd2lwZXIgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzVG9vbCA9ICF0aGlzLmlzVG9vbDsKICAgICAgfQogICAgICB0aGlzLiRyZWZzWydzY3JvbGxCb3gnXS5yZWZyZXNoKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnNjcm9sbEJvbSgpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93V29yZHMoKSB7CiAgICAgIHRoaXMuaXNXb3JkcyA9IHRydWU7CiAgICB9LAoKICAgIC8vIOi9rOaOpQogICAgZ29UcmFuc2ZlcigpIHsKICAgICAgdGhpcy5pc1RyYW5zZmVyID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDovazmjqXlhbPpl60KICAgIGNsb3NlVHJhbnNmZXIoKSB7CiAgICAgIHRoaXMudHJhbnNmZXJMaXN0LmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgIGVsLmlzQ2hlY2sgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaXNUcmFuc2ZlciA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWVhuWTgeS/oeaBrwogICAgZ29vZHNJbmZvKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9rZWZ1L2dvb2RzL2xpc3Q/dG9VaWQ9JyArIHRoaXMudG9VaWQsCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOihqOaDheeCueWHuwogICAgYWRkRW1vamkoaXRlbSkgewogICAgICBsZXQgdmFsID0gYFske2l0ZW19XWA7CiAgICAgIHRoaXMuY29uICs9IHZhbDsKICAgIH0sCiAgICAvLyDogYrlpKnooajmg4XovazmjaIKICAgIHJlcGxhY2VfZW0oc3RyKSB7CiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cW2VtLShbXHNcU10qKVxdL2csICI8c3BhbiBjbGFzcz0nZW0gZW0tJDEnLz48L3NwYW4+Iik7CiAgICAgIHJldHVybiBzdHI7CiAgICB9LAogICAgLy8g6I635Y+W6IGK5aSp5YiX6KGoCiAgICBnZXRDaGF0TGlzdCgpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICBjaGF0TGlzdEFwaSh7CiAgICAgICAgbGltaXQ6IHRoaXMubGltaXQsCiAgICAgICAgdWlkOiB0aGlzLnRvVWlkLAogICAgICAgIHVwcGVySWQ6IHRoaXMudXBwZXJJZCwKICAgICAgICB0b2tlbjogdGhpcy51c2VyVG9rZW4sCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHZhciBzSCA9IDA7CiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaCgoZWwpID0+IHsKICAgICAgICAgIGlmIChlbC5tc25fdHlwZSA9PSAxIHx8IGVsLm1zbl90eXBlID09IDIpIHsKICAgICAgICAgICAgZWwubXNuID0gdGhpcy5yZXBsYWNlX2VtKGVsLm1zbik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbGV0IHNlbGVjdG9yID0gJyc7CiAgICAgICAgaWYgKHRoaXMudXBwZXJJZCA9PSAwKSB7CiAgICAgICAgICBzZWxlY3RvciA9IGBjaGF0XyR7cmVzLmRhdGFbcmVzLmRhdGEubGVuZ3RoIC0gMV0uaWR9YDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZWN0b3IgPSBgY2hhdF8ke3RoaXMuY2hhdExpc3RbMF0uaWR9YDsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yOwogICAgICAgIHRoaXMuY2hhdExpc3QgPSBbLi4ucmVzLmRhdGEsIC4uLnRoaXMuY2hhdExpc3RdOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNTY3JvbGwgPSByZXMuZGF0YS5sZW5ndGggPj0gdGhpcy5saW1pdDsKICAgICAgICB0aGlzLiRyZWZzWydzY3JvbGxCb3gnXS5yZWZyZXNoKCk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdHJ1ZSk7CiAgICAgICAgICBsZXQgbnVtID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rvcikub2Zmc2V0VG9wKSAtIDYwOwogICAgICAgICAgdGhpcy4kcmVmc1snc2Nyb2xsQm94J10uc2Nyb2xsVG8oCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgeTogbnVtLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgMCwKICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPkemAgeiuouWNlQogICAgc2VuZE9yZGVyKCkgewogICAgICB0aGlzLnNlbmRNc2codGhpcy5vcmRlcklkLCA2KTsKICAgICAgdGhpcy5vcmRlcklkID0gMDsKICAgICAgdGhpcy5vcmRlckluZm8gPSB7fTsKICAgIH0sCiAgICAvLyDlj5HpgIHllYblk4EKICAgIHNlbmRQcm9kdWN0KCkgewogICAgICB0aGlzLnNlbmRNc2codGhpcy5wcm9kdWN0SWQsIDUpOwogICAgICB0aGlzLnByb2R1Y3RJZCA9IDA7CiAgICAgIHRoaXMucHJvZHVjdEluZm8gPSB7fTsKICAgIH0sCiAgICAvLyDlj5HpgIHmtojmga8KICAgIHNlbmRUZXh0KCkgewogICAgICBpZiAoIXRoaXMuaXNTZW5kKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl5YaF5a65Jyk7CiAgICAgIH0KICAgICAgdGhpcy5zZW5kTXNnKHRoaXMuY29uLCAxKTsKICAgICAgdGhpcy5jb24gPSAnJzsKICAgIH0sCiAgICAvLyB3c+WPkemAgQogICAgc2VuZE1zZyhtc24sIHR5cGUpIHsKICAgICAgbGV0IG9iaiA9IHsKICAgICAgICB0eXBlOiAnY2hhdCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgbXNuLAogICAgICAgICAgdHlwZSwKICAgICAgICAgIGlzX3RvdXJpc3Q6IHRoaXMudXNlclRva2VuID8gMCA6IDEsCiAgICAgICAgICB0b191aWQ6IHRoaXMudG9VaWQsCiAgICAgICAgICB0b3VyaXN0X3VpZDogdGhpcy50b3VyaXN0X3VpZCwKICAgICAgICAgIGZvcm1fdHlwZTogdGhpcy4kd2VjaGF0LmlzV2VpeGluKCkgPyAxIDogMywKICAgICAgICAgIHRvdXJpc3RfYXZhdGFyOiB0aGlzLnVzZXJUb2tlbiA/ICcnIDogdGhpcy50b3VyaXN0X2F2YXRhciwKICAgICAgICB9LAogICAgICB9OwogICAgICBTb2NrZXQudGhlbigod3MpID0+IHsKICAgICAgICB3cy5zZW5kKG9iaik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWbvueJh+S4iuS8oAogICAgdXBsb2FkSW1nKCkgewogICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgIHNlbGYuJHV0aWwudXBsb2FkSW1hZ2VPbmUoJ3VwbG9hZC9pbWFnZScsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBzZWxmLnNlbmRNc2cocmVzLmRhdGEsIDMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8gIOWVhuWTgeivpuaDhemhtQogICAgZ29Qcm9kdWN0KGl0ZW0pIHsKICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvcGFnZXMvZ29vZHNfZGV0YWlscy9pbmRleD9pZD0nICsgaXRlbS5tc247CiAgICAgIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpOwogICAgfSwKICAgIC8vIOeUqOaIt+iuouWNlQogICAgZ29BZG1pbk9yZGVyKCkgewogICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgIC8vICAgICBwYXRoOicva2VmdS9vcmRlckxpc3QvMC8nK3RoaXMudG9VaWQKICAgICAgLy8gfSkKICAgICAgbGV0IHVybCA9CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKwogICAgICAgICAgJy8vJyArCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdCArCiAgICAgICAgICAnL3BhZ2VzL2dvb2RzL29yZGVyX2RldGFpbHMvaW5kZXg/b3JkZXJfaWQ9JyArCiAgICAgICAgICBpdGVtLm1zbjsKICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICB9LAogICAgLy8g5rua5Yqo5Yiw5bqV6YOoCiAgICBoZWlnaHQoKSB7CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgdmFyIHNjcm9sbFRvcCA9IDA7CiAgICAgIGxldCBpbmZvID0gdW5pLmNyZWF0ZVNlbGVjdG9yUXVlcnkoKS5zZWxlY3QoJy5jaGF0Jyk7CiAgICAgIHNldFRpbWVvdXQoKHJlcykgPT4gewogICAgICAgIGluZm8KICAgICAgICAgICAgLmJvdW5kaW5nQ2xpZW50UmVjdChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIC8vZGF0YSAtIOWQhOenjeWPguaVsAogICAgICAgICAgICAgIHNjcm9sbFRvcCA9IGRhdGEuaGVpZ2h0OwogICAgICAgICAgICAgIGlmIChzZWxmLmFjdGl2ZSkgewogICAgICAgICAgICAgICAgc2VsZi5zY3JvbGxUb3AgPSBwYXJzZUludChzY3JvbGxUb3ApICsgNTAwOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzZWxmLnNjcm9sbFRvcCA9IHBhcnNlSW50KHNjcm9sbFRvcCkgKyAxMDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuZXhlYygpOwogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBoYW5kbGVBY3RpdmF0ZSh2bSwgcmVmcmVzaERvbSkgewogICAgICB0aGlzLnVwcGVySWQgPSB0aGlzLmNoYXRMaXN0WzBdLmlkOwogICAgfSwKICAgIGhhbmRsZVN0YXJ0KHZtLCByZWZyZXNoRG9tLCBkb25lKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vIGxvYWQgZmluaXNoZWQKICAgICAgICBkb25lKCk7CiAgICAgIH0sIDIwMDApOwogICAgfSwKICAgIGhhbmRsZUJlZm9yZURlYWN0aXZhdGUodm0sIHJlZnJlc2hEb20sIGRvbmUpIHsKICAgICAgaWYgKHRoaXMudXNlclRva2VuKSB7CiAgICAgICAgdGhpcy5nZXRDaGF0TGlzdCgpOwogICAgICAgIHRoaXMuJG9uKCdjaGFuZ2UnLCAoZGF0YSkgPT4gewogICAgICAgICAgaWYgKGRhdGEpIGRvbmUoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb25lKCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVEZWFjdGl2YXRlKHZtLCByZWZyZXNoRG9tKSB7CiAgICAgIGxldCBudW0gPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2VsZWN0b3IpLm9mZnNldFRvcCkgLSA2MDsKICAgICAgdGhpcy4kcmVmc1snc2Nyb2xsQm94J10uc2Nyb2xsVG8oCiAgICAgICAgICB7CiAgICAgICAgICAgIHk6IG51bSwKICAgICAgICAgIH0sCiAgICAgICAgICAwLAogICAgICApOwogICAgfSwKICB9LAp9Owo="},null]}