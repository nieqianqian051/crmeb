{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemFile/components/loginFrom.vue?vue&type=style&index=0&id=57323fc6&scoped=true&lang=stylus","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemFile/components/loginFrom.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/css-loader/index.js","mtime":1746465018503},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1746465020031},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/postcss-loader/src/index.js","mtime":1746465019371},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/index.js","mtime":1746465207601},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5tYXhJbnB0ewogICAgbWF4LXdpZHRoIDQwMHB4CiAgICBtYXJnaW4tbGVmdCBhdXRvCiAgICBtYXJnaW4tcmlnaHQgYXV0bwp9Ci5wYWdlLWFjY291bnQtY29udGFpbmVyewogICAgdGV4dC1hbGlnbiBjZW50ZXIKICAgIHBhZGRpbmcgNTBweCAwCn0KLnBhZ2UtYWNjb3VudC10b3B7CiAgICBtYXJnaW4tYm90dG9tIDIwcHgKfQoucGFnZS1hY2NvdW50LXRvcC10aXQKICAgIGZvbnQtc2l6ZSAyMXB4CiAgICBjb2xvciB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpCi5wYWdlLWFjY291bnQtb3RoZXIKICAgIHRleHQtYWxpZ24gY2VudGVyCiAgICBjb2xvciB2YXIoLS1wcmV2LWNvbG9yLXByaW1hcnkpCiAgICBmb250LXNpemUgMTJweAogICAgc3BhbgogICAgICAgIGN1cnNvciBwb2ludGVyCg=="},{"version":3,"sources":["loginFrom.vue"],"names":[],"mappings":";AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginFrom.vue","sourceRoot":"src/pages/system/maintain/systemFile/components","sourcesContent":["<template>\n  <el-row >\n    <el-col :span=\"24\">\n      <div class=\"index_from page-account-container\">\n        <div class=\"page-account-top\">\n          <span class=\"page-account-top-tit\">文件管理登录</span>\n        </div>\n        <el-form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" @submit.native.prevent>\n          <!-- <el-form-item prop=\"sms_account\" class=\"maxInpt\">\n            <el-input type=\"text\" v-model=\"formInline.account\" prefix=\"ios-contact-outline\" placeholder=\"请输入手机号\" />\n          </el-form-item> -->\n          <el-form-item prop=\"sms_token\" class=\"maxInpt\">\n            <el-input type=\"password\" v-model=\"formInline.password\" prefix=\"ios-lock-outline\" placeholder=\"请输入密码\" />\n          </el-form-item>\n          <el-form-item class=\"maxInpt\">\n            <el-button type=\"primary\" long size=\"large\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { opendirLoginApi } from '@/api/system';\nexport default {\n  name: 'file_login',\n  data() {\n    const validatePhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请填写手机号'));\n      } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n        callback(new Error('手机号格式不正确!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      formInline: {\n        // account: '',\n        password: '',\n      },\n      ruleInline: {\n        // account: [{ required: true, validator: validatePhone, trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n      },\n    };\n  },\n  created() {\n    var _this = this;\n    document.onkeydown = function (e) {\n      let key = window.event.keyCode;\n      if (key === 13) {\n        _this.handleSubmit('formInline');\n      }\n    };\n  },\n  methods: {\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          opendirLoginApi(this.formInline)\n            .then(async (res) => {\n              this.$message.success('登录成功!');\n              this.$emit('on-Login', res.data);\n            })\n            .catch((res) => {\n              this.$message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.maxInpt{\n    max-width 400px\n    margin-left auto\n    margin-right auto\n}\n.page-account-container{\n    text-align center\n    padding 50px 0\n}\n.page-account-top{\n    margin-bottom 20px\n}\n.page-account-top-tit\n    font-size 21px\n    color var(--prev-color-primary)\n.page-account-other\n    text-align center\n    color var(--prev-color-primary)\n    font-size 12px\n    span\n        cursor pointer\n</style>\n"]}]}