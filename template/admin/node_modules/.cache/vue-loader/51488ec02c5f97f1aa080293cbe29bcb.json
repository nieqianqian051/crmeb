{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/uploadPictures/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/uploadPictures/index.vue","mtime":1719468544000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7CiAgZ2V0Q2F0ZWdvcnlMaXN0QXBpLAogIGNyZWF0ZUFwaSwKICBmaWxlTGlzdEFwaSwKICBjYXRlZ29yeUVkaXRBcGksCiAgbW92ZUFwaSwKICBmaWxlVXBkYXRlQXBpLAp9IGZyb20gJ0AvYXBpL3VwbG9hZFBpY3R1cmVzJzsKaW1wb3J0IFNldHRpbmcgZnJvbSAnQC9zZXR0aW5nJzsKaW1wb3J0IHsgZ2V0Q29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJzsKaW1wb3J0IHVwbG9hZEltZyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkSW1nJzsKaW1wb3J0IHsgVnVlVHJlZUxpc3QsIFRyZWUsIFRyZWVOb2RlIH0gZnJvbSAndnVlLXRyZWUtbGlzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXBsb2FkUGljdHVyZXMnLAogIGNvbXBvbmVudHM6IHsgdXBsb2FkSW1nLCBWdWVUcmVlTGlzdCB9LAogIHByb3BzOiB7CiAgICBpc0Nob2ljZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIGlzUGFnZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBpc0lmcmFtZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBncmlkQnRuOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBncmlkUGljOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBpc1Nob3c6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxLAogICAgfSwKICAgIHBhZ2VMaW1pdDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNwaW5TaG93OiBmYWxzZSwKICAgICAgZmlsZVVybDogU2V0dGluZy5hcGlCYXNlVVJMICsgJy9maWxlL3VwbG9hZCcsCiAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgdHJlZURhdGE6IFtdLAogICAgICB0cmVlRGF0YTI6IFtdLAogICAgICBwaWN0cnVlTGlzdDogW10sCiAgICAgIHVwbG9hZERhdGE6IHt9LCAvLyDkuIrkvKDlj4LmlbAKICAgICAgY2hlY2tQaWNMaXN0OiBbXSwKICAgICAgdXBsb2FkTmFtZTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGFsbDogMSwKICAgICAgfSwKICAgICAgZm9ybVZhbGlkYXRlOiB7IGlkOiAwIH0sCiAgICAgIEZyb21EYXRhOiBudWxsLAogICAgICB0cmVlSWQ6ICcnLAogICAgICBpc0p1ZGdlOiBmYWxzZSwKICAgICAgYnV0dG9uUHJvcHM6IHsKICAgICAgICB0eXBlOiAnZGVmYXVsdCcsCiAgICAgICAgc2l6ZTogJ3NtYWxsJywKICAgICAgfSwKICAgICAgZmlsZURhdGE6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VMaW1pdCB8fCAxOCwKICAgICAgfSwKICAgICAgdG90YWw6IDAsCiAgICAgIHBpZHM6IDAsCiAgICAgIGxpc3Q6IFtdLAogICAgICBtb2RhbFRpdGxlU3M6ICcnLAogICAgICBpc1Nob3dQaWM6IGZhbHNlLAogICAgICBoZWFkZXI6IHt9LAogICAgICBpZHM6IFtdLCAvLyDpgInkuK3pmYTku7bnmoRpZOmbhuWQiAogICAgICBsaWV0U3R5bGU6ICdsaXN0JywKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICBwaWNtYXJnaW46ICc1cHgnLCAvL+m7mOiupOi3neemu+WPs+i+uei3neemuwogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5pc1BhZ2UpIHsKICAgICAgbGV0IGhhbmcgPSBwYXJzZUludCgoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLSB0aGlzLiRyZWZzLmltZ0xpc3RCb3guY2xpZW50SGVpZ2h0IC0gMzI1KSAvIDE4MCk7IC8v6K6h566X6KGM5pWwCiAgICAgIGxldCBjb2wgPSBwYXJzZUludCh0aGlzLiRyZWZzLmltZ0xpc3RCb3guY2xpZW50V2lkdGggLyAxNTYpOyAvL+iuoeeul+WIl+aVsAogICAgICB0aGlzLmZpbGVEYXRhLmxpbWl0ID0gY29sICogaGFuZzsgLy/orqHnrpfliIbpobXmlbDph48KICAgICAgdGhpcy5waWNtYXJnaW4gPSBwYXJzZUludCh0aGlzLiRyZWZzLmltZ0xpc3RCb3guY2xpZW50V2lkdGggLSBjb2wgKiAxNDYpIC8gKDIgKiBjb2wpICsgJ3B4JzsgLy/lubPlnYfliIbluIPorqHnrpdtYXJnaW7ot53nprsKICAgIH0KICAgIHRoaXMuZ2V0VG9rZW4oKTsKICAgIC8vIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgcmFkaW9DaGFuZ2UoKSB7CiAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgIH0sCiAgICBsb29rSW1nKGl0ZW0pIHsKICAgICAgdGhpcy5pbWFnZVVybCA9IGl0ZW0udXJsOwogICAgICBjb25zdCB2aWV3ZXIgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2VzJykuJHZpZXdlcjsKICAgICAgdmlld2VyLnNob3coKTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIGxldCBpID0gdGhpcy5waWN0cnVlTGlzdC5maW5kSW5kZXgoKGUpID0+IGUudXJsID09PSBpdGVtLnVybCk7CiAgICAgICAgdmlld2VyLnVwZGF0ZSgpLnZpZXcoaSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRGVsKG5vZGUpIHsKICAgICAgbGV0IG1ldGhvZCA9IG5vZGUuY2F0ZV9pZCA/IHJvdXRlRGVsIDogcm91dGVDYXRlRGVsOwogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBtZXNzYWdlOiAn5piv5ZCm56Gu5a6a5Yig6Zmk6K+l6I+c5Y2VJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5Yig6ZmkJywKICAgICAgICBpY29uQ2xhc3M6ICdlbC1pY29uLXdhcm5pbmcnLAogICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0bi1jdXN0b20tY2FuY2VsJywKICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgbWV0aG9kKG5vZGUudXVJZCkKICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAoKICAgIG9uQ2hhbmdlTmFtZShwYXJhbXMpIHsKICAgICAgaWYgKHBhcmFtcy5ldmVudFR5cGUgPT0gJ2JsdXInKSB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBmaWxlTmFtZTogcGFyYW1zLm5ld05hbWUsCiAgICAgICAgICB1dUlkOiBwYXJhbXMudXVJZCwKICAgICAgICB9OwogICAgICAgIGludGVyZmFjZUVkaXROYW1lKGRhdGEpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOa3u+WKoOWIhuexuwogICAgYWRkU29ydCgpIHsKICAgICAgdGhpcy5hcHBlbmQoeyBpZDogdGhpcy50cmVlSWQgfHwgMCB9KTsKICAgIH0sCiAgICAvLyDngrnlh7voj5zljZUKICAgIGNsaWNrTWVudShkYXRhLCBuYW1lKSB7CiAgICAgIGlmIChuYW1lID09IDEpIHsKICAgICAgICB0aGlzLmFwcGVuZChkYXRhKTsKICAgICAgfSBlbHNlIGlmIChuYW1lID09IDIpIHsKICAgICAgICB0aGlzLmVkaXRQaWMoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAzKSB7CiAgICAgICAgdGhpcy5yZW1vdmUoZGF0YSwgJ+WIhuexuycpOwogICAgICB9CiAgICB9LAogICAgdXBsb2FkU3VjY2VzcygpIHsKICAgICAgdGhpcy5maWxlRGF0YS5wYWdlID0gMTsKICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgICAvLyBjb25zb2xlLmxvZygxMTExMSkKICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgfSwKICAgIHVwbG9hZE1vZGFsKCkgewogICAgICB0aGlzLiRyZWZzLnVwbG9hZC51cGxvYWRNb2RhbCA9IHRydWU7CiAgICB9LAogICAgZW50ZXJNb3VzZShpdGVtKSB7CiAgICAgIGl0ZW0uZmlsZU5hbWUgPSAhaXRlbS5maWxlTmFtZTsKICAgIH0sCiAgICBlbnRlckxlYXZlKGl0ZW0pIHsKICAgICAgaXRlbS5pc1Nob3dFZGl0ID0gIWl0ZW0uaXNTaG93RWRpdDsKICAgIH0sCiAgICAvLyDkuIrkvKDlpLTpg6h0b2tlbgogICAgZ2V0VG9rZW4oKSB7CiAgICAgIHRoaXMuaGVhZGVyWydBdXRob3JpLXphdGlvbiddID0gJ0JlYXJlciAnICsgZ2V0Q29va2llcygndG9rZW4nKTsKICAgIH0sCiAgICBtb3ZlSW1nKHN0YXR1cykgewogICAgICBpZiAoIXN0YXR1cykgewogICAgICAgIHRoaXMuZ2V0TW92ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5pZHMudG9TdHJpbmcoKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flhYjpgInmi6nlm77niYcnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hJbWcoKSB7fSwKICAgIC8vIOenu+WKqOWIhuexuwogICAgZ2V0TW92ZSgpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgdXVJZDogdGhpcy5waWRzLAogICAgICAgIGltYWdlczogdGhpcy5pZHMudG9TdHJpbmcoKSwKICAgICAgfTsKICAgICAgaWYgKCFkYXRhLmltYWdlcykgcmV0dXJuOwogICAgICBtb3ZlQXBpKGRhdGEpCiAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgICAgICAgICB0aGlzLnBpZHMgPSAwOwogICAgICAgICAgICB0aGlzLmNoZWNrUGljTGlzdCA9IFtdOwogICAgICAgICAgICB0aGlzLmlkcyA9IFtdOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxJbWcoaWQpIHsKICAgICAgbGV0IGlkcyA9IHsKICAgICAgICBpZHM6IGlkLAogICAgICB9OwogICAgICBsZXQgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6ICfliKDpmaTpgInkuK3lm77niYcnLAogICAgICAgIHVybDogYGZpbGUvZmlsZS9kZWxldGVgLAogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGlkczogaWRzLAogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgICAgICAgICB0aGlzLmNoZWNrUGljTGlzdCA9IFtdOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTlm77niYcKICAgIGVkaXRQaWNMaXN0KGlkKSB7CiAgICAgIGxldCBpZHMgPSB7CiAgICAgICAgaWRzOiBpZCB8fCB0aGlzLmlkcy50b1N0cmluZygpLAogICAgICB9OwogICAgICBsZXQgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6ICfliKDpmaTpgInkuK3lm77niYcnLAogICAgICAgIHVybDogYGZpbGUvZmlsZS9kZWxldGVgLAogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGlkczogaWRzLAogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgICAgICAgICB0aGlzLmluaXREYXRhKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgfSwKICAgIGluaXREYXRhKCkgewogICAgICB0aGlzLmNoZWNrUGljTGlzdCA9IFtdOwogICAgICB0aGlzLmlkcyA9IFtdOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gW107CiAgICB9LAogICAgLy8g6byg5qCH56e75YWlIOenu+WHugogICAgb25Nb3VzZU92ZXIocm9vdCwgbm9kZSwgZGF0YSkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBkYXRhLmZsYWcgPSAhZGF0YS5mbGFnOwogICAgICBpZiAoZGF0YS5mbGFnMikgewogICAgICAgIGRhdGEuZmxhZzIgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOeCueWHu+agkQogICAgYXBwZW5kQnRuKGRhdGEpIHsKICAgICAgdGhpcy50cmVlSWQgPSBkYXRhLmlkOwogICAgICB0aGlzLmZpbGVEYXRhLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICB9LAogICAgLy8g54K55Ye75re75YqgCiAgICBhcHBlbmQoZGF0YSkgewogICAgICB0aGlzLnRyZWVJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuZ2V0RnJvbSgpOwogICAgfSwKICAgIC8vIOWIoOmZpOWIhuexuwogICAgcmVtb3ZlKGRhdGEsIHRpdCkgewogICAgICB0aGlzLnRpdHMgPSB0aXQ7CiAgICAgIGxldCBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogJ+WIoOmZpCBbICcgKyBkYXRhLnRpdGxlICsgJyBdICcgKyAn5YiG57G7JywKICAgICAgICB1cmw6IGBmaWxlL2NhdGVnb3J5LyR7ZGF0YS5pZH1gLAogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaWRzOiAnJywKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICB0aGlzLmNoZWNrUGljTGlzdCA9IFtdOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDnvJbovpHmoJHooajljZUKICAgIGVkaXRQaWMoZGF0YSkgewogICAgICB0aGlzLiRtb2RhbEZvcm0oY2F0ZWdvcnlFZGl0QXBpKGRhdGEuaWQpKS50aGVuKCgpID0+IHRoaXMuZ2V0TGlzdCgpKTsKICAgIH0sCiAgICAvLyDmkJzntKLliIbnsbsKICAgIGNoYW5nZVBhZ2UoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgnc2VhcmNoJyk7CiAgICB9LAogICAgLy8g5YiG57G75YiX6KGo5qCRCiAgICBnZXRMaXN0KHR5cGUpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgdGl0bGU6ICflhajpg6jlm77niYcnLAogICAgICAgIGlkOiAnJywKICAgICAgICBwaWQ6IDAsCiAgICAgIH07CiAgICAgIC8vIGdldENhdGVnb3J5TGlzdEFwaSh0aGlzLnVwbG9hZE5hbWUpCiAgICAgIC8vICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAvLyAgICAgaWYgKHR5cGUgIT09ICdzZWFyY2gnKSB7CiAgICAgIC8vICAgICAgIHRoaXMudHJlZURhdGEyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShbLi4ucmVzLmRhdGEubGlzdF0pKTsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIHJlcy5kYXRhLmxpc3QudW5zaGlmdChkYXRhKTsKICAgICAgLy8gICAgIHRoaXMudHJlZURhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIC8vICAgfSk7CiAgICB9LAogICAgbG9hZERhdGEoaXRlbSwgY2FsbGJhY2spIHsKICAgICAgLy8gZ2V0Q2F0ZWdvcnlMaXN0QXBpKHsKICAgICAgLy8gICBwaWQ6IGl0ZW0uaWQsCiAgICAgIC8vIH0pCiAgICAgIC8vICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAvLyAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIC8vICAgICBjYWxsYmFjayhkYXRhKTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgocmVzKSA9PiB7fSk7CiAgICB9LAogICAgYWRkRmxhZyh0cmVlZGF0YSkgewogICAgICB0cmVlZGF0YS5tYXAoKGl0ZW0pID0+IHsKICAgICAgICB0aGlzLiRzZXQoaXRlbSwgJ2ZsYWcnLCBmYWxzZSk7CiAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdmbGFnMicsIGZhbHNlKTsKICAgICAgICBpdGVtLmNoaWxkcmVuICYmIHRoaXMuYWRkRmxhZyhpdGVtLmNoaWxkcmVuKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5paw5bu65YiG57G7CiAgICBhZGQoKSB7CiAgICAgIHRoaXMudHJlZUlkID0gMDsKICAgICAgdGhpcy5nZXRGcm9tKCk7CiAgICB9LAogICAgLy8g5paH5Lu25YiX6KGoCiAgICBnZXRGaWxlTGlzdCgpIHsKICAgICAgZmlsZUxpc3RBcGkodGhpcy5maWxlRGF0YSkKICAgICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgICAgcmVzLmRhdGEubGlzdC5mb3JFYWNoKChlbCkgPT4gewogICAgICAgICAgICAgIGVsLm51bSA9IDA7CiAgICAgICAgICAgICAgdGhpcy5lZGl0TmFtZShlbCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnBpY3RydWVMaXN0ID0gcmVzLmRhdGEubGlzdDsKCiAgICAgICAgICAgIGlmICh0aGlzLnBpY3RydWVMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgIHRoaXMuaXNTaG93UGljID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5pc1Nob3dQaWMgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgIC8v56Gu5L+dZG9t5Yqg6L295a6M5q+VCiAgICAgICAgICAgICAgdGhpcy5zaG93U2VsZWN0RGF0YSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfSk7CiAgICB9LAogICAgc2hvd1NlbGVjdERhdGEoKSB7CiAgICAgIGlmICh0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyDliKTmlq3mmK/lkKblrZjlnKjli77pgInov4fnmoTmlbDmja4KICAgICAgICB0aGlzLnBpY3RydWVMaXN0LmZvckVhY2goKHJvdykgPT4gewogICAgICAgICAgLy8g6I635Y+W5pWw5o2u5YiX6KGo5o6l5Y+j6K+35rGC5Yiw55qE5pWw5o2uCiAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgLy8g5Yu+6YCJ5Yiw55qE5pWw5o2uCiAgICAgICAgICAgIGlmIChyb3cudXVJZCA9PT0gaXRlbS51dUlkKSB7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS50b2dnbGVSb3dTZWxlY3Rpb24oaXRlbSwgdHJ1ZSk7IC8vIOiLpeaciemHjeWQiO+8jOWImeWbnuaYvuivpeadoeaVsOaNrgogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldFJvd0tleShyb3cpIHsKICAgICAgcmV0dXJuIHJvdy51dUlkOwogICAgfSwKICAgIC8v5a+56LGh5pWw57uE5Y676YeN77ybCiAgICB1bmlxdWUoYXJyKSB7CiAgICAgIGxldCByZXN1bHQgPSBhcnIucmVkdWNlKChhY2MsIGN1cnIpID0+IHsKICAgICAgICBjb25zdCB4ID0gYWNjLmZpbmQoKGl0ZW0pID0+IGl0ZW0udXVJZCA9PT0gY3Vyci51dUlkKTsKICAgICAgICBpZiAoIXgpIHsKICAgICAgICAgIHJldHVybiBhY2MuY29uY2F0KFtjdXJyXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgfQogICAgICB9LCBbXSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgLy8gIOmAieS4reafkOS4gOihjAogICAgaGFuZGxlU2VsZWN0Um93KHNlbGVjdGlvbikgewogICAgICBsZXQgYXJyID0gdGhpcy51bmlxdWUoc2VsZWN0aW9uKTsKICAgICAgY29uc3QgdW5pcXVlQXJyID0gW107CiAgICAgIGNvbnN0IGlkcyA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGl0ZW0gPSBhcnJbaV07CiAgICAgICAgaWYgKCFpZHMuaW5jbHVkZXMoaXRlbS51dUlkKSkgewogICAgICAgICAgdW5pcXVlQXJyLnB1c2goaXRlbSk7CiAgICAgICAgICBpZHMucHVzaChpdGVtLnV1SWQpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmlkcyA9IGlkczsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHVuaXF1ZUFycjsKICAgIH0sCiAgICBwYWdlQ2hhbmdlKGluZGV4KSB7CiAgICAgIHRoaXMuZmlsZURhdGEucGFnZSA9IGluZGV4OwogICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICAgIHRoaXMuY2hlY2tQaWNMaXN0ID0gW107CiAgICB9LAogICAgLy8g5paw5bu65YiG57G76KGo5Y2VCiAgICBnZXRGcm9tKCkgewogICAgICB0aGlzLiRtb2RhbEZvcm0oY3JlYXRlQXBpKHsgaWQ6IHRoaXMudHJlZUlkIH0pKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiK5Lyg5LmL5YmNCiAgICBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICAvLyBpZiAoZmlsZS5zaXplID4gMjA5NzE1MikgewogICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZmlsZS5uYW1lICsgIuWkp+Wwj+i2hei/hzJNISIpOwogICAgICAvLyB9IGVsc2UKICAgICAgaWYgKCEvaW1hZ2VcL1x3Ky8udGVzdChmaWxlLnR5cGUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35LiK5Lyg5LulanBn44CBanBlZ+OAgXBuZ+etiee7k+WwvueahOWbvueJh+aWh+S7ticpOyAvL0ZpbGVFeHQudG9Mb3dlckNhc2UoKQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLnVwbG9hZERhdGEgPSB7CiAgICAgICAgcGlkOiB0aGlzLnRyZWVJZCwKICAgICAgfTsKICAgICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcHJvbWlzZTsKICAgIH0sCiAgICAvLyDkuIrkvKDmiJDlip8KICAgIGhhbmRsZVN1Y2Nlc3MocmVzLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgdGhpcy5maWxlRGF0YS5wYWdlID0gMTsKICAgICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXrQogICAgY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VDYW5jZWwnKTsKICAgIH0sCiAgICAvLyDpgInkuK3lm77niYcKICAgIGNoYW5nSW1hZ2UoaXRlbSwgaW5kZXgsIHJvdykgewogICAgICBsZXQgYWN0aXZlSW5kZXggPSAwOwogICAgICBpZiAoIWl0ZW0uaXNTZWxlY3QpIHsKICAgICAgICBpdGVtLmlzU2VsZWN0ID0gdHJ1ZTsKICAgICAgICB0aGlzLmNoZWNrUGljTGlzdC5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW0uaXNTZWxlY3QgPSBmYWxzZTsKICAgICAgICB0aGlzLmNoZWNrUGljTGlzdC5tYXAoKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGVsLnV1SWQgPT0gaXRlbS51dUlkKSB7CiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jaGVja1BpY0xpc3Quc3BsaWNlKGFjdGl2ZUluZGV4LCAxKTsKICAgICAgfQoKICAgICAgdGhpcy5pZHMgPSBbXTsKICAgICAgdGhpcy5jaGVja1BpY0xpc3QubWFwKChpdGVtLCBpKSA9PiB7CiAgICAgICAgdGhpcy5pZHMucHVzaChpdGVtLnV1SWQpOwogICAgICB9KTsKICAgICAgdGhpcy5waWN0cnVlTGlzdC5tYXAoKGVsLCBpKSA9PiB7CiAgICAgICAgaWYgKGVsLmlzU2VsZWN0KSB7CiAgICAgICAgICB0aGlzLmNoZWNrUGljTGlzdC5maWx0ZXIoKGVsMiwgaikgPT4gewogICAgICAgICAgICBpZiAoZWwudXVJZCA9PSBlbDIudXVJZCkgewogICAgICAgICAgICAgIGVsLm51bSA9IGogKyAxOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWwubnVtID0gMDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+S9v+eUqOmAieS4reWbvueJhwogICAgY2hlY2tQaWNzKCkgewogICAgICBpZiAodGhpcy5pc0Nob2ljZSA9PT0gJ+WNlemAiScpIHsKICAgICAgICBpZiAodGhpcy5jaGVja1BpY0xpc3QubGVuZ3RoID4gMSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pyA5aSa5Y+q6IO96YCJ5LiA5byg5Zu+54mHJyk7CiAgICAgICAgdGhpcy4kZW1pdCgnZ2V0UGljJywgdGhpcy5jaGVja1BpY0xpc3RbMF0pOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBtYXhMZW5ndGggPSB0aGlzLiRyb3V0ZS5xdWVyeS5tYXhMZW5ndGg7CiAgICAgICAgaWYgKG1heExlbmd0aCAhPSB1bmRlZmluZWQgJiYgdGhpcy5jaGVja1BpY0xpc3QubGVuZ3RoID4gTnVtYmVyKG1heExlbmd0aCkpCiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmnIDlpJrlj6rog73pgIknICsgbWF4TGVuZ3RoICsgJ+W8oOWbvueJhycpOwogICAgICAgIHRoaXMuJGVtaXQoJ2dldFBpY0QnLCB0aGlzLmNoZWNrUGljTGlzdCk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0TmFtZShpdGVtKSB7CiAgICAgIGxldCBpdCA9IGl0ZW0uZmlsZU5hbWUuc3BsaXQoJy4nKTsKICAgICAgbGV0IGl0MSA9IGl0WzFdID09IHVuZGVmaW5lZCA/IFtdIDogaXRbMV07CiAgICAgIGxldCBsZW4gPSBpdFswXS5sZW5ndGggKyBpdDEubGVuZ3RoOwogICAgICBpdGVtLmVkaXROYW1lID0gbGVuIDwgMTAgPyBpdGVtLmZpbGVOYW1lIDogaXRlbS5maWxlTmFtZS5zdWJzdHIoMCwgNCkgKyAnLi4uJyArIGl0ZW0uZmlsZU5hbWUuc3Vic3RyKC01LCA1KTsKICAgIH0sCiAgICAvLyDkv67mlLnlm77niYfmloflrZfkuIrkvKAKICAgIGJpbmRUeHQoaXRlbSkgewogICAgICBpZiAoaXRlbS5maWxlTmFtZSA9PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeWGheWuuScpOwogICAgICB9CiAgICAgIGZpbGVVcGRhdGVBcGkoaXRlbS51dUlkLCB7CiAgICAgICAgZmlsZU5hbWU6IGl0ZW0uZmlsZU5hbWUsCiAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZWRpdE5hbWUoaXRlbSk7CiAgICAgICAgICAgIGl0ZW0uaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},null]}