{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemFile/opendir.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemFile/opendir.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgewogIG9wZW5kaXJMaXN0QXBpLAogIG9wZW5maWxlQXBpLAogIHNhdmVmaWxlQXBpLAogIG9wZW5kaXJMb2dpbkFwaSwKICBjcmVhdGVGb2xkZXIsCiAgY3JlYXRlRmlsZSwKICBkZWxGb2xkZXIsCiAgcmVuYW1lLAogIGZpbGVNYXJrLAogIG1hcmtTYXZlLAp9IGZyb20gJ0AvYXBpL3N5c3RlbSc7CmltcG9ydCBDb2RlTWlycm9yIGZyb20gJ2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3InOwppbXBvcnQgbG9naW5Gcm9tIGZyb20gJy4vY29tcG9uZW50cy9sb2dpbkZyb20nOwppbXBvcnQgeyBzZXRDb29raWVzLCBnZXRDb29raWVzLCByZW1vdmVDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwovLyBpbXBvcnQgRnVsbHNjcmVlbiBmcm9tICdAL2xheW91dC9jb21wb25lbnRzL2Z1bGxzY3JlZW4nOwppbXBvcnQgKiBhcyBtb25hY28gZnJvbSAnbW9uYWNvLWVkaXRvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3BlbmRpcicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGFsczogZmFsc2UsIC8v57yW6L6R5Zmo5byA5YWzCiAgICAgIGVkaXRvcjogJycsIC8v5b2T5YmN57yW6L6R5Zmo5a+56LGhCiAgICAgIGVkaXRvckluZGV4OiBbCiAgICAgICAgLy/pgInpobnljaHmlbDnu4QKICAgICAgICB7CiAgICAgICAgICB0YWI6IHRydWUsCiAgICAgICAgICBpbmRleDogJzAnLAogICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgaWNvbjogJycsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgZWRpdG9yTGlzdDogW10sIC8v57yW6L6R5Zmo5pWw57uECiAgICAgIGluZGV4RWRpdG9yOiAwLCAvL+W9k+WJjee8lui+keWZqOe0ouW8lQogICAgICBjb2RlOiAnJywgLy/lvZPliY3mlofku7bmiZPlvIDml7bnmoTlhoXlrrkKICAgICAgbmF2TGlzdDogW10sIC8v5bem5L6n5a+86Iiq5pWw5o2uCiAgICAgIG5hdkl0ZW06IHt9LCAvL+W3puS+p+WvvOiIqueCueWHu+aYr+mAieS4reeahOaVsOaNrgogICAgICBjb250ZXh0RGF0YTogbnVsbCwgLy/lt6bkvqflr7zoiKrlj7PplK7ngrnlh7vmmK/kuqfnlJ/nmoTmlbDmja7lr7nosaEKCiAgICAgIGZpbGVUeXBlOiAnJywgLy8g5paH5Lu25pON5L2c57G75Z6LIGNyZWF0ZUZvbGRlcnzliJvlu7rmlofku7blpLkgY3JlYXRlRmlsZXzliJvlu7rmlofku7YgZGVsRm9sZGVyfOWIoOmZpOaWh+S7tuWkueaIluiAheaWh+S7tgogICAgICBjbGFzc05hbWU6ICcnLCAvL+WFqOWxjyBjbGFzc+WQjQogICAgICAvLyBmdWxsc2NyZWVuOmZhbHNlLCAgLy8g5piv5ZCm5YWo5bGPCiAgICAgIGlzU2F2ZTogdHJ1ZSwgLy/lvZPliY3mlofku7bmmK/lkKbkv53lrZgKCiAgICAgIGlzU2hvd0xvZ246IGZhbHNlLCAvLyDnmbvlvZUKICAgICAgaXNTaG93TGlzdDogZmFsc2UsIC8vIOeZu+W9leS5i+WQjuWIl+ihqAoKICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGFiTGlzdDogW10sCgogICAgICBmb3JtSXRlbTogewogICAgICAgIC8v6K6w5b2V5b2T5YmN6Lev5b6E5L+h5oGv77yM6I635Y+W5paH5Lu25YiX6KGo5pe25L2/55SoCiAgICAgICAgZGlyOiAnJywKICAgICAgICBzdXBlcmlvcjogMCwKICAgICAgICBmaWxlZGlyOiAnJywKICAgICAgICBmaWxlVG9rZW46IGdldENvb2tpZXMoJ2ZpbGVfdG9rZW4nKSwKICAgICAgfSwKICAgICAgZGlyOiAnJywgLy/lvZPliY3lrozmlbTmlofku7bot6/lvoQKICAgICAgLy8gcm93czoge30sICAvLwogICAgICBwYXRobmFtZTogJycsIC8vIOW9k+WJjeaWh+S7tui3r+W+hAogICAgICB0aXRsZTogJycsIC8v5b2T5YmN5paH5Lu25qCH6aKYCgogICAgICBmb3JtRmlsZTogewogICAgICAgIC8v6YeN5ZG95ZCN6KGo5Y2VCiAgICAgICAgZmlsZW5hbWU6ICcnLAogICAgICB9LAogICAgICBydWxlSW5saW5lOiB7CiAgICAgICAgZmlsZW5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5paH5Lu25oiW5paH5Lu25aS555qE5ZCN5a2XJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICB9LAogICAgICBmb3JtU2hvdzogZmFsc2UsIC8v6KGo5Y2V5byA5YWzCiAgICAgIGZvcm1UaXRsZTogJycsIC8v6KGo5Y2V5qCH6aKYCiAgICAgIGZpbGVUb2tlbjogZ2V0Q29va2llcygnZmlsZV90b2tlbicpLAogICAgICByb3V0ZUxpc3Q6IFtdLCAvLyAg5omT5byA5paH5Lu26Lev5b6ECiAgICAgIHByb3BzOiB7CiAgICAgICAgbGFiZWw6ICd0aXRsZScsCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgaXNMZWFmOiAnaXNMZWFmJywKICAgICAgfSwKICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgbG9naW5Gcm9tLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuaW5pdEVkaXRvcigpOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHJlbW92ZUNvb2tpZXMoJ2ZpbGVfdG9rZW4nKTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDngrnlh7vooYwKICAgIGN1cnJlbnRDaGFuZ2UoY3VycmVudFJvdykgewogICAgICBpZiAoY3VycmVudFJvdy5pc0RpcikgewogICAgICAgIHRoaXMub3BlbihjdXJyZW50Um93KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVkaXQoY3VycmVudFJvdyk7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOaWh+S7tuWIl+ihqAogICAgICogQHBhcmFtIHtPYmplY3R9IHJlZnJlc2ggICAvLyDmmK/lkKbph43mlrDliqDovb0gYm9vbAogICAgICogQHBhcmFtIHtPYmplY3R9IGlzX2VkaXQgICAvLyDmmK/lkKbmmK/nvJbovpHlmajkuK3nmoTliLfmlrAgYm9vbAogICAgICovCiAgICBnZXRMaXN0KHJlZnJlc2gsIGlzX2VkaXQpIHsKICAgICAgbGV0IHBhcmFtczsKICAgICAgaWYgKHJlZnJlc2gpIHsKICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICBkaXI6ICcnLAogICAgICAgICAgc3VwZXJpb3I6IDAsCiAgICAgICAgICBmaWxlZGlyOiAnJywKICAgICAgICAgIGZpbGVUb2tlbjogdGhpcy5maWxlVG9rZW4sCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbXMgPSB0aGlzLmZvcm1JdGVtOwogICAgICAgIHBhcmFtcy5maWxlVG9rZW4gPSB0aGlzLmZpbGVUb2tlbjsKICAgICAgfQogICAgICBpZiAoIWlzX2VkaXQpIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIG9wZW5kaXJMaXN0QXBpKHBhcmFtcykKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy5yb3V0ZUxpc3QgPSBkYXRhLnJvdXRlTGlzdDsKCiAgICAgICAgICBpZiAoaXNfZWRpdCkgewogICAgICAgICAgICB0aGlzLm5hdkxpc3QgPSBkYXRhLm5hdkxpc3Q7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm5hdkxpc3RGb3JUYWIgPSBkYXRhLm5hdkxpc3Q7CiAgICAgICAgICAgIHRoaXMudGFiTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgICAgLy8gdGhpcy5uYXZMaXN0ID0gZGF0YS5uYXZMaXN0OwogICAgICAgICAgICB0aGlzLmlzU2hvd0xpc3QgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5kaXIgPSBkYXRhLmRpcjsKICAgICAgICAgIHRoaXMuaXNTaG93TG9nbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5jYXRjaEZ1bihyZXMpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v5paw5bu65paH5Lu25ZCO6YeN5paw5Yqg6L295bem5L6n5a+86IiqCiAgICBnZXRMaXN0SXRlbShkYXRhKSB7CiAgICAgIG9wZW5kaXJMaXN0QXBpKGRhdGEpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29udGV4dERhdGEsICdjaGlsZHJlbicsIHJlcy5kYXRhLm5hdkxpc3QpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuY2F0Y2hGdW4ocmVzKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLy8g6L+U5Zue5LiK57qnCiAgICBnb0JhY2soaXNfZWRpdCkgewogICAgICB0aGlzLmZvcm1JdGVtID0gewogICAgICAgIGRpcjogdGhpcy5kaXIsCiAgICAgICAgc3VwZXJpb3I6IDEsCiAgICAgICAgZmlsZWRpcjogJycsCiAgICAgIH07CiAgICAgIHRoaXMuZ2V0TGlzdChmYWxzZSwgaXNfZWRpdCk7CiAgICB9LAogICAgLy8g5omT5byACiAgICBvcGVuKHJvdykgewogICAgICAvLyB0aGlzLnJvd3MgPSByb3c7CiAgICAgIHRoaXMuZm9ybUl0ZW0gPSB7CiAgICAgICAgZGlyOiByb3cucGF0aCwKICAgICAgICBzdXBlcmlvcjogMCwKICAgICAgICBmaWxlZGlyOiByb3cuZmlsZW5hbWUsCiAgICAgICAgZmlsZVRva2VuOiB0aGlzLmZpbGVUb2tlbiwKICAgICAgfTsKICAgICAgdGhpcy5nZXRMaXN0KGZhbHNlLCBmYWxzZSk7CiAgICB9LAogICAganVtcFJvdXRlKGl0ZW0pIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgcGF0aDogaXRlbS5yb3V0ZSwKICAgICAgICBmaWxlbmFtZTogJycsCiAgICAgIH07CiAgICAgIHRoaXMub3BlbihkYXRhKTsKICAgIH0sCiAgICByZWZyZXNoUm91dGUoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHBhdGg6IHRoaXMucm91dGVMaXN0W3RoaXMucm91dGVMaXN0Lmxlbmd0aCAtIDFdLnJvdXRlLAogICAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgfTsKICAgICAgdGhpcy5vcGVuKGRhdGEpOwogICAgfSwKICAgIC8vIOe8lui+kcOfCiAgICBlZGl0KHJvdykgewogICAgICB0aGlzLm5hdkl0ZW0gPSByb3c7CiAgICAgIHRoaXMuc3BpblNob3cgPSB0cnVlOwogICAgICB0aGlzLnBhdGhuYW1lID0gcm93LnBhdGhuYW1lOwogICAgICB0aGlzLnRpdGxlID0gcm93LmZpbGVuYW1lOwogICAgICB0aGlzLmVkaXRvckluZGV4WzBdLnRpdGxlID0gcm93LmZpbGVuYW1lOwogICAgICB0aGlzLmVkaXRvckluZGV4WzBdLnBhdGhuYW1lID0gcm93LnBhdGhuYW1lOwogICAgICB0aGlzLm5hdkxpc3QgPSB0aGlzLm5hdkxpc3RGb3JUYWI7CiAgICAgIHRoaXMuZGlyID0gcm93LnBhdGg7CiAgICAgIC8vIOWIm+W7uuS7o+eggeWuueWZqAogICAgICBpZiAodGhpcy5lZGl0b3JMaXN0Lmxlbmd0aCA8PSAwKSB7CiAgICAgICAgLy8gdGhpcy5pbml0RWRpdG9yKCk7CiAgICAgIH0KICAgICAgdGhpcy5vcGVuZmlsZShyb3cucGF0aG5hbWUsIGZhbHNlKTsKICAgIH0sCiAgICAvKioKICAgICAqIOWkh+azqAogICAgICovCiAgICBtYXJrKHJvdykgewogICAgICB0aGlzLiRtb2RhbEZvcm0oCiAgICAgICAgZmlsZU1hcmsoewogICAgICAgICAgcGF0aDogcm93LnBhdGhuYW1lLAogICAgICAgICAgZmlsZVRva2VuOiB0aGlzLmZpbGVUb2tlbiwKICAgICAgICB9KSwKICAgICAgKS50aGVuKCgpID0+IHRoaXMuZ2V0TGlzdCh0cnVlLCBmYWxzZSkpOwogICAgfSwKICAgIC8qKgogICAgICog5L+d5a2YCiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5kZXggICAvLyDlvZPliY3ntKLlvJUKICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlICAgIC8vIHRydWUg5LiN5pu05paw5b2T5YmN5pys5Zyw5pWw5o2u77yMZmFsc2XmiJbogIXkuLrnqbog5pu05paw5b2T5YmN5pWw5o2uCiAgICAgKi8KICAgIHNhdmVmaWxlKGluZGV4LCB0eXBlKSB7CiAgICAgIGxldCBjb2RlID0gdGhpcy5lZGl0b3JMaXN0W2luZGV4XS5lZGl0b3IuZ2V0VmFsdWUoKTsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgY29tbWVudDogY29kZSwKICAgICAgICBmaWxlcGF0aDogdGhpcy5lZGl0b3JMaXN0W2luZGV4XS5wYXRoLAogICAgICAgIGZpbGVUb2tlbjogdGhpcy5maWxlVG9rZW4sCiAgICAgIH07CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgc2F2ZWZpbGVBcGkoZGF0YSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBpZiAoIXR5cGUpIHsKICAgICAgICAgICAgdGhhdC5jb2RlID0gY29kZTsKICAgICAgICAgICAgdGhhdC5pc1NhdmUgPSB0cnVlOwogICAgICAgICAgICB0aGF0LmVkaXRvckluZGV4W2luZGV4XS5pY29uID0gJyc7CiAgICAgICAgICAgIHRoYXQuZWRpdG9yTGlzdFtpbmRleF0uaXNTYXZlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoYXQuJE1vZGFsLnJlbW92ZSgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoYXQuY2F0Y2hGdW4ocmVzKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDliLfmlrAKICAgIHJlZnJlc2hmaWxlKCkgewogICAgICAvLyDliLfmlrDnvJbovpHlmagKICAgICAgaWYgKHRoaXMuZWRpdG9yTGlzdFt0aGlzLmluZGV4RWRpdG9yXSkgdGhpcy5vcGVuZmlsZSh0aGlzLmVkaXRvckxpc3RbdGhpcy5pbmRleEVkaXRvcl0ucGF0aCwgdHJ1ZSk7CiAgICB9LAogICAgLy/orqHnrpd0b2tlbui/h+acn+aXtumXtAogICAgZ2V0RXhwaXJlc1RpbWUoZXhwaXJlc1RpbWUpIHsKICAgICAgbGV0IG5vd1RpbWVOdW0gPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkgLyAxMDAwKTsKICAgICAgbGV0IGV4cGlyZXNUaW1lTnVtID0gZXhwaXJlc1RpbWUgLSBub3dUaW1lTnVtOwogICAgICByZXR1cm4gcGFyc2VGbG9hdChwYXJzZUZsb2F0KHBhcnNlRmxvYXQoZXhwaXJlc1RpbWVOdW0gLyA2MCkgLyA2MCkgLyAyNCk7CiAgICB9LAogICAgLy8g5L6n6L655qCP5byC5q2l5Yqg6L29CiAgICBsb2FkRGF0YShpdGVtLCBjYWxsYmFjaykgewogICAgICBpZiAoIWl0ZW0uZGF0YS5pc0xlYWYpIHsKICAgICAgICB0aGlzLmZvcm1JdGVtID0gewogICAgICAgICAgZGlyOiBpdGVtLmRhdGEucGF0aCwKICAgICAgICAgIHN1cGVyaW9yOiAwLAogICAgICAgICAgZmlsZWRpcjogaXRlbS5kYXRhLnRpdGxlLAogICAgICAgICAgZmlsZVRva2VuOiB0aGlzLmZpbGVUb2tlbiwKICAgICAgICB9OwogICAgICAgIG9wZW5kaXJMaXN0QXBpKHRoaXMuZm9ybUl0ZW0pCiAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgIGNhbGxiYWNrKHJlcy5kYXRhLm5hdkxpc3QpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDExMDAwOCkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgICAgdGhpcy5pc1Nob3dMb2duID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLmlzU2hvd0xpc3QgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmNhdGNoRnVuKHJlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g6Ieq5a6a5LmJ5pi+56S6CiAgICByZW5kZXJDb250ZW50KGgsIHsgbm9kZSwgZGF0YSwgcm9vdCB9KSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgcmV0dXJuIGgoCiAgICAgICAgJ3NwYW4nLAogICAgICAgIHsKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLAogICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJywKICAgICAgICAgICAgdXNlclNlbGVjdDogJ251bGwnLAogICAgICAgICAgICBjb2xvcjogJyNjY2NjY2MnLAogICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywKICAgICAgICAgICAgd2lkdGg6ICcxMDAlJywKICAgICAgICAgICAgYm9yZGVyUmFkaXM6ICc1cHgnLAogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgdGhhdC5jbGlja0RpcihkYXRhLCByb290LCBub2RlKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29udGV4dG1lbnU6ICgpID0+IHsKICAgICAgICAgICAgICAvLyB0aGF0LmhhbmRsZUNvbnRleHREZWxGb2xkZXIoZGF0YSxyb290LG5vZGUpOwogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIFsKICAgICAgICAgIGgoJ3NwYW4nLCBbCiAgICAgICAgICAgIGgoJ0ljb24nLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICFkYXRhLmlzTGVhZiA/ICdtZC1mb2xkZXInIDogJ2lvcy1kb2N1bWVudC1vdXRsaW5lJywKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogJzhweCcsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGgoCiAgICAgICAgICAgICAgJ3NwYW4nLAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRhdGEudGl0bGUsCiAgICAgICAgICAgICksCiAgICAgICAgICBdKSwKICAgICAgICBdLAogICAgICApOwogICAgfSwKICAgIC8qKgogICAgICog5L6n6L655qCP54K55Ye75LqL5Lu2CiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YQogICAgICovCiAgICBjbGlja0RpcihkYXRhLCByb290LCBub2RlKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5uYXZJdGVtID0gZGF0YTsKICAgICAgdGhhdC5wYXRobmFtZSA9IGRhdGEucGF0aG5hbWU7CgogICAgICBpZiAoIWRhdGEuaXNEaXIpIHsKICAgICAgICBsZXQgaSA9IHRoYXQuZWRpdG9ySW5kZXguZmluZEluZGV4KChlKSA9PiB7CiAgICAgICAgICByZXR1cm4gZS5wYXRobmFtZSA9PT0gZGF0YS5wYXRobmFtZTsKICAgICAgICB9KTsKICAgICAgICBpZiAoaSA+IC0xKSB7CiAgICAgICAgICB0aGF0LmluZGV4RWRpdG9yID0gaS50b1N0cmluZygpOwogICAgICAgICAgdGhhdC50b2dnbGVFZGl0b3IoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGV0IGluZGV4ID0gdGhhdC5lZGl0b3JJbmRleC5sZW5ndGg7CiAgICAgICAgICAvLyDliJvlu7p0YWJzCiAgICAgICAgICB0aGF0LmVkaXRvckluZGV4LnB1c2goewogICAgICAgICAgICB0YWI6IHRydWUsCiAgICAgICAgICAgIGluZGV4OiBpbmRleC50b1N0cmluZygpLAogICAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSwKICAgICAgICAgICAgaWNvbjogJycsCiAgICAgICAgICAgIHBhdGhuYW1lOiBkYXRhLnBhdGhuYW1lLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGF0LmluZGV4RWRpdG9yID0gaW5kZXgudG9TdHJpbmcoKTsKICAgICAgICAgIC8vIOWIm+W7uuS7o+eggeWuueWZqAogICAgICAgICAgdGhhdC5pbml0RWRpdG9yKCk7CiAgICAgICAgICB0aGF0Lm9wZW5maWxlKGRhdGEucGF0aG5hbWUsIHRydWUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8v5L6n6L655qCP5Y+z6ZSu54K55Ye75LqL5Lu2CiAgICBoYW5kbGVDb250ZXh0TWVudShkYXRhLCBldmVudCwgcG9zaXRpb24pIHsKICAgICAgcG9zaXRpb24ubGVmdCA9IE51bWJlcihwb3NpdGlvbi5sZWZ0LnNsaWNlKDAsIC0yKSkgKyA3NSArICdweCc7CiAgICAgIHRoaXMuY29udGV4dERhdGEgPSBkYXRhOwogICAgfSwKICAgIC8vIOaWh+S7tuaTjeS9nOexu+WeiyBjcmVhdGVGb2xkZXJ85Yib5bu65paH5Lu25aS5IGNyZWF0ZUZpbGV85Yib5bu65paH5Lu2IGRlbEZvbGRlcnzliKDpmaTmlofku7blpLnmiJbogIXmlofku7YgcmVuYW1lRmlsZXzmlofku7bph43lkb3lkI0KICAgIC8v5Yib5bu65paH5Lu25aS5CiAgICBoYW5kbGVDb250ZXh0Q3JlYXRlRm9sZGVyKCkgewogICAgICB0aGlzLmZvcm1GaWxlLmZpbGVuYW1lID0gJyc7CiAgICAgIHRoaXMuZm9ybVRpdGxlID0gJ+WIm+W7uuaWh+S7tuWkuSc7CiAgICAgIHRoaXMuZm9ybVNob3cgPSB0cnVlOwogICAgICB0aGlzLmZpbGVUeXBlID0gJ2NyZWF0ZUZvbGRlcic7CiAgICB9LAogICAgLy/liJvlu7rmlofku7YKICAgIGhhbmRsZUNvbnRleHRDcmVhdGVGaWxlKCkgewogICAgICB0aGlzLmZvcm1GaWxlLmZpbGVuYW1lID0gJyc7CiAgICAgIHRoaXMuZm9ybVRpdGxlID0gJ+WIm+W7uuaWh+S7tic7CiAgICAgIHRoaXMuZm9ybVNob3cgPSB0cnVlOwogICAgICB0aGlzLmZpbGVUeXBlID0gJ2NyZWF0ZUZpbGUnOwogICAgfSwKICAgIC8v5Yig6Zmk5paH5Lu2CiAgICBoYW5kbGVDb250ZXh0RGVsRm9sZGVyKCkgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQuJE1vZGFsLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAn5Yig6Zmk5paH5Lu25aS55ZKM5paH5Lu2JywKICAgICAgICBjb250ZW50OiAn5oKo56Gu5a6a6KaB5Yig6Zmk5pS55paH5Lu277yfJywKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICBwYXRoOiB0aGF0LmNvbnRleHREYXRhLnBhdGhuYW1lLAogICAgICAgICAgICBmaWxlVG9rZW46IHRoaXMuZmlsZVRva2VuLAogICAgICAgICAgfTsKICAgICAgICAgIGRlbEZvbGRlcihkYXRhKQogICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhhdC5sb29wRGVsKHRoYXQubmF2TGlzdCwgdGhhdC5jb250ZXh0RGF0YS5ub2RlS2V5KTsKICAgICAgICAgICAgICB0aGF0LiRNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICAgIHRoYXQuY2F0Y2hGdW4ocmVzKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBvbkNhbmNlbDogKCkgPT4gewogICAgICAgICAgdGhhdC4kbWVzc2FnZS5pbmZvKCflj5bmtojliKDpmaQnKTsKICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCiAgICAvL+mHjeWRveWQjQogICAgaGFuZGxlQ29udGV4dFJlbmFtZSgpIHsKICAgICAgdGhpcy5mb3JtRmlsZS5maWxlbmFtZSA9IHRoaXMuY29udGV4dERhdGEudGl0bGU7CiAgICAgIHRoaXMuZm9ybVRpdGxlID0gJ+mHjeWRveWQjeaWh+S7tic7CiAgICAgIHRoaXMuZm9ybVNob3cgPSB0cnVlOwogICAgICB0aGlzLmZpbGVUeXBlID0gJ3JlbmFtZUZpbGUnOwogICAgfSwKICAgIC8v5omT5byA5paH5Lu2CiAgICBvcGVuZmlsZShwYXRoLCBpc19lZGl0KSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBmaWxlcGF0aDogcGF0aCwKICAgICAgICBmaWxlVG9rZW46IHRoaXMuZmlsZVRva2VuLAogICAgICB9OwoKICAgICAgb3BlbmZpbGVBcGkocGFyYW1zKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGlmICghaXNfZWRpdCkgewogICAgICAgICAgICB0aGF0Lm1vZGFscyA9IHRydWU7CiAgICAgICAgICAgIHRoYXQuc3BpblNob3cgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5pbml0RWRpdG9yKCk7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhhdC5jb2RlID0gZGF0YS5jb250ZW50OwogICAgICAgICAgLy8g5L+d5a2Y55u45a+55L+h5oGvCgogICAgICAgICAgdGhhdC5lZGl0b3JMaXN0W3RoYXQuaW5kZXhFZGl0b3JdLm9sZENvZGUgPSB0aGF0LmNvZGU7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoZSkgPT4gewogICAgICAgICAgICB0aGF0LmVkaXRvckxpc3RbdGhhdC5pbmRleEVkaXRvciB8fCAwXS5wYXRoID0gcGF0aDsKICAgICAgICAgICAgdGhhdC5lZGl0b3JMaXN0W3RoYXQuaW5kZXhFZGl0b3IgfHwgMF0ucGF0aG5hbWUgPSBwYXRoOwogICAgICAgICAgfSk7CiAgICAgICAgICAvL+aUueWPmOWxnuaApwogICAgICAgICAgdGhhdC5jaGFuZ2VNb2RlbChkYXRhLm1vZGUsIHRoYXQuY29kZSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhhdC5jYXRjaEZ1bihyZXMpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog5Yid5aeL5YyW57yW6L6R5ZmoCiAgICAgKi8KICAgIGluaXRFZGl0b3IoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgdGhhdC4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIOWIneWni+WMlue8lui+keWZqO+8jOehruS/nWRvbeW3sue7j+a4suafkwogICAgICAgIHRoYXQuZWRpdG9yID0gbW9uYWNvLmVkaXRvci5jcmVhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcl8nICsgdGhhdC5pbmRleEVkaXRvciksIHsKICAgICAgICAgIHZhbHVlOiB0aGF0LmNvZGUsIC8v57yW6L6R5Zmo5Yid5aeL5pi+56S65paH5a2XCiAgICAgICAgICBsYW5ndWFnZTogJ3NxbCcsIC8v6K+t6KiA5pSv5oyB6Ieq6KGM5p+l6ZiFZGVtbwogICAgICAgICAgYXV0b21hdGljTGF5b3V0OiB0cnVlLCAvL+iHquWKqOW4g+WxgAogICAgICAgICAgdGhlbWU6ICd2cycsIC8v5a6Y5pa56Ieq5bim5LiJ56eN5Li76aKYdnMsIGhjLWJsYWNrLCBvciB2cy1kYXJrCiAgICAgICAgICBmb2xkaW5nU3RyYXRlZ3k6ICdpbmRlbnRhdGlvbicsIC8vIOS7o+eggeWPr+WIhuWwj+auteaKmOWPoAogICAgICAgICAgb3ZlcnZpZXdSdWxlckJvcmRlcjogZmFsc2UsIC8vIOS4jeimgea7muWKqOadoeeahOi+ueahhgogICAgICAgICAgc2Nyb2xsYmFyOiB7CiAgICAgICAgICAgIC8vIOa7muWKqOadoeiuvue9rgogICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhclNpemU6IDQsIC8vIOerlua7muWKqOadoQogICAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZTogMTAsIC8vIOaoqua7muWKqOadoQogICAgICAgICAgfSwKICAgICAgICAgIGF1dG9JbmRlbnQ6IHRydWUsIC8vIOiHquWKqOW4g+WxgAogICAgICAgICAgdGFiU2l6ZTogNCwgLy8gdGFi57yp6L+b6ZW/5bqmCiAgICAgICAgICBhdXRvQ2xvc2luZ092ZXJ0eXBlOiAnYWx3YXlzJywKICAgICAgICB9KTsKICAgICAgICAvL+a3u+WKoOaMiemUruebkeWQrAogICAgICAgIHRoYXQuZWRpdG9yLmFkZENvbW1hbmQobW9uYWNvLktleU1vZC5DdHJsQ21kIHwgbW9uYWNvLktleUNvZGUuS0VZX1MsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoYXQuc2F2ZWZpbGUodGhhdC5pbmRleEVkaXRvcik7CiAgICAgICAgfSk7CiAgICAgICAgdGhhdC5lZGl0b3Iub25LZXlVcCgoKSA9PiB7CiAgICAgICAgICAvLyDlvZPplK7nm5jmjInkuIvvvIzliKTmlq3lvZPliY3nvJbovpHlmajmlofmnKzkuI7lt7Lkv53lrZjnmoTnvJbovpHlmajmlofmnKzmmK/lkKbkuIDoh7QKICAgICAgICAgIGlmICh0aGF0LmVkaXRvci5nZXRWYWx1ZSgpICE9IHRoYXQuY29kZSkgewogICAgICAgICAgICB0aGF0LmlzU2F2ZSA9IGZhbHNlOwogICAgICAgICAgICB0aGF0LmVkaXRvckluZGV4W3RoYXQuaW5kZXhFZGl0b3JdLmljb24gPSAnbWQtd2FybmluZyc7CiAgICAgICAgICAgIHRoYXQuZWRpdG9yTGlzdFt0aGF0LmluZGV4RWRpdG9yXS5pc1NhdmUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGF0LmVkaXRvckxpc3QucHVzaCh7CiAgICAgICAgICBlZGl0b3I6IHRoYXQuZWRpdG9yLAogICAgICAgICAgb2xkQ29kZTogdGhhdC5jb2RlLAogICAgICAgICAgcGF0aDogdGhpcy5wYXRobmFtZSwKICAgICAgICAgIGlzU2F2ZTogdHJ1ZSwKICAgICAgICAgIGluZGV4OiB0aGF0LmluZGV4RWRpdG9yLAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOWIh+aNouivreiogAogICAgICogQHBhcmFtIHtPYmplY3R9IG1vZGUKICAgICAqLwogICAgY2hhbmdlTW9kZWwobW9kZSwgdmFsdWUpIHsKICAgICAgdmFyIG9sZE1vZGVsID0gdGhpcy5lZGl0b3JMaXN0W3RoaXMuaW5kZXhFZGl0b3JdLmVkaXRvci5nZXRNb2RlbCgpOyAvL+iOt+WPluaXp+aooeWeiwogICAgICAvLyB2YXIgdmFsdWUgPSB0aGlzLmVkaXRvci5nZXRWYWx1ZSgpOy8v6I635Y+W5pen55qE5paH5pysCiAgICAgIC8v5Yib5bu65paw5qih5Z6L77yMdmFsdWXkuLrml6fmlofmnKzvvIxpZOS4um1vZGVJZO+8jOWNs+ivreiogO+8iGxhbmd1YWdlLmlk77yJCiAgICAgIC8vbW9kZXNJZHPljbPkuLrmlK/mjIHor63oqIAKICAgICAgLy8gdmFyIG1vZGVzSWRzID0gbW9uYWNvLmxhbmd1YWdlcy5nZXRMYW5ndWFnZXMoKS5tYXAoZnVuY3Rpb24obGFuZykgeyByZXR1cm4gbGFuZy5pZDsgfSk7CiAgICAgIGlmICghbW9kZSkgbW9kZSA9IG9sZE1vZGVsLmdldExhbmd1YWdlSWQoKTsKICAgICAgLy8gaWYoIXZhbHVlKSB2YWx1ZSA9IHRoaXMuZWRpdG9yLmdldFZhbHVlKCk7CgogICAgICB2YXIgbmV3TW9kZWwgPSBtb25hY28uZWRpdG9yLmNyZWF0ZU1vZGVsKHZhbHVlLCBtb2RlKTsKICAgICAgLy/lsIbml6fmqKHlnovplIDmr4EKICAgICAgaWYgKG9sZE1vZGVsKSB7CiAgICAgICAgb2xkTW9kZWwuZGlzcG9zZSgpOwogICAgICB9CiAgICAgIC8v6K6+572u5paw5qih5Z6LCiAgICAgIHRoaXMuZWRpdG9yTGlzdFt0aGlzLmluZGV4RWRpdG9yXS5lZGl0b3Iuc2V0TW9kZWwobmV3TW9kZWwpOwogICAgfSwKICAgIC8vIOaWh+S7tuaTjeS9nOexu+WeiyBjcmVhdGVGb2xkZXJ85Yib5bu65paH5Lu25aS5IGNyZWF0ZUZpbGV85Yib5bu65paH5Lu2IGRlbEZvbGRlcnzliKDpmaTmlofku7blpLnmiJbogIXmlofku7YKICAgIGhhbmRsZVN1Ym1pdChuYW1lKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgbGV0IGRhdGEgPSAnJzsKICAgICAgbGV0IGRhdGFJdGVtID0gJyc7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBzd2l0Y2ggKHRoYXQuZmlsZVR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnY3JlYXRlRm9sZGVyJzoKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgcGF0aDogdGhhdC5jb250ZXh0RGF0YS5wYXRobmFtZSwKICAgICAgICAgICAgICAgIG5hbWU6IHRoYXQuZm9ybUZpbGUuZmlsZW5hbWUsCiAgICAgICAgICAgICAgICBmaWxlVG9rZW46IHRoaXMuZmlsZVRva2VuLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY3JlYXRlRm9sZGVyKGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgIGRhdGFJdGVtID0gewogICAgICAgICAgICAgICAgICAgIGRpcjogdGhhdC5jb250ZXh0RGF0YS5wYXRoLAogICAgICAgICAgICAgICAgICAgIHN1cGVyaW9yOiAwLAogICAgICAgICAgICAgICAgICAgIGZpbGVkaXI6IHRoYXQuY29udGV4dERhdGEudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgZmlsZVRva2VuOiB0aGlzLmZpbGVUb2tlbiwKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgdGhhdC5nZXRMaXN0SXRlbShkYXRhSXRlbSk7CiAgICAgICAgICAgICAgICAgIGlmICh0aGF0LmZvcm1TaG93KSB0aGF0LmZvcm1TaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yib5bu65oiQ5YqfJyk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgdGhhdC5jYXRjaEZ1bihyZXMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2NyZWF0ZUZpbGUnOgogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBwYXRoOiB0aGF0LmNvbnRleHREYXRhLnBhdGhuYW1lLAogICAgICAgICAgICAgICAgbmFtZTogdGhhdC5mb3JtRmlsZS5maWxlbmFtZSwKICAgICAgICAgICAgICAgIGZpbGVUb2tlbjogdGhpcy5maWxlVG9rZW4sCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBjcmVhdGVGaWxlKGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgIGRhdGFJdGVtID0gewogICAgICAgICAgICAgICAgICAgIGRpcjogdGhhdC5jb250ZXh0RGF0YS5wYXRoLAogICAgICAgICAgICAgICAgICAgIHN1cGVyaW9yOiAwLAogICAgICAgICAgICAgICAgICAgIGZpbGVkaXI6IHRoYXQuY29udGV4dERhdGEudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgZmlsZVRva2VuOiB0aGlzLmZpbGVUb2tlbiwKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgdGhhdC5nZXRMaXN0SXRlbShkYXRhSXRlbSk7CiAgICAgICAgICAgICAgICAgIGlmICh0aGF0LmZvcm1TaG93KSB0aGF0LmZvcm1TaG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yib5bu65oiQ5YqfJyk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgdGhhdC5jYXRjaEZ1bihyZXMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3JlbmFtZUZpbGUnOgogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICBuZXduYW1lOiB0aGF0LmNvbnRleHREYXRhLnBhdGggKyAnXFwnICsgdGhhdC5mb3JtRmlsZS5maWxlbmFtZSwKICAgICAgICAgICAgICAgIG9sZG5hbWU6IHRoYXQuY29udGV4dERhdGEucGF0aG5hbWUsCiAgICAgICAgICAgICAgICBmaWxlVG9rZW46IHRoaXMuZmlsZVRva2VuLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgcmVuYW1lKGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoYXQuJHNldCh0aGF0LmNvbnRleHREYXRhLCAndGl0bGUnLCB0aGF0LmZvcm1GaWxlLmZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuZm9ybVNob3cpIHRoYXQuZm9ybVNob3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICAgICAgICB0aGF0LmNhdGNoRnVuKHJlcyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignRmFpbCEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog6YCA5Ye66KGo5Y2VCiAgICAgKi8KICAgIGZvcm1FeGl0KCkgewogICAgICB0aGlzLmZvcm1TaG93ID0gZmFsc2U7CiAgICB9LAoKICAgIC8qKgogICAgICog5aSE55CG5o6l5Y+j5Zue6LCDCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVzCiAgICAgKi8KICAgIGNhdGNoRnVuKHJlcykgewogICAgICBpZiAocmVzLnN0YXR1cykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09IDQwMCkgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAxMTAwMDgpIHsKICAgICAgICAgIC8vIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLmlzU2hvd0xvZ24gPSB0cnVlOwogICAgICAgICAgdGhpcy5pc1Nob3dMaXN0ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhpcy4kbWVzc2FnZS5lcnJvcign5paH5Lu257yW56CB5LiN6KKr5YW85a6577yM5peg5rOV5q2j56Gu6K+75Y+W5paH5Lu2IScpOwogICAgICB9CiAgICAgIC8v5YWz6Zet6JKZ54mI5bGCCiAgICAgIGlmICh0aGlzLnNwaW5TaG93KSB0aGlzLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgIC8vIOWFs+mXreaWh+S7tuWIl+ihqOWxleekugogICAgICBpZiAodGhpcy5sb2FkaW5nKSB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBsb29wRGVsKGRhdGEsIG5vZGVLZXkpIHsKICAgICAgZGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIGlmIChpdGVtLm5vZGVLZXkgPT09IG5vZGVLZXkpIHsKICAgICAgICAgIHJldHVybiBkYXRhLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfQogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJldHVybiB0aGlzLmxvb3BEZWwoaXRlbS5jaGlsZHJlbiwgbm9kZUtleSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOeql+WPo+acgOWkp+WMlgogICAgICovCiAgICB3aW5DaGFuZ2VzKCkgewogICAgICBpZiAodGhpcy5jbGFzc05hbWUpIHsKICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ2RpeS1mdWxsc2NyZWVuJzsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog5YiH5o2i6YCJ6aG55Y2hCiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5kZXgKICAgICAqLwogICAgdG9nZ2xlRWRpdG9yKCkgewogICAgICBsZXQgaW5kZXggPSBOdW1iZXIodGhpcy5pbmRleEVkaXRvcik7CiAgICAgIHRoaXMuY29kZSA9IHRoaXMuZWRpdG9yTGlzdFtpbmRleF0ub2xkQ29kZTsgLy/orr7nva7mlofku7bmiZPlvIDml7bnmoTku6PnoIEKICAgICAgdGhpcy5lZGl0b3IgPSB0aGlzLmVkaXRvckxpc3RbaW5kZXhdLmVkaXRvcjsgLy/orr7nva7nvJbovpHlmajlrp7kvosKICAgIH0sCiAgICBpc0VkaXRNYXJrKHJvdykgewogICAgICB0cnkgewogICAgICAgIHJvdy5pc19lZGl0ID0gdHJ1ZTsKICAgICAgICB0aGlzLiRuZXh0VGljaygoZSkgPT4gewogICAgICAgICAgdGhpcy4kcmVmcy5tYXJrLmZvY3VzKCk7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgaXNFZGl0Qmx1cihyb3cpIHsKICAgICAgcm93LmlzX2VkaXQgPSBmYWxzZTsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgZnVsbF9wYXRoOiByb3cucmVhbF9wYXRoLAogICAgICAgIG1hcms6IHJvdy5tYXJrLAogICAgICB9OwogICAgICBtYXJrU2F2ZSh0aGlzLmZpbGVUb2tlbiwgZGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAvLyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVUYWJSZW1vdmUoaW5kZXgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwoKICAgICAgLy8g5YWz6Zet6YCJ6aG55Y2hCiAgICAgIHRoYXQuZWRpdG9ySW5kZXhbaW5kZXhdLnRhYiA9IGZhbHNlOyAvLyDlhbPpl63pgInpobnljaEKICAgICAgLy8g5Yik5pat5b2T5YmN5paH5Lu25pyJ5rKh5pyJ5L+d5a2YCiAgICAgIGlmICghdGhhdC5lZGl0b3JMaXN0W2luZGV4XS5pc1NhdmUpIHsKICAgICAgICB0aGF0LiRNb2RhbC5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiAn5paH5Lu25pyq5L+d5a2YJywKICAgICAgICAgIGNvbnRlbnQ6ICfmgqjmmK/lkKbpnIDopoHkv53lrZjlvZPliY3mlofku7YnLAogICAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgICAgLy8g5L+d5a2Y5paH5Lu2CiAgICAgICAgICAgIHRoYXQuc2F2ZWZpbGUoaW5kZXgpOwogICAgICAgICAgfSwKICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7CiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UuaW5mbygn5Y+W5raI5L+d5a2YJyk7CiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/nvJbovpHlmajnirbmgIHlj5jljJYKICAgIGVkaXRNb2RhbENoYW5nZSgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmVkaXRvckxpc3QuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7CiAgICAgICAgaWYgKHZhbHVlLmlzU2F2ZSA9PT0gZmFsc2UpIHsKICAgICAgICAgIGlmIChjb25maXJtKGAke3RoYXQuZWRpdG9ySW5kZXhbaW5kZXhdLnRpdGxlfeaWh+S7tuacquS/neWtmCzmmK/lkKbopoHkv53lrZjor6Xmlofku7ZgKSkgewogICAgICAgICAgICAvLyDkv53lrZjlvZPliY3mlofku7YKICAgICAgICAgICAgdGhhdC5zYXZlZmlsZShpbmRleCwgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LiRtZXNzYWdlLmluZm8oYOW3suWPlua2iCR7dGhhdC5lZGl0b3JJbmRleFtpbmRleF0udGl0bGV95paH5Lu25L+d5a2YYCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIOmUgOavgeW9k+WJjee8lui+keWZqAogICAgICAgIHRoYXQuZWRpdG9yTGlzdFtpbmRleF0uZWRpdG9yLmRpc3Bvc2UoKTsKICAgICAgICB0aGF0LmVkaXRvckxpc3RbaW5kZXhdLmVkaXRvciA9IG51bGw7CiAgICAgIH0pOwogICAgICAvLyDliJ3lp4vor53mlbDmja4KICAgICAgdGhhdC5tb2RhbHMgPSBmYWxzZTsgLy/nvJbovpHlmajlvIDlhbMKICAgICAgdGhhdC5lZGl0b3IgPSAnJzsgLy/lvZPliY3nvJbovpHlmajlr7nosaEKICAgICAgdGhhdC5lZGl0b3JJbmRleCA9IFsKICAgICAgICAvL+mAiemhueWNoeaVsOe7hAogICAgICAgIHsKICAgICAgICAgIHRhYjogdHJ1ZSwKICAgICAgICAgIGluZGV4OiAnMCcsCiAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICBpY29uOiAnJywKICAgICAgICB9LAogICAgICBdOwogICAgICB0aGF0LmVkaXRvckxpc3QgPSBbXTsgLy/nvJbovpHlmajmlbDnu4QKICAgICAgdGhhdC5pbmRleEVkaXRvciA9ICcwJzsgLy/lvZPliY3nvJbovpHlmajntKLlvJUKICAgICAgdGhhdC5jb2RlID0gJyc7IC8v5b2T5YmN5paH5Lu25omT5byA5pe255qE5YaF5a65CiAgICAgIHRoYXQubmF2TGlzdCA9IFtdOyAvL+W3puS+p+WvvOiIquaVsOaNrgogICAgICB0aGF0Lm5hdkl0ZW0gPSB7fTsgLy/lt6bkvqflr7zoiKrngrnlh7vmmK/pgInkuK3nmoTmlbDmja4KICAgICAgdGhhdC5jb250ZXh0RGF0YSA9IG51bGw7IC8v5bem5L6n5a+86Iiq5Y+z6ZSu54K55Ye75piv5Lqn55Sf55qE5pWw5o2u5a+56LGhCiAgICB9LAogIH0sCn07Cg=="},null]}