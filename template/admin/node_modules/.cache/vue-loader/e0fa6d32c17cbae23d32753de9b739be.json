{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/mobile/user/userLabel.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/mobile/user/userLabel.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVzZXJMYWJlbCwgdXNlckxhYmVsUHV0IH0gZnJvbSAnQC9hcGkva2VmdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXNlckxhYmVyJywKICBwcm9wczogewogICAgY2hhbmdlOiBCb29sZWFuLAogICAgdWlkOiBOdW1iZXIsCiAgICBsYWJlbExpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyAgbGFiZWxMaXN0OltdLAogICAgICBhY3RpdmVJZHM6IFtdLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBsYWJlbExpc3Q6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGRhdGEubWFwKChlbCkgPT4gewogICAgICAgIGVsLmxhYmVsLm1hcCgobGFiZWwpID0+IHsKICAgICAgICAgIGlmIChsYWJlbC5kaXNhYmxlZCkgewogICAgICAgICAgICB0aGlzLmFjdGl2ZUlkcy5wdXNoKGxhYmVsLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0TGFiZWwobGFiZWwpIHsKICAgICAgaWYgKGxhYmVsLmRpc2FibGVkKSB7CiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5hY3RpdmVJZHMuaW5kZXhPZihsYWJlbC5pZCk7CiAgICAgICAgdGhpcy5hY3RpdmVJZHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICBsYWJlbC5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aXZlSWRzLnB1c2gobGFiZWwuaWQpOwogICAgICAgIGxhYmVsLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOehruWumgogICAgc3ViQnRuKCkgewogICAgICBsZXQgdW5MYWJlcmlkcyA9IFtdOwogICAgICB0aGlzLmxhYmVsTGlzdC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICBpdGVtLmxhYmVsLm1hcCgoaSkgPT4gewogICAgICAgICAgaWYgKGkuZGlzYWJsZWQgPT0gZmFsc2UpIHsKICAgICAgICAgICAgdW5MYWJlcmlkcy5wdXNoKGkuaWQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdXNlckxhYmVsUHV0KHRoaXMudWlkLCB7CiAgICAgICAgbGFiZWxfaWRzOiB0aGlzLmFjdGl2ZUlkcywKICAgICAgICB1bl9sYWJlbF9pZHM6IHVuTGFiZXJpZHMsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgdGhpcy4kZW1pdCgnZWRpdExhYmVsJywgZmFsc2UpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnJvci5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlQ2hhbmdlJywgZmFsc2UpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["userLabel.vue"],"names":[],"mappings":";AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userLabel.vue","sourceRoot":"src/pages/kefu/mobile/user","sourcesContent":["<template>\n  <div>\n    <div class=\"labelChange\" :class=\"change === true ? 'on' : ''\">\n      <div class=\"priceTitle cor32\">\n        用户标签\n        <span class=\"iconfontYI icon-guanbi\" @click=\"close\"></span>\n      </div>\n      <div class=\"label-wrapper\">\n        <div class=\"label-box\" v-for=\"(item, index) in labelList\" :key=\"index\">\n          <div class=\"title\">{{ item.name }}</div>\n          <div class=\"list\">\n            <div\n              class=\"label-item\"\n              :class=\"{ on: label.disabled }\"\n              v-for=\"(label, j) in item.label\"\n              :key=\"j\"\n              @click=\"selectLabel(label)\"\n            >\n              {{ label.label_name }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer\">\n        <el-button type=\"primary\" class=\"btn\" @click=\"subBtn\">确定</el-button>\n      </div>\n    </div>\n    <div class=\"maskModel\" @touchmove.prevent v-show=\"change === true\"></div>\n  </div>\n</template>\n\n<script>\nimport { userLabel, userLabelPut } from '@/api/kefu';\nexport default {\n  name: 'userLaber',\n  props: {\n    change: Boolean,\n    uid: Number,\n    labelList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      //  labelList:[],\n      activeIds: [],\n    };\n  },\n  watch: {\n    labelList: function (data) {\n      data.map((el) => {\n        el.label.map((label) => {\n          if (label.disabled) {\n            this.activeIds.push(label.id);\n          }\n        });\n      });\n    },\n  },\n  methods: {\n    selectLabel(label) {\n      if (label.disabled) {\n        let index = this.activeIds.indexOf(label.id);\n        this.activeIds.splice(index, 1);\n        label.disabled = false;\n      } else {\n        this.activeIds.push(label.id);\n        label.disabled = true;\n      }\n    },\n    // 确定\n    subBtn() {\n      let unLaberids = [];\n      this.labelList.map((item) => {\n        item.label.map((i) => {\n          if (i.disabled == false) {\n            unLaberids.push(i.id);\n          }\n        });\n      });\n      userLabelPut(this.uid, {\n        label_ids: this.activeIds,\n        un_label_ids: unLaberids,\n      })\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.$emit('editLabel', false);\n        })\n        .catch((error) => {\n          this.$message.error(error.msg);\n        });\n    },\n    close: function () {\n      this.$emit('closeChange', false);\n    },\n  },\n};\n</script>\n<style lang=\"stylus\" scoped>\n.label-wrapper\n    height 9rem\n    overflow: scroll;\n    .list\n        display flex\n        flex-wrap wrap\n        .label-item\n            margin: 0.2rem 0.3rem 0.1rem 0;\n            padding: 0 0.2rem;\n            background #EEEEEE\n            color #282828\n            border-radius 6px\n            cursor pointer\n            font-size 0.28rem\n            height 0.56rem\n            line-height 0.56rem\n            &.on\n                color #fff\n                background #3875EA\n.footer\n    margin-top: 0.25rem;\n.btn\n    width 100%\n    height 0.76rem\n    border-radius: 43px;\n    background #3875EA\n.title\n    font-size 0.32rem\n    color #282828\n</style>\n<style scoped lang=\"scss\">\n.label {\n  &-title {\n    margin-bottom: 0.25rem;\n  }\n}\n.label-box {\n  margin-bottom: 10px;\n}\n\n.priceTitle {\n  position: relative;\n  text-align: center;\n  .iconfontYI {\n    position: absolute;\n    font-size: 0.2rem;\n    right: 0.13rem;\n    top: 0.11rem;\n    width: 0.2rem;\n    height: 0.2rem;\n    line-height: 0.2rem;\n  }\n}\n.labelCheck {\n  ::v-deep .ivu-checkbox {\n    display: none !important;\n  }\n  ::v-deep .ivu-checkbox-wrapper-checked.ivu-checkbox-border {\n    background: #3875ea;\n    color: #fff;\n  }\n}\n.labelChange {\n  padding: 0.3rem;\n  position: fixed;\n  width: 90%;\n  height: 11.1rem;\n  background-color: #fff;\n  border-radius: 0.1rem;\n  top: 50%;\n  left: 50%;\n  margin-left: -3.4rem;\n  margin-top: -5.6rem;\n  z-index: 99;\n  transition: all 0.3s ease-in-out 0s;\n  -webkit-transition: all 0.3s ease-in-out 0s;\n  -o-transition: all 0.3s ease-in-out 0s;\n  -moz-transition: all 0.3s ease-in-out 0s;\n  -webkit-transform: scale(0);\n  -o-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  transform: scale(0);\n  opacity: 0;\n}\n.cor32 {\n  font-size: 0.32rem;\n  color: #282828;\n}\n.mb80 {\n  margin-bottom: 0.5rem;\n}\n.on {\n  opacity: 1;\n  transform: scale(1);\n  -webkit-transform: scale(1);\n  -o-transform: scale(1);\n  -moz-transform: scale(1);\n  -ms-transform: scale(1);\n}\n</style>\n"]}]}