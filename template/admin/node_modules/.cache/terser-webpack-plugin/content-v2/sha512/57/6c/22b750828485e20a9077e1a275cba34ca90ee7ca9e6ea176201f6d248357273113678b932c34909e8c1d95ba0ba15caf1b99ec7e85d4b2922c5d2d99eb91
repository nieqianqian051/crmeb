{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-f79e899e\"],{\"191e\":function(t,e,a){},2746:function(t,e){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/stylus-loader/index.js):\\nTypeError: Class constructor Visitor cannot be invoked without 'new'\\n    at new ImportVisitor (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:10:11)\\n    at listImports (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:72:23)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/pathcache.js:295:15\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Fulfilled.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:590:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/webpack/lib/NormalModule.js:316:20\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:367:11\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:233:18\\n    at context.callback (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:111:13)\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Rejected.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:623:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\")},\"36ea\":function(t,e,a){a(\"191e\")},\"4e82\":function(t,e,a){var s=a(\"23e7\"),i=a(\"e330\"),n=a(\"59ed\"),o=a(\"7b0b\"),l=a(\"07fa\"),r=a(\"083a\"),d=a(\"577e\"),c=a(\"d039\"),u=a(\"addb\"),m=a(\"a640\"),f=a(\"04d1\"),h=a(\"d998\"),_=a(\"2d00\"),v=a(\"512ce\"),p=[],b=i(p.sort),g=i(p.push),w=(a=c((function(){p.sort(void 0)})),i=c((function(){p.sort(null)})),m=m(\"sort\"),!c((function(){if(_)return _<70;if(!(f&&3<f)){if(h)return!0;if(v)return v<603;for(var t,e,a,s=\"\",i=65;i<76;i++){switch(t=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(a=0;a<47;a++)p.push({k:t+a,v:e})}for(p.sort((function(t,e){return e.v-t.v})),a=0;a<p.length;a++)t=p[a].k.charAt(0),s.charAt(s.length-1)!==t&&(s+=t);return\"DGBEFHACIJK\"!==s}})));s({target:\"Array\",proto:!0,forced:a||!i||!m||!w},{sort:function(t){void 0!==t&&n(t);var e=o(this);if(w)return void 0===t?b(e):b(e,t);for(var a,s,i=[],c=l(e),m=0;m<c;m++)m in e&&g(i,e[m]);for(u(i,(s=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==s?+s(t,e)||0:d(t)>d(e)?1:-1})),a=l(i),m=0;m<a;)e[m]=i[m++];for(;m<c;)r(e,m++);return e}})},\"6c3f\":function(t,e,a){a(\"b293b\")},\"7afb\":function(t,e,a){a.r(e),a(\"4e82\"),a(\"b0c0\");var s=a(\"5530\"),i=(a(\"d81d\"),a(\"14d9\"),a(\"a434\"),a(\"2f62\")),n=a(\"47c5\"),o={name:\"live_detail\",data:function(){return{option:{form:{labelWidth:\"150px\"}},FormData:{},loading:!1}},methods:{getData:function(t){var e=this;this.loading=!0,Object(n.d)(t).then((function(t){e.FormData=t.data,e.loading=!1})).catch((function(t){e.$message.error(t.msg),e.loading=!1}))}}},l=(a(\"6c3f\"),a(\"2877\")),r=(o=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"divBox\"},[e(\"div\",[e(\"div\",{staticClass:\"box-container\"},[e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"直播间名称：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.name))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"主播微信号：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.anchor_wechat))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"直播间ID：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.id))]),e(\"span\",{staticClass:\"info\"},[t._v(\"（微信直播间ID：\"+t._s(t.FormData.room_id)+\"）\")])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"主播昵称：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.anchor_name))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"手机号：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.phone))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"直播状态：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t._f(\"liveReviewStatusFilter\")(t.FormData.live_status)))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"直播开始时间：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.start_time))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"直播结束时间：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t.FormData.end_time))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"直播间类型：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t._f(\"broadcastType\")(t.FormData.type)))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"显示类型：\")]),e(\"span\",{staticClass:\"info\"},[t._v(t._s(t._f(\"broadcastDisplayType\")(t.FormData.screen_type)))])]),e(\"div\",{staticClass:\"list sp image\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"背景图：\")]),e(\"img\",{staticStyle:{\"max-width\":\"150px\",height:\"80px\"},attrs:{src:t.FormData.cover_img}})]),e(\"div\",{staticClass:\"list sp image\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"分享图：\")]),e(\"img\",{staticStyle:{\"max-width\":\"150px\",height:\"80px\"},attrs:{src:t.FormData.share_img}})]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"是否开启点赞：\")]),e(\"span\",{staticClass:\"info blue\"},[t._v(t._s(t._f(\"filterClose\")(t.FormData.close_like)))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"是否开启货架：\")]),e(\"span\",{staticClass:\"info blue\"},[t._v(t._s(t._f(\"filterClose\")(t.FormData.close_goods)))])]),e(\"div\",{staticClass:\"list sp\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"是否开启评论：\")]),e(\"span\",{staticClass:\"info blue\"},[t._v(t._s(t._f(\"filterClose\")(t.FormData.close_comment)))])]),e(\"div\",{staticClass:\"list\"},[e(\"label\",{staticClass:\"name\"},[t._v(\"是否显示直播回放：\")]),e(\"span\",{staticClass:\"info blue\"},[t._v(t._s(t._f(\"filterClose\")(t.FormData.replay_status)))])])])])])}),[],!1,null,\"7f68792c\",null).exports,a(\"99af\"),a(\"c4ad\")),d={name:\"add_goods\",components:{goodsList:r.default},props:{datas:{type:Object,default:function(){return{}}}},data:function(){return{modals:!1,goodsList:[]}},methods:{getProductId:function(t){var e=this;this.goodsList=this.goodsList.concat(t),this.$nextTick((function(t){setTimeout((function(){e.modals=!1}),300)}))},bindDelete:function(t){this.goodsList.splice(t,1)},bindSub:function(){var t=[];this.goodsList.map((function(e){t.push(e.product_id)})),this.$emit(\"getData\",t)}}};a(\"a37b\"),o={name:\"live\",components:{detailsFrom:o,addGoods:Object(l.a)(d,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"div\",{staticClass:\"item\"},[e(\"span\",[t._v(\"直播间名称：\")]),t._v(\"\\n    \"+t._s(t.datas.name)+\"\\n  \")]),e(\"div\",{staticClass:\"item\"},[e(\"span\",[t._v(\"直播间ID：\")]),t._v(\"\\n    \"+t._s(t.datas.id)+\"\\n  \")]),e(\"div\",{staticClass:\"item box\"},[t._l(t.goodsList,(function(a,s){return e(\"div\",{key:s,staticClass:\"box-item\"},[e(\"img\",{attrs:{src:a.image,alt:\"\"}}),e(\"i\",{staticClass:\"el-icon-close\",staticStyle:{\"font-size\":\"20px\"},on:{click:function(e){return t.bindDelete(s)}}})])})),e(\"div\",{staticClass:\"upload-box\",on:{click:function(e){t.modals=!0}}},[e(\"i\",{staticClass:\"el-icon-picture-outline\",staticStyle:{\"font-size\":\"24px\"}})])],2),e(\"el-button\",{staticStyle:{width:\"100%\"},attrs:{type:\"primary\"},on:{click:t.bindSub}},[t._v(\"提交\")]),e(\"el-dialog\",{staticClass:\"paymentFooter\",attrs:{visible:t.modals,title:\"商品列表\",width:\"1000px\"},on:{\"update:visible\":function(e){t.modals=e}}},[t.modals?e(\"goods-list\",{ref:\"goodslist\",attrs:{ischeckbox:!0,liveStatus:!0},on:{getProductId:t.getProductId}}):t._e()],1)],1)}),[],!1,null,\"a6b38ede\",null).exports,goodsList:r.default},data:function(){return{isShowBox:!1,modals:!1,total:0,grid:{xl:7,lg:7,md:12,sm:24,xs:24},formValidate:{status:\"\",kerword:\"\",page:1,limit:20},treeData:{withdrawal:[{title:\"全部\",value:\"\"},{title:\"直播中\",value:1},{title:\"未开始\",value:2},{title:\"已结束\",value:3}]},columns1:[{key:\"id\",title:\"直播间ID\",minWidth:35},{key:\"name\",minWidth:35,title:\"直播间名称\"},{key:\"anchor_name\",minWidth:35,title:\"主播昵称\"},{key:\"anchor_wechat\",minWidth:35,title:\"主播微信号\"},{key:\"start_time\",minWidth:35,title:\"直播开始时间\"},{key:\"end_time\",minWidth:35,title:\"计划结束时间\"},{key:\"add_time\",minWidth:35,title:\"创建时间\"},{slot:\"is_mer_show\",title:\"显示状态\",minWidth:80},{slot:\"status\",minWidth:35,title:\"直播状态\"},{key:\"sort\",minWidth:35,title:\"排序\"},{slot:\"action\",fixed:\"right\",title:\"操作\",minWidth:120}],tabList:[],loading:!1,activeItem:{},selectIds:[]}},computed:Object(s.a)(Object(s.a)({},Object(i.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Object(n.j)(this.formValidate).then((function(e){t.total=e.data.count,t.tabList=e.data.list,t.loading=!1}))},selChange:function(){this.formValidate.page=1,this.getList()},menusAdd:function(){this.$router.push({path:this.$routeProStr+\"/marketing/live/add_live_room\"})},onchangeIsShow:function(t){var e=this,a=t.id;t=t.is_show;Object(n.l)(a,t).then((function(t){e.$message.success(t.msg)})).catch((function(t){e.$message.error(t.msg)}))},detail:function(t){this.modals=!0,this.$refs.studioDetail.getData(t.id)},addGoods:function(t){this.selectIds=t.product_ids,this.activeItem=t,this.isShowBox=!0},getData:function(t){var e=this;Object(n.k)({room_id:this.activeItem.id,goods_ids:t}).then((function(t){e.$message.success(t.msg),e.isShowBox=!1,e.$refs.liveAdd.goodsList=[]})).catch((function(t){e.$message.error(t.msg),e.isShowBox=!1,e.$refs.liveAdd.goodsList=[]}))},syncRoom:function(){var t=this;Object(n.n)().then((function(e){t.$message.success(e.msg),t.getList()})).catch((function(e){t.$message.error(e.msg)}))},del:function(t,e,a){var s=this;e={title:e,num:a,url:\"live/room/del/\".concat(t.id),method:\"DELETE\",ids:\"\"};this.$modalSure(e).then((function(t){s.$message.success(t.msg),s.tabList.splice(a,1),s.getList()})).catch((function(t){s.$message.error(t.msg)}))},getProductId:function(t){var e=[];t.map((function(t){e.push(t.product_id)})),this.getData(e)}}},a(\"36ea\"),d=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[e(\"div\",{staticClass:\"padding-add\"},[e(\"el-form\",{ref:\"formValidate\",staticClass:\"tabform\",attrs:{model:t.formValidate,\"label-width\":t.labelWidth,\"label-position\":\"right\",inline:\"\"},nativeOn:{submit:function(t){t.preventDefault()}}},[e(\"el-form-item\",{attrs:{label:\"直播状态：\"}},[e(\"el-select\",{staticClass:\"form_content_width\",attrs:{clearable:\"\"},on:{change:t.selChange},model:{value:t.formValidate.status,callback:function(e){t.$set(t.formValidate,\"status\",e)},expression:\"formValidate.status\"}},t._l(t.treeData.withdrawal,(function(t,a){return e(\"el-option\",{key:a,attrs:{value:t.value,label:t.title}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"搜索：\"}},[e(\"el-input\",{staticClass:\"form_content_width\",attrs:{clearable:\"\",placeholder:\"请输入直播间名称/ID/主播昵称/微信号\"},model:{value:t.formValidate.kerword,callback:function(e){t.$set(t.formValidate,\"kerword\",e)},expression:\"formValidate.kerword\"}})],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.selChange}},[t._v(\"查询\")])],1)],1)],1)]),e(\"el-card\",{staticClass:\"ivu-mt mt16\",attrs:{bordered:!1,shadow:\"never\"}},[e(\"el-button\",{directives:[{name:\"auth\",rawName:\"v-auth\",value:[\"setting-system_menus-add\"],expression:\"['setting-system_menus-add']\"}],attrs:{type:\"primary\"},on:{click:function(e){return t.menusAdd(\"添加直播间\")}}},[t._v(\"添加直播间\")]),e(\"el-button\",{directives:[{name:\"auth\",rawName:\"v-auth\",value:[\"setting-system_menus-add\"],expression:\"['setting-system_menus-add']\"}],staticStyle:{\"margin-left\":\"20px\"},attrs:{type:\"success\"},on:{click:t.syncRoom}},[t._v(\"同步直播间\")]),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"mt14\",attrs:{data:t.tabList,\"highlight-current-row\":\"\",\"no-userFrom-text\":\"暂无数据\",\"no-filtered-userFrom-text\":\"暂无筛选结果\"}},[e(\"el-table-column\",{attrs:{label:\"直播间ID\",width:\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.id))])]}}])}),e(\"el-table-column\",{attrs:{label:\"直播间名称\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.name))])]}}])}),e(\"el-table-column\",{attrs:{label:\"主播昵称\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.anchor_name))])]}}])}),e(\"el-table-column\",{attrs:{label:\"主播微信号\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.anchor_wechat))])]}}])}),e(\"el-table-column\",{attrs:{label:\"直播开始时间\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.start_time))])]}}])}),e(\"el-table-column\",{attrs:{label:\"计划结束时间\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.end_time))])]}}])}),e(\"el-table-column\",{attrs:{label:\"创建时间\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.add_time))])]}}])}),e(\"el-table-column\",{attrs:{label:\"显示状态\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"el-switch\",{staticClass:\"defineSwitch\",attrs:{\"active-value\":1,\"inactive-value\":0,value:a.row.is_show,size:\"large\",\"active-text\":\"开启\",\"inactive-text\":\"关闭\"},on:{change:function(e){return t.onchangeIsShow(a.row)}},model:{value:a.row.is_show,callback:function(e){t.$set(a.row,\"is_show\",e)},expression:\"scope.row.is_show\"}})]}}])}),e(\"el-table-column\",{attrs:{label:\"直播状态\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"div\",[t._v(t._s(t._f(\"liveReviewStatusFilter\")(a.row.live_status)))])]}}])}),e(\"el-table-column\",{attrs:{label:\"排序\",\"min-width\":\"35\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"div\",[t._v(t._s(a.row.sort))])]}}])}),e(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"170\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"a\",{on:{click:function(e){return t.detail(a.row,\"详情\")}}},[t._v(\"详情\")]),e(\"el-divider\",{attrs:{direction:\"vertical\"}}),e(\"a\",{on:{click:function(e){return t.del(a.row,\"删除这条信息\",a.$index)}}},[t._v(\"删除\")]),102==a.row.live_status?e(\"el-divider\",{attrs:{direction:\"vertical\"}}):t._e(),102==a.row.live_status?e(\"a\",{on:{click:function(e){return t.addGoods(a.row)}}},[t._v(\"添加商品\")]):t._e()]}}])})],1),e(\"div\",{staticClass:\"acea-row row-right page\"},[t.total?e(\"pagination\",{attrs:{total:t.total,page:t.formValidate.page,limit:t.formValidate.limit},on:{\"update:page\":function(e){return t.$set(t.formValidate,\"page\",e)},\"update:limit\":function(e){return t.$set(t.formValidate,\"limit\",e)},pagination:t.getList}}):t._e()],1)],1),e(\"el-dialog\",{staticClass:\"paymentFooter\",attrs:{visible:t.modals,title:\"直播间详情\",width:\"720px\"},on:{\"update:visible\":function(e){t.modals=e}}},[e(\"details-from\",{ref:\"studioDetail\"})],1),e(\"el-dialog\",{staticClass:\"paymentFooter\",attrs:{visible:t.isShowBox,title:\"添加商品\",width:\"720px\"},on:{\"update:visible\":function(e){t.isShowBox=e}}},[t.isShowBox?e(\"goods-list\",{ref:\"goodslist\",attrs:{selectIds:t.selectIds,ischeckbox:!0,liveStatus:!0},on:{getProductId:t.getProductId}}):t._e()],1)],1)}),[],!1,null,\"33e3ef7e\",null);e.default=d.exports},a37b:function(t,e,a){a(\"2746\")},b293b:function(t,e,a){}}]);","extractedComments":[]}