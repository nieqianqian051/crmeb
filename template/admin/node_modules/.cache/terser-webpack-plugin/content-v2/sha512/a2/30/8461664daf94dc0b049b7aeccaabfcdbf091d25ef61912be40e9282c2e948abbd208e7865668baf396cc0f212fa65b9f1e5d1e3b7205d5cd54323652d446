{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-6342e439\"],{\"587e\":function(t,e,n){n(\"6bd6\")},\"61f7\":function(t,e,n){n.d(e,\"a\",(function(){return i})),n.d(e,\"c\",(function(){return u})),n.d(e,\"b\",(function(){return s}));var a=n(\"ade3\"),r=n(\"5530\");function i(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+\"\").substr(4-RegExp.$1.length)));var n,a,r={\"M+\":t.getMonth()+1,\"d+\":t.getDate(),\"h+\":t.getHours(),\"m+\":t.getMinutes(),\"s+\":t.getSeconds()};for(n in r)new RegExp(\"(\".concat(n,\")\")).test(e)&&(a=r[n]+\"\",e=e.replace(RegExp.$1,1===RegExp.$1.length?a:(\"00\"+a).substr(a.length)));return e}n(\"99af\"),n(\"13d5\"),n(\"b64b\"),n(\"d3b7\"),n(\"4d63\"),n(\"c607\"),n(\"ac1f\"),n(\"2c3e\"),n(\"00b4\"),n(\"25f0\"),n(\"5319\"),n(\"498a\");var c={min:\"%s最小长度为:min\",max:\"%s最大长度为:max\",length:\"%s长度必须为:length\",range:\"%s长度为:range\",pattern:\"$s格式错误\"};function o(t,e){t.message=function(t){return e.replace(\"%s\",t||\"\")}}function u(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)({required:!0,message:t,type:\"string\"},e)}function s(t){return d.pattern(/(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/,t)}o(u,\"请输入%s\"),o(s,\"%s格式不正确\");var d=Object.keys(c).reduce((function(t,e){return t[e]=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"\",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=\"range\"===e?{min:t[0],max:t[1]}:Object(a.a)({},e,t);return Object(r.a)(Object(r.a)({message:n.replace(\":\".concat(e),\"range\"===e?\"\".concat(t[0],\"-\").concat(t[1]):t),type:\"string\"},c),i)},o(t[e],c[e]),t}),{})},\"6bd6\":function(t,e,n){},b562:function(t,e,n){n.d(e,\"n\",(function(){return r})),n.d(e,\"w\",(function(){return i})),n.d(e,\"s\",(function(){return c})),n.d(e,\"a\",(function(){return o})),n.d(e,\"i\",(function(){return u})),n.d(e,\"j\",(function(){return s})),n.d(e,\"k\",(function(){return d})),n.d(e,\"f\",(function(){return l})),n.d(e,\"g\",(function(){return f})),n.d(e,\"h\",(function(){return p})),n.d(e,\"t\",(function(){return h})),n.d(e,\"v\",(function(){return m})),n.d(e,\"u\",(function(){return g})),n.d(e,\"z\",(function(){return b})),n.d(e,\"x\",(function(){return v})),n.d(e,\"y\",(function(){return w})),n.d(e,\"r\",(function(){return j})),n.d(e,\"p\",(function(){return O})),n.d(e,\"q\",(function(){return _})),n.d(e,\"o\",(function(){return C})),n.d(e,\"c\",(function(){return y})),n.d(e,\"b\",(function(){return x})),n.d(e,\"e\",(function(){return E})),n.d(e,\"d\",(function(){return k})),n.d(e,\"m\",(function(){return T})),n.d(e,\"l\",(function(){return G})),n(\"99af\");var a=n(\"6b6c\");function r(){return Object(a.a)({url:\"app/routine/syncSubscribe\",method:\"GET\"})}function i(){return Object(a.a)({url:\"app/wechat/syncSubscribe\",method:\"GET\"})}function c(t){return Object(a.a)({url:\"app/wechat/menu\",method:\"get\"})}function o(t){return Object(a.a)({url:\"app/wechat/menu\",method:\"post\",data:t})}function u(t){return Object(a.a)({url:t.url,method:\"post\",data:t.key})}function s(t){return Object(a.a)({url:\"app/routine/download\",method:\"post\",data:t})}function d(){return Object(a.a)({url:\"app/routine/info\",method:\"get\"})}function l(t){return Object(a.a)({url:\"app/wechat/keyword\",method:\"get\",params:t})}function f(t){return Object(a.a)({url:\"app/wechat/keyword/set_status/\".concat(t.id,\"/\").concat(t.status),method:\"PUT\"})}function p(t,e){return Object(a.a)({url:t,method:\"get\",params:e.key})}function h(t){return Object(a.a)({url:\"/app/wechat/news\",method:\"POST\",data:t})}function m(t){return Object(a.a)({url:\"app/wechat/news\",method:\"GET\",params:t})}function g(t){return Object(a.a)({url:\"app/wechat/news/\".concat(t),method:\"GET\"})}function b(){return Object(a.a)({url:\"app/wechat/tag\",method:\"GET\"})}function v(){return Object(a.a)({url:\"app/wechat/tag/create\",method:\"GET\"})}function w(t){return Object(a.a)({url:\"app/wechat/tag/\".concat(t,\"/edit\"),method:\"GET\"})}function j(){return Object(a.a)({url:\"app/wechat/group\",method:\"GET\"})}function O(){return Object(a.a)({url:\"app/wechat/group/create\",method:\"GET\"})}function _(t){return Object(a.a)({url:\"app/wechat/group/\".concat(t,\"/edit\"),method:\"GET\"})}function C(t){return Object(a.a)({url:\"app/wechat/action\",method:\"GET\",params:t})}function y(t){return Object(a.a)({url:\"app/wechat/code_reply/\".concat(t),method:\"GET\"})}function x(){return Object(a.a)({url:\"setting/city/full_list\",method:\"GET\"})}function E(t){return Object(a.a)({url:\"app/kefu/auto_reply/list\",method:\"get\",params:t})}function k(t){return Object(a.a)({url:\"app/kefu/auto_reply/form/\"+t,method:\"get\"})}function T(t){return Object(a.a)({url:\"app/routine/scheme_list\",method:\"get\",params:t})}function G(t){return Object(a.a)({url:\"app/routine/scheme_form/\".concat(t),method:\"get\"})}},ddee:function(t,e,n){n.r(e);var a=n(\"5530\"),r=n(\"b562\"),i=n(\"2f62\"),c=n(\"61f7\");a={name:\"routineTemplate\",filters:{formatDate:function(t){if(0!==t)return t=new Date(1e3*t),Object(c.a)(t,\"yyyy-MM-dd hh:mm\")}},data:function(){return{grid:{xl:7,lg:7,md:12,sm:24,xs:24},iframeUrl:\"\".concat(location.origin,\"/pages/index/index?mdType=iframeWindow\"),is_live:1,pageData:{code:\"\",routine_name:\"\",help:\"\",appId:\"1\"}}},created:function(){var t=this;Object(r.k)().then((function(e){t.pageData=e.data}))},watch:{$route:function(t,e){}},computed:Object(a.a)(Object(a.a)({},Object(i.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),methods:{downLoad:function(){var t=this;Object(r.j)({is_live:this.is_live}).then((function(t){window.open(t.data.url)})).catch((function(e){t.$message.warning(e.msg)}))},downLoadCode:function(t){if(!t)return this.$message.warning(\"暂无小程序码\");var e=new Image;e.src=t,e.setAttribute(\"crossOrigin\",\"anonymous\"),e.onload=function(){var t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height,t.getContext(\"2d\").drawImage(e,0,0,e.width,e.height);t=t.toDataURL();var n=document.createElement(\"a\"),a=new MouseEvent(\"click\");n.download=name||\"photo\",n.href=t,n.dispatchEvent(a)}}}},n(\"587e\"),i=n(\"2877\"),n=Object(i.a)(a,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"div\",{staticClass:\"i-layout-page-header header-title\"},[e(\"span\",{staticClass:\"ivu-page-header-title\"},[t._v(t._s(t.$route.meta.title))])]),e(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\"}},[e(\"div\",{staticClass:\"flex-wrapper\"},[e(\"div\",[e(\"iframe\",{ref:\"iframe\",staticClass:\"iframe-box\",attrs:{src:t.iframeUrl,frameborder:\"0\"}}),e(\"div\",{staticClass:\"mask\"})]),e(\"div\",{staticClass:\"right\"},[e(\"div\",{staticClass:\"content\"},[e(\"div\",{staticClass:\"content-box title\"},[e(\"div\",{staticClass:\"line\"}),e(\"div\",{staticClass:\"right title\"},[t._v(\"小程序设置\")])]),t.pageData.appId||t.pageData.code?t._e():e(\"el-alert\",[e(\"template\",{slot:\"title\"},[t._v(\"\\n              您尚未配置小程序信息，请\"),e(\"router-link\",{attrs:{to:{path:t.$routeProStr+\"/setting/system_config_retail/3/7\"}}},[t._v(\"立即设置\")])],1)],2),e(\"div\",{staticClass:\"content-box\"},[e(\"div\",{staticClass:\"left\"},[t._v(\"小程序名称：\")]),e(\"div\",{staticClass:\"right\"},[t._v(t._s(t.pageData.routine_name||\"未命名\"))])]),e(\"div\",{staticClass:\"content-box\"},[e(\"div\",{staticClass:\"left\"},[t._v(\"小程序码：\")]),e(\"div\",{staticClass:\"right\"},[e(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.downLoadCode(t.pageData.code)}}},[t._v(\"下载小程序码\")])],1)]),e(\"div\",{staticClass:\"content-box\"},[e(\"div\",{staticClass:\"left\"},[t._v(\"小程序包：\")]),e(\"div\",{staticClass:\"right\"},[e(\"span\",[t._v(\"是否已开通小程序直播\")]),e(\"el-radio-group\",{staticClass:\"rad\",attrs:{size:\"large\"},model:{value:t.is_live,callback:function(e){t.is_live=e},expression:\"is_live\"}},[e(\"el-radio\",{attrs:{label:0}},[t._v(\"未开通\")]),e(\"el-radio\",{attrs:{label:1}},[t._v(\"已开通\")])],1)],1)]),e(\"div\",{staticClass:\"content-box last\"},[e(\"div\",{staticClass:\"left\"}),e(\"div\",{staticClass:\"right\"},[e(\"div\",[t._v(\"\\n                请谨慎选择是否有开通小程序直播功能，否则将影响小程序的发布 可前往\\n                \"),e(\"a\",{attrs:{href:t.pageData.help,target:\"_blank\"}},[t._v(\"帮助文档\")]),t._v(\"\\n                查看如何开通直播功能\\n              \")]),e(\"el-button\",{staticClass:\"mt10\",attrs:{type:\"primary\"},on:{click:function(e){return t.downLoad()}}},[t._v(\"下载小程序包\")])],1)])],1)])])])],1)}),[],!1,null,\"420e3246\",null);e.default=n.exports}}]);","extractedComments":[]}