{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-52bfa53f\"],{\"0dd7\":function(e,a,s){},\"3a8c\":function(e,a,s){s(\"3dfd\")},\"3dfd\":function(e,a,s){},\"46cf\":function(e,a,s){s.r(a),s(\"a9e3\"),s(\"d81d\"),s(\"14d9\"),s(\"b0c0\"),s(\"a434\");var n=s(\"42e3\"),i={name:\"userLaber\",props:{change:Boolean,uid:Number,labelList:{type:Array,default:function(){return[]}}},data:function(){return{activeIds:[]}},watch:{labelList:function(e){var a=this;e.map((function(e){e.label.map((function(e){e.disabled&&a.activeIds.push(e.id)}))}))}},methods:{selectLabel:function(e){var a;e.disabled?(a=this.activeIds.indexOf(e.id),this.activeIds.splice(a,1),e.disabled=!1):(this.activeIds.push(e.id),e.disabled=!0)},subBtn:function(){var e=this,a=[];this.labelList.map((function(e){e.label.map((function(e){0==e.disabled&&a.push(e.id)}))})),Object(n.T)(this.uid,{label_ids:this.activeIds,un_label_ids:a}).then((function(a){e.$message.success(a.msg),e.$emit(\"editLabel\",!1)})).catch((function(a){e.$message.error(a.msg)}))},close:function(){this.$emit(\"closeChange\",!1)}}},t=(s(\"d03c\"),s(\"3a8c\"),s(\"2877\")),o=(i=Object(t.a)(i,(function(){var e=this,a=e._self._c;return a(\"div\",[a(\"div\",{staticClass:\"labelChange\",class:!0===e.change?\"on\":\"\"},[a(\"div\",{staticClass:\"priceTitle cor32\"},[e._v(\"\\n      用户标签\\n      \"),a(\"span\",{staticClass:\"iconfontYI icon-guanbi\",on:{click:e.close}})]),a(\"div\",{staticClass:\"label-wrapper\"},e._l(e.labelList,(function(s,n){return a(\"div\",{key:n,staticClass:\"label-box\"},[a(\"div\",{staticClass:\"title\"},[e._v(e._s(s.name))]),a(\"div\",{staticClass:\"list\"},e._l(s.label,(function(s,n){return a(\"div\",{key:n,staticClass:\"label-item\",class:{on:s.disabled},on:{click:function(a){return e.selectLabel(s)}}},[e._v(\"\\n            \"+e._s(s.label_name)+\"\\n          \")])})),0)])})),0),a(\"div\",{staticClass:\"footer\"},[a(\"el-button\",{staticClass:\"btn\",attrs:{type:\"primary\"},on:{click:e.subBtn}},[e._v(\"确定\")])],1)]),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!0===e.change,expression:\"change === true\"}],staticClass:\"maskModel\",on:{touchmove:function(e){e.preventDefault()}}})])}),[],!1,null,\"b752b88a\",null).exports,s(\"161e\"));i={name:\"index\",components:{userLabels:i,vuePickers:s.n(o).a},data:function(){return{change:!1,activeUserInfo:\"\",pickerVisible:!1,groupList:[],labelList:[]}},mounted:function(){this.getGroup(),this.getUserInfo()},methods:{getList:function(){var e=this;Object(n.S)(this.$route.params.uid).then((function(a){e.labelList=a.data||[],e.labelList.length?e.change=!0:e.$dialog.error(\"暂无标签\")})).catch((function(a){e.$dialog.error(a.msg)}))},getUserInfo:function(){var e=this;Object(n.R)(this.$route.params.uid).then((function(a){e.activeUserInfo=a.data})).catch((function(a){e.$dialog.error(a.msg)}))},getGroup:function(){var e=this,a={id:0,group_name:\"无\"};Object(n.Q)().then((function(s){s.data.unshift(a);var n=[];s.data.map((function(e){n.push({label:e.group_name,value:e.id})})),e.groupList=[n]})).catch((function(a){e.$dialog.error(a.msg)}))},editLabel:function(){this.change=!1,this.getUserInfo()},onShowLabel:function(){this.getList()},showName:function(){this.pickerVisible=!0},cancel:function(){},confirm:function(e){var a=this;Object(n.F)(this.$route.params.uid,e[0].value).then((function(e){a.$message.success(e.msg),a.getUserInfo()})).catch((function(e){a.$dialog.error(e.msg)}))},closeChange:function(e){this.change=e}}},s(\"f25d\"),o=Object(t.a)(i,(function(){var e=this,a=e._self._c;return e.activeUserInfo?a(\"div\",{staticClass:\"userBox\"},[a(\"div\",{staticClass:\"user-header acea-row row-middle\"},[a(\"div\",{staticClass:\"user-header-img mr20\"},[a(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:e.activeUserInfo.avatar,expression:\"activeUserInfo.avatar\"}]})]),a(\"div\",{staticClass:\"user-header-name\"},[a(\"span\",{staticClass:\"sp1 mr10\",domProps:{textContent:e._s(e.activeUserInfo.nickname)}}),a(\"span\",{staticClass:\"sp2\"},[e._v(e._s(e._f(\"sourceType\")(e.$route.params.type)))])])]),a(\"div\",{staticClass:\"user-list\"},[a(\"div\",{staticClass:\"acea-row item bgt\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"用户标签\")]),e.activeUserInfo.labelNames.length?a(\"div\",{staticClass:\"labelBox\"},e._l(e.activeUserInfo.labelNames,(function(s,n){return a(\"span\",{key:n,staticClass:\"label\"},[e._v(e._s(s))])})),0):a(\"span\",{staticClass:\"labelBox\"},[e._v(\"无\")]),a(\"span\",{staticClass:\"iconfontYI icon-up\",on:{click:e.onShowLabel}})]),a(\"div\",{staticClass:\"acea-row item bgt\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"手机号\")]),a(\"span\",{staticClass:\"sp2\",domProps:{textContent:e._s(e.activeUserInfo.phone||\"无\")}})]),a(\"div\",{staticClass:\"acea-row item\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"分组\")]),e.activeUserInfo.group_name?a(\"span\",{staticClass:\"checkName\",domProps:{textContent:e._s(e.activeUserInfo.group_name)},on:{click:e.showName}}):a(\"span\",{on:{click:e.showName}},[e._v(\"无\")]),e.groupList.length?a(\"vue-pickers\",{attrs:{data:e.groupList,showToolbar:!0,maskClick:!0,defaultIndex:0,visible:e.pickerVisible},on:{confirm:e.confirm,\"update:visible\":function(a){e.pickerVisible=a}}}):e._e()],1)]),a(\"div\",{staticClass:\"user-list\"},[a(\"div\",{staticClass:\"acea-row item bgt\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"用户等级\")]),a(\"span\",{staticClass:\"sp2\",domProps:{textContent:e._s(e.activeUserInfo.level_name||\"无\")}})]),a(\"div\",{staticClass:\"acea-row item bgt\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"用户类型\")]),a(\"span\",{staticClass:\"sp2\"},[e._v(e._s(e._f(\"userType\")(e.activeUserInfo.user_type)))])]),a(\"div\",{staticClass:\"acea-row item bgt\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"余额\")]),a(\"span\",{staticClass:\"sp2\",domProps:{textContent:e._s(e.activeUserInfo.now_money||\"无\")}})]),a(\"div\",{staticClass:\"acea-row item bgt\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"推广员\")]),a(\"span\",{staticClass:\"sp2\",domProps:{textContent:e._s(1===e.activeUserInfo.is_promoter?\"是\":\"否\")}})]),a(\"div\",{staticClass:\"acea-row item\"},[a(\"span\",{staticClass:\"sp1\"},[e._v(\"生日\")]),a(\"span\",{staticClass:\"sp2\",domProps:{textContent:e._s(e.activeUserInfo.birthday||\"无\")}})])]),e.change?a(\"user-labels\",{attrs:{change:e.change,labelList:e.labelList,uid:Number(e.$route.params.uid)},on:{cancel:e.cancel,editLabel:e.editLabel,closeChange:e.closeChange}}):e._e()],1):e._e()}),[],!1,null,\"55ff758c\",null);a.default=o.exports},d03c:function(e,a,s){s(\"fd1a\")},f25d:function(e,a,s){s(\"0dd7\")},fd1a:function(e,a){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/stylus-loader/index.js):\\nTypeError: Class constructor Visitor cannot be invoked without 'new'\\n    at new ImportVisitor (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:10:11)\\n    at listImports (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:72:23)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/pathcache.js:295:15\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Fulfilled.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:590:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/webpack/lib/NormalModule.js:316:20\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:367:11\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:233:18\\n    at context.callback (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:111:13)\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Rejected.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:623:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\")}}]);","extractedComments":[]}