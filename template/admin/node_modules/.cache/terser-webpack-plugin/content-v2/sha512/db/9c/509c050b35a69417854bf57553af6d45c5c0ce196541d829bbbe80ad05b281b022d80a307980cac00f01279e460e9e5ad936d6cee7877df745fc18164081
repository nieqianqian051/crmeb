{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-1267ffae\"],{\"0d8f\":function(e,t,a){a.r(t);t=a(\"5530\");var i=(a(\"a9e3\"),a(\"d3b7\"),a(\"159b\"),a(\"a584\"),a(\"c7eb\")),s=a(\"1da1\"),r=(a(\"99af\"),a(\"4de4\"),a(\"a15b\"),a(\"14d9\"),a(\"e9c4\"),a(\"b64b\"),a(\"25f0\"),a(\"2f62\")),n=a(\"b7be\"),o=a(\"f8b7\"),l=(a(\"7db0\"),a(\"ac1f\"),a(\"00b4\"),{name:\"orderSend\",props:{isAll:{type:Number,default:1},ids:{type:Array,default:function(){return[]}},where:{type:Object,default:function(){return{}}}},data:function(){return{formItem:{type:\"1\",express_record_type:\"2\",delivery_name:\"\",delivery_id:\"\",express_temp_id:\"\",to_name:\"\",to_tel:\"\",to_addr:\"\",sh_delivery:\"\",fictitious_content:\"\"},modals:!1,express:[],expressTemp:[],deliveryList:[],temp:{},export_open:!0}},watch:{\"formItem.express_temp_id\":function(e){}},methods:{changeRadio:function(e){switch(this.$refs.formItem.resetFields(),e){case\"1\":this.formItem.delivery_name=\"\",this.formItem.delivery_id=\"\",this.formItem.express_temp_id=\"\",this.formItem.express_record_type=\"2\",this.expressTemp=[];break;case\"2\":this.formItem.sh_delivery=\"\",this.formItem.express_record_type=\"1\";break;case\"3\":this.formItem.fictitious_content=\"\",this.formItem.express_record_type=\"1\"}},changeExpress:function(e){switch(e){case\"2\":this.formItem.delivery_name=\"\",this.formItem.express_temp_id=\"\",this.expressTemp=[];break;case\"1\":this.formItem.delivery_name=\"\",this.formItem.delivery_id=\"\"}},reset:function(){this.formItem={type:\"1\",express_record_type:\"2\",delivery_name:\"\",delivery_id:\"\",express_temp_id:\"\",expressTemp:[],to_name:\"\",to_tel:\"\",to_addr:\"\",sh_delivery:\"\",fictitious_content:\"\"}},getList:function(){var e=this;Object(o.j)(1).then(function(){var t=Object(s.a)(Object(i.a)().mark((function t(a){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.express=a.data,e.getSheetInfo();case 2:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$message.error(t.msg)}))},putSend:function(e){var t=this,a=Object.assign(this.formItem),r=[];if(this.ids.forEach((function(e){r.push(e.id)})),1==this.isAll?(a.all=1,a.where=this.where):(a.all=0,a.ids=r),\"1\"===this.formItem.type){if(\"\"===this.formItem.delivery_name)return this.$message.error(\"快递公司不能为空\");if(\"\"===this.formItem.express_temp_id)return this.$message.error(\"电子面单不能为空\");if(\"\"===this.formItem.to_name)return this.$message.error(\"寄件人姓名不能为空\");if(\"\"===this.formItem.to_tel)return this.$message.error(\"寄件人电话不能为空\");if(!/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(this.formItem.to_tel))return this.$message.error(\"请输入正确的手机号码\");if(\"\"===this.formItem.to_addr)return this.$message.error(\"寄件人地址不能为空\")}if(\"2\"===this.formItem.type&&(this.formItem.express_temp_id&&(this.formItem.express_temp_id=\"\"),\"\"===this.formItem.sh_delivery))return this.$message.error(\"送货人不能为空\");Object(o.J)(a).then(function(){var e=Object(s.a)(Object(i.a)().mark((function e(a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.modals=!1,t.$message.success(a.msg),t.reset();case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.msg),t.modals=!1}))},cancel:function(e){this.modals=!1,this.reset()},expressChange:function(e){var t=this,a=this.express.find((function(t){return t.value===e}));a&&(this.formItem.delivery_code=a.code,\"1\"===this.formItem.type)&&(this.expressTemp=[],this.formItem.express_temp_id=\"\",Object(o.y)({com:this.formItem.delivery_code}).then((function(e){t.expressTemp=e.data,e.data.length||t.$message.error(\"请配置你所选快递公司的电子面单\")})).catch((function(e){t.$message.error(e.msg)})))},getDeliveryList:function(){var e=this;Object(o.w)().then((function(t){e.deliveryList=t.data.list})).catch((function(t){e.$message.error(t.msg)}))},getSheetInfo:function(){var e=this;Object(o.I)().then((function(t){var a,i=t.data;for(a in i)i.hasOwnProperty(a)&&\"express_temp_id\"!==a&&(e.formItem[a]=i[a]);e.export_open=void 0===i.export_open||i.export_open,e.export_open||(e.formItem.express_record_type=\"1\"),e.formItem.to_addr=i.to_add})).catch((function(t){e.$message.error(t.msg)}))},shDeliveryChange:function(e){var t=this.deliveryList.find((function(t){return t.id===e}));this.formItem.sh_delivery_name=t.wx_name,this.formItem.sh_delivery_id=t.phone,this.formItem.sh_delivery_uid=t.uid},expressTempChange:function(e){this.temp=this.expressTemp.find((function(t){return e===t.temp_id}))},preview:function(){this.$refs.viewer.$viewer.show()}}}),c=(a(\"b169\"),a(\"2877\"));Object(c.a)(l,(function(){var e=this,t=e._self._c;return t(\"el-dialog\",{staticClass:\"order_box\",attrs:{visible:e.modals,width:\"720px\",title:\"订单发送货\",\"show-close\":!0},on:{\"update:visible\":function(t){e.modals=t}}},[t(\"el-form\",{ref:\"formItem\",attrs:{model:e.formItem,\"label-width\":\"100px\"},nativeOn:{submit:function(e){e.preventDefault()}}},[t(\"el-form-item\",{attrs:{label:\"选择类型：\"}},[t(\"el-radio-group\",{on:{input:e.changeRadio},model:{value:e.formItem.type,callback:function(t){e.$set(e.formItem,\"type\",t)},expression:\"formItem.type\"}},[t(\"el-radio\",{attrs:{label:\"1\"}},[e._v(\"打印电子面单\")]),t(\"el-radio\",{attrs:{label:\"2\"}},[e._v(\"送货\")]),t(\"el-radio\",{attrs:{label:\"3\"}},[e._v(\"虚拟\")])],1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"1\"===e.formItem.type,expression:\"formItem.type === '1'\"}]},[t(\"el-form-item\",{attrs:{label:\"快递公司：\"}},[t(\"el-select\",{staticStyle:{width:\"80%\"},attrs:{filterable:\"\",placeholder:\"请选择快递公司\"},on:{change:e.expressChange},model:{value:e.formItem.delivery_name,callback:function(t){e.$set(e.formItem,\"delivery_name\",t)},expression:\"formItem.delivery_name\"}},e._l(e.express,(function(e,a){return t(\"el-option\",{key:e.value,attrs:{value:e.value,label:e.value}})})),1)],1),\"1\"===e.formItem.type?[t(\"el-form-item\",{staticClass:\"express_temp_id\",attrs:{label:\"电子面单：\"}},[t(\"el-select\",{staticStyle:{width:\"80%\"},attrs:{placeholder:\"请选择电子面单\"},on:{change:e.expressTempChange},model:{value:e.formItem.express_temp_id,callback:function(t){e.$set(e.formItem,\"express_temp_id\",t)},expression:\"formItem.express_temp_id\"}},e._l(e.expressTemp,(function(e,a){return t(\"el-option\",{key:a,attrs:{value:e.temp_id,label:e.title}})})),1),e.formItem.express_temp_id?t(\"el-button\",{attrs:{type:\"text\"},on:{click:e.preview}},[e._v(\"预览\")]):e._e()],1),t(\"el-form-item\",{attrs:{label:\"寄件人姓名：\"}},[t(\"el-input\",{staticStyle:{width:\"80%\"},attrs:{placeholder:\"请输入寄件人姓名\"},model:{value:e.formItem.to_name,callback:function(t){e.$set(e.formItem,\"to_name\",t)},expression:\"formItem.to_name\"}})],1),t(\"el-form-item\",{attrs:{label:\"寄件人电话：\"}},[t(\"el-input\",{staticStyle:{width:\"80%\"},attrs:{placeholder:\"请输入寄件人电话\"},model:{value:e.formItem.to_tel,callback:function(t){e.$set(e.formItem,\"to_tel\",t)},expression:\"formItem.to_tel\"}})],1),t(\"el-form-item\",{attrs:{label:\"寄件人地址：\"}},[t(\"el-input\",{staticStyle:{width:\"80%\"},attrs:{placeholder:\"请输入寄件人地址\"},model:{value:e.formItem.to_addr,callback:function(t){e.$set(e.formItem,\"to_addr\",t)},expression:\"formItem.to_addr\"}})],1)]:e._e()],2),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"2\"===e.formItem.type,expression:\"formItem.type === '2'\"}]},[t(\"el-form-item\",{attrs:{label:\"送货人：\"}},[t(\"el-select\",{staticStyle:{width:\"80%\"},attrs:{placeholder:\"请选择送货人\"},on:{change:e.shDeliveryChange},model:{value:e.formItem.sh_delivery,callback:function(t){e.$set(e.formItem,\"sh_delivery\",t)},expression:\"formItem.sh_delivery\"}},e._l(e.deliveryList,(function(e,a){return t(\"el-option\",{key:a,attrs:{value:e.id,label:\"\".concat(e.wx_name,\" (\").concat(e.phone,\")\")}})})),1)],1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"3\"===e.formItem.type,expression:\"formItem.type === '3'\"}]},[t(\"el-form-item\",{attrs:{label:\"备注：\"}},[t(\"el-input\",{staticStyle:{width:\"80%\"},attrs:{type:\"textarea\",autosize:{minRows:2,maxRows:5},placeholder:\"备注\"},model:{value:e.formItem.fictitious_content,callback:function(t){e.$set(e.formItem,\"fictitious_content\",t)},expression:\"formItem.fictitious_content\"}})],1)],1)],1),t(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[t(\"el-button\",{on:{click:e.cancel}},[e._v(\"取消\")]),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.putSend}},[e._v(\"提交\")])],1),t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"},{name:\"show\",rawName:\"v-show\",value:e.temp,expression:\"temp\"}],ref:\"viewer\"},[t(\"img\",{staticStyle:{display:\"none\"},attrs:{src:e.temp.pic}})])],1)}),[],!1,null,\"ea21b082\",null).exports,l={data:function(){return{modal:!1,data1:[],page1:{total:0,pageNum:1,pageSize:10},formValidate:{type:\"\",status:\"\",data:\"\"},options:{shortcuts:[{text:\"今天\",value:function(){var e=new Date,t=new Date;return t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),[t,e]}},{text:\"昨天\",value:function(){var e=new Date,t=new Date;return t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),[t,e]}},{text:\"最近7天\",value:function(){var e=new Date,t=new Date;return t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-6))),[t,e]}},{text:\"最近30天\",value:function(){var e=new Date,t=new Date;return t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),[t,e]}},{text:\"本月\",value:function(){var e=new Date,t=new Date;return t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),1))),[t,e]}},{text:\"本年\",value:function(){var e=new Date,t=new Date;return t.setTime(t.setTime(new Date((new Date).getFullYear(),0,1))),[t,e]}}]},timeVal:[],typeList:[{label:\"批量删除订单\",value:\"6\"},{label:\"批量手动发货\",value:\"7\"},{label:\"批量打印电子面单\",value:\"8\"},{label:\"批量配送\",value:\"9\"},{label:\"批量虚拟发货\",value:\"10\"}],statusList:[{label:\"未处理\",value:\"0\"},{label:\"处理中\",value:\"1\"},{label:\"已完成\",value:\"2\"},{label:\"处理失败\",value:\"3\"}],columns2:[{title:\"订单ID\",key:\"order_id\"},{title:\"物流公司\",key:\"delivery_name\"},{title:\"物流单号\",key:\"delivery_id\"},{title:\"处理状态\",key:\"status_cn\"},{title:\"异常原因\",key:\"error\"}],columns3:[{title:\"订单ID\",key:\"order_id\"},{title:\"备注\",key:\"fictitious_content\"},{title:\"处理状态\",key:\"status_cn\"},{title:\"异常原因\",key:\"error\"}],columns5:[{title:\"订单ID\",key:\"order_id\"},{title:\"配送员\",key:\"delivery_name\"},{title:\"配送员电话\",key:\"delivery_id\"},{title:\"处理状态\",key:\"status_cn\"},{title:\"异常原因\",key:\"error\"}],columns4:[],data2:[],page2:{total:0,pageNum:1,pageSize:12},modal1:!1,deliveryLog:null,deliveryLogId:0,deliveryLogType:\"\",loading:!1,loading2:!1}},computed:Object(t.a)(Object(t.a)({},Object(r.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"75px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),created:function(){this.getQueue()},methods:{getQueue:function(){var e=this,t={page:this.page1.pageNum,limit:this.page1.pageSize};this.formValidate.status&&(t.status=this.formValidate.status),this.formValidate.type&&(t.type=this.formValidate.type),this.formValidate.data&&(t.data=this.formValidate.data),this.loading=!0,Object(o.Q)(t).then((function(t){e.loading=!1,e.data1=t.data.list,e.page1.total=t.data.count})).catch((function(t){e.loading=!1}))},onchangeTime:function(e){this.timeVal=e||[],this.formValidate.data=this.timeVal[0]&&this.timeVal?this.timeVal.join(\"-\"):\"\",this.page1.pageNum=1,this.getQueue()},typeSearchs:function(){this.page1.pageNum=1,this.getQueue()},statusSearchs:function(){this.page1.pageNum=1,this.getQueue()},getDeliveryLog:function(){var e=this;this.loading2=!0,Object(o.c)(this.deliveryLogId,this.deliveryLogType,{page:this.page2.pageNum,limit:this.page2.pageSize}).then((function(t){e.loading2=!1,e.data2=t.data.list,e.page2.total=t.data.count})).catch((function(t){e.loading2=!1}))},deliveryLook:function(e){switch(this.modal1=!0,this.deliveryLogId=e.id,this.deliveryLogType=e.cache_type,(this.deliveryLog=e).type){case 7:case 8:this.columns4=this.columns2;break;case 9:this.columns4=this.columns5;break;case 10:this.columns4=this.columns3}this.getDeliveryLog()},changeMenu:function(e,t){var a=this;switch(t){case\"1\":Object(o.a)(e.id,e.type,e.cache_type).then((function(e){window.open(e.data[0])})).catch((function(e){a.$message.error(e.msg)}));break;case\"2\":this.queueAgain(e.id,e.type);break;case\"3\":this.$msgbox({title:\"谨慎操作\",message:\"确认停止该任务？\",showCancelButton:!0,cancelButtonText:\"取消\",confirmButtonText:\"确定\",iconClass:\"el-icon-warning\",confirmButtonClass:\"btn-custom-cancel\"}).then((function(){a.stopQueue(e.id)})).catch((function(){}));break;case\"4\":this.queueDel(e.id,e.type)}},queueAgain:function(e,t){var a=this;Object(o.O)(e,t).then((function(e){a.$message.success(e.msg),a.getQueue()})).catch((function(e){a.$message.error(e.msg)}))},queueDel:function(e,t){var a=this;Object(o.P)(e,t).then((function(e){a.$message.success(e.msg),a.getQueue()})).catch((function(e){a.$message.error(e.msg)}))},stopQueue:function(e){var t=this;Object(o.W)(e).then((function(e){t.$message.success(e.msg),t.getQueue()})).catch((function(e){t.$message.error(e.msg)}))}}},Object(c.a)(l,(function(){var e=this,t=e._self._c;return t(\"el-dialog\",{attrs:{visible:e.modal,title:\"任务列表\",width:\"1000px\"},on:{\"update:visible\":function(t){e.modal=t}}},[t(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\"}},[t(\"el-form\",{ref:\"formValidate\",staticClass:\"tabform\",attrs:{model:e.formValidate,\"label-width\":e.labelWidth,\"label-position\":e.labelPosition},nativeOn:{submit:function(e){e.preventDefault()}}},[t(\"el-row\",{attrs:{gutter:24}},[t(\"el-col\",{attrs:{span:\"10\"}},[t(\"el-form-item\",{attrs:{label:\"操作时间：\"}},[t(\"el-date-picker\",{staticStyle:{width:\"90%\"},attrs:{clearable:\"\",editable:!1,format:\"yyyy/MM/dd\",type:\"datetimerange\",\"value-format\":\"yyyy/MM/dd\",\"range-separator\":\"-\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",options:e.options},on:{change:e.onchangeTime},model:{value:e.timeVal,callback:function(t){e.timeVal=t},expression:\"timeVal\"}})],1)],1),t(\"el-col\",{attrs:{span:7}},[t(\"el-form-item\",{attrs:{label:\"类型：\"}},[t(\"el-select\",{attrs:{clearable:\"\"},on:{change:e.typeSearchs},model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,\"type\",t)},expression:\"formValidate.type\"}},e._l(e.typeList,(function(e){return t(\"el-option\",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1)],1),t(\"el-col\",{attrs:{span:7}},[t(\"el-form-item\",{attrs:{label:\"状态：\"}},[t(\"el-select\",{attrs:{clearable:\"\"},on:{change:e.statusSearchs},model:{value:e.formValidate.status,callback:function(t){e.$set(e.formValidate,\"status\",t)},expression:\"formValidate.status\"}},e._l(e.statusList,(function(e){return t(\"el-option\",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1)],1)],1)],1),t(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"mt14\",attrs:{height:\"530\",data:e.data1}},[t(\"el-table-column\",{attrs:{label:\"ID\",width:\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.id))])]}}])}),t(\"el-table-column\",{attrs:{label:\"操作时间\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.add_time))])]}}])}),t(\"el-table-column\",{attrs:{label:\"发货单数\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.total_num))])]}}])}),t(\"el-table-column\",{attrs:{label:\"成功发货单数\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.success_num))])]}}])}),t(\"el-table-column\",{attrs:{label:\"发货类型\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.title))])]}}])}),t(\"el-table-column\",{attrs:{label:\"状态\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.status_cn))])]}}])}),t(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"170\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[a.row.is_show_log?[t(\"a\",{on:{click:function(t){return e.deliveryLook(a.row)}}},[e._v(\"查看\")]),t(\"el-divider\",{attrs:{direction:\"vertical\"}})]:e._e(),[t(\"el-dropdown\",{attrs:{size:\"small\"},on:{command:function(t){return e.changeMenu(a.row,t)}}},[t(\"span\",{staticClass:\"el-dropdown-link\"},[e._v(\"更多\"),t(\"i\",{staticClass:\"el-icon-arrow-down el-icon--right\"})]),t(\"el-dropdown-menu\",{attrs:{slot:\"dropdown\"},slot:\"dropdown\"},[t(\"el-dropdown-item\",{attrs:{command:\"1\"}},[e._v(\"下载\")]),t(\"el-dropdown-item\",{attrs:{command:\"2\"}},[e._v(\"重新执行\")]),a.row.is_stop_button?t(\"el-dropdown-item\",{attrs:{command:\"3\"}},[e._v(\"停止任务\")]):e._e(),a.row.is_error_button?t(\"el-dropdown-item\",{attrs:{command:\"4\"}},[e._v(\"清除异常任务\")]):e._e()],1)],1)]]}}])})],1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.page1.total?t(\"pagination\",{attrs:{total:e.page1.total,page:e.page1.pageNum,limit:e.page1.pageSize},on:{\"update:page\":function(t){return e.$set(e.page1,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.page1,\"pageSize\",t)},pagination:e.getQueue}}):e._e()],1)],1),t(\"el-dialog\",{attrs:{visible:e.modal1,width:\"1000px\"},on:{\"update:visible\":function(t){e.modal1=t}}},[t(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading2,expression:\"loading2\"}],staticClass:\"mt14\",attrs:{height:\"500\",data:e.data2}},e._l(e.columns4,(function(a,i){return t(\"el-table-column\",{key:i,attrs:{label:a.title,\"min-width\":a.minWidth||100},scopedSlots:e._u([{key:\"default\",fn:function(i){return[a.key?[t(\"div\",[t(\"span\",[e._v(e._s(i.row[a.key]))])])]:e._e()]}}],null,!0)})})),1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.page2.total?t(\"pagination\",{attrs:{total:e.page2.total,page:e.page2.pageNum,limit:e.page2.pageSize},on:{\"update:page\":function(t){return e.$set(e.page2,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.page2,\"pageSize\",t)},pagination:e.getDeliveryLog}}):e._e()],1)],1)],1)}),[],!1,null,null,null).exports,a(\"d708\"),Object(t.a)(Object(t.a)(Object(t.a)({},Object(r.e)(\"media\",[\"isMobile\"])),Object(r.e)(\"integralOrder\",[\"isDels\",\"delIdList\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"},today:function(){var e=new Date,t=new Date;return[t.getFullYear()+\"/\"+(t.getMonth()+1)+\"/\"+t.getDate(),e.getFullYear()+\"/\"+(e.getMonth()+1)+\"/\"+e.getDate()]}}),Object(t.a)(Object(t.a)({},Object(r.d)(\"integralOrder\",[\"getOrderStatus\",\"getOrderType\",\"getOrderTime\",\"getOrderNum\",\"getfieldKey\"])),{},{integralGetOrdes:function(e){var t=this;Object(n.O)(e).then((function(e){t.$set(t,\"orderChartType\",e.data)})).catch((function(e){}))},getPath:function(){this.orderData.status=this.$route.query.status.toString(),this.getOrderStatus(this.orderData.status),this.$emit(\"getList\",1),this.$emit(\"order-data\",this.orderData)},exports:function(){var e=this;return Object(s.a)(Object(i.a)().mark((function t(){var a,s,r,n,o,l,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],s=[],r=[],n=\"\",(o=JSON.parse(JSON.stringify(e.orderData))).page=1,o.product_id=e.$route.query.product_id||\"\",l=0;case 5:if(l<o.page+1)return t.next=8,e.getExcelData(o);t.next=16;break;case 8:c=t.sent,n=n||c.filename,s.length||(s=c.filekey),a.length||(a=c.header),c.export.length&&(r=r.concat(c.export),o.page++);case 13:l++,t.next=5;break;case 16:exportExcel(a,s,n,r);case 17:case\"end\":return t.stop()}}),t)})))()},getExcelData:function(e){return new Promise((function(t,a){Object(o.X)(e).then((function(e){return t(e.data)}))}))},onchangeTime:function(e){this.timeVal=e||[],this.orderData.data=this.timeVal[0]&&this.timeVal?this.timeVal.join(\"-\"):\"\",this.$store.dispatch(\"integralOrder/getOrderTabs\",{data:this.orderData.data}),this.getOrderTime(this.orderData.data),this.$emit(\"getList\",1),this.$emit(\"order-data\",this.orderData)},selectChange:function(e){this.$store.dispatch(\"integralOrder/getOrderTabs\",{data:e}),this.orderData.data=e,this.getOrderTime(this.orderData.data),this.timeVal=[],this.$emit(\"getList\"),this.$emit(\"order-data\",this.orderData)},selectChange2:function(e){this.getOrderStatus(e),this.$emit(\"getList\",1)},userSearchs:function(e){this.getOrderType(e),this.$emit(\"getList\",1)},timeChange:function(e){this.getOrderTime(e),this.$emit(\"getList\")},orderSearch:function(){this.getOrderNum(this.orderData.real_name),this.getfieldKey(this.orderData.field_key),this.$emit(\"getList\",1)},onClickTab:function(){this.$emit(\"onChangeType\",this.currentTab)},delAll:function(){var e,t=this;0===this.delIdList.length?this.$message.error(\"请先选择删除的订单！\"):this.isDels?(this.delIdList.filter((function(e){t.isDelIdList.push(e.id)})),e={ids:this.isDelIdList,all:this.isAll,where:this.orderData},this.$modalSure({title:\"删除订单\",url:\"/order/dels\",method:\"post\",ids:e}).then((function(e){t.$message.success(e.msg),t.tabList()})).catch((function(e){t.$message.error(e.msg)}))):this.$message.error(\"您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！\")},del:function(e){this.modals2=!1,this.writeOffFrom.confirm=0,this.$refs[e].resetFields()},handleSubmit:function(){this.$emit(\"on-submit\",this.data)},Refresh:function(){this.$emit(\"getList\")},handleReset:function(){this.$refs.form.resetFields(),this.$emit(\"on-reset\")},uploadSuccess:function(e,t,a){200===e.status?(this.$message.success(e.msg),this.file=e.data.src,this.fileList=a):this.$message.error(e.msg)},removeFile:function(e,t){this.file=\"\",this.fileList=t},manualModalOk:function(){var e=this;this.$refs.upload.clearFiles(),Object(o.r)({file:this.file}).then((function(t){e.$message.success(t.msg),e.fileList=[]})).catch((function(t){e.$message.error(t.msg),e.fileList=[]}))},manualModalCancel:function(){this.fileList=[],this.$refs.upload.clearFiles()},autoModalOk:function(){\"全部\"==this.isAll||this.formSelection.length?(this.$refs.send.modals=!0,this.$refs.send.getList(),this.$refs.send.getDeliveryList()):this.$message.error(\"请选择本页订单\")},autolModalCancel:function(){},submitFail:function(){Object(o.J)()},queuemModal:function(){this.$refs.queue.modal=!0},onAuto:function(){this.$refs.sends.modals=!0,this.$refs.sends.getList(),this.$refs.sends.getDeliveryList()},getExpressList:function(){var e=this;Object(o.e)().then((function(e){window.open(e.data[0])})).catch((function(t){e.$message.error(t.msg)}))}}),c=new Error(\"Cannot find module './tableFrom.vue?vue&type=style&index=0&id=361b7d1e&prod&scoped=true&lang=stylus'\");throw c.code=\"MODULE_NOT_FOUND\",c},4157:function(e,t,a){a(\"ebc3\")},5662:function(e,t,a){a(\"8fdf\")},\"8fdf\":function(e,t,a){},a584:function(e,t,a){throw a(\"b0c0\"),a(\"2877\"),a=new Error(\"Cannot find module './cards.vue?vue&type=style&index=0&id=50f2a66a&prod&scoped=true&lang=stylus'\"),a.code=\"MODULE_NOT_FOUND\",a},b169:function(e,t,a){a(\"fd8d\")},bd9b:function(e,t){e.exports=\"data:image/jpeg;base64,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\"},ebc3:function(e,t,a){},fd8d:function(e,t,a){}}]);","extractedComments":[]}