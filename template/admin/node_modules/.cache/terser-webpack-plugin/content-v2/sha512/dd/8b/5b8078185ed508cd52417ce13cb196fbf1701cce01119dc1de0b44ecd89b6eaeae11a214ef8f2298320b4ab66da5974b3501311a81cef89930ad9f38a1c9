{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-116df533\"],{\"074e\":function(t,e,a){a(\"4688\")},4688:function(t,e,a){},\"61f7\":function(t,e,a){a.d(e,\"a\",(function(){return r})),a.d(e,\"c\",(function(){return c})),a.d(e,\"b\",(function(){return l}));var n=a(\"ade3\"),i=a(\"5530\");function r(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+\"\").substr(4-RegExp.$1.length)));var a,n,i={\"M+\":t.getMonth()+1,\"d+\":t.getDate(),\"h+\":t.getHours(),\"m+\":t.getMinutes(),\"s+\":t.getSeconds()};for(a in i)new RegExp(\"(\".concat(a,\")\")).test(e)&&(n=i[a]+\"\",e=e.replace(RegExp.$1,1===RegExp.$1.length?n:(\"00\"+n).substr(n.length)));return e}a(\"99af\"),a(\"13d5\"),a(\"b64b\"),a(\"d3b7\"),a(\"4d63\"),a(\"c607\"),a(\"ac1f\"),a(\"2c3e\"),a(\"00b4\"),a(\"25f0\"),a(\"5319\"),a(\"498a\");var o={min:\"%s最小长度为:min\",max:\"%s最大长度为:max\",length:\"%s长度必须为:length\",range:\"%s长度为:range\",pattern:\"$s格式错误\"};function s(t,e){t.message=function(t){return e.replace(\"%s\",t||\"\")}}function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)({required:!0,message:t,type:\"string\"},e)}function l(t){return u.pattern(/(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/,t)}s(c,\"请输入%s\"),s(l,\"%s格式不正确\");var u=Object.keys(o).reduce((function(t,e){return t[e]=function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"\",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=\"range\"===e?{min:t[0],max:t[1]}:Object(n.a)({},e,t);return Object(i.a)(Object(i.a)({message:a.replace(\":\".concat(e),\"range\"===e?\"\".concat(t[0],\"-\").concat(t[1]):t),type:\"string\"},o),r)},s(t[e],o[e]),t}),{})},aa0e:function(t,e,a){a.r(e);var n=a(\"c7eb\"),i=a(\"1da1\"),r=a(\"5530\"),o=(a(\"a434\"),a(\"2f62\")),s=a(\"bbbc\"),c=a(\"61f7\");r={name:\"agent_extra\",data:function(){return{grid:{xl:7,lg:7,md:12,sm:24,xs:24},total:0,total2:0,userLists:[],formInline:{uid:0,proportion:0,image:\"\"},FromData:null,loading:!1,current:0,formValidate:{page:1,limit:15,keyword:\"\"},staffModal:!1,clerkReqData:{uid:0,page:1,limit:15},clerkLists:[]}},filters:{formatDate:function(t){if(0!==t)return t=new Date(1e3*t),Object(c.a)(t,\"yyyy-MM-dd hh:mm\")}},computed:Object(r.a)(Object(r.a)({},Object(o.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),mounted:function(){this.getList()},methods:{userSearchs:function(){this.formValidate.page=1,this.getList()},jump:function(t){this.clerkReqData.uid=t,this.getClerkList()},getClerkList:function(){var t=this;this.clerkReqData.division_type=3,Object(s.d)(this.clerkReqData).then((function(e){t.clerkLists=e.data.list,t.total2=e.data.count,t.staffModal=!0}))},getList:function(){var t=this;this.loading=!0,this.formValidate.division_type=2,Object(s.l)(this.formValidate).then(function(){var e=Object(i.a)(Object(n.a)().mark((function e(a){var i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.data,t.userLists=i.list,t.total=i.count,t.loading=!1;case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$message.error(e.msg)}))},groupAdd:function(t){var e=this;this.$modalForm(Object(s.a)(t)).then((function(t){e.getList()})).catch((function(t){}))},staffAdd:function(t){var e=this;this.$modalForm(Object(s.m)(t)).then((function(t){e.getList()})).catch((function(t){}))},onchangeIsShow:function(t){var e=this;t={id:t.uid,status:t.division_status};Object(s.g)(t).then(function(){var t=Object(i.a)(Object(n.a)().mark((function t(a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$message.success(a.msg);case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t.msg)}))},edit:function(t){},del:function(t,e,a){var n=this;e={title:e,method:\"DELETE\",uid:t.uid,url:\"agent/division/del/2/\".concat(t.uid)};this.$modalSure(e).then((function(t){n.$message.success(t.msg),n.userLists.splice(a,1)})).catch((function(t){n.$message.error(t.msg)}))}}},a(\"074e\"),o=a(\"2877\"),a=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"el-card\",{attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[e(\"div\",{staticClass:\"padding-add\"},[e(\"el-form\",{ref:\"formValidate\",attrs:{model:t.formValidate,\"label-width\":t.labelWidth,\"label-position\":t.labelPosition,inline:\"\"},nativeOn:{submit:function(t){t.preventDefault()}}},[e(\"el-form-item\",{attrs:{label:\"搜索：\"}},[e(\"el-input\",{staticClass:\"form_content_width\",attrs:{clearable:\"\",placeholder:\"请输入姓名、UID\"},model:{value:t.formValidate.keyword,callback:function(e){t.$set(t.formValidate,\"keyword\",e)},expression:\"formValidate.keyword\"}})],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.userSearchs}},[t._v(\"查询\")])],1)],1)],1)]),e(\"el-card\",{staticClass:\"ivu-mt mt16\",attrs:{bordered:!1,shadow:\"never\"}},[e(\"el-row\",{staticClass:\"ivu-mt box-wrapper\"},[e(\"el-col\",{ref:\"rightBox\",attrs:{xs:24,sm:24}},[e(\"el-row\",[e(\"el-col\",t._b({},\"el-col\",t.grid,!1),[e(\"el-button\",{staticClass:\"mr20\",attrs:{type:\"primary\"},on:{click:function(e){return t.groupAdd(\"0\")}}},[t._v(\"添加代理商\")])],1)],1),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"mt14\",attrs:{data:t.userLists,\"highlight-current-row\":\"\",\"no-formValidate-text\":\"暂无数据\",\"no-filtered-formValidate-text\":\"暂无筛选结果\"}},[e(\"el-table-column\",{attrs:{label:\"用户UID\",width:\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.uid))])]}}])}),e(\"el-table-column\",{attrs:{label:\"头像\",\"min-width\":\"90\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[e(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"tabBox_img\"},[e(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:t.row.avatar,expression:\"scope.row.avatar\"}]})])]}}])}),e(\"el-table-column\",{attrs:{label:\"姓名\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"div\",{staticClass:\"acea-row\"},[e(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"男\"===a.row.sex,expression:\"scope.row.sex === '男'\"}],staticClass:\"el-icon-male\",staticStyle:{color:\"#2db7f5\",\"font-size\":\"15px\"}}),e(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"女\"===a.row.sex,expression:\"scope.row.sex === '女'\"}],staticClass:\"el-icon-female\",staticStyle:{color:\"#ed4014\",\"font-size\":\"15px\"}}),e(\"div\",{staticClass:\"ml10\",domProps:{textContent:t._s(a.row.nickname)}})])]}}])}),e(\"el-table-column\",{attrs:{label:\"分销比例\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(\" \"+t._s(a.row.division_percent)+\"%\")])]}}])}),e(\"el-table-column\",{attrs:{label:\"员工数量\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.agent_count))])]}}])}),e(\"el-table-column\",{attrs:{label:\"截止时间\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.division_end_time))])]}}])}),e(\"el-table-column\",{attrs:{label:\"状态\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0,value:a.row.division_status,size:\"large\"},on:{change:function(e){return t.onchangeIsShow(a.row)}},model:{value:a.row.division_status,callback:function(e){t.$set(a.row,\"division_status\",e)},expression:\"scope.row.division_status\"}})]}}])}),e(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"220\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"a\",{on:{click:function(e){return t.staffAdd(a.row.uid)}}},[t._v(\"添加员工\")]),e(\"el-divider\",{attrs:{direction:\"vertical\"}}),e(\"a\",{on:{click:function(e){return t.jump(a.row.uid)}}},[t._v(\"查看员工\")]),e(\"el-divider\",{attrs:{direction:\"vertical\"}}),e(\"a\",{on:{click:function(e){return t.groupAdd(a.row.uid)}}},[t._v(\"编辑\")]),e(\"el-divider\",{attrs:{direction:\"vertical\"}}),e(\"a\",{on:{click:function(e){return t.del(a.row,\"删除代理商\",a.$index)}}},[t._v(\"删除\")])]}}])})],1),e(\"div\",{staticClass:\"acea-row row-right page\"},[t.total?e(\"pagination\",{attrs:{total:t.total,page:t.formValidate.page,limit:t.formValidate.limit},on:{\"update:page\":function(e){return t.$set(t.formValidate,\"page\",e)},\"update:limit\":function(e){return t.$set(t.formValidate,\"limit\",e)},pagination:t.getList}}):t._e()],1)],1)],1)],1),e(\"el-dialog\",{staticClass:\"order_box\",attrs:{visible:t.staffModal,title:\"员工列表\",width:\"1000px\"},on:{\"update:visible\":function(e){t.staffModal=e}}},[e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"mt20\",attrs:{data:t.clerkLists,\"highlight-current-row\":\"\",\"no-formValidate-text\":\"暂无数据\",\"no-filtered-formValidate-text\":\"暂无筛选结果\"}},[e(\"el-table-column\",{attrs:{label:\"用户UID\",width:\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.uid))])]}}])}),e(\"el-table-column\",{attrs:{label:\"头像\",\"min-width\":\"90\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[e(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"tabBox_img\"},[e(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:t.row.avatar,expression:\"scope.row.avatar\"}]})])]}}])}),e(\"el-table-column\",{attrs:{label:\"姓名\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"div\",{staticClass:\"acea-row\"},[e(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"男\"===a.row.sex,expression:\"scope.row.sex === '男'\"}],staticClass:\"el-icon-male mr10\",staticStyle:{color:\"#2db7f5\",\"font-size\":\"15px\"}}),e(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"女\"===a.row.sex,expression:\"scope.row.sex === '女'\"}],staticClass:\"el-icon-female mr10\",staticStyle:{color:\"#ed4014\",\"font-size\":\"15px\"}}),e(\"div\",{domProps:{textContent:t._s(a.row.nickname)}})])]}}])}),e(\"el-table-column\",{attrs:{label:\"分销比例\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(\" \"+t._s(a.row.division_percent)+\"%\")])]}}])})],1),e(\"div\",{staticClass:\"acea-row row-right page\"},[t.total2?e(\"pagination\",{attrs:{total:t.total2,page:t.clerkReqData.page,limit:t.clerkReqData.limit},on:{\"update:page\":function(e){return t.$set(t.clerkReqData,\"page\",e)},\"update:limit\":function(e){return t.$set(t.clerkReqData,\"limit\",e)},pagination:t.getClerkList}}):t._e()],1)],1)],1)}),[],!1,null,\"11ed9d55\",null);e.default=a.exports},bbbc:function(t,e,a){a.d(e,\"b\",(function(){return i})),a.d(e,\"c\",(function(){return r})),a.d(e,\"o\",(function(){return o})),a.d(e,\"n\",(function(){return s})),a.d(e,\"h\",(function(){return c})),a.d(e,\"j\",(function(){return l})),a.d(e,\"i\",(function(){return u})),a.d(e,\"p\",(function(){return d})),a.d(e,\"l\",(function(){return f})),a.d(e,\"f\",(function(){return m})),a.d(e,\"a\",(function(){return g})),a.d(e,\"e\",(function(){return p})),a.d(e,\"k\",(function(){return v})),a.d(e,\"d\",(function(){return h})),a.d(e,\"g\",(function(){return b})),a.d(e,\"m\",(function(){return w})),a(\"99af\");var n=a(\"6b6c\");function i(t){return Object(n.a)({url:\"agent/index\",method:\"get\",params:t})}function r(t){return Object(n.a)({url:\"agent/spread\",method:\"PUT\",data:t})}function o(t){return Object(n.a)({url:\"agent/statistics\",method:\"get\",params:t})}function s(t,e){return Object(n.a)({url:t,method:\"get\",params:e})}function c(t){return Object(n.a)({url:\"agent/look_code\",method:\"get\",params:t})}function l(t){return Object(n.a)({url:\"agent/look_xcx_code\",method:\"get\",params:t})}function u(t){return Object(n.a)({url:\"agent/look_h5_code\",method:\"get\",params:t})}function d(t){return Object(n.a)({url:\"export/userAgent\",method:\"get\",params:t})}function f(t){return Object(n.a)({url:\"agent/division/list\",method:\"get\",params:t})}function m(t){return Object(n.a)({url:\"agent/division/agent_apply/list\",method:\"get\",params:t})}function g(t){return Object(n.a)({url:\"agent/division/agent/create/\".concat(t),method:\"get\"})}function p(t,e){return Object(n.a)({url:\"agent/division/examine_apply/\".concat(t,\"/\").concat(e),method:\"get\"})}function v(t){return Object(n.a)({url:\"agent/division/create/\".concat(t),method:\"get\"})}function h(t){return Object(n.a)({url:\"agent/division/down_list\",method:\"get\",params:t})}function b(t){return Object(n.a)({url:\"agent/division/set_status/\".concat(t.status,\"/\").concat(t.id),method:\"put\"})}function w(t){return Object(n.a)({url:\"agent/division/staff/create/\".concat(t),method:\"get\"})}}}]);","extractedComments":[]}