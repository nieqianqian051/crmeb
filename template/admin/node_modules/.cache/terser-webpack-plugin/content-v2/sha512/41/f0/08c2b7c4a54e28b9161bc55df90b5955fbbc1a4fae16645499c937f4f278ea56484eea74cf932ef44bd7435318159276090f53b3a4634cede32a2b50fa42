{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-e3a98290\"],{\"0996\":function(t,e,a){a.r(e),a(\"a15b\"),a(\"d81d\"),a(\"14d9\"),a(\"b0c0\");var n=a(\"a584\"),i=a(\"c71e\"),r=a(\"0c9f\"),s=a(\"61f7\"),o=a(\"9901\");n={name:\"index\",components:{cardsData:n.a,echartsNew:i.a,echartsFrom:o.a},data:function(){return{timeVal:[],pickerOptions:this.$timeOptions,style:{height:\"400px\"},infoList:{},infoList2:{},echartLeft:!0,echartRight:!1,loading:!1,loading2:!1,fromList:{title:\"选择时间\",custom:!0,fromTxt:[{text:\"全部\",val:\"\"},{text:\"今天\",val:\"today\"},{text:\"本周\",val:\"week\"},{text:\"本月\",val:\"month\"},{text:\"本季度\",val:\"quarter\"},{text:\"本年\",val:\"year\"}]},formValidate:{time:\"\"},cardLists:[{col:6,count:0,name:\"昨日新增关注\",className:\"md-rose\"},{col:6,count:0,name:\"昨日参与\",className:\"ios-speedometer-outline\"},{col:6,count:0,name:\"总关注\",className:\"ios-speedometer-outline\"},{col:6,count:0,name:\"参与总人数\",className:\"md-rose\"}],optionData:{},spinShow:!1}},created:function(){this.id=this.$route.query.id;var t=new Date,e=new Date;e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),this.timeVal=[e,t],this.formValidate.time=Object(s.a)(e,\"yyyy/MM/dd\")+\"-\"+Object(s.a)(t,\"yyyy/MM/dd\"),this.wechatQrcodeStatistic()},methods:{wechatQrcodeStatistic:function(){var t=this;Object(r.w)(this.id,this.formValidate).then((function(e){var a=[\"y_follow\",\"y_scan\",\"all_follow\",\"all_scan\"];t.cardLists.map((function(t,n){t.count=e.data[a[n]]})),t.getTrend(e.data.trend.series,e.data.trend.xAxis)}))},timeG:function(t){return t=new Date(t),t.getFullYear()+\"-\"+(t.getMonth()+1)+\"-\"+t.getDate()+\" \"+t.getHours()+\":\"+t.getMinutes()+\":\"+t.getSeconds()},selectChange:function(t){},onchangeTime:function(t){this.timeVal=t,this.formValidate.time=this.timeVal?this.timeVal.join(\"-\"):\"\",this.name=this.formValidate.time,this.wechatQrcodeStatistic()},getTrend:function(t,e){this.spinShow=!0;var a=t.map((function(t){return t.name})),n=[\"#5B8FF9\",\"#5AD8A6\",\"#FFAB2B\",\"#5D7092\"],i=[];t.map((function(t,e){i.push({name:t.name,type:\"line\",data:t.data,itemStyle:{normal:{color:n[e]}},smooth:0})})),this.optionData={tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",label:{backgroundColor:\"#6a7985\"}}},legend:{x:\"center\",data:a},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:\"category\",boundaryGap:!0,axisLabel:{interval:0,rotate:40,textStyle:{color:\"#000000\"}},data:e},yAxis:{type:\"value\",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:\"#7F8B9C\"}},splitLine:{show:!0,lineStyle:{color:\"#F5F7F9\"}}},series:i},this.spinShow=!1}}},a(\"d108\"),i=a(\"2877\"),o=Object(i.a)(n,(function(){var t=this,e=t._self._c;return e(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.spinShow,expression:\"spinShow\"}]},[e(\"pages-header\",{ref:\"pageHeader\",attrs:{title:t.$route.meta.title,backUrl:t.$routeProStr+\"/marketing/channel_code/channelCodeIndex\"}}),0<=t.cardLists.length?e(\"cards-data\",{staticClass:\"mt16\",attrs:{cardLists:t.cardLists}}):t._e(),e(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\"}},[e(\"div\",{staticClass:\"table-head\"},[e(\"h3\",[t._v(\"关注趋势\")]),e(\"el-date-picker\",{staticClass:\"mr20\",attrs:{editable:!1,clearable:\"\",\"picker-options\":t.pickerOptions,format:\"yyyy/MM/dd\",type:\"daterange\",\"value-format\":\"yyyy/MM/dd\",\"range-separator\":\"-\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{change:t.onchangeTime},model:{value:t.timeVal,callback:function(e){t.timeVal=e},expression:\"timeVal\"}})],1),t.optionData?e(\"echarts-new\",{attrs:{\"option-data\":t.optionData,styles:t.style,height:\"100%\",width:\"100%\"}}):t._e()],1)],1)}),[],!1,null,\"8ce02e2a\",null);e.default=o.exports},\"0c9f\":function(t,e,a){a.d(e,\"j\",(function(){return i})),a.d(e,\"o\",(function(){return r})),a.d(e,\"m\",(function(){return s})),a.d(e,\"l\",(function(){return o})),a.d(e,\"p\",(function(){return c})),a.d(e,\"r\",(function(){return u})),a.d(e,\"s\",(function(){return l})),a.d(e,\"v\",(function(){return d})),a.d(e,\"t\",(function(){return h})),a.d(e,\"u\",(function(){return m})),a.d(e,\"q\",(function(){return f})),a.d(e,\"n\",(function(){return g})),a.d(e,\"k\",(function(){return p})),a.d(e,\"e\",(function(){return y})),a.d(e,\"h\",(function(){return b})),a.d(e,\"f\",(function(){return x})),a.d(e,\"i\",(function(){return w})),a.d(e,\"g\",(function(){return v})),a.d(e,\"a\",(function(){return O})),a.d(e,\"c\",(function(){return _})),a.d(e,\"b\",(function(){return j})),a.d(e,\"d\",(function(){return L})),a.d(e,\"w\",(function(){return C}));var n=a(\"6b6c\");function i(t){return Object(n.a)({url:\"/statistic/product/get_basic\",method:\"get\",params:t})}function r(t){return Object(n.a)({url:\"/statistic/product/get_trend\",method:\"get\",params:t})}function s(t){return Object(n.a)({url:\"/statistic/product/get_product_ranking\",method:\"get\",params:t})}function o(t){return Object(n.a)({url:\"/statistic/product/get_excel\",method:\"get\",params:t})}function c(t){return Object(n.a)({url:\"/statistic/user/get_basic\",method:\"get\",params:t})}function u(t){return Object(n.a)({url:\"/statistic/user/get_trend\",method:\"get\",params:t})}function l(t){return Object(n.a)({url:\"/statistic/user/get_wechat\",method:\"get\",params:t})}function d(t){return Object(n.a)({url:\"/statistic/user/get_wechat_trend\",method:\"get\",params:t})}function h(t){return Object(n.a)({url:\"/statistic/user/get_region\",method:\"get\",params:t})}function m(t){return Object(n.a)({url:\"/statistic/user/get_sex\",method:\"get\",params:t})}function f(t){return Object(n.a)({url:\"/statistic/user/get_excel\",method:\"get\",params:t})}function g(t){return Object(n.a)({url:\"/statistic/trade/top_trade\",method:\"get\",params:t})}function p(t){return Object(n.a)({url:\"/statistic/trade/bottom_trade\",method:\"get\",params:t})}function y(t){return Object(n.a)({url:\"/statistic/order/get_basic\",method:\"get\",params:t})}function b(t){return Object(n.a)({url:\"/statistic/order/get_trend\",method:\"get\",params:t})}function x(t){return Object(n.a)({url:\"/statistic/order/get_channel\",method:\"get\",params:t})}function w(t){return Object(n.a)({url:\"/statistic/order/get_type\",method:\"get\",params:t})}function v(t){return Object(n.a)({url:\"/statistic/flow/get_record\",method:\"get\",params:t})}function O(t){return Object(n.a)({url:\"/statistic/balance/get_basic\",method:\"get\",params:t})}function _(t){return Object(n.a)({url:\"/statistic/balance/get_trend\",method:\"get\",params:t})}function j(t){return Object(n.a)({url:\"/statistic/balance/get_channel\",method:\"get\",params:t})}function L(t){return Object(n.a)({url:\"/statistic/balance/get_type\",method:\"get\",params:t})}function C(t,e){return Object(n.a)({url:\"app/wechat_qrcode/statistic/\".concat(t),method:\"get\",params:e})}},\"61f7\":function(t,e,a){a.d(e,\"a\",(function(){return r})),a.d(e,\"c\",(function(){return c})),a.d(e,\"b\",(function(){return u}));var n=a(\"ade3\"),i=a(\"5530\");function r(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+\"\").substr(4-RegExp.$1.length)));var a,n,i={\"M+\":t.getMonth()+1,\"d+\":t.getDate(),\"h+\":t.getHours(),\"m+\":t.getMinutes(),\"s+\":t.getSeconds()};for(a in i)new RegExp(\"(\".concat(a,\")\")).test(e)&&(n=i[a]+\"\",e=e.replace(RegExp.$1,1===RegExp.$1.length?n:(\"00\"+n).substr(n.length)));return e}a(\"99af\"),a(\"13d5\"),a(\"b64b\"),a(\"d3b7\"),a(\"4d63\"),a(\"c607\"),a(\"ac1f\"),a(\"2c3e\"),a(\"00b4\"),a(\"25f0\"),a(\"5319\"),a(\"498a\");var s={min:\"%s最小长度为:min\",max:\"%s最大长度为:max\",length:\"%s长度必须为:length\",range:\"%s长度为:range\",pattern:\"$s格式错误\"};function o(t,e){t.message=function(t){return e.replace(\"%s\",t||\"\")}}function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)({required:!0,message:t,type:\"string\"},e)}function u(t){return l.pattern(/(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/,t)}o(c,\"请输入%s\"),o(u,\"%s格式不正确\");var l=Object.keys(s).reduce((function(t,e){return t[e]=function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"\",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=\"range\"===e?{min:t[0],max:t[1]}:Object(n.a)({},e,t);return Object(i.a)(Object(i.a)({message:a.replace(\":\".concat(e),\"range\"===e?\"\".concat(t[0],\"-\").concat(t[1]):t),type:\"string\"},s),r)},o(t[e],s[e]),t}),{})},9901:function(t,e,a){var n=a(\"313e\"),i=a.n(n);n={name:\"index\",props:{infoList:{type:Object,default:null},series:Array,echartsTitle:{type:String,default:\"\"},yAxisData:{type:Array,default:function(){return[]}},bingXdata:Array},data:function(){return{infoLists:this.infoList,seriesArray:this.series}},watch:{infoList:{handler:function(t,e){this.infoLists=t,this.handleSetVisitChart()},deep:!0},series:{handler:function(t,e){this.seriesArray=t,this.handleSetVisitChart()},deep:!0}},computed:{echarts:function(){return\"echarts\"+Math.ceil(100*Math.random())}},mounted:function(){var t=this,e=this;e.$nextTick((function(){e.handleSetVisitChart(),window.addEventListener(\"resize\",t.wsFunc)}))},methods:{wsFunc:function(){this.myChart.resize()},handleSetVisitChart:function(){this.myChart=i.a.init(document.getElementById(this.echarts));var t=null;t=\"circle\"===this.echartsTitle?{tooltip:{trigger:\"item\",formatter:\"{a} <br/>{b} : {c} ({d}%)\"},legend:{orient:\"vertical\",left:\"right\",data:this.infoLists.bing_xdata||[]},series:[{name:\"访问来源\",type:\"pie\",radius:\"70%\",center:[\"50%\",\"60%\"],data:this.infoLists.bing_data||[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:\"rgba(0, 0, 0, 0.5)\"}}}]}:{tooltip:{trigger:\"axis\"},toolbox:{},legend:{data:this.infoLists.legend||[]},color:[\"#1495EB\",\"#00CC66\",\"#F9D249\",\"#ff9900\",\"#9860DF\"],grid:{left:16,right:25,bottom:10,top:40,containLabel:!0},xAxis:[{type:\"category\",axisLine:{lineStyle:{color:\"#D7DDE4\"}},axisTick:{alignWithLabel:!0,lineStyle:{color:\"#D7DDE4\"}},splitLine:{show:!1,lineStyle:{color:\"#F5F7F9\"}},axisLabel:{interval:0,rotate:40,textStyle:{color:\"#7F8B9C\"}},data:this.infoLists.xAxis}],yAxis:this.yAxisData.length?this.yAxisData:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:\"#7F8B9C\"}},splitLine:{show:!0,lineStyle:{color:\"#F5F7F9\"}},type:\"value\"},series:this.seriesArray};this.myChart.setOption(t,!0)},handleResize:function(){this.myChart.resize()}},beforeDestroy:function(){window.removeEventListener(\"resize\",this.wsFunc),this.myChart&&(this.myChart.dispose(),this.myChart=null)}},a=a(\"2877\"),a=Object(a.a)(n,(function(){var t=this._self._c;return t(\"div\",[t(\"div\",{staticStyle:{height:\"300px\"},attrs:{id:this.echarts}})])}),[],!1,null,\"00217dc6\",null);e.a=a.exports},a584:function(t,e,a){throw a(\"b0c0\"),a(\"2877\"),a=new Error(\"Cannot find module './cards.vue?vue&type=style&index=0&id=50f2a66a&prod&scoped=true&lang=stylus'\"),a.code=\"MODULE_NOT_FOUND\",a},c71e:function(t,e,a){var n=a(\"313e\"),i=a.n(n);n={name:\"Index\",props:{styles:{type:Object,default:null},optionData:{type:Object,default:null}},data:function(){return{myChart:null}},computed:{echarts:function(){return\"echarts\"+Math.ceil(100*Math.random())}},watch:{optionData:{handler:function(t,e){this.handleSetVisitChart()},deep:!0}},mounted:function(){var t=this,e=this;e.$nextTick((function(){e.handleSetVisitChart(),window.addEventListener(\"resize\",t.wsFunc)}))},beforeDestroy:function(){window.removeEventListener(\"resize\",this.wsFunc),this.myChart&&(this.myChart.dispose(),this.myChart=null)},methods:{wsFunc:function(){this.myChart.resize()},handleSetVisitChart:function(){this.myChart=i.a.init(document.getElementById(this.echarts));var t=this.optionData;this.myChart.setOption(t,!0)}}},a=a(\"2877\"),a=Object(a.a)(n,(function(){var t=this._self._c;return t(\"div\",[t(\"div\",{style:this.styles,attrs:{id:this.echarts}})])}),[],!1,null,\"4a0d7a27\",null);e.a=a.exports},d108:function(t,e,a){a(\"f437\")},f437:function(t,e,a){}}]);","extractedComments":[]}