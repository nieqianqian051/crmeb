{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-ab861c5c\"],{\"0b439\":function(e,t,o){o=o(\"04f8\"),e.exports=o&&!!Symbol.for&&!!Symbol.keyFor},1148:function(e,t,o){var i=o(\"5926\"),a=o(\"577e\"),r=o(\"1d80\"),s=RangeError;e.exports=function(e){var t=a(r(this)),o=\"\",n=i(e);if(n<0||n===1/0)throw new s(\"Wrong number of repetitions\");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(o+=t);return o}},1923:function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAALhJREFUKFO9kbEOwWAUhb+rhg4SJqOxtRhMHTxAJcb6O3sZj+EBpMEiYfUYGCzEICEdG5orxjb/0Ei44z33y7k5R7BNpH2psdMcn6VcyydiY+pGhy9hwzPzWbmHShCxhsCWHI+FHH8IRRrifJwyj4VrcYo0wKFdeqEHTB2Y5HAvaDlnkVgfCi1rivblSTDaAJoFXRgAc5QAuBTZW2qN/I/pfdWT0RHCGqVLIvtq5RrtIMxQxiSSlqE34P1HD6pA8gkAAAAASUVORK5CYII=\"},\"192c\":function(e,t,o){o.d(t,\"h\",(function(){return a})),o.d(t,\"c\",(function(){return r})),o.d(t,\"f\",(function(){return s})),o.d(t,\"e\",(function(){return n})),o.d(t,\"i\",(function(){return l})),o.d(t,\"a\",(function(){return c})),o.d(t,\"d\",(function(){return d})),o.d(t,\"g\",(function(){return u})),o.d(t,\"b\",(function(){return f}));var i=o(\"6b6c\");function a(e){return Object(i.a)({url:\"/recipe/recipe\",method:\"get\",params:e})}function r(e){return Object(i.a)({url:\"/recipe/recipe/\".concat(e),method:\"get\"})}function s(e){return Object(i.a)({url:\"/recipe/recipe/findAllLabelsBySource\",method:\"post\",data:e})}function n(e){return Object(i.a)({url:\"/recipe/recipe/findAllFoodTypes\",method:\"post\",params:e})}function l(e){return Object(i.a)({url:\"/recipe/recipe/uploadRecipeImages\",method:\"post\",file:!0,data:e})}function c(e){return Object(i.a)({url:\"/recipe/recipe/add\",method:\"post\",data:e})}function d(e){return Object(i.a)({url:\"/recipe/recipe/edit\",method:\"post\",data:e})}function u(e){return Object(i.a)({url:\"/recipe/recipe/remove\",method:\"post\",params:e})}function f(e){return Object(i.a)({url:\"/recipe/recipe/cancelRecommend\",method:\"post\",params:e})}},2018:function(e,t,o){o(\"64aa\")},\"2f7e\":function(e,t,o){o.r(t);var i=o(\"5530\"),a=o(\"c7eb\"),r=o(\"1da1\"),s=(o(\"d9e2\"),o(\"a9e3\"),o(\"b680\"),o(\"d3b7\"),o(\"ac1f\"),o(\"00b4\"),o(\"25f0\"),o(\"c24f\")),n=o(\"2f62\"),l={name:\"user_foodOne\",data:function(){return{isDisabled:!0,loading:!1,userForm:{userId:\"\",height:\"\",weight:\"\",age:\"\",sex:0,totalHeat:\"\",heat:\"\",totalPercent:\"1\",morningPercent:\"0.3\",noonPercent:\"0.4\",nightPercent:\"0.3\"},spicyOptions:[{value:1,label:\"不辣\"},{value:2,label:\"辣\"}],difficultyLevelOptions:[{value:1,label:\"易\"},{value:2,label:\"难\"}],sexOptions:[{label:\"男\",value:1},{label:\"女\",value:0}],precentOptions:[{label:\"60%\",value:\"0.6\"},{label:\"65%\",value:\"0.65\"},{label:\"70%\",value:\"0.7\"},{label:\"75%\",value:\"0.75\"},{label:\"80%\",value:\"0.8\"},{label:\"85%\",value:\"0.85\"},{label:\"90%\",value:\"0.9\"},{label:\"95%\",value:\"0.95\"},{label:\"100%\",value:\"1\"}],morningPercents:[{label:\"20%\",value:\"0.2\"},{label:\"25%\",value:\"0.25\"},{label:\"30%\",value:\"0.3\"},{label:\"35%\",value:\"0.35\"},{label:\"40%\",value:\"0.4\"},{label:\"45%\",value:\"0.45\"},{label:\"50%\",value:\"0.5\"},{label:\"55%\",value:\"0.55\"},{label:\"60%\",value:\"0.6\"}],noonPercents:[{label:\"30%\",value:\"0.3\"},{label:\"35%\",value:\"0.35\"},{label:\"40%\",value:\"0.4\"},{label:\"45%\",value:\"0.45\"},{label:\"50%\",value:\"0.5\"},{label:\"55%\",value:\"0.55\"},{label:\"60%\",value:\"0.6\"}],nightPercents:[{label:\"20%\",value:\"0.2\"},{label:\"25%\",value:\"0.25\"},{label:\"30%\",value:\"0.3\"},{label:\"35%\",value:\"0.35\"},{label:\"40%\",value:\"0.4\"},{label:\"45%\",value:\"0.45\"},{label:\"50%\",value:\"0.5\"},{label:\"55%\",value:\"0.55\"},{label:\"60%\",value:\"0.6\"}],foodForm:{day:0,stage:\"\",spicy:0,economy:0,morningFood:\"\",noonFood:\"\",nightFood:\"\",ingredient:\"\",difficultyLevel:0},dayOptions:[{label:\"3天\",value:3},{label:\"4天\",value:4},{label:\"5天\",value:5},{label:\"6天\",value:6},{label:\"一周\",value:7}],foodOptions:[{label:\"3\",value:3}],fCountOptions:[{label:\"1个菜\",value:1},{label:\"2个菜\",value:2}],stageOptions:[{label:\"一阶段\",value:\"第一阶段\"},{label:\"二阶段\",value:\"第二阶段\"}],rateColors:[\"#F7DB4D\",\"#F7DB4D\",\"#F7DB4D\",\"#F7DB4D\",\"#F7DB4D\"],userRules:{height:[{required:!0,message:\"请输入客户身高\",trigger:\"blur\"}],weight:[{required:!0,message:\"请输入客户体重\",trigger:\"blur\"}],age:[{required:!0,message:\"请输入客户年龄\",trigger:\"blur\"}],sex:[{required:!0,message:\"请输入客户性别\",trigger:\"change\"}],totalPercent:[{required:!0,message:\"请选择总热量代谢百分比\",trigger:\"blur\"}],morningPercent:[{required:!0,message:\"请选择早餐代谢百分比\",trigger:\"blur\"}],noonPercent:[{required:!0,message:\"请选择午餐代谢百分比\",trigger:\"blur\"}],nightPercent:[{required:!0,message:\"请选择晚餐代谢百分比\",trigger:\"blur\"}]},foodRules:{day:[{required:!0,message:\"请选择食谱天数\",trigger:\"change\"}],stage:[{required:!0,message:\"请选择适应阶段\",trigger:\"change\"}],spicy:[{required:!0,message:\"请选择辣度\",trigger:\"change\"},{validator:function(e,t,o){null===t||0===t?o(new Error(\"请选择辣度\")):o()},required:!0,message:\"请选择辣度\",trigger:\"change\"}],difficultyLevel:[{required:!0,message:\"请选择难易程度\",trigger:\"change\"},{validator:function(e,t,o){null===t||0===t?o(new Error(\"请选择难易程度\")):o()},required:!0,message:\"请选择难易程度\",trigger:\"change\"}],morningFood:[{required:!0,message:\"请选择早餐菜品数量\",trigger:\"change\"}],noonFood:[{required:!0,message:\"请选择午餐菜品数量\",trigger:\"change\"}],nightFood:[{required:!0,message:\"请选择晚餐菜品数量\",trigger:\"change\"}]},radio:\"\",oneStageObj:{initVal:20,dayVal:5,heightVal:50},twoStageObj:{initVal:20,dayVal:5,heightVal:50},threeStageObj:{mainVal:20}}},watch:{$route:{handler:function(e,t){e&&(this.userForm.userId=this.$route.query.userId)},deep:!0,immediate:!0},getFoodForm:{handler:function(e,t){e&&(this.foodForm=this.getFoodForm)},deep:!0,immediate:!0},getUserForm:{handler:function(e,t){e&&(this.userForm=this.getUserForm)},deep:!0,immediate:!0},getOneStageObj:{handler:function(e,t){e&&(this.oneStageObj=this.getOneStageObj)},deep:!0,immediate:!0},getTwoStageObj:{handler:function(e,t){e&&(this.twoStageObj=this.getTwoStageObj)},deep:!0,immediate:!0},getThreeStageObj:{handler:function(e,t){e&&(this.threeStageObj=this.getThreeStageObj)},deep:!0,immediate:!0}},computed:Object(i.a)({},Object(n.c)([\"getUserForm\",\"getFoodForm\",\"getOneStageObj\",\"getTwoStageObj\",\"getThreeStageObj\"])),created:function(){this.oneStageObj={initVal:20,dayVal:5,heightVal:50},this.twoStageObj={initVal:20,dayVal:5,heightVal:50},this.threeStageObj={mainVal:20}},mounted:function(){var e=this;this.userForm.userId=this.$route.query.userId,this.userForm.userId&&Object(s.l)(this.userForm.userId).then(function(){var t=Object(r.a)(Object(a.a)().mark((function t(o){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.userForm=Object(i.a)(Object(i.a)({},o.data.userInfo),{},{totalPercent:\"1\",morningPercent:\"0.3\",noonPercent:\"0.4\",nightPercent:\"0.3\"}),e.computedMeta();case 2:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t)}))},methods:Object(i.a)(Object(i.a)({},Object(n.d)([\"setRecipeDayList\",\"setUserForm\",\"setFoodForm\",\"setOneStageObj\",\"setTwoStageObj\",\"setThreeStageObj\"])),{},{computedMeta:function(){var e=this,t={userId:this.userForm.userId,sex:this.userForm.sex,height:this.userForm.height,weight:this.userForm.weight,age:this.userForm.age};return this.userForm.userId?this.userForm.height?this.userForm.weight?this.userForm.age?null==this.userForm.sex?this.$message.error(\"请选择客户性别\"):this.validateHeight(this.userForm.height)?this.validateWeight(this.userForm.weight)?this.validateAge(this.userForm.age)?void Object(s.T)(t).then(function(){var t=Object(r.a)(Object(a.a)().mark((function t(o){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200==o.code?(e.isDisabled=!1,setTimeout((function(){e.userForm.totalHeat=o.data.day,e.userForm.heat=e.userForm.totalHeat,e.isDisabled=!0}),1e3)):e.$message.error(\"计算基础代谢\");case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t)})):this.$message.error(\"客户年龄只能是大于10岁且小于140岁之间，并且只能是正整数\"):this.$message.error(\"客户体重只能是大于30kg且小于200kg，并且只能保留一位小数\"):this.$message.error(\"客户身高只能是大于50cm且小于250cm，并且只能保留一位小数\"):this.$message.error(\"请输入客户年龄\"):this.$message.error(\"请输入客户体重\"):this.$message.error(\"请输入客户身高\"):this.$message.error(\"客户身份标识不存在\")},validateHeight:function(e){return!!(/^-?\\d+(\\.\\d+)?$/.test(e)&&50<Number(e)&&Number(e)<250)&&/^([5-9]|\\d{2,})(\\.\\d)?$/.test(e)},validateWeight:function(e){return!!(/^-?\\d+(\\.\\d+)?$/.test(e)&&30<Number(e)&&Number(e)<200)&&/^([5-9]|\\d{2,})(\\.\\d)?$/.test(e)},validateAge:function(e){return!!(/^-?\\d+(\\.\\d+)?$/.test(e)&&10<Number(e)&&Number(e)<140)&&/^([0-9]{1,2}|140)$/.test(e)},nextSave:function(){var e=this;if(!this.userForm.totalHeat)return this.$message.error(\"请先计算基础代谢\"),!1;var t=!1;if(this.$refs.userForm.validate((function(e){if(!e)return t=!1;t=!0})),this.$refs.foodForm.validate((function(e){if(!e)return t=!1;t=!0})),t){this.loading=!0;var o={userId:this.userForm.userId,totalHeat:parseFloat(this.userForm.totalHeat),totalPercent:parseFloat(this.userForm.totalPercent),morningPercent:parseFloat(this.userForm.morningPercent),noonPercent:parseFloat(this.userForm.noonPercent),nightPercent:parseFloat(this.userForm.nightPercent),day:Number(this.foodForm.day),stage:this.foodForm.stage,spicy:this.foodForm.spicy,economy:this.foodForm.economy,morningFood:this.foodForm.morningFood,noonFood:this.foodForm.noonFood,nightFood:this.foodForm.nightFood,ingredient:this.foodForm.ingredient,difficultyLevel:this.foodForm.difficultyLevel,radio:this.radio,oneStageObj:Object(i.a)({},this.oneStageObj),twoStageObj:Object(i.a)({},this.twoStageObj),threeStageObj:Object(i.a)({},this.threeStageObj)};if(\"第二阶段\"===this.foodForm.stage&&(\"\"===this.radio||void 0===this.radio))return this.$message.error(\"请选择阶段天数\"),!1;Object(s.J)(o).then(function(){var t=Object(r.a)(Object(a.a)().mark((function t(o){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200==o.code?(e.loading=!1,e.setRecipeDayList(o.data),e.setUserForm(e.userForm),e.setFoodForm(e.foodForm),e.setOneStageObj(e.oneStageObj),e.setTwoStageObj(e.twoStageObj),e.setThreeStageObj(e.threeStageObj),e.$emit(\"handleFunc\",!0)):(e.$message.error(o.msg),e.loading=!1);case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t),e.loading=!1}))}},handleSelectChange:function(e){this.userForm.heat=parseFloat((Number(this.userForm.totalHeat)*Number(this.userForm.totalPercent)).toFixed(2)).toString()}})},c=(o(\"ef80\"),o(\"2877\")),d=(l=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}]},[t(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add\"},[t(\"el-form\",{ref:\"userForm\",attrs:{model:e.userForm,rules:e.userRules,\"label-width\":\"110px\",\"label-position\":\"right\",inline:\"\"}},[t(\"div\",{staticClass:\"acea-row search-form\"},[t(\"div\",[t(\"el-form-item\",{attrs:{label:\"客户身高(cm) :\",prop:\"height\"}},[t(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请输入客户身高\"},model:{value:e.userForm.height,callback:function(t){e.$set(e.userForm,\"height\",t)},expression:\"userForm.height\"}})],1),t(\"el-form-item\",{attrs:{label:\"客户体重(kg) :\",prop:\"weight\"}},[t(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请输入客户体重\"},model:{value:e.userForm.weight,callback:function(t){e.$set(e.userForm,\"weight\",t)},expression:\"userForm.weight\"}})],1),t(\"el-form-item\",{attrs:{label:\"客户年龄：\",prop:\"age\"}},[t(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请输入客户年龄\"},model:{value:e.userForm.age,callback:function(t){e.$set(e.userForm,\"age\",t)},expression:\"userForm.age\"}})],1),t(\"el-form-item\",{attrs:{label:\"客户性别：\",prop:\"sex\"}},[t(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择客户性别\"},model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,\"sex\",t)},expression:\"userForm.sex\"}},e._l(e.sexOptions,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e.label,value:e.value}})})),1)],1),t(\"el-form-item\",{attrs:{label:\"   \"}},[t(\"el-button\",{staticClass:\"form_content_width\",attrs:{type:\"primary\",size:\"small\"},on:{click:e.computedMeta}},[e._v(\"计算基础代谢\")])],1)],1),t(\"div\",[t(\"el-form-item\",{attrs:{label:\"   \",prop:\"totalHeat\"}},[t(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请输入\",disabled:e.isDisabled},model:{value:e.userForm.totalHeat,callback:function(t){e.$set(e.userForm,\"totalHeat\",t)},expression:\"userForm.totalHeat\"}})],1),t(\"el-form-item\",{attrs:{label:\"总热量控制：\",prop:\"totalPercent\"}},[t(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择总热量代谢百分比\"},on:{change:e.handleSelectChange},model:{value:e.userForm.totalPercent,callback:function(t){e.$set(e.userForm,\"totalPercent\",t)},expression:\"userForm.totalPercent\"}},e._l(e.precentOptions,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e.label,value:e.value}})})),1)],1),t(\"el-form-item\",{attrs:{label:\"\",prop:\"heat\"}},[t(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:\"\",disabled:e.isDisabled},model:{value:e.userForm.heat,callback:function(t){e.$set(e.userForm,\"heat\",t)},expression:\"userForm.heat\"}})],1),t(\"el-form-item\",{attrs:{label:\"早：\",prop:\"morningPercent\"}},[t(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择早餐代谢百分比\"},model:{value:e.userForm.morningPercent,callback:function(t){e.$set(e.userForm,\"morningPercent\",t)},expression:\"userForm.morningPercent\"}},e._l(e.morningPercents,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e.label,value:e.value}})})),1)],1),t(\"el-form-item\",{attrs:{label:\"午：\",prop:\"noonPercent\"}},[t(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择午餐代谢百分比\"},model:{value:e.userForm.noonPercent,callback:function(t){e.$set(e.userForm,\"noonPercent\",t)},expression:\"userForm.noonPercent\"}},e._l(e.noonPercents,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e.label,value:e.value}})})),1)],1),t(\"el-form-item\",{attrs:{label:\"晚：\",prop:\"nightPercent\"}},[t(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择晚餐代谢百分比\"},model:{value:e.userForm.nightPercent,callback:function(t){e.$set(e.userForm,\"nightPercent\",t)},expression:\"userForm.nightPercent\"}},e._l(e.nightPercents,(function(e,o){return t(\"el-option\",{key:o,attrs:{label:e.label,value:e.value}})})),1)],1)],1)])])],1)]),t(\"el-card\",{staticClass:\"ivu-mt mt_16\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add\"},[t(\"el-form\",{ref:\"foodForm\",attrs:{rules:e.foodRules,model:e.foodForm,\"label-width\":\"100px\"}},[t(\"el-form-item\",{attrs:{label:\"食谱天数：\",prop:\"day\"}},[t(\"el-radio-group\",{model:{value:e.foodForm.day,callback:function(t){e.$set(e.foodForm,\"day\",t)},expression:\"foodForm.day\"}},e._l(e.dayOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"el-form-item\",{attrs:{label:\"适应阶段：\",prop:\"stage\"}},[t(\"div\",{staticClass:\"stageBox\"},[t(\"el-radio-group\",{model:{value:e.foodForm.stage,callback:function(t){e.$set(e.foodForm,\"stage\",t)},expression:\"foodForm.stage\"}},e._l(e.stageOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"第二阶段\"==e.foodForm.stage,expression:\"foodForm.stage=='第二阶段'\"}],staticClass:\"tableBox\"},[t(\"ul\",{staticClass:\"tableHeader\"},[t(\"li\"),t(\"li\",[e._v(\"阶段\")]),t(\"li\",[e._v(\"初始值(g)\")]),t(\"li\",[e._v(\"每日添加值(g)\")]),t(\"li\",[e._v(\"最高值(g)\")])]),t(\"el-radio-group\",{staticStyle:{width:\"100%\"},model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}},[t(\"ul\",{staticClass:\"bottomBorder\"},[t(\"li\",[t(\"el-radio\",{attrs:{label:1}})],1),t(\"li\",[e._v(\"1-7天内\")]),t(\"li\",[t(\"el-input\",{staticClass:\"countWidth\",model:{value:e.oneStageObj.initVal,callback:function(t){e.$set(e.oneStageObj,\"initVal\",t)},expression:\"oneStageObj['initVal']\"}})],1),t(\"li\",[t(\"el-input\",{staticClass:\"countWidth\",model:{value:e.oneStageObj.dayVal,callback:function(t){e.$set(e.oneStageObj,\"dayVal\",t)},expression:\"oneStageObj['dayVal']\"}})],1),t(\"li\",[t(\"el-input\",{staticClass:\"countWidth\",model:{value:e.oneStageObj.heightVal,callback:function(t){e.$set(e.oneStageObj,\"heightVal\",t)},expression:\"oneStageObj['heightVal']\"}})],1)]),t(\"ul\",{staticClass:\"bottomBorder\"},[t(\"li\",[t(\"el-radio\",{attrs:{label:2}})],1),t(\"li\",[e._v(\"8-14天内\")]),t(\"li\",[t(\"el-input\",{staticClass:\"countWidth\",model:{value:e.twoStageObj.initVal,callback:function(t){e.$set(e.twoStageObj,\"initVal\",t)},expression:\"twoStageObj['initVal']\"}})],1),t(\"li\",[t(\"el-input\",{staticClass:\"countWidth\",model:{value:e.twoStageObj.dayVal,callback:function(t){e.$set(e.twoStageObj,\"dayVal\",t)},expression:\"twoStageObj['dayVal']\"}})],1),t(\"li\",[t(\"el-input\",{staticClass:\"countWidth\",model:{value:e.twoStageObj.heightVal,callback:function(t){e.$set(e.twoStageObj,\"heightVal\",t)},expression:\"twoStageObj['heightVal']\"}})],1)]),t(\"ul\",[t(\"li\",[t(\"el-radio\",{attrs:{label:3}})],1),t(\"li\",[e._v(\"15天以上\")]),t(\"li\",{staticClass:\"moreLiBox\"},[t(\"span\",[e._v(\"主食添加量：\")]),t(\"el-input\",{staticStyle:{display:\"inline-block\",width:\"200px\"},model:{value:e.threeStageObj.mainVal,callback:function(t){e.$set(e.threeStageObj,\"mainVal\",t)},expression:\"threeStageObj['mainVal']\"}},[t(\"i\",{attrs:{slot:\"suffix\"},slot:\"suffix\"},[e._v(\"g\")])])],1)])])],1)]),t(\"el-form-item\",{attrs:{label:\"辣度选择：\",prop:\"spicy\"}},[t(\"el-radio-group\",{model:{value:e.foodForm.spicy,callback:function(t){e.$set(e.foodForm,\"spicy\",t)},expression:\"foodForm.spicy\"}},e._l(e.spicyOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"el-form-item\",{attrs:{label:\"难易程度：\",prop:\"difficultyLevel\"}},[t(\"el-radio-group\",{model:{value:e.foodForm.difficultyLevel,callback:function(t){e.$set(e.foodForm,\"difficultyLevel\",t)},expression:\"foodForm.difficultyLevel\"}},e._l(e.difficultyLevelOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"el-form-item\",{attrs:{label:\"早餐几个菜：\",prop:\"morningFood\"}},[t(\"el-radio-group\",{model:{value:e.foodForm.morningFood,callback:function(t){e.$set(e.foodForm,\"morningFood\",t)},expression:\"foodForm.morningFood\"}},e._l(e.fCountOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"el-form-item\",{attrs:{label:\"午餐几个菜：\",prop:\"noonFood\"}},[t(\"el-radio-group\",{model:{value:e.foodForm.noonFood,callback:function(t){e.$set(e.foodForm,\"noonFood\",t)},expression:\"foodForm.noonFood\"}},e._l(e.fCountOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"el-form-item\",{attrs:{label:\"晚餐几个菜： \",prop:\"nightFood\"}},[t(\"el-radio-group\",{model:{value:e.foodForm.nightFood,callback:function(t){e.$set(e.foodForm,\"nightFood\",t)},expression:\"foodForm.nightFood\"}},e._l(e.fCountOptions,(function(o,i){return t(\"el-radio\",{key:i,attrs:{label:o.value}},[e._v(e._s(o.label))])})),1)],1),t(\"el-form-item\",{attrs:{label:\"不常用食材：\"}},[t(\"el-input\",{staticStyle:{width:\"800px\"},attrs:{type:\"textarea\",rows:5,placeholder:\"请输入内容(推荐使用英文分号区分)\"},model:{value:e.foodForm.ingredient,callback:function(t){e.$set(e.foodForm,\"ingredient\",t)},expression:\"foodForm.ingredient\"}})],1),t(\"el-form-item\",[t(\"el-button\",{attrs:{type:\"primary\"},nativeOn:{click:function(t){return e.nextSave.apply(null,arguments)}}},[e._v(\"下一步\")])],1)],1)],1)])],1)}),[],!1,null,\"0c0cc838\",null).exports,o(\"b0c0\"),o(\"4de4\"),o(\"c740\"),o(\"d81d\"),o(\"14d9\"),o(\"fb6a\"),o(\"a434\"),o(\"159b\"),o(\"a4d3\"),o(\"e01a\"),{name:\"mainDialog\",props:{isMainShow:{type:Boolean,default:!1},weight:{type:String,default:\"0\"},foodId:{type:String,default:\"\"},week1:{type:String,default:\"1\"},obj1:{type:Object,default:{}},stage1:{type:String,default:\"第一阶段\"}},data:function(){return{radio:\"\",name:\"\",loading:!1,foodList:[],total:0,page:1,limit:10}},filters:{foodFilter:function(e){return\"\"}},mounted:function(){},methods:{handleRadioChange:function(e){this.radio=e},getDetails:function(e,t){var o=this;this.loading=!0,t={foodId:t,name:this.name,page:this.page,limit:this.limit};Object(s.H)(t).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.code?(o.loading=!1,o.foodList=t.data.list,o.total=t.data.count):(o.loading=!1,o.$message.error(t.msg));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.loading=!1,o.$message.error(e.msg)}))},searchFood:function(){this.getDetails(this.type,this.foodId)},saveFood:function(){var e=this,t=[],o=(this.obj1.recipes.map((function(e){return e.uuId}))&&this.obj1.recipes.map((function(e){return e.uuId})).forEach((function(e){t.push(e)})),{food:{uuId:this.radio,weight:this.weight},week:this.week1,element:{type:this.obj1.type,value:parseFloat(Number(this.obj1.elements.filter((function(e){return\"热量\"===e.element})).map((function(e){return e.value}))[0]).toFixed(2)).toString(),recipeIds:t}});this.loading=!0,Object(s.g)(o).then((function(t){e.radio=\"\",e.name=\"\",e.foodList=[],e.total=0,e.page=1,e.limit=10,e.$emit(\"updateMainFood\",t.data,e.week1)})).catch((function(t){e.loading=!1,e.$message({type:\"error\",message:\"替换失败\",duration:1e3})}))},handleClose:function(){this.radio=\"\",this.name=\"\",this.foodList=[],this.total=0,this.page=1,this.limit=10,this.$emit(\"closeMainFood\"),this.$emit(\"update:isMainShow\",!this.isMainShow)},pageChange:function(){this.getDetails(this.type,this.foodId)}}}),u=(d=(o(\"c4a5\"),Object(c.a)(d,(function(){var e=this,t=e._self._c;return e.isMainShow?t(\"el-dialog\",{attrs:{title:\"替换相关主食\",visible:e.isMainShow,width:\"65%\",\"before-close\":e.handleClose,\"destroy-on-close\":\"\",\"close-on-press-escape\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.isMainShow=t}}},[t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"foodBox\"},[t(\"div\",{staticClass:\"searchBox\"},[t(\"span\",[e._v(\"搜索：\")]),t(\"el-input\",{staticStyle:{width:\"457px\"},attrs:{placeholder:\"请输入要替换的主食\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}}),t(\"el-button\",{staticClass:\"ml15\",attrs:{type:\"primary\"},on:{click:e.searchFood}},[e._v(\" 查询\")])],1),t(\"div\",{staticClass:\"foodTips\"},[e._v(\"以下食物可替换\"),t(\"span\",[e._v(\"其他主食\")])]),t(\"div\",{staticClass:\"foodList\"},[t(\"el-radio-group\",{staticStyle:{width:\"100%\"},on:{change:e.handleRadioChange},model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}},e._l(e.foodList,(function(o,i){return t(\"el-radio\",{key:o.uuId,staticClass:\"radioBox\",attrs:{label:o.uuId}},[t(\"div\",{staticClass:\"foodItem\"},[t(\"div\",{staticClass:\"foodLeft\"},[t(\"img\",{attrs:{src:o.imgData.url,alt:\"\"}})]),t(\"div\",{staticClass:\"foodCenter\"},[t(\"div\",{staticClass:\"foodName textMore\"},[e._v(e._s(o.name))]),t(\"div\",{staticClass:\"foodCount textMore\"},[e._v(e._s(o.description))])])])])})),1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.total?t(\"pagination\",{attrs:{total:e.total,page:e.page,limit:e.limit},on:{\"update:page\":function(t){e.page=t},\"update:limit\":function(t){e.limit=t},pagination:e.pageChange}}):e._e()],1)],1)]),t(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[t(\"el-button\",{on:{click:e.handleClose}},[e._v(\"取 消\")]),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveFood}},[e._v(\"确 定\")])],1)]):e._e()}),[],!1,null,\"420471a2\",null).exports),o(\"e9c4\"),{name:\"replaceDialog\",props:{isShow:{type:Boolean,default:!1},recipeIds:{type:Array,default:[]},week:{type:String,default:\"1\"},obj:{type:Object,default:{}},stage:{type:String,default:\"第一阶段\"}},data:function(){return{radio:\"\",name:\"\",loading:!1,recipeList:[],total:0,page:1,limit:10,gear:\"\",options:[{value:\"2\",label:\"纯荤\"},{value:\"1\",label:\"纯素\"},{value:\"3\",label:\"荤素搭配\"}]}},filters:{foodFilter:function(e){var t=\"\";return e.mainFoods.forEach((function(e,o){t=0==o?e.foodName:t+\"、\"+e.foodName})),t}},mounted:function(){},methods:{handleRadioChange:function(e){this.radio=e},getDetails:function(e,t){var o=this;this.loading=!0,t={recipeIds:JSON.stringify(t),type:1==e?\"早餐\":2==e?\"午餐\":\"晚餐\",gear:this.gear,name:this.name,stage:this.stage,page:this.page,limit:this.limit};Object(s.I)(t).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.code?(o.loading=!1,o.recipeList=t.data.list,o.total=t.data.count):(o.loading=!1,o.$message.error(t.msg));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.loading=!1,o.$message.error(e.msg)}))},searchFood:function(){this.getDetails(this.type,this.recipeIds)},saveFood:function(){var e=this,t=[this.radio],o=(this.obj.recipes=this.obj.recipes.filter((function(t){return t.uuId!==e.recipeIds[0]})),this.obj.recipes.map((function(e){return e.uuId}))&&this.obj.recipes.map((function(e){return e.uuId})).forEach((function(e){t.push(e)})),{food:this.obj.food,week:this.week,element:{type:this.obj.type,value:parseFloat(Number(this.obj.elements.filter((function(e){return\"热量\"===e.element})).map((function(e){return e.value}))[0]).toFixed(2)).toString(),recipeIds:t}}),i=(this.loading=!0,this);Object(s.g)(o).then((function(t){e.radio=\"\",e.name=\"\",e.recipeList=[],e.total=0,e.page=1,e.limit=10,i.$emit(\"updateFood\",t.data,e.week)})).catch((function(t){e.loading=!1,e.$message({type:\"error\",message:\"替换失败\",duration:1e3})}))},handleClose:function(){this.radio=\"\",this.name=\"\",this.recipeList=[],this.total=0,this.page=1,this.limit=10,this.$emit(\"closeFood\")},pageChange:function(){this.getDetails(this.type,this.recipeIds)}}}),f=(u=(o(\"667f\"),Object(c.a)(u,(function(){var e=this,t=e._self._c;return e.isShow?t(\"el-dialog\",{attrs:{title:\"替换相关食物\",visible:e.isShow,width:\"65%\",\"before-close\":e.handleClose,\"destroy-on-close\":\"\",\"close-on-press-escape\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.isShow=t}}},[t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"foodBox\"},[t(\"div\",{staticClass:\"searchBox\"},[t(\"span\",[e._v(\"分类：\")]),t(\"el-select\",{staticStyle:{\"margin-right\":\"10px\"},attrs:{placeholder:\"请选择\"},model:{value:e.gear,callback:function(t){e.gear=t},expression:\"gear\"}},e._l(e.options,(function(e){return t(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t(\"span\",[e._v(\"搜索：\")]),t(\"el-input\",{staticStyle:{width:\"457px\"},attrs:{placeholder:\"请输入要替换的食物\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}}),t(\"el-button\",{staticClass:\"ml15\",attrs:{type:\"primary\"},on:{click:e.searchFood}},[e._v(\" 查询\")])],1),t(\"div\",{staticClass:\"foodTips\"},[e._v(\"以下食物可替换\"),t(\"span\",[e._v(\"其他食谱\")])]),t(\"div\",{staticClass:\"foodList\"},[t(\"el-radio-group\",{staticStyle:{width:\"100%\"},on:{change:e.handleRadioChange},model:{value:e.radio,callback:function(t){e.radio=t},expression:\"radio\"}},e._l(e.recipeList,(function(o,i){return t(\"el-radio\",{key:o.uuId,staticClass:\"radioBox\",attrs:{label:o.uuId}},[t(\"div\",{staticClass:\"foodItem\"},[t(\"div\",{staticClass:\"foodLeft\"},[t(\"img\",{attrs:{src:o.mainImage.url,alt:\"\"}})]),t(\"div\",{staticClass:\"foodCenter\"},[1==o.gear?t(\"div\",{staticClass:\"foodName textMore\"},[e._v(e._s(o.name+\"（纯素）\"))]):e._e(),2==o.gear?t(\"div\",{staticClass:\"foodName textMore\"},[e._v(e._s(o.name+\"（纯肉）\"))]):e._e(),3==o.gear?t(\"div\",{staticClass:\"foodName textMore\"},[e._v(e._s(o.name+\"（荤素搭配）\"))]):e._e(),t(\"div\",{staticClass:\"foodCount textMore\"},[e._v(e._s(e._f(\"foodFilter\")(o)))])])])])})),1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.total?t(\"pagination\",{attrs:{total:e.total,page:e.page,limit:e.limit},on:{\"update:page\":function(t){e.page=t},\"update:limit\":function(t){e.limit=t},pagination:e.pageChange}}):e._e()],1)],1)]),t(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[t(\"el-button\",{on:{click:e.handleClose}},[e._v(\"取 消\")]),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveFood}},[e._v(\"确 定\")])],1)]):e._e()}),[],!1,null,\"cbc264c2\",null).exports),o(\"99af\"),o(\"caad\"),o(\"2532\"),o(\"192c\")),h={name:\"addDialog\",props:{isAddShow:{type:Boolean,default:!1},weekObj:{type:Object},stage:{type:String,default:\"第一阶段\"}},data:function(){return{loading:!1,filterText:\"\",data:[],checked:[],defaultProps:{children:\"children\",label:\"label\"}}},mounted:function(){},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:Object(i.a)({},Object(n.c)([\"getRecipeDayList\"])),methods:Object(i.a)(Object(i.a)({},Object(n.d)([\"setRecipeDayList\"])),{},{getDetails:function(e,t){var o=this,i=this,n=(t=(this.loading=!0,this.filterText=\"\",i.checked=[],t.forEach((function(e){e.recipes&&0<e.recipes.length&&e.recipes.forEach((function(t){i.checked.push(String(e.type).concat(\"-\",t.uuId))}))})),e.filter((function(e){return 1==e.type}))),e.filter((function(e){return 2==e.type})));e=e.filter((function(e){return 3==e.type})),t=[{type:1,recipeIds:t[0].recipes.map((function(e){return e.uuId}))},{type:2,recipeIds:n[0].recipes.map((function(e){return e.uuId}))},{type:3,recipeIds:e[0].recipes.map((function(e){return e.uuId}))}];Object(s.Q)(t,{name:this.filterText,stage:this.stage}).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.code?(o.loading=!1,o.data=t.data):(o.loading=!1,o.$message.error(t.msg));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.loading=!1,o.$message.error(e.msg)}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},saveFood:function(){var e=this,t=this.$refs.tree.getCheckedKeys();if(t&&0<t.length){var o=[];if(t.forEach((function(e){var t={},i=(e=e.split(\"-\"),e[0]);e=e[1];t.type=i,t.uuId=e,o.push(t)})),0==o.filter((function(e){return 1==e.type})).length)this.$message.warning(\"请至少选中一个早餐食谱\");else if(2<o.filter((function(e){return 1==e.type})).length)this.$message.warning(\"早餐食谱最多只能选中两个\");else if(0==o.filter((function(e){return 2==e.type})).length)this.$message.warning(\"请至少选中一个午餐食谱\");else if(2<o.filter((function(e){return 2==e.type})).length)this.$message.warning(\"午餐食谱最多只能选中两个\");else if(0==o.filter((function(e){return 3==e.type})).length)this.$message.warning(\"请至少选中一个晚餐食谱\");else if(2<o.filter((function(e){return 3==e.type})).length)this.$message.warning(\"晚餐食谱最多只能选中两个\");else{var i=[],n=[],l=[];if(o.forEach((function(e){1==e.type?Object(f.c)(e.uuId).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.push(t.data.gear);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):2==e.type?Object(f.c)(e.uuId).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push(t.data.gear);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):Object(f.c)(e.uuId).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.push(t.data.gear);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),1==i.length&&!i.some((function(e){return 3===e})))return void this.$message.warning(\"一个食谱只能是荤素\");if(1==n.length&&!n.some((function(e){return 3===e})))return void this.$message.warning(\"一个食谱只能是荤素\");if(1==l.length&&!l.some((function(e){return 3===e})))return void this.$message.warning(\"一个食谱只能是荤素\");if(2==i.length){t=hasBoth(i,1,2);var c=hasBoth(i,1,3),d=hasBoth(i,2,3),u=hasBoth(i,3,3);if(!(t&&c&&d&&u))return void this.$message.warning(\"两个食谱必须包含荤菜\")}if(2==n.length&&(t=hasBoth(n,1,2),c=hasBoth(n,1,3),d=hasBoth(n,2,3),u=hasBoth(n,3,3),!(t&&c&&d&&u)))return void this.$message.warning(\"两个食谱必须包含荤菜\");if(2==l.length&&(t=hasBoth(l,1,2),c=hasBoth(l,1,3),d=hasBoth(l,2,3),u=hasBoth(l,3,3),!(t&&c&&d&&u)))return void this.$message.warning(\"两个食谱必须包含荤菜\");var h,m=[];for(h in this.weekObj.customs)!function(t){e.weekObj.customs[t].elements.forEach((function(e){\"热量\"==e.element&&(i=parseFloat(Number(e.value).toFixed(2)).toString())}));var i,a={type:e.weekObj.customs[t].type,value:i,recipeIds:o.filter((function(o){return o.type==e.weekObj.customs[t].type})).map((function(e){return e.uuId})),food:e.weekObj.customs[t].food};m.push(a)}(h);t={week:this.weekObj.week,elements:m},this.loading=!0,Object(s.R)(t).then((function(t){e.loading=!1,e.$emit(\"addFood\",t.data,o)})).catch((function(t){e.loading=!1,e.$message({type:\"error\",message:\"添加失败\",duration:1e3})}))}}},handleClose:function(){this.$emit(\"closeFood\")},hasBoth:function(e,t,o){return e.includes(t)&&e.includes(o)}})};o(\"2018\"),d={name:\"user_weekFood\",components:{mainDialog:d,replaceDialog:u,addDialog:Object(c.a)(h,(function(){var e=this,t=e._self._c;return t(\"el-dialog\",{attrs:{title:\"添加菜品\",visible:e.isAddShow,width:\"756px\",\"before-close\":e.handleClose,\"close-on-press-escape\":!1,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.isAddShow=t}}},[t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"foodBox\"},[t(\"div\",{staticClass:\"searchBox\"},[t(\"span\",[e._v(\"搜索：\")]),t(\"el-input\",{staticStyle:{width:\"457px\"},attrs:{placeholder:\"请输入菜谱名称\"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:\"filterText\"}})],1),t(\"div\",{staticClass:\"treeBox\"},[t(\"el-tree\",{ref:\"tree\",staticClass:\"filter-tree\",attrs:{data:e.data,\"show-checkbox\":\"\",\"node-key\":\"id\",props:e.defaultProps,\"default-checked-keys\":e.checked,\"filter-node-method\":e.filterNode}})],1)]),t(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[t(\"el-button\",{on:{click:e.handleClose}},[e._v(\"取 消\")]),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveFood}},[e._v(\"确 定\")])],1)])}),[],!1,null,\"3f4ac716\",null).exports},data:function(){return{userId:\"\",weekData:[],isShow:!1,isMainShow:!1,foodId:\"\",weight:\"0\",recipeIds:[],obj1:{},obj:{},week1:\"1\",week:\"1\",checkedList:[],isAddShow:!1,weekDay:\"1\",weekObj:{week:\"\",customs:[]},foodForm:{day:0,stage:\"\",spicy:0,economy:0,morningFood:\"\",noonFood:\"\",nightFood:\"\",ingredient:\"\",difficultyLevel:0}}},filters:{weekFilter:function(e){var t=\"\";switch(e){case\"1\":t=\"星期一\";break;case\"2\":t=\"星期二\";break;case\"3\":t=\"星期三\";break;case\"4\":t=\"星期四\";break;case\"5\":t=\"星期五\";break;case\"6\":t=\"星期六\";break;case\"7\":t=\"星期日\"}return t},elementFilter:function(e){var t=\"建议\";return e.map((function(e){\"热量\"==e.element?t+=e.element+parseFloat(Number(e.value)).toFixed(2)+\"千卡，\":t+=e.element+parseFloat(Number(e.value)).toFixed(2)+\"克，\"})),t.slice(0,-1)},weightFilter:function(e){var t=\"\";return e.mainFoods.forEach((function(e,o){t=0==o?e.weight?e.foodName+\":\"+parseFloat(Number(e.weight).toFixed(0))+\"克\":e.foodName+\":0克\":e.weight?t+\"、\"+e.foodName+\":\"+parseFloat(Number(e.weight).toFixed(0))+\"克\":t+\"、\"+e.foodName+\":0克\"})),t}},computed:Object(i.a)({},Object(n.c)([\"getRecipeDayList\",\"getFoodForm\"])),mounted:function(){this.weekData=this.getRecipeDayList,this.userId=this.$route.query.userId,this.foodForm=Object(i.a)({},this.getFoodForm)},watch:{getRecipeDayList:{handler:function(e,t){e&&(this.weekData=this.getRecipeDayList)},deep:!0,immediate:!0},$route:{handler:function(e,t){e&&(this.userId=this.$route.query.userId)},deep:!0,immediate:!0},getFoodForm:{handler:function(e,t){e&&(this.foodForm=this.getFoodForm)},deep:!0,immediate:!0}},methods:Object(i.a)(Object(i.a)({},Object(n.d)([\"setRecipeDayList\"])),{},{delFood:function(e,t,o){var i=this;e.recipes.splice(o,1),o={week:t,element:{type:e.type,value:parseFloat(Number(e.elements.filter((function(e){return\"热量\"===e.element})).map((function(e){return e.value}))[0]).toFixed(2)).toString(),recipeIds:e.recipes.map((function(e){return e.uuId}))}};Object(s.g)(o).then((function(o){for(var a=0;a<i.weekData.length;a++)if(i.weekData[a].week===t)for(var r=0;r<i.weekData[a].customs.length;r++)if(i.weekData[a].customs[r].type===o.data.type){i.$set(i.weekData[a].customs[r],r,o.data),e.elements=o.data.elements,e.food=o.data.food;break}}))},clickTH:function(e,t,o,a){this.isShow=!0,this.recipeIds=[a.uuId],this.obj=Object(i.a)({},e),this.week=t,this.$refs.replaceDialog.getDetails(e.type,this.recipeIds)},clickTF:function(e,t){this.isMainShow=!0,this.foodId=e.food.uuId,this.weight=e.food.weight,this.obj1=Object(i.a)({},e),this.week1=t,this.$refs.mainDialog.getDetails(e.type,this.foodId)},updateMainFood:function(e,t){this.isMainShow=!1;for(var o=0;o<this.weekData.length;o++)if(this.weekData[o].week===t)for(var i=0;i<this.weekData[o].customs.length;i++)if(this.weekData[o].customs[i].type===e.type){this.$set(this.weekData[o].customs,i,e),this.foodId=\"\",this.weight=\"0\",this.obj1={},this.week1=\"1\";break}},updateFood:function(e,t){this.isShow=!1;for(var o=0;o<this.weekData.length;o++)if(this.weekData[o].week===t)for(var i=0;i<this.weekData[o].customs.length;i++)if(this.weekData[o].customs[i].type===e.type){this.$set(this.weekData[o].customs,i,e),this.recipeIds=[],this.obj={},this.week=\"1\";break}},closeMainFood:function(){this.foodId=\"\",this.weight=\"0\",this.obj1={},this.week1=\"1\",this.isMainShow=!1,this.weekObj={week:\"\",customs:[]},this.isAddShow=!1},closeFood:function(){this.recipeIds=[],this.obj={},this.week=\"1\",this.isShow=!1,this.weekObj={week:\"\",customs:[]},this.isAddShow=!1},addFood:function(e,t){this.isAddShow=!1;for(var o=0;o<this.weekData.length;o++)if(this.weekData[o].week===e.week){this.$set(this.weekData,o,e);break}},getlistRecipe:function(e,t){var o=this;Object(s.u)(e).then((function(e){var i=e.data;i&&0<i.length&&i.forEach((function(e){t.forEach((function(t){e.uuId===t.uuId&&(e.type=t.type)}))})),o.weekData.forEach((function(e){e.week===o.weekDay&&i.forEach((function(t){e.customs.forEach((function(e){t.type==e.type&&o.addToArrayUnique(e.recipes,t)}))}))}))}))},addToArrayUnique:function(e,t){-1===e.findIndex((function(e){return e.uuId===t.uuId}))&&e.push(t)},addFoods:function(e){this.weekDay=e.week,this.weekObj=e,this.isAddShow=!0;var t=[];this.recipeIds=[],e.customs&&(this.recipeIds=e.customs,this.recipeIds)&&0<this.recipeIds.length&&this.recipeIds.forEach((function(e){t.push(e)})),this.$refs.addDialog.getDetails(this.recipeIds,t)},clickPre:function(){this.$emit(\"handleTwo\",\"pre\")},clickNext:function(){this.setRecipeDayList([]),this.setRecipeDayList(this.weekData),this.$emit(\"handleTwo\",\"next\")},replaceElement:function(e,t,o){return e.map((function(e){return e===t?o:e}))}})},o(\"ef99\"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t(\"div\",[e._l(e.weekData,(function(i,a){return t(\"el-card\",{key:a,staticClass:\"ivu-mt mb15 pl\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add\"},[t(\"div\",{staticClass:\"itemWrap\"},[t(\"div\",{staticClass:\"itemLeft\"},[e._v(e._s(e._f(\"weekFilter\")(i.week)))]),t(\"div\",{staticClass:\"itemRight\"},[t(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:\"20px\"}}},e._l(i.customs,(function(a,r){return t(\"div\",{key:r,staticClass:\"timeItem\"},[t(\"div\",{staticClass:\"timeText textMore\"},[e._v(\"\\n                  \"+e._s(1===a.type?\"早餐\":2===a.type?\"午餐\":\"晚餐\")+\"\\n                  \"),t(\"span\",[e._v(e._s(e._f(\"elementFilter\")(a.elements)))])]),t(\"div\",{staticClass:\"foodBox\"},[a.food?t(\"div\",{staticClass:\"foodItem\"},[t(\"div\",{staticClass:\"foodLeft\"},[a.food.imgData&&a.food.imgData.url?t(\"img\",{attrs:{src:a.food.imgData.url,alt:\"\"}}):e._e()]),t(\"div\",{staticClass:\"foodRight\"},[t(\"div\",{staticClass:\"foodName textMore\"},[e._v(e._s(a.food.name+\"(主食)\"))]),t(\"div\",{staticClass:\"foodCount textMore\"},[e._v(e._s(a.food.weight?a.food.name+\":\"+a.food.weight+\"克\":a.food.name+\":0克\"))])]),t(\"div\",{staticClass:\"foodBtn\",on:{click:function(t){return e.clickTF(a,i.week)}}},[t(\"img\",{attrs:{src:o(\"7db6\"),alt:\"\"}}),e._v(\"替换\\n\\t\\t\\t\\t\\t  \")])]):e._e(),e._l(a.recipes,(function(r,s){return a.recipes?t(\"div\",{key:s,staticClass:\"foodItem\"},[t(\"div\",{staticClass:\"foodLeft\"},[r.mainImage&&r.mainImage.url?t(\"img\",{attrs:{src:r.mainImage.url,alt:\"\"}}):e._e()]),t(\"div\",{staticClass:\"foodRight\"},[t(\"div\",{staticClass:\"foodName textMore\"},[e._v(e._s(r.name))]),t(\"div\",{staticClass:\"foodCount textMore\"},[t(\"div\",{attrs:{solt:\"v\"}},[e._v(e._s(e._f(\"weightFilter\")(r)))])])]),t(\"div\",{staticClass:\"foodBtn\",on:{click:function(t){return e.clickTH(a,i.week,s,r)}}},[t(\"img\",{attrs:{src:o(\"7db6\"),alt:\"\"}}),e._v(\"替换\\n                    \")]),t(\"div\",{staticClass:\"delBox\",on:{click:function(t){return e.delFood(a,i.week,s)}}},[t(\"img\",{attrs:{src:o(\"7ea9\"),alt:\"\"}})])]):e._e()}))],2)])})),0)],1)])]),t(\"div\",{staticClass:\"addWrap\",on:{click:function(t){return e.addFoods(i)}}},[t(\"img\",{attrs:{src:o(\"1923\"),alt:\"\"}}),t(\"span\",[e._v(\"添加菜品\")])])])})),t(\"el-card\",{staticClass:\"ivu-mt mb15 pl\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add handleBox\"},[t(\"el-button\",{attrs:{type:\"default\"},on:{click:e.clickPre}},[e._v(\"上一步\")]),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.clickNext}},[e._v(\"下一步\")])],1)]),t(\"mainDialog\",{ref:\"mainDialog\",attrs:{isMainShow:e.isMainShow,foodId:e.foodId,weight:e.weight,week1:e.week1,obj1:e.obj1,stage1:e.foodForm.stage},on:{updateMainFood:e.updateMainFood,closeMainFood:e.closeMainFood}}),t(\"replaceDialog\",{ref:\"replaceDialog\",attrs:{isShow:e.isShow,recipeIds:e.recipeIds,week:e.week,obj:e.obj,stage:e.foodForm.stage},on:{updateFood:e.updateFood,closeFood:e.closeFood}}),t(\"addDialog\",{ref:\"addDialog\",attrs:{isAddShow:e.isAddShow,weekObj:e.weekObj,stage:e.foodForm.stage},on:{addFood:e.addFood,closeFood:e.closeFood}})],2)}),[],!1,null,\"39ca088b\",null).exports,o(\"9911\"),o(\"13d5\"),o(\"ace4\"),o(\"2c66\"),o(\"249d\"),o(\"40e9\"),o(\"5cc6\"),o(\"907a\"),o(\"9a8c\"),o(\"a975\"),o(\"735e\"),o(\"c1ac\"),o(\"d139\"),o(\"3a7b\"),o(\"986a\"),o(\"1d02\"),o(\"d5d6\"),o(\"82f8\"),o(\"e91f\"),o(\"60bd\"),o(\"5f96\"),o(\"3280\"),o(\"3fcc\"),o(\"ca91\"),o(\"25a1\"),o(\"cd26\"),o(\"3c5d\"),o(\"2954\"),o(\"649e\"),o(\"219c\"),o(\"170b\"),o(\"b39a9\"),o(\"6ce5\"),o(\"2834\"),o(\"72f7\"),o(\"4ea1\"),o(\"313d\"),o(\"0eb6\"),o(\"b7ef\"),o(\"8bd4\"),h=o(\"4615\"),d=o(\"a069\"),h={name:\"user_foodContxt\",components:{foodLinkDialog:h.a,WangEditor:d.a},data:function(){return{disabled:!1,userId:\"\",weekData:[],userForm:{userId:\"\",height:\"\",weight:\"\",age:\"\",sex:0,totalHeat:\"\",totalPercent:\"1\",morningPercent:\"0.3\",noonPercent:\"0.4\",nightPercent:\"0.3\"},foodForm:{one:\"\",two:\"<p><font face='Medium'>相比传统的节食、运动或药物减肥，我们的方法更注重饮食的调整，让您在减肥过程中享受更丰盛的饮食。它的核心在于通过低碳水化合物饮食，使身体转换为更高效的脂肪供能模式。</font></p><p><font face='Medium'>首先我们要有一个认知：减肥是一定要分阶段，不同的阶段搭配不同的饮食结构。要不然肯定会反弹的。</font></p><p><font face='Medium'>我们呢，把整个减肥周期，分了三个阶段：无糖速效期，持续减重期，体重保持期。</font></p><p><font face='Medium'>第一阶段是无糖速效期。建议执行14天，可减掉自身体重的6%-10%（每个人的体质不同，减重效果会有差异）。</font></p><p><font face='Medium'><br/></font></p><p><font face='Medium'><b>食谱的原理:</b><b></b></font></p><p><font face='Medium'>这是一份第一阶段的食谱，这一阶段的目标是通过限制碳水化合物的摄入，使身体进入脂肪燃烧状态，在这种状态下，身体将开始更多地燃烧脂肪以获得能量，从而帮助用户有效减少体重。</font></p><p><font face='Medium'>，摄入足够的蛋白质和脂肪以保持身体的正常运作。所以，这份食谱中的每一餐都包含足够的蛋白质来源，如鸡肉猪肉和牛肉等。同时，鸡蛋也是蛋白质的良好来源，并且脂肪含量适中</font></p><p><font face='Medium'>此外，每餐还包括一种或多种低碳水化合物的蔬菜，如生菜、白菜、西兰花和黄瓜等。这些蔬菜不仅可以为身体提供必要的维生素和矿物质，还可以增加饱腹感，帮助防止过度饮食。</font></p>\",three:\"<p><font face='Medium'><b>食谱的设计遵循以下原则:</b><b></b></font></p><p><font face='Medium'>符合一阶段的饮食要求: 在第一阶段，食物的碳水化合物含量要求不超过 6%，并且需要消除所有淀粉类食物。因此，食谱中的食材选择严格控制了碳水化合物的摄入。</font></p><p><font face='Medium'>保证充足的能量摄入: 根据填写的问卷信息，建议您每天吃够自身基础代谢量，不要刻意节食或者少吃。食谱设计时考虑到保持适当的能量摄入，避免饥饿感和能量不足</font></p><p><font face='Medium'>保证蛋白质摄入:蛋白质在身体组织的构建和修复、免疫功能、维持饱腹感等方面都具有重要作用。因此，每餐均包含了充足的蛋白质。</font></p><p><font face='Medium'>增加膳食纤维的摄入: 膳食纤维能帮助维护消化系统的健康，减少饥饿感，控制饮食量。食谱中包含了富含纤维的蔬菜。</font></p>\",fore:'<p style=\"line-height:1.6;\"><b><font face=\"Medium\">一阶段注意事项：</font></b></p><p style=\"line-height:1.6;\"><font face=\"Medium\">1.一阶段拒绝一切糖和淀粉的摄入，任何水果和主食类都是不可以吃的。</font></p><p style=\"line-height:1.6;\"><font face=\"Medium\">2、日常调料选择无糖无淀粉无小麦的调料，执行前一定要确认好使用的调味品，建议提前和营养师沟通。</font></p><p style=\"line-height:1.6;\"><font face=\"Medium\">3.三餐一半肉一半菜，一定要吃够基础代谢，不要有任何形式的节食；烹饪方式推荐选择煎炒炸，少吃水煮；不要吃勾芡的食物：不要喝汤。</font></p><p style=\"line-height:1.6;\"><font face=\"Medium\">4.白天多喝水，小口小口喝，至少喝够 2000ml，减肥期间脂肪燃烧需要水的参与。</font></p><p style=\"line-height:1.6;\"><span style=\"color: var(--prev-color-text-primary);\"><font face=\"Medium\">5.不要熬夜，建议 22:00 前睡觉，晚上代谢的黄金时间是 23：00-1：00，一定要保持充足的睡眠。</font></span></p><p style=\"line-height:1.6;\"><span style=\"color: var(--prev-color-text-primary);\"><font face=\"Medium\">6.方便的话提前准备尿酮试纸，方便检测脂肪燃烧程度。</font></span></p><p style=\"line-height:1.6;\"><span style=\"color: var(--prev-color-text-primary); font-family: Medium;\"><br/></span></p><p style=\"line-height:1.6;\"><span style=\"color: var(--prev-color-text-primary); font-family: Medium;\"><br/></span></p>'},two:\"<p><font face='Medium'><span style='color: var(--prev-color-text-primary);'>相比传统的节食、运动或药物减肥，我们的方法更注重饮食的调整，让您在减肥过程中享受更丰盛的饮食。它的核心在于通过低碳水化合物饮食，使身体转换为更高效的脂肪供能模式。</span><br/></font></p><p><font face='Medium'>首先我们要有一个认知：减肥是一定要分阶段，不同的阶段搭配不同的饮食结构。要不然肯定会反弹的。</font></p><p><font face='Medium'>我们呢，把整个减肥周期，分了三个阶段：无糖速效期，持续减重期，体重保持期。</font></p><p><font face='Medium'>第二阶段是持续减重期。建议执行1到3个月</font></p><p><span style='color: var(--prev-color-text-primary); font-size: 14px;'><font face='Medium'></font></span><b><font face='Medium'>从第二阶段开始执行饮食，逐步增加健康低GI碳水化合物的摄入量，以确保营养的均衡和可持续性。</font></b><b></b></p>\",three:'<p><font face=\"Medium\"><b>食谱的设计遵循以下原则:</b><b></b></font></p><p><font face=\"Medium\">1.营养均衡：确保每餐含有蛋白质、脂肪和碳水化合物，以满足身体基本需求并促进新陈代谢。</font></p><p><font face=\"Medium\">2.控制血糖波动：选择低血糖指数（GI）的碳水化合物，可以稳定血糖水平，减少饥饿感，避免血糖急剧波动导致的能量崩溃。</font></p><p><font face=\"Medium\">3.增加饱腹感：高纤维食物可以增加饱腹感，减少总体热量摄入。</font></p><p><font face=\"Medium\">4.促进肠道健康：蔬菜和全谷物中的纤维有助于肠道健康，促进消化系统正常运作。</font></p><p><font face=\"Medium\">5.维持肌肉量：适量的蛋白质有助于维持肌肉量，保持身体代谢活力。</font></p><p><font face=\"Medium\">6.避免营养不足：合理搭配食物类型和营养素，以防止长期减重导致的营养不足。</font></p>',fore:\"<p style='line-height:1.6;'><font face='Medium'><b>执行期间注意事项</b><b>:</b></font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>1.&nbsp;二阶段添加低gi值，对血糖影响小的主食，(主食选择藜麦、糙米、荞麦等低升糖的) 。</font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>2.&nbsp;日常调料选择无糖无淀粉无小麦的调料，执行前一定要确认好使用的调味品，建议提前和营养师沟通。</font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>3.根茎类蔬菜还是不能吃，比如胡萝卜，山药，土豆等。</font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>4.二阶段刚开始水果牛奶坚果先不要着急添加,主食加满体重稳定下降之后再添加，每天只选择一种。</font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>5.建议您每天抽出20分钟左右的时间来运动一下。</font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>6.三餐一定要吃够基础代谢，不要有任何形式的节食；烹饪方式推荐选择煎炒炸，少吃水煮；不要吃勾芡的食物：不要喝汤。</font></p><p style='line-height:1.6;'><font face='Medium' style='color: var(--prev-color-text-primary);'>7.白天多喝水，小口小口喝，至少喝够 2000ml，减肥期间脂肪燃烧需要水的参与；</font></p><p style='line-height:1.6;'><span style='color: var(--prev-color-text-primary);'><font face='Medium'>8.不要熬夜，建议 22:00 前睡觉，晚上代谢的黄金时间是 23：00-1：00，一定要保持充足的睡眠。</font></span></p><p style='line-height:1.6;'><span style='color: var(--prev-color-text-primary); font-family: Medium;'><br/></span></p>\",food:{day:0,stage:\"\",spicy:0,economy:0,morningFood:\"\",noonFood:\"\",nightFood:\"\",ingredient:\"\",difficultyLevel:0},qrCode:\"\",link:\"\",isShow:!1,content:\"\",stepsIndex:0}},computed:Object(i.a)({},Object(n.c)([\"getRecipeDayList\",\"getUserForm\",\"getFoodForm\"])),watch:{getRecipeDayList:{handler:function(e,t){e&&(this.weekData=this.getRecipeDayList)},immediate:!0},$route:{handler:function(e,t){e&&(this.userId=this.$route.query.userId)},deep:!0,immediate:!0},getUserForm:{handler:function(e,t){e&&(this.userForm=this.getUserForm)},deep:!0,immediate:!0},getFoodForm:{handler:function(e,t){e&&(this.food=this.getFoodForm,\"第二阶段\"===this.food.stage&&(this.foodForm.two=this.two,this.foodForm.three=this.three,this.foodForm.fore=this.fore),\"第一阶段\"===this.food.stage)&&(this.foodForm.two=this.foodForm.two,this.foodForm.three=this.foodForm.three,this.foodForm.fore=this.foodForm.fore)},deep:!0,immediate:!0}},mounted:function(){this.userId=this.$route.query.userId,this.weekData=this.getRecipeDayList,this.userForm=Object(i.a)({},this.getUserForm),this.food=Object(i.a)({},this.getFoodForm),\"第二阶段\"===this.food.stage&&(this.foodForm.two=this.two,this.foodForm.three=this.three,this.foodForm.fore=this.fore),\"第一阶段\"===this.food.stage&&(this.foodForm.two=this.foodForm.two,this.foodForm.three=this.foodForm.three,this.foodForm.fore=this.foodForm.fore)},methods:Object(i.a)(Object(i.a)({},Object(n.d)([\"setRecipeDayList\",\"setUserForm\",\"setFoodForm\",\"setOneStageObj\",\"setTwoStageObj\",\"setThreeStageObj\"])),{},{clickSteps:function(e){if(e>this.stepsIndex&&!this.content)this.$message.error(\"请填写内容!\");else{switch(e){case 0:this.foodForm.one&&(this.content=this.foodForm.one);break;case 1:this.foodForm.two?\"第一阶段\"===this.food.stage?this.content=this.foodForm.two:this.content=this.two:this.content=\"\";break;case 2:this.foodForm.three?\"第一阶段\"===this.food.stage?this.content=this.foodForm.three:this.content=this.three:this.content=\"\";break;default:this.foodForm.fore?\"第一阶段\"===this.food.stage?this.content=this.foodForm.fore:this.content=this.fore:this.content=\"\"}this.stepsIndex=e}},getEditorContent:function(e){this.content=e,0===this.stepsIndex?this.foodForm.one=this.content:1===this.stepsIndex?\"第一阶段\"===this.food.stage?this.foodForm.two=this.content:this.foodForm.two=this.two:2===this.stepsIndex?\"第一阶段\"===this.food.stage?this.foodForm.three=this.content:this.foodForm.three=this.three:\"第一阶段\"===this.food.stage?this.foodForm.fore=this.content:this.foodForm.fore=this.fore},clickPre:function(){this.$emit(\"handleThree\",\"pre\")},saveFood:function(){var e,t=this;3==this.stepsIndex&&(this.foodForm.fore?this.content=this.foodForm.fore:this.content=\"\",this.content?(e={totalHeat:this.userForm.totalHeat,totalPercent:this.userForm.totalPercent,morningPercent:this.userForm.morningPercent,noonPercent:this.userForm.noonPercent,nightPercent:this.userForm.nightPercent,userId:this.userId,summary:this.foodForm.one,principle:this.foodForm.two,tenet:this.foodForm.three,note:this.foodForm.fore,dayNum:this.weekData.length,customs:this.weekData.map((function(e){return e.customs})),stage:this.food.stage},Object(s.a)(e).then(function(){var e=Object(r.a)(Object(a.a)().mark((function e(o){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==o.code&&(t.isShow=!0,t.qrCode=\"\",Object(s.k)(o.data.qrCode).then((function(e){e=new Uint8Array(e),e=btoa(e.reduce((function(e,t){return e+String.fromCharCode(t)}),\"\")),t.qrCode=\"data:image/png;base64,\"+e})),t.link=o.data.link,t.setRecipeDayList([]),t.setUserForm({}),t.setFoodForm({}),t.setOneStageObj({}),t.setTwoStageObj({}),t.setThreeStageObj({}),t.disabled=!0);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):this.$message.error(\"请填写内容!\"))},closeFood:function(){this.isShow=!1,this.qrCode=\"\",this.setRecipeDayList([]),this.setUserForm({}),this.setFoodForm({}),this.setOneStageObj({}),this.setTwoStageObj({}),this.setThreeStageObj({}),this.$store.dispatch(\"tagsView/delView\",this.$route),this.$router.go(-1)}})},o(\"e8c6\"),d={name:\"user_makeFood\",components:{OneFood:l,TwoFood:u,ThreeFood:Object(c.a)(h,(function(){var e=this,t=e._self._c;return t(\"div\",[t(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add\"},[t(\"div\",{staticClass:\"stepBox\"},[t(\"el-steps\",{attrs:{space:200,active:e.stepsIndex,\"finish-status\":\"success\"}},[t(\"el-step\",{attrs:{title:\"食谱概述\"},nativeOn:{click:function(t){return e.clickSteps(0)}}}),t(\"el-step\",{attrs:{title:\"食谱原理\"},nativeOn:{click:function(t){return e.clickSteps(1)}}}),t(\"el-step\",{attrs:{title:\"遵循原则\"},nativeOn:{click:function(t){return e.clickSteps(2)}}}),t(\"el-step\",{attrs:{title:\"注意事项\"},nativeOn:{click:function(t){return e.clickSteps(3)}}})],1)],1),t(\"div\",{staticClass:\"editorBox\"},[t(\"WangEditor\",{staticStyle:{width:\"90%\"},attrs:{content:e.content},on:{editorContent:e.getEditorContent}})],1),t(\"div\",{staticClass:\"btnBox\"},[t(\"el-button\",{attrs:{disabled:e.disabled,type:\"default\"},on:{click:e.clickPre}},[e._v(\"上一步\")]),3==e.stepsIndex?t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveFood}},[e._v(\"生成食谱\")]):e._e()],1)])]),t(\"foodLinkDialog\",{attrs:{isShow:e.isShow,qrCode:e.qrCode,link:e.link},on:{closeFood:e.closeFood}})],1)}),[],!1,null,\"6940758b\",null).exports},data:function(){return{weekData:[],userId:\"\",stepVal:1,isOneYet:!1,isTwoYet:!1}},computed:Object(i.a)({},Object(n.c)([\"getRecipeDayList\"])),mounted:function(){this.userId=this.$route.query.userId},watch:{getRecipeDayList:{handler:function(e,t){e&&(this.weekData=this.getRecipeDayList)},deep:!0,immediate:!0},$route:{handler:function(e,t){e&&(this.userId=this.$route.query.userId)},deep:!0,immediate:!0}},methods:{handleFunc:function(e){e&&(this.weekData=this.getRecipeDayList,this.isOneYet=!0,this.stepVal=2)},handleTwo:function(e){\"pre\"===e?this.stepVal=1:(this.stepVal=3,this.isTwoYet=!0)},handleThree:function(e){\"pre\"==e&&(this.stepVal=2,this.isOneYet=!0)}}},o(\"a9b4\"),l=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t(\"div\",[t(\"div\",{staticClass:\"mb15\"},[t(\"el-radio-group\",{attrs:{size:\"small\"},model:{value:e.stepVal,callback:function(t){e.stepVal=t},expression:\"stepVal\"}},[t(\"el-radio-button\",{attrs:{label:1}},[e._v(\"第一步\")]),t(\"el-radio-button\",{attrs:{label:2,disabled:!e.isOneYet}},[e._v(\"第二步\")]),t(\"el-radio-button\",{attrs:{label:3,disabled:!e.isTwoYet}},[e._v(\"第三步\")])],1)],1),t(\"OneFood\",{directives:[{name:\"show\",rawName:\"v-show\",value:1===e.stepVal,expression:\"stepVal===1\"}],on:{handleFunc:e.handleFunc}}),t(\"TwoFood\",{directives:[{name:\"show\",rawName:\"v-show\",value:2===e.stepVal,expression:\"stepVal===2\"}],on:{handleTwo:e.handleTwo}}),t(\"ThreeFood\",{directives:[{name:\"show\",rawName:\"v-show\",value:3===e.stepVal,expression:\"stepVal===3\"}],on:{handleThree:e.handleThree}})],1)}),[],!1,null,\"39650c9c\",null);t.default=l.exports},\"313d\":function(e,t,o){var i=o(\"23e7\"),a=o(\"da84\"),r=o(\"d066\"),s=o(\"e330\"),n=o(\"c65b\"),l=o(\"d039\"),c=o(\"577e\"),d=o(\"d6d6\"),u=o(\"b917\").i2c,f=r(\"btoa\"),h=s(\"\".charAt),m=s(\"\".charCodeAt),p=!!f&&!l((function(){return\"aGk=\"!==f(\"hi\")}));o=p&&!l((function(){f()})),s=p&&l((function(){return\"bnVsbA==\"!==f(null)})),l=p&&1!==f.length;i({global:!0,bind:!0,enumerable:!0,forced:!p||o||s||l},{btoa:function(e){if(d(arguments.length,1),p)return n(f,a,c(e));for(var t,o,i=c(e),s=\"\",l=0,g=u;h(i,l)||(g=\"=\",l%1);){if(255<(o=m(i,l+=.75)))throw new(r(\"DOMException\"))(\"The string contains characters outside of the Latin1 range\",\"InvalidCharacterError\");s+=h(g,63&(t=t<<8|o)>>8-l%1*8)}return s}})},4615:function(e,t,o){o(\"d3b7\"),o(\"3ca3\"),o(\"ddb0\"),o(\"2b3d\"),o(\"bf19\"),o(\"9861\"),o(\"88a7\"),o(\"271a\"),o(\"5494\");var i={name:\"WorkspaceJsonReplaceDialog\",props:{isShow:{type:Boolean,default:!1},qrCode:{type:String,default:!1},link:{type:String,default:!1}},data:function(){return{radio:\"3\"}},mounted:function(){},methods:{saveFood:function(){this.$emit(\"closeFood\"),this.$store.dispatch(\"delVisitedViews\",this.$route),this.$router.go(-1)},handleClose:function(){this.$emit(\"closeFood\"),this.$store.dispatch(\"delVisitedViews\",this.$route),this.$router.go(-1)},uploadImg:function(){var e=document.createElement(\"a\");e.href=this.qrCode,e.download=\"\".concat((new Date).getTime(),\".png\"),e.click(),URL.revokeObjectURL(this.qrCode)}}},a=(o(\"6416\"),o(\"2877\"));a=Object(a.a)(i,(function(){var e=this,t=e._self._c;return t(\"el-dialog\",{attrs:{title:\"\",visible:e.isShow,width:\"924px\",\"close-on-click-modal\":!1,\"close-on-press-escape\":!1,\"before-close\":e.handleClose},on:{\"update:visible\":function(t){e.isShow=t}}},[t(\"div\",{staticClass:\"linkWrap\"},[t(\"div\",{staticClass:\"linkLeft\"},[t(\"div\",{staticClass:\"leftBox\"},[t(\"div\",{staticClass:\"leftText1\"},[e._v(\"\\n            邀请您查看\\n          \")]),t(\"div\",{staticClass:\"leftText2\"},[e._v(\"私人饮食定制食谱\")]),t(\"div\",{staticClass:\"leftItem mt89\"},[t(\"img\",{attrs:{src:o(\"79a1\"),alt:\"\"}}),t(\"span\",[e._v(\"专业营养师搭配\")])]),t(\"div\",{staticClass:\"leftItem mt10\"},[t(\"img\",{attrs:{src:o(\"79a1\"),alt:\"\"}}),t(\"span\",[e._v(\"私人饮食定制\")])]),t(\"img\",{staticClass:\"erweimaImg\",attrs:{src:e.qrCode,alt:\"\"}}),t(\"div\",{staticClass:\"leftText3\"},[e._v(\"识别二维码查看定制食谱\")])])]),t(\"div\",{staticClass:\"linkRight\"},[t(\"div\",{staticClass:\"handleBtn\"},[t(\"el-button\",{attrs:{type:\"primary\",plain:\"\"},on:{click:e.uploadImg}},[e._v(\"下载图片\")]),t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveFood}},[e._v(\"确 定\")])],1)])])])}),[],!1,null,\"d7181daa\",null);t.a=a.exports},5652:function(e,t,o){},\"57b9\":function(e,t,o){var i=o(\"c65b\"),a=o(\"d066\"),r=o(\"b622\"),s=o(\"cb2d\");e.exports=function(){var e=a(\"Symbol\"),t=(e=e&&e.prototype,e&&e.valueOf),o=r(\"toPrimitive\");e&&!e[o]&&s(e,o,(function(e){return i(t,this)}),{arity:1})}},\"5a47\":function(e,t,o){var i=o(\"23e7\"),a=o(\"04f8\"),r=o(\"d039\"),s=o(\"7418\"),n=o(\"7b0b\");i({target:\"Object\",stat:!0,forced:!a||r((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(n(e)):[]}})},\"5ac9\":function(e,t,o){},6416:function(e,t,o){o(\"736f\")},\"64aa\":function(e,t,o){},\"667f\":function(e,t,o){o(\"c47f\")},\"736f\":function(e,t,o){},\"79a1\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAbtJREFUOE+Nkj9oFGEQxd/LJdhoEbQQDVgazO4Jop0mRRohoHwrgn8jqI0cBuR2g2Jrl01CgoQgWFhkm9O9SAotRAUxnSGyKxHTJViYlIKFye2Tu3Mv68HF+7qZ773fDDNDND3bMwMQbwg4AegwhA0QS5SCaHz+VVbONOh9YPZ3buEJQacZmMYS3uWS3PXPk6Xv1VzNbN8f6sb2nkUAva2MDQCwhqRyOp54uV43u2Ye4Pn/GXf+9SHyy/2075kB5Pi+DeNbQQcJHqtqleASraJ5SvLmrmZpLhovX7PcC1OERmpmYIGW6ywTOF5PaAXCR5K3M7Ag8sOrfZ4pdIiPG3npBy3XbBI88Df5PPLDi3nXPBT4CGnFonOXxHRTdz9pF50YRF9mmjOxHxZs17kS+WFge6aAbMUdwma18jOCw1mqqNl4rHzHcs0IwakW83jNvGfOSvzncmpi4Uu2o2aAEt2q79kzbyAOtrGuVLIU7Q1P1cxHR88d6ko6FwkcaQOwsZXozNeJ8rfGbedHnR5VMAeivzVAn7Z/d1xemX6x2rjtrNgqGofEMMCTgvYB/EVgWUqCeK0rQKlUSfV/AEFNoxMA9fu9AAAAAElFTkSuQmCC\"},\"7db6\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAAAXNSR0IArs4c6QAAAOpJREFUOE/NkjFKBEEQRf9vJzfxCIuYzVCFioJoZuQFzLyDl1jMPIWxNxARVrAbFBaGZa5gMAaTiH5pg0WMuo2suP6rqv+LqCh3v5Z0QXI3xthnKSv0cPdNAI+SwjRNB33fv1YB8rC2bbebpnmQtEwpndDMzkIIR5I+S7aR9EHSAZwCmGfADck9ACoB/OjJ26+qT/g95B8AzGyec/2LB5JWdPcrAJcAlgCec8alZpJ8+fbAzO4AzAAcp5SGUsD6E919C8ACwPs4jvvDMLyVQtYpuPuOpCeStzHG82pAFnRddxhC2Egp3ZcCvgCX8k/BM4fMIwAAAABJRU5ErkJggg==\"},\"7ea9\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAWlJREFUKFNtkUtLAlEUx/9nxhxJ+gB+hl6bQHqBQkbWos8g6Mwobtv7GSR07mzcuxJ6EITYg6J1X6CXtaqmCGFMvKfuUDGhZ3fPPT/+h98hx3GeiagbjUZTuVzuDWOqWq0ahmG0AFyR4zjzRNQBcAcgZVnWe5ipVCqxRCJxCGARQIbUZ71en9E07QTAk67rqXw+/6r6jUYj1u/39wEsAdi2bfs4AFTVarU5BRHRw3A4TPm+78fj8SMAC5qmbRQKhXM19weoh+u608yskm6Z2SOiZSnlVrFYVL2g/gEh6BqAJqVMh4dHACHEBDO3iGiVmT8B3Egp10ulkjeS8GNjD4BaIxOJRD6klGqV+7DyYKVmsxn1PO8AwAqATcuylOZAhK7rbQDdwWCwVi6XX0gIMfltQqlLMnPWtu2z8B1Cyh97vV6aXNftMHOSiLKmaZ6Ou7QQYhZAm5l3VcIOEV2Ypnk5bvi3p5KIaOoLZUmcYfA5cm4AAAAASUVORK5CYII=\"},\"88fe\":function(e,t,o){},a4d3:function(e,t,o){o(\"d9f5\"),o(\"b4f8\"),o(\"c513\"),o(\"e9c4\"),o(\"5a47\")},a9b4:function(e,t,o){o(\"5652\")},b4f8:function(e,t,o){var i=o(\"23e7\"),a=o(\"d066\"),r=o(\"1a2d\"),s=o(\"577e\"),n=o(\"5692\"),l=(o=o(\"0b439\"),n(\"string-to-symbol-registry\")),c=n(\"symbol-to-string-registry\");i({target:\"Symbol\",stat:!0,forced:!o},{for:function(e){var t;e=s(e);return r(l,e)?l[e]:(t=a(\"Symbol\")(e),l[e]=t,c[t]=e,t)}})},b680:function(e,t,o){function i(e,t,o){return 0===t?o:t%2==1?i(e,t-1,o*e):i(e*e,t/2,o)}function a(e,t,o){for(var i=-1,a=o;++i<6;)a+=t*e[i],e[i]=a%1e7,a=m(a/1e7)}function r(e,t){for(var o=6,i=0;0<=--o;)i+=e[o],e[o]=m(i/t),i=i%t*1e7}function s(e){for(var t,o=6,i=\"\";0<=--o;)\"\"===i&&0!==o&&0===e[o]||(t=h(e[o]),i=\"\"===i?t:i+p(\"0\",7-t.length)+t);return i}var n=o(\"23e7\"),l=o(\"e330\"),c=o(\"5926\"),d=o(\"408a\"),u=o(\"1148\"),f=(o=o(\"d039\"),RangeError),h=String,m=Math.floor,p=l(u),g=l(\"\".slice),b=l(1..toFixed);n({target:\"Number\",proto:!0,forced:o((function(){return\"0.000\"!==b(8e-5,3)||\"1\"!==b(.9,0)||\"1.25\"!==b(1.255,2)||\"1000000000000000128\"!==b(0xde0b6b3a7640080,0)}))||!o((function(){b({})}))},{toFixed:function(e){var t,o,n=d(this),l=(e=c(e),[0,0,0,0,0,0]),u=\"\",m=\"0\";if(e<0||20<e)throw new f(\"Incorrect fraction digits\");if(n!=n)return\"NaN\";if(n<=-1e21||1e21<=n)return h(n);if(n<0&&(u=\"-\",n=-n),1e-21<n)if(n=(t=function(e){for(var t=0,o=e;4096<=o;)t+=12,o/=4096;for(;2<=o;)t+=1,o/=2;return t}(n*i(2,69,1))-69)<0?n*i(2,-t,1):n/i(2,t,1),n*=4503599627370496,0<(t=52-t)){for(a(l,0,n),o=e;7<=o;)a(l,1e7,0),o-=7;for(a(l,i(10,o,1),0),o=t-1;23<=o;)r(l,1<<23),o-=23;r(l,1<<o),a(l,1,1),r(l,2),m=s(l)}else a(l,0,n),a(l,1<<-t,0),m=s(l)+p(\"0\",e);return 0<e?u+((n=m.length)<=e?\"0.\"+p(\"0\",e-n)+m:g(m,0,n-e)+\".\"+g(m,n-e)):u+m}})},c47f:function(e,t,o){},c4a5:function(e,t,o){o(\"d9ed\")},c513:function(e,t,o){var i=o(\"23e7\"),a=o(\"1a2d\"),r=o(\"d9b5\"),s=o(\"0d51\"),n=o(\"5692\"),l=(o=o(\"0b439\"),n(\"symbol-to-string-registry\"));i({target:\"Symbol\",stat:!0,forced:!o},{keyFor:function(e){if(!r(e))throw new TypeError(s(e)+\" is not a symbol\");if(a(l,e))return l[e]}})},d9ed:function(e,t,o){},d9f5:function(e,t,o){function i(e,t,o){var i=oe(K,t);i&&delete K[t],ie(e,t,o),i&&e!==K&&ie(K,t,i)}function a(e,t){var o=ne[e]=S(X);return z(o,{type:Y,tag:e,description:t}),g||(o.description=t),o}function r(e,t,o){return e===K&&r(le,t,o),y(e),t=O(t),y(o),(F(ne,t)?(o.enumerable?(F(e,J)&&e[J][t]&&(e[J][t]=!1),o=S(o,{enumerable:x(0,!1)})):(F(e,J)||ie(e,J,x(1,S(null))),e[J][t]=!0),de):ie)(e,t,o)}function s(e,t){y(e);var o=k(t);t=C(o).concat(d(o));return G(t,(function(t){g&&!h(n,o,t)||r(e,t,o[t])})),e}function n(e){e=O(e);var t=h(re,this,e);return!(this===K&&F(ne,e)&&!F(le,e))&&(!(t||!F(this,e)||!F(ne,e)||F(this,J)&&this[J][e])||t)}function l(e,t){var o;e=k(e),t=O(t);if(e!==K||!F(ne,t)||F(le,t))return!(o=oe(e,t))||!F(ne,t)||F(e,J)&&e[J][t]||(o.enumerable=!0),o}function c(e){e=ae(k(e));var t=[];return G(e,(function(e){F(ne,e)||F(N,e)||se(t,e)})),t}function d(e){var t=e===K,o=(e=ae(t?le:k(e)),[]);return G(e,(function(e){!F(ne,e)||t&&!F(K,e)||se(o,ne[e])})),o}var u=o(\"23e7\"),f=o(\"da84\"),h=o(\"c65b\"),m=o(\"e330\"),p=o(\"c430\"),g=o(\"83ab\"),b=o(\"04f8\"),v=o(\"d039\"),F=o(\"1a2d\"),w=o(\"3a9b\"),y=o(\"825a\"),k=o(\"fc6a\"),O=o(\"a04b\"),j=o(\"577e\"),x=o(\"5c6c\"),S=o(\"7c73\"),C=o(\"df75\"),A=o(\"241c\"),_=o(\"057f\"),I=o(\"7418\"),D=o(\"06cf\"),$=o(\"9bf2\"),M=o(\"37e8\"),V=o(\"d1e7\"),P=o(\"cb2d\"),R=o(\"edd0\"),B=o(\"5692\"),T=o(\"f772\"),N=o(\"d012\"),L=o(\"90e3\"),E=o(\"b622\"),q=o(\"e538\"),H=o(\"e065\"),U=o(\"57b9\"),Q=o(\"d44e\"),W=o(\"69f3\"),G=o(\"b727\").forEach,J=T(\"hidden\"),Y=\"Symbol\",z=(o=\"prototype\",W.set),Z=W.getterFor(Y),K=Object[o],X=(T=f.Symbol,T&&T[o]),ee=f.RangeError,te=f.TypeError,oe=(W=f.QObject,D.f),ie=$.f,ae=_.f,re=V.f,se=m([].push),ne=B(\"symbols\"),le=B(\"op-symbols\"),ce=(m=B(\"wks\"),!W||!W[o]||!W[o].findChild),de=g&&v((function(){return 7!==S(ie({},\"a\",{get:function(){return ie(this,\"a\",{value:7}).a}})).a}))?i:ie;b||(P(X=(T=function(){if(w(X,this))throw new te(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?j(arguments[0]):void 0,t=L(e),o=function(a){var r=void 0===this?f:this;r===K&&h(o,le,a),F(r,J)&&F(r[J],t)&&(r[J][t]=!1),a=x(1,a);try{de(r,t,a)}catch(e){if(!(e instanceof ee))throw e;i(r,t,a)}};return g&&ce&&de(K,t,{configurable:!0,set:o}),a(t,e)})[o],\"toString\",(function(){return Z(this).tag})),P(T,\"withoutSetter\",(function(e){return a(L(e),e)})),V.f=n,$.f=r,M.f=s,D.f=l,A.f=_.f=c,I.f=d,q.f=function(e){return a(E(e),e)},g&&(R(X,\"description\",{configurable:!0,get:function(){return Z(this).description}}),p||P(K,\"propertyIsEnumerable\",n,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:T}),G(C(m),(function(e){H(e)})),u({target:Y,stat:!0,forced:!b},{useSetter:function(){ce=!0},useSimple:function(){ce=!1}}),u({target:\"Object\",stat:!0,forced:!b,sham:!g},{create:function(e,t){return void 0===t?S(e):s(S(e),t)},defineProperty:r,defineProperties:s,getOwnPropertyDescriptor:l}),u({target:\"Object\",stat:!0,forced:!b},{getOwnPropertyNames:c}),U(),Q(T,Y),N[J]=!0},e01a:function(e,t,o){var i,a,r,s,n,l,c,d=o(\"23e7\"),u=o(\"83ab\"),f=o(\"da84\"),h=o(\"e330\"),m=o(\"1a2d\"),p=o(\"1626\"),g=o(\"3a9b\"),b=o(\"577e\"),v=o(\"edd0\"),F=(o=o(\"e893\"),f.Symbol),w=F&&F.prototype;!u||!p(F)||\"description\"in w&&void 0===F().description||(i={},o(f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:b(arguments[0]),t=g(w,this)?new F(e):void 0===e?F():F(e);return\"\"===e&&(i[t]=!0),t},F),(f.prototype=w).constructor=f,a=\"Symbol(description detection)\"===String(F(\"description detection\")),r=h(w.valueOf),s=h(w.toString),n=/^Symbol\\((.*)\\)[^)]+$/,l=h(\"\".replace),c=h(\"\".slice),v(w,\"description\",{configurable:!0,get:function(){var e=r(this);return m(i,e)?\"\":(e=s(e),\"\"===(e=a?c(e,7,-1):l(e,n,\"$1\"))?void 0:e)}}),d({global:!0,constructor:!0,forced:!0},{Symbol:f}))},e065:function(e,t,o){var i=o(\"428f\"),a=o(\"1a2d\"),r=o(\"e538\"),s=o(\"9bf2\").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});a(t,e)||s(t,e,{value:r.f(e)})}},e538:function(e,t,o){o=o(\"b622\"),t.f=o},e84a:function(e,t,o){},e8c6:function(e,t,o){o(\"e84a\")},ef80:function(e,t,o){o(\"5ac9\")},ef99:function(e,t,o){o(\"88fe\")}}]);","extractedComments":[]}