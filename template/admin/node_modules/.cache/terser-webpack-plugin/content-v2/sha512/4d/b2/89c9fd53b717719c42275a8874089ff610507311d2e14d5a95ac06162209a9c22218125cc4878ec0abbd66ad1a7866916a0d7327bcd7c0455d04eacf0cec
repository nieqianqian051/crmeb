{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-4b769902\"],{\"0741\":function(a,e,t){t.r(e);var n=t(\"c7eb\"),i=t(\"1da1\"),l=t(\"5530\"),s=(t(\"d81d\"),t(\"a434\"),t(\"498a\"),t(\"2f62\")),o=t(\"90e7\");l={data:function(){return{addlangModal:!1,traTabLoading:!1,langType:{},formValidate:{is_admin:0,type_id:1,remarks:\"\",page:1,limit:20},total:0,FormLoading:!0,loading:!1,ruleValidate:{code:[{required:!0,message:\"请输入状态码/文字\",trigger:\"blur\"}],remarks:[{required:!0,message:\"请输入文字\",trigger:\"blur\"}]},langColumns:[{title:\"语言类型\",key:\"language_name\",width:120},{title:\"对应语言翻译\",slot:\"lang_explain\",minWidth:250}],langData:[],langFormData:{is_admin:0,code:\"\",remarks:\"\",edit:0,list:[]},tabList:[],FromData:null,extractId:0,code:null}},computed:Object(l.a)(Object(l.a)({},Object(s.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),mounted:function(){this.getList()},methods:{translate:function(){var a=this;if(!this.langFormData.remarks.trim())return this.$message.warning(\"请先输入翻译内容\");this.traTabLoading=!0,Object(o.M)({text:this.langFormData.remarks}).then((function(e){a.langFormData.list.map((function(a){a.lang_explain=e.data[a.type_id]})),a.traTabLoading=!1})).catch((function(e){a.traTabLoading=!1,a.$message.error(e.msg)}))},add:function(){this.langFormData.list=this.langType.langType.map((function(a){return{language_name:a.title,lang_explain:\"\",remarks:\"\",type_id:a.value}})),this.addlangModal=!0},ok:function(){var a=this;if(!this.langFormData.remarks.trim())return this.FormLoading=!1,this.$nextTick((function(){a.FormLoading=!0})),this.$message.error(\"请先输入语言说明\");Object(o.L)(this.langFormData).then((function(e){a.addlangModal=!1,a.$message.success(e.msg),a.getList()})).catch((function(e){a.FormLoading=!1,a.$nextTick((function(){a.FormLoading=!0})),a.$message.error(e.msg)}))},edit:function(a){var e=this;this.langFormData.is_admin=this.formValidate.is_admin,this.code=a.code,Object(o.J)({code:a.code}).then((function(a){e.langFormData.list=a.data.list,e.langFormData.code=a.data.code,e.langFormData.remarks=a.data.remarks,e.langFormData.edit=1,e.addlangModal=!0})).catch((function(a){e.loading=!1,e.$message.error(a.msg)}))},del:function(a,e,t){var n=this;e={title:e,num:t,url:\"setting/lang_code/del/\".concat(a.id),method:\"DELETE\",ids:\"\"};this.$modalSure(e).then((function(a){n.$message.success(a.msg),n.tabList.splice(t,1)})).catch((function(a){n.$message.error(a.msg)}))},modalChange:function(){this.langFormData={is_admin:0,name:\"\",code:\"\",list:[]},this.code=null},selChange:function(){this.formValidate.page=1,this.getList()},getList:function(){var a=this;this.loading=!0,Object(o.K)(this.formValidate).then(function(){var e=Object(i.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.loading=!1,a.tabList=t.data.list,a.total=t.data.count,a.langType=t.data.langType;case 4:case\"end\":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){a.loading=!1,a.$message.error(e.msg)}))}}},t(\"e728\"),s=t(\"2877\"),t=Object(s.a)(l,(function(){var a=this,e=a._self._c;return e(\"div\",[e(\"el-card\",{staticClass:\"ivu-mb-16\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[e(\"div\",{staticClass:\"padding-add\"},[e(\"el-form\",{attrs:{model:a.formValidate,\"label-width\":a.labelWidth,\"label-position\":\"right\",inline:\"\"},nativeOn:{submit:function(a){a.preventDefault()}}},[e(\"el-form-item\",{attrs:{label:\"语言分类：\"}},[e(\"el-select\",{staticClass:\"form_content_width\",attrs:{clearable:\"\"},on:{change:a.selChange},model:{value:a.formValidate.is_admin,callback:function(e){a.$set(a.formValidate,\"is_admin\",e)},expression:\"formValidate.is_admin\"}},a._l(a.langType.isAdmin,(function(a,t){return e(\"el-option\",{key:t,attrs:{label:a.title,value:a.value}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"语言类型：\"}},[e(\"el-select\",{staticClass:\"form_content_width\",attrs:{clearable:\"\"},on:{change:a.selChange},model:{value:a.formValidate.type_id,callback:function(e){a.$set(a.formValidate,\"type_id\",e)},expression:\"formValidate.type_id\"}},a._l(a.langType.langType,(function(a,t){return e(\"el-option\",{key:t,attrs:{label:a.title,value:a.value}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"搜索：\"}},[e(\"el-input\",{staticClass:\"form_content_width\",attrs:{clearable:\"\",placeholder:\"请输入语言备注\"},model:{value:a.formValidate.remarks,callback:function(e){a.$set(a.formValidate,\"remarks\",e)},expression:\"formValidate.remarks\"}})],1),e(\"el-form-item\",[e(\"el-button\",{staticClass:\"userSearch\",attrs:{type:\"primary\"},on:{click:a.selChange}},[a._v(\"搜索\")])],1)],1)],1)]),e(\"el-alert\",{attrs:{type:\"warning\",closable:!1}},[e(\"template\",{slot:\"title\"},[e(\"p\",{staticClass:\"alert_title\"},[a._v(\"页面语言\")]),a._v(\"\\n      添加页面语言，添加完成之后状态码为中文文字，移动端页面使用 $t(`xxxx`)，js文件中使用 this.t(`xxxx`) 或者使用\\n      that.t(`xxxx`) 实现语言的切换\"),e(\"br\"),e(\"br\"),e(\"p\",{staticClass:\"alert_title\"},[a._v(\"接口语言\")]),a._v(\"\\n      添加接口语言，添加完成之后状态码为6位数字，接口返回提示信息时，直接返回对应的错误码即可实现语言的切换\\n    \")])],2),e(\"el-card\",{staticClass:\"mt14\",attrs:{bordered:!1,shadow:\"never\"}},[e(\"el-row\",{staticClass:\"mb14\"},[e(\"el-col\",[e(\"el-button\",{attrs:{type:\"primary\"},on:{click:a.add}},[a._v(\"添加语句\")])],1)],1),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:a.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"ivu-mt\",attrs:{data:a.tabList,\"empty-text\":\"暂无数据\"}},[e(\"el-table-column\",{attrs:{label:\"编号\",width:\"80\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"span\",[a._v(a._s(t.row.id))])]}}])}),e(\"el-table-column\",{attrs:{label:\"原语句\",\"min-width\":\"230\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"span\",[a._v(a._s(t.row.remarks))])]}}])}),e(\"el-table-column\",{attrs:{label:\"对应语言翻译\",\"min-width\":\"130\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"span\",[a._v(a._s(t.row.lang_explain))])]}}])}),e(\"el-table-column\",{attrs:{label:\"状态码/文字(接口/页面调用参考)\",\"min-width\":\"130\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"span\",[a._v(a._s(t.row.code))])]}}])}),e(\"el-table-column\",{attrs:{label:\"语言类型\",\"min-width\":\"130\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"span\",[a._v(a._s(t.row.language_name))])]}}])}),e(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"170\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"a\",{on:{click:function(e){return a.edit(t.row)}}},[a._v(\"编辑\")]),e(\"el-divider\",{attrs:{direction:\"vertical\"}}),e(\"a\",{on:{click:function(e){return a.del(t.row,\"删除语言\",t.$index)}}},[a._v(\"删除\")])]}}])})],1),e(\"div\",{staticClass:\"acea-row row-right page\"},[a.total?e(\"pagination\",{attrs:{total:a.total,page:a.formValidate.page,limit:a.formValidate.limit},on:{\"update:page\":function(e){return a.$set(a.formValidate,\"page\",e)},\"update:limit\":function(e){return a.$set(a.formValidate,\"limit\",e)},pagination:a.getList}}):a._e()],1)],1),e(\"el-dialog\",{attrs:{visible:a.addlangModal,width:\"720px\",title:\"添加需要翻译的语句\"},on:{\"update:visible\":function(e){a.addlangModal=e},closed:a.modalChange}},[e(\"el-form\",{ref:\"langFormData\",attrs:{model:a.langFormData,rules:a.ruleValidate}},[e(\"el-form-item\",{staticClass:\"mb20\",attrs:{label:\"应用端：\",\"label-width\":\"120px\"}},[e(\"el-radio-group\",{staticClass:\"mr15\",attrs:{type:\"button\"},model:{value:a.langFormData.is_admin,callback:function(e){a.$set(a.langFormData,\"is_admin\",e)},expression:\"langFormData.is_admin\"}},a._l(a.langType.isAdmin,(function(t,n){return e(\"el-radio\",{key:n,attrs:{label:t.value}},[a._v(a._s(t.title))])})),1)],1),e(\"el-input\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],model:{value:a.langFormData.edit,callback:function(e){a.$set(a.langFormData,\"edit\",e)},expression:\"langFormData.edit\"}}),e(\"el-form-item\",{staticClass:\"mb20\",attrs:{label:\"需要翻译的语句：\",prop:\"remarks\"}},[e(\"el-input\",{staticStyle:{width:\"330px\"},attrs:{placeholder:\"请输入需要添加翻译的语句\",search:\"\"},on:{\"on-search\":a.translate},model:{value:a.langFormData.remarks,callback:function(e){a.$set(a.langFormData,\"remarks\",e)},expression:\"langFormData.remarks\"}},[e(\"el-button\",{attrs:{slot:\"append\",type:\"primary\"},on:{click:a.translate},slot:\"append\"},[a._v(\"翻译\")])],1)],1),e(\"el-form-item\",{staticClass:\"mb20\",attrs:{prop:\"remark\"}},[e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:a.traTabLoading,expression:\"traTabLoading\"}],ref:\"langTable\",attrs:{data:a.langFormData.list,\"empty-text\":\"暂无数据\"}},[e(\"el-table-column\",{attrs:{label:\"语言类型\",width:\"140\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"span\",[a._v(\" \"+a._s(t.row.language_name))])]}}])}),e(\"el-table-column\",{attrs:{label:\"对应语言翻译\",\"min-width\":\"250\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[e(\"el-input\",{staticClass:\"priceBox\",model:{value:t.row.lang_explain,callback:function(e){a.$set(t.row,\"lang_explain\",e)},expression:\"scope.row.lang_explain\"}})]}}])})],1)],1)],1),e(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[e(\"el-button\",{on:{click:function(e){a.addlangModal=!1}}},[a._v(\"取消\")]),e(\"el-button\",{attrs:{type:\"primary\"},on:{click:a.ok}},[a._v(\"确定\")])],1)],1)],1)}),[],!1,null,\"6b74b50b\",null);e.default=t.exports},e728:function(a,e,t){t(\"fdf8\")},fdf8:function(a,e){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/stylus-loader/index.js):\\nTypeError: Class constructor Visitor cannot be invoked without 'new'\\n    at new ImportVisitor (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:10:11)\\n    at listImports (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:72:23)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/pathcache.js:295:15\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Fulfilled.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:590:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/webpack/lib/NormalModule.js:316:20\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:367:11\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:233:18\\n    at context.callback (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:111:13)\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Rejected.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:623:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\")}}]);","extractedComments":[]}