{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-4e8b5f21\"],{\"6fd3\":function(t,e,a){throw a(\"498a\"),a(\"14d9\"),a(\"13d5\"),a(\"a434\"),a(\"d3b7\"),a(\"c4c8\"),a(\"2877\"),a=new Error(\"Cannot find module './addAttr.vue?vue&type=style&index=0&id=0fec9316&prod&scoped=true&lang=stylus'\"),a.code=\"MODULE_NOT_FOUND\",a},\"7f08\":function(t,e,a){a.r(e);var n=a(\"2909\"),r=a(\"5530\"),i=(a(\"caad\"),a(\"a15b\"),a(\"14d9\"),a(\"d3b7\"),a(\"6062\"),a(\"3ca3\"),a(\"88e6\"),a(\"70cc\"),a(\"eb03\"),a(\"22e5\"),a(\"c01e\"),a(\"fa76\"),a(\"8306\"),a(\"159b\"),a(\"ddb0\"),a(\"2f62\")),s=a(\"6fd3\"),l=a(\"c4c8\");s={name:\"productAttr\",components:{addAttr:s.a},data:function(){return{loading:!1,artFrom:{page:1,limit:20,rule_name:\"\"},tableList:[],total:0,selectedIds:new Set,ids:[],multipleSelection:[]}},computed:Object(r.a)({},Object(i.e)(\"admin/order\",[\"orderChartType\"])),created:function(){this.getDataList()},methods:{getRowKey:function(t){return t.id},handleSelectAll:function(t){var e=this;0===t.length?this.$refs.table.data.forEach((function(t){e.selectedIds.has(t.id)&&e.selectedIds.delete(t.id)})):t.forEach((function(t){e.selectedIds.add(t.id)})),this.$nextTick((function(){e.setChecked()}))},handleSelectRow:function(t){for(var e=this,a=[],n=[],r=0;r<t.length;r++){var i=t[r];n.includes(i.id)||(a.push(i),n.push(i.id))}this.selectedIds=n,this.multipleSelection=a,this.$nextTick((function(t){e.setChecked()}))},setChecked:function(){this.ids=Object(n.a)(this.selectedIds).join(\",\")},del:function(t,e){var a=this,n={};if(\"批量删除规格\"===e){if(0===this.selectedIds.size)return this.$message.warning(\"请选择要删除的规格！\");n={ids:this.ids}}else n={ids:t.id};this.$modalSure({title:e,num:0,url:\"product/product/rule/delete\",method:\"DELETE\",ids:n}).then((function(t){a.$message.success(t.msg),a.getDataList()})).catch((function(t){a.$message.error(t.msg)}))},addAttr:function(){this.$refs.addattr.modal=!0},edit:function(t){this.$refs.addattr.modal=!0,this.$refs.addattr.getIofo(t)},getDataList:function(){var t=this;this.loading=!0,Object(l.D)(this.artFrom).then((function(e){var a=e.data;t.tableList=a.list,t.$nextTick((function(){t.setChecked()})),t.total=e.data.count,t.loading=!1})).catch((function(e){t.loading=!1,t.$message.error(e.msg)}))},userSearchs:function(){this.artFrom.page=1,this.getDataList()}}},r=a(\"2877\"),i=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e(\"div\",[e(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[e(\"div\",{staticClass:\"padding-add\"},[e(\"el-form\",{ref:\"artFrom\",staticClass:\"tabform\",attrs:{model:t.artFrom,\"label-width\":\"80px\",\"label-position\":\"right\",inline:\"\"},nativeOn:{submit:function(t){t.preventDefault()}}},[e(\"el-form-item\",{attrs:{label:\"规格搜索：\"}},[e(\"el-input\",{staticClass:\"form_content_width\",attrs:{clearable:\"\",placeholder:\"请输入规格名称\"},model:{value:t.artFrom.rule_name,callback:function(e){t.$set(t.artFrom,\"rule_name\",e)},expression:\"artFrom.rule_name\"}})],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.userSearchs}},[t._v(\"查询\")])],1)],1)],1)]),e(\"el-card\",{staticClass:\"ivu-mt mt16\",attrs:{bordered:!1,shadow:\"never\"}},[e(\"el-button\",{directives:[{name:\"auth\",rawName:\"v-auth\",value:[\"product-rule-save\"],expression:\"['product-rule-save']\"}],attrs:{type:\"primary\"},on:{click:t.addAttr}},[t._v(\"添加商品规格\")]),e(\"el-button\",{directives:[{name:\"auth\",rawName:\"v-auth\",value:[\"product-product-rule-delete\"],expression:\"['product-product-rule-delete']\"}],on:{click:function(e){return t.del(null,\"批量删除规格\")}}},[t._v(\"批量删除\")]),e(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"mt14\",attrs:{data:t.tableList,\"highlight-current-row\":\"\",\"row-key\":t.getRowKey,\"empty-text\":\"暂无数据\"},on:{\"selection-change\":t.handleSelectRow}},[e(\"el-table-column\",{attrs:{type:\"selection\",width:\"60\",\"reserve-selection\":!0}}),e(\"el-table-column\",{attrs:{label:\"ID\",width:\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.id))])]}}])}),e(\"el-table-column\",{attrs:{label:\"规格名称\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.rule_name))])]}}])}),e(\"el-table-column\",{attrs:{label:\"商品规格\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"span\",[t._v(t._s(a.row.attr_name))])]}}])}),e(\"el-table-column\",{attrs:{label:\"商品属性\",\"min-width\":\"130\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return t._l(a.row.attr_value,(function(a,n){return e(\"span\",{key:n,staticStyle:{display:\"block\"},domProps:{textContent:t._s(a)}})}))}}])}),e(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(a){return[e(\"a\",{on:{click:function(e){return t.edit(a.row)}}},[t._v(\"编辑\")]),e(\"el-divider\",{attrs:{direction:\"vertical\"}}),e(\"a\",{on:{click:function(e){return t.del(a.row,\"删除规格\",a.$index)}}},[t._v(\"删除\")])]}}])})],1),e(\"div\",{staticClass:\"acea-row row-right page\"},[t.total?e(\"pagination\",{attrs:{total:t.total,page:t.artFrom.page,limit:t.artFrom.limit},on:{\"update:page\":function(e){return t.$set(t.artFrom,\"page\",e)},\"update:limit\":function(e){return t.$set(t.artFrom,\"limit\",e)},pagination:t.getDataList}}):t._e()],1)],1),e(\"add-attr\",{ref:\"addattr\",on:{getList:t.userSearchs}})],1)}),[],!1,null,\"403d239e\",null);e.default=i.exports}}]);","extractedComments":[]}