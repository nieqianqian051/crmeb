{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-afc4f6ce\"],{\"31b4\":function(e,t,a){a(\"a630\"),a(\"3ca3\");var s=a(\"5530\"),i=(a(\"d3b7\"),a(\"159b\"),a(\"30ba\")),l=(i=a.n(i),a(\"6b6c\"),a(\"2f62\"));i.a.$form(),Object(s.a)({},Object(l.e)(\"userLevel\",[\"taskId\",\"levelId\"])),Boolean,a(\"2877\"),i=new Error(\"Cannot find module './from.vue?vue&type=style&index=0&id=224af4d2&prod&scoped=true&lang=stylus'\");throw i.code=\"MODULE_NOT_FOUND\",i},fe78:function(e,t,a){a.r(t),a(\"b0c0\");var s=a(\"c7eb\"),i=a(\"1da1\"),l=(t=a(\"5530\"),a(\"2f62\")),r=a(\"c24f\"),n=(a(\"a434\"),{name:\"task\",components:{editFrom:a(\"31b4\").a},data:function(){return{grid:{xl:10,lg:10,md:12,sm:24,xs:24},modals:!1,levelFrom:{is_show:\"\",name:\"\",page:1,limit:20},total:0,levelLists:[],loading:!1,FromData:null,ids:0,titleType:\"task\"}},computed:Object(t.a)(Object(t.a)(Object(t.a)({},Object(l.e)(\"media\",[\"isMobile\"])),Object(l.e)(\"userLevel\",[\"levelId\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),methods:Object(t.a)(Object(t.a)({},Object(l.d)(\"userLevel\",[\"getTaskId\",\"getlevelId\"])),{},{add:function(){this.ids=\"\",this.getFrom()},getFrom:function(){var e=this,t={id:this.ids,level_id:this.levelId};this.$modalForm(Object(r.f)(t)).then((function(){return e.getList()}))},edit:function(e){this.ids=e.id,this.getFrom()},handleReset:function(){this.modals=!1},userSearchs:function(){this.getList()},getList:function(){var e=this;this.loading=!0,this.levelFrom.is_show=this.levelFrom.is_show||\"\",Object(r.P)(this.levelId,this.levelFrom).then(function(){var t=Object(i.a)(Object(s.a)().mark((function t(a){var i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.data,e.levelLists=i.list,e.total=a.data.count,e.loading=!1;case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$message.error(t.msg)}))},onchangeIsShow:function(e){var t=this;e={id:e.id,is_show:e.is_show};Object(r.N)(e).then(function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$message.success(a.msg);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.msg)}))},onchangeIsMust:function(e){var t=this;e={id:e.id,is_must:e.is_must};Object(r.M)(e).then(function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$message.success(a.msg);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$message.error(e.msg)}))},submitFail:function(){this.getList()},del:function(e,t,a){var s=this;t={title:t,num:a,url:\"user/user_level/delete_task/\".concat(e.id),method:\"DELETE\",ids:\"\"};this.$modalSure(t).then((function(e){s.$message.success(e.msg),s.levelLists.splice(a,1)})).catch((function(e){s.$message.error(e.msg)}))}})});a=a(\"2877\"),Object(a.a)(n,(function(){var e=this,t=e._self._c;return t(\"el-dialog\",{attrs:{visible:e.modals,title:\"等级任务\",\"close-on-click-modal\":!1,width:\"1000px\"},on:{\"update:visible\":function(t){e.modals=t},closed:e.handleReset}},[t(\"el-form\",{ref:\"levelFrom\",attrs:{model:e.levelFrom,\"label-width\":e.labelWidth,\"label-position\":e.labelPosition},nativeOn:{submit:function(e){e.preventDefault()}}},[t(\"el-row\",{attrs:{gutter:24}},[t(\"el-col\",e._b({},\"el-col\",e.grid,!1),[t(\"el-form-item\",{attrs:{label:\"等级状态：\"}},[t(\"el-select\",{attrs:{placeholder:\"是否显示\",clearable:\"\"},on:{change:e.userSearchs},model:{value:e.levelFrom.is_show,callback:function(t){e.$set(e.levelFrom,\"is_show\",t)},expression:\"levelFrom.is_show\"}},[t(\"el-option\",{attrs:{value:\"1\",label:\"显示\"}}),t(\"el-option\",{attrs:{value:\"0\",label:\"不显示\"}})],1)],1)],1),t(\"el-col\",e._b({},\"el-col\",e.grid,!1),[t(\"el-form-item\",{attrs:{label:\"等级名称：\",prop:\"status2\",\"label-for\":\"status2\"}},[t(\"el-input\",{staticStyle:{width:\"100%\"},attrs:{search:\"\",\"enter-button\":\"\",placeholder:\"请输入等级名称\"},on:{\"on-search\":e.userSearchs},model:{value:e.levelFrom.name,callback:function(t){e.$set(e.levelFrom,\"name\",t)},expression:\"levelFrom.name\"}})],1)],1)],1)],1),t(\"el-divider\",{attrs:{direction:\"vertical\",dashed:\"\"}}),t(\"el-row\",[t(\"el-col\",e._b({staticClass:\"mb15\"},\"el-col\",e.grid,!1),[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.add}},[e._v(\"添加等级任务\")])],1),t(\"el-col\",{staticClass:\"userAlert\",attrs:{span:24}},[t(\"el-alert\",{attrs:{\"show-icon\":\"\",closable:\"\"}},[t(\"template\",{slot:\"title\"},[e._v(\"\\n          添加等级任务,任务类型中的{$num}会自动替换成限定数量+系统预设的单位生成任务名\\n        \")])],2)],1)],1),t(\"el-divider\",{attrs:{direction:\"vertical\",dashed:\"\"}}),t(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"table\",attrs:{data:e.levelLists,\"no-userFrom-text\":\"暂无数据\",\"no-filtered-userFrom-text\":\"暂无筛选结果\"}},[t(\"el-table-column\",{attrs:{label:\"ID\",width:\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.id))])]}}])}),t(\"el-table-column\",{attrs:{label:\"等级名称\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.level_name))])]}}])}),t(\"el-table-column\",{attrs:{label:\"任务名称\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.name))])]}}])}),t(\"el-table-column\",{attrs:{label:\"是否显示\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"el-switch\",{staticClass:\"defineSwitch\",attrs:{\"active-value\":1,\"inactive-value\":0,value:a.row.is_show,size:\"large\",\"active-text\":\"显示\",\"inactive-text\":\"隐藏\"},on:{change:function(t){return e.onchangeIsShow(a.row)}},model:{value:a.row.is_show,callback:function(t){e.$set(a.row,\"is_show\",t)},expression:\"scope.row.is_show\"}})]}}])}),t(\"el-table-column\",{attrs:{label:\"务必达成\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"el-switch\",{staticClass:\"defineSwitch\",attrs:{\"active-value\":1,\"inactive-value\":0,value:a.row.is_must,\"true-value\":1,\"false-value\":0,size:\"large\",\"active-text\":\"全部\",\"inactive-text\":\"其一\"},on:{change:function(t){return e.onchangeIsMust(a.row)}},model:{value:a.row.is_must,callback:function(t){e.$set(a.row,\"is_must\",t)},expression:\"scope.row.is_must\"}})]}}])}),t(\"el-table-column\",{attrs:{label:\"任务说明\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.illustrate))])]}}])}),t(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"170\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"a\",{on:{click:function(t){return e.edit(a.row)}}},[e._v(\"编辑 | \")]),t(\"a\",{on:{click:function(t){return e.del(a.row,\"删除等级任务\",e.index)}}},[e._v(\" 删除\")])]}}])})],1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.total?t(\"pagination\",{attrs:{total:e.total,page:e.levelFrom.page,limit:e.levelFrom.limit},on:{\"update:page\":function(t){return e.$set(e.levelFrom,\"page\",t)},\"update:limit\":function(t){return e.$set(e.levelFrom,\"limit\",t)},pagination:e.getList}}):e._e()],1),t(\"edit-from\",{ref:\"edits\",attrs:{FromData:e.FromData,titleType:e.titleType},on:{submitFail:e.submitFail}})],1)}),[],!1,null,\"548132bf\",null).exports,n={name:\"orderMark\",data:function(){return{formValidate:{remark:\"\"},modals:!1,ruleValidate:{remark:[{required:!0,message:\"请输入备注信息\",trigger:\"blur\"}]}}},props:{remark:{default:\"\",type:String}},methods:{cancel:function(e){this.modals=!1,this.$refs[e].resetFields()},putRemark:function(e){var t=this;this.$refs[e].validate((function(e){e?t.$emit(\"submitFail\",t.formValidate.remark):t.$message.warning(\"请填写备注信息\")}))}}},Object(a.a)(n,(function(){var e=this,t=e._self._c;return t(\"el-dialog\",{staticClass:\"order_box\",attrs:{visible:e.modals,title:\"备注\",width:\"470px\",\"show-close\":!0},on:{\"update:visible\":function(t){e.modals=t}}},[t(\"el-form\",{ref:\"formValidate\",attrs:{model:e.formValidate,rules:e.ruleValidate,\"label-width\":\"85px\"},nativeOn:{submit:function(e){e.preventDefault()}}},[t(\"el-form-item\",{attrs:{label:\"备注：\",prop:\"remark\"}},[t(\"el-input\",{staticStyle:{width:\"100%\"},attrs:{maxlength:200,\"show-word-limit\":\"\",type:\"textarea\",placeholder:\"请输入备注信息\"},model:{value:e.formValidate.remark,callback:function(t){e.$set(e.formValidate,\"remark\",t)},expression:\"formValidate.remark\"}})],1)],1),t(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.putRemark(\"formValidate\")}}},[e._v(\"提交\")]),t(\"el-button\",{on:{click:function(t){return e.cancel(\"formValidate\")}}},[e._v(\"取消\")])],1)],1)}),[],!1,null,\"14eb4943\",null).exports,Object(t.a)(Object(t.a)({},Object(l.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),Object(t.a)(Object(t.a)({},Object(l.d)(\"userLevel\",[\"getlevelId\"])),{},{remark:function(e){this.id=e.id,this.$refs.remark.formValidate.remark=e.remark,this.$refs.remark.modals=!0},agree:function(e){var t=this;this.delfromData={title:\"注销用户\",url:\"/user/cancel/agree/\".concat(e.id),method:\"get\"},this.$modalSure(this.delfromData).then((function(e){t.$message.success(e.msg),t.getList()})).catch((function(e){t.$message.error(e.msg)}))},refuse:function(e){var t=this;this.delfromData={title:\"拒绝注销用户\",info:\"您确认拒绝注销此用户吗?\",url:\"/user/cancel/refuse/\".concat(e.id),method:\"get\"},this.$modalSure(this.delfromData).then((function(e){t.$message.success(e.msg),t.getList()})).catch((function(e){t.$message.error(e.msg)}))},submitFail:function(e){var t=this;e={id:this.id,mark:e};Object(r.V)(e).then((function(e){t.$refs.remark.modals=!1,t.$message.success(e.msg),t.getList()})).catch((function(e){t.$refs.remark.modals=!1,t.$message.error(e.msg)}))},getList:function(){var e=this;this.loading=!0,this.levelFrom.status=this.levelFrom.status||\"\",Object(r.U)(this.levelFrom).then(function(){var t=Object(i.a)(Object(s.a)().mark((function t(a){var i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.data,e.levelLists=i.list,e.total=a.data.count,e.loading=!1;case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$message.error(t.msg)}))},userSearchs:function(){this.levelFrom.page=1,this.getList()}}),a=new Error(\"Cannot find module './index.vue?vue&type=style&index=0&id=539280fa&prod&scoped=true&lang=stylus'\");throw a.code=\"MODULE_NOT_FOUND\",a}}]);","extractedComments":[]}