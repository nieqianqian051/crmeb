{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-81c6f57e\"],{\"129f\":function(e,t,a){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},\"2eed\":function(e,t,a){a.r(t),a(\"b0c0\"),a(\"ac1f\"),a(\"841c\");var i=a(\"c7eb\"),n=a(\"1da1\"),r=a(\"5530\"),s=(a(\"d81d\"),a(\"14d9\"),a(\"5319\"),a(\"2f62\")),o=a(\"6b6c\");function l(e){return Object(o.a)({url:e,method:\"get\"})}r={name:\"crud_index\",data:function(){return{grid:{xl:7,lg:7,md:12,sm:24,xs:24},loading:!1,columns:[],readFields:{name:\"\",all:[]},from:{page:1,limit:15},dataList:[],total:0,methodApi:{},curdKey:\"\",dialogTableVisible:!1,info:{},search:[]}},computed:Object(r.a)(Object(r.a)({},Object(s.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),beforeRouteUpdate:function(e,t,a){this.from.page=1,this.getCrudApi(e.params.table_name),a()},created:function(){this.getCrudApi(this.$route.params.table_name)},methods:{show:function(e){var t=this;l(this.methodApi.read.replace(\"<id>\",e.id)).then((function(e){t.dialogTableVisible=!0,t.info=e.data})).catch((function(e){t.$Message.error(e.msg)}))},onchangeIsShow:function(e,t){var a=this,r=this.methodApi.status.replace(\"<id>\",e.id);r=r,e={field:t,value:e[t]},Object(o.a)({url:r,method:\"put\",data:e}).then(function(){var e=Object(n.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.$message.success(t.msg);case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a.$message.error(e.msg)}))},searchs:function(){this.from.page=1,this.getList()},change:function(e){this.$forceUpdate()},getCrudApi:function(e){var t=this;e=e,Object(o.a)({url:\"system/crud/config/\".concat(e),method:\"get\"}).then((function(e){t.methodApi=e.data.route,t.curdKey=e.data.key,t.readFields=e.data.readFields,e.data.search.map((function(e){t.from[e.field]=\"\"})),t.search=e.data.search,e.data.columns.push({title:\"操作\",slot:\"action\",fixed:\"right\",width:100,align:\"center\"}),e.data.columns.map((function(e){\"frameImageOne\"===e.from_type?e.render=function(t,a){return t(\"div\",{class:\"tabBox_img\",directives:[{name:\"viewer\"}]},[t(\"img\",{directives:[{name:\"lazy\",value:a.row[e.slot]}]})])}:\"frameImages\"===e.from_type&&(e.render=function(t,a){a=a.row[e.slot]||[];var i=[];return a.map((function(e){i.push(t(\"img\",{directives:[{name:\"lazy\",value:e}]}))})),t(\"div\",{class:\"tabBox_img\",directives:[{name:\"viewer\"}]},i)})})),t.columns=e.data.columns,t.getList()}))},add:function(){var e=this,t=this.methodApi.create;this.$modalForm(l(t)).then((function(){return e.getList()}))},getList:function(){var e,t=this,a=(this.loading=!0,this.methodApi.index);a=a,e=this.from,Object(o.a)({url:a,method:\"get\",params:e}).then(function(){var e=Object(n.a)(Object(i.a)().mark((function e(a){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.data,t.dataList=n.list,t.total=n.count,t.loading=!1;case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$message.error(e.msg)}))},edit:function(e){var t=this;e=this.methodApi.edit.replace(\"<id>\",e[this.curdKey]);this.$modalForm((e=e,Object(o.a)({url:e,method:\"get\"}))).then((function(){return t.getList()}))},del:function(e,t,a){var i=this;e=this.methodApi.delete.replace(\"<id>\",e[this.curdKey]);this.$modalSure({title:t,num:a,url:e,method:\"DELETE\",ids:\"\"}).then((function(e){i.$message.success(e.msg),i.getList()})).catch((function(e){i.$message.error(e.msg)}))}}},a(\"a45d\"),s=a(\"2877\"),a=Object(s.a)(r,(function(){var e=this,t=e._self._c;return t(\"div\",[t(\"el-card\",{staticClass:\"ivu-mt\",attrs:{shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add\"},[e.search.length?t(\"el-form\",{ref:\"curlFrom\",attrs:{model:e.from,\"label-width\":e.labelWidth,\"label-position\":e.labelPosition,inline:\"\"},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(e.search,(function(a,i){return t(\"el-form-item\",{key:i,attrs:{label:a.name+\":\"}},[\"input\"===a.type?t(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请输入\"+a.name},on:{input:function(t){return e.change(t)}},model:{value:e.from[a.field],callback:function(t){e.$set(e.from,a.field,t)},expression:\"from[item.field]\"}}):\"date-picker\"===a.type?t(\"el-date-picker\",{staticStyle:{width:\"250px\"},attrs:{editable:!1,clearabl:\"\",format:\"yyyy/MM/dd\",type:\"daterange\",\"value-format\":\"yyyy/MM/dd\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{change:e.searchs},model:{value:e.from[a.field],callback:function(t){e.$set(e.from,a.field,t)},expression:\"from[item.field]\"}}):\"select\"===a.type?t(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择\",clearable:\"\"},on:{change:e.searchs},model:{value:e.from[a.field],callback:function(t){e.$set(e.from,a.field,t)},expression:\"from[item.field]\"}},e._l(a.option,(function(e,a){return t(\"el-option\",{key:a,attrs:{value:e.value,label:e.label}})})),1):e._e()],1)})),t(\"el-form-item\",[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.searchs}},[e._v(\"查询\")])],1)],2):e._e()],1)]),t(\"el-card\",{staticClass:\"ivu-mt\",class:e.search.length?\"mt16\":\"\",attrs:{shadow:\"never\"}},[t(\"el-row\",[t(\"el-col\",e._b({},\"el-col\",e.grid,!1),[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.add}},[e._v(\"添加\")])],1)],1),t(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"mt14\",attrs:{data:e.dataList,\"no-userFrom-text\":\"暂无数据\",\"no-filtered-userFrom-text\":\"暂无筛选结果\"}},e._l(e.columns,(function(a,i){return t(\"el-table-column\",{key:i,attrs:{label:a.title,\"min-width\":a.minWidth},scopedSlots:e._u([{key:\"default\",fn:function(i){return[a.key?[t(\"span\",[e._v(e._s(i.row[a.key]))])]:\"frameImageOne\"==a.from_type?[t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"tabBox_img\"},[t(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:i.row[a.slot],expression:\"scope.row[item.slot]\"}]})])]:\"frameImages\"==a.from_type?[t(\"div\",{staticClass:\"frame-images\"},e._l(i.row[a.slot],(function(e,a){return t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],key:a,staticClass:\"tabBox_img\"},[t(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:e,expression:\"item\"}]})])})),0)]:\"dateTimeRange\"==a.from_type?[t(\"span\",[e._v(e._s(i.row[a.slot][0])+\"--\"+e._s(i.row[a.slot][1]))])]:\"action\"===a.slot?[t(\"a\",{on:{click:function(t){return e.show(i.row)}}},[e._v(\"详情\")]),t(\"el-divider\",{attrs:{direction:\"vertical\"}}),t(\"a\",{on:{click:function(t){return e.edit(i.row)}}},[e._v(\"修改\")]),t(\"el-divider\",{attrs:{direction:\"vertical\"}}),t(\"a\",{on:{click:function(t){return e.del(i.row,\"删除\",i.$index)}}},[e._v(\"删除\")])]:\"switches\"===a.from_type?[t(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":0,value:i.row[a.slot],size:\"large\"},on:{change:function(t){return e.onchangeIsShow(i.row,a.slot)}},model:{value:i.row[a.slot],callback:function(t){e.$set(i.row,a.slot,t)},expression:\"scope.row[item.slot]\"}})]:e._e()]}}],null,!0)})})),1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.total?t(\"pagination\",{attrs:{total:e.total,page:e.from.page,limit:e.from.limit},on:{\"update:page\":function(t){return e.$set(e.from,\"page\",t)},\"update:limit\":function(t){return e.$set(e.from,\"limit\",t)},pagination:e.getList}}):e._e()],1)],1),e.dialogTableVisible?t(\"el-dialog\",{attrs:{title:\"查看详情\",visible:e.dialogTableVisible},on:{\"update:visible\":function(t){e.dialogTableVisible=t}}},[t(\"el-descriptions\",{attrs:{title:e.readFields.name}},e._l(e.readFields.all,(function(a,i){return t(\"el-descriptions-item\",{key:i,attrs:{label:a.comment}},[t(\"div\",\"frameImageOne\"==a.from_type?[t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"tabBox_img\"},[t(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:e.info[a.field],expression:\"info[item.field]\"}]})])]:\"frameImages\"==a.from_type?[t(\"div\",{staticClass:\"frame-images\"},e._l(e.info[a.field],(function(e,a){return t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],key:a,staticClass:\"tabBox_img\"},[t(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:e,expression:\"item\"}]})])})),0)]:\"dateTimeRange\"==a.from_type?[t(\"span\",[e._v(e._s(e.info[a.field][0])+\"--\"+e._s(e.info[a.field][1]))])]:[e._v(e._s(e.info[a.field]))])])})),1)],1):e._e()],1)}),[],!1,null,\"1f5cab4e\",null),t.default=a.exports},\"841c\":function(e,t,a){var i=a(\"c65b\"),n=a(\"d784\"),r=a(\"825a\"),s=a(\"7234\"),o=a(\"1d80\"),l=a(\"129f\"),c=a(\"577e\"),d=a(\"dc4a\"),m=a(\"14c3\");n(\"search\",(function(e,t,a){return[function(t){var a=o(this),n=s(t)?void 0:d(t,e);return n?i(n,t,a):new RegExp(t)[e](c(a))},function(e){var i=r(this),n=(e=c(e),a(t,i,e));return n.done?n.value:(n=i.lastIndex,l(n,0)||(i.lastIndex=0),e=m(i,e),l(i.lastIndex,n)||(i.lastIndex=n),null===e?-1:e.index)}]}))},\"879f\":function(e,t,a){},a45d:function(e,t,a){a(\"879f\")}}]);","extractedComments":[]}