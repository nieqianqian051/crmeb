{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-e853001a\"],{\"2c26\":function(e,a){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/stylus-loader/index.js):\\nTypeError: Class constructor Visitor cannot be invoked without 'new'\\n    at new ImportVisitor (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:10:11)\\n    at listImports (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:72:23)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/pathcache.js:295:15\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Fulfilled.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:590:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/webpack/lib/NormalModule.js:316:20\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:367:11\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:233:18\\n    at context.callback (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:111:13)\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Rejected.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:623:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\")},\"34ce\":function(e,a){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/stylus-loader/index.js):\\nTypeError: Class constructor Visitor cannot be invoked without 'new'\\n    at new ImportVisitor (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:10:11)\\n    at listImports (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:72:23)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/pathcache.js:295:15\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Fulfilled.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:590:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/webpack/lib/NormalModule.js:316:20\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:367:11\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:233:18\\n    at context.callback (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:111:13)\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Rejected.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:623:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\")},\"4e74\":function(e,a,n){n(\"2c26\")},a584:function(e,a,n){n(\"b0c0\");var t={name:\"cards\",data:function(){return{colsize:{xl:4,lg:8,md:12}}},props:{cardLists:Array},methods:{},created:function(){switch(this.cardLists.length){case 1:this.colsize.xl=24,this.colsize.lg=24,this.colsize.md=24;break;case 2:this.colsize.xl=12,this.colsize.lg=12,this.colsize.md=12;break;case 3:this.colsize.xl=8,this.colsize.lg=8,this.colsize.md=8;break;case 4:this.colsize.xl=6,this.colsize.lg=6,this.colsize.md=12;break;case 5:this.colsize.xl=8,this.colsize.lg=8,this.colsize.md=12;break;default:this.colsize.xl=4,this.colsize.lg=8,this.colsize.md=12}4==this.cardLists.length?this.colsize.lg=6:4==this.cardLists.length&&(this.colsize.lg=8)}};n(\"dc1f\"),n=n(\"2877\"),n=Object(n.a)(t,(function(){var e=this,a=e._self._c;return a(\"div\",[a(\"el-row\",{staticClass:\"ivu-mt\",attrs:{align:\"middle\",gutter:24}},e._l(e.cardLists,(function(n,t){return a(\"el-col\",{key:t,staticClass:\"ivu-mb\",attrs:{xl:n.col||e.colsize.xl,lg:e.colsize.lg,md:e.colsize.md,sm:24,xs:24}},[a(\"el-card\",{staticClass:\"card_cent\",attrs:{shadow:\"never\"}},[a(\"div\",{staticClass:\"card_box\"},[a(\"div\",{staticClass:\"card_box_cir\",class:{one:t%5==0,two:t%5==1,three:t%5==2,four:t%5==3,five:t%5==4}},[a(\"div\",{staticClass:\"card_box_cir1\",class:{one1:t%5==0,two1:t%5==1,three1:t%5==2,four1:t%5==3,five1:t%5==4}},[a(\"span\",{staticClass:\"iconfont\",class:n.className})])]),a(\"div\",{staticClass:\"card_box_txt\"},[a(\"span\",{staticClass:\"sp1\",domProps:{textContent:e._s(n.count||0)}}),a(\"span\",{staticClass:\"sp2\",domProps:{textContent:e._s(n.name)}})])])])],1)})),1)],1)}),[],!1,null,\"50f2a66a\",null);a.a=n.exports},dc1f:function(e,a,n){n(\"34ce\")},fea0:function(e,a,n){n.r(a);var t=n(\"c7eb\"),i=n(\"1da1\"),s=(n(\"d81d\"),n(\"a584\")),o=n(\"b7be\");s={name:\"index\",components:{cardsData:s.a},data:function(){return{modals:!1,tabList3:[],loading2:!1,grid:{xl:7,lg:7,md:12,sm:24,xs:24},id:0,tbody:[],labelWidth:\"80px\",total:0,tabs:[{type:\"0\",label:\"活动参与人\"},{type:\"1\",label:\"活动订单\"}],currentTab:0,loading:!1,thead:[{title:\"头像\",slot:\"avatar\"},{title:\"发起用户\",key:\"nickname\"},{title:\"发起时间\",key:\"add_time\"},{title:\"帮砍人数\",key:\"num\"},{title:\"结束时间\",key:\"datatime\"},{title:\"砍价状态\",slot:\"status\"},{title:\"操作\",slot:\"action\"}],thead2:[{title:\"订单号\",key:\"order_id\"},{title:\"用户\",key:\"real_name\"},{title:\"订单状态\",key:\"status\"},{title:\"订单支付金额\",key:\"pay_price\"},{title:\"订单商品数\",key:\"total_num\"},{title:\"下单时间\",key:\"add_time\"},{title:\"支付时间\",key:\"pay_time\"}],cardLists:[{col:4,count:0,name:\"活动参与人数（人）\",className:\"iconcanyurenshu\"},{col:4,count:0,name:\"砍价人数（人）\",className:\"iconxiadanrenshu\"},{col:4,count:0,name:\"发起砍价数\",className:\"icontuiguangrenshu\"},{col:4,count:0,name:\"砍价成功数\",className:\"iconkanjiachenggong\"},{col:4,count:0,name:\"支付订单额（元）\",className:\"iconzhifudingdan\"},{col:4,count:0,name:\"支付人数（人）\",className:\"iconzhifurenshu\"}],pagination:{page:1,limit:15,real_name:\"\",status:\"\"},type:0}},created:function(){this.id=this.$route.params.id,this.getStatistics(this.id),this.getList(this.id)},methods:{getStatistics:function(e){var a=this;Object(o.E)(e).then((function(e){var n=[\"people_count\",\"spread_count\",\"start_count\",\"success_count\",\"pay_price\",\"pay_count\",\"pay_rate\"];a.cardLists.map((function(a,t){a.count=e.data[n[t]]}))}))},getList:function(e){var a=this;this.loading=!0,0==this.type?Object(o.G)(this.id,this.pagination).then((function(e){a.loading=!1;e=e.data;var n=e.count;e=e.list;a.total=n,a.tbody=e})):Object(o.F)(this.id,this.pagination).then((function(e){a.loading=!1;e=e.data;var n=e.count;e=e.list;a.total=n,a.tbody=e}))},onClickTab:function(e){this.type=e.index,this.getList(this.id)},searchList:function(){this.pagination.page=1,this.getList(this.id)},Info:function(e){var a=this;this.modals=!0,this.rows=e,Object(o.g)(e.id).then(function(){var e=Object(i.a)(Object(t.a)().mark((function e(n){var i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.data,a.tabList3=i.list,a.loading=!1;case 3:case\"end\":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){a.loading=!1,a.$message.error(e.msg)}))}}},n(\"4e74\"),n=n(\"2877\"),n=Object(n.a)(s,(function(){var e=this,a=e._self._c;return a(\"div\",[a(\"pages-header\",{ref:\"pageHeader\",attrs:{title:e.$route.meta.title,backUrl:e.$routeProStr+\"/marketing/store_bargain/index\"}}),e.cardLists.length?a(\"cards-data\",{staticClass:\"ivu-mt-16\",attrs:{cardLists:e.cardLists}}):e._e(),a(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\"}},[a(\"el-form\",{ref:\"pagination\",attrs:{model:e.pagination,\"label-width\":e.labelWidth,\"label-position\":\"right\",inline:\"\"},nativeOn:{submit:function(e){e.preventDefault()}}},[1==e.type?a(\"el-form-item\",{attrs:{label:\"订单状态：\",\"label-for\":\"status\"}},[a(\"el-select\",{staticClass:\"form_content_width\",attrs:{placeholder:\"请选择订单状态\",clearable:\"\"},on:{change:e.searchList},model:{value:e.pagination.status,callback:function(a){e.$set(e.pagination,\"status\",a)},expression:\"pagination.status\"}},[a(\"el-option\",{attrs:{value:\"1\",label:\"待发货\"}}),a(\"el-option\",{attrs:{value:\"2\",label:\"待收货\"}}),a(\"el-option\",{attrs:{value:\"3\",label:\"待评价\"}}),a(\"el-option\",{attrs:{value:\"4\",label:\"交易完成\"}})],1)],1):e._e(),a(\"el-form-item\",{attrs:{label:\"订单搜索：\",\"label-for\":\"title\"}},[a(\"el-input\",{staticClass:\"form_content_width\",attrs:{placeholder:1==e.type?\"请输入用户姓名|订单号|UID\":\"请输入用户UID\"},model:{value:e.pagination.real_name,callback:function(a){e.$set(e.pagination,\"real_name\",a)},expression:\"pagination.real_name\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.searchList}},[e._v(\"查询\")])],1)],1),a(\"el-tabs\",{on:{\"tab-click\":e.onClickTab},model:{value:e.type,callback:function(a){e.type=a},expression:\"type\"}},e._l(e.tabs,(function(e,n){return a(\"el-tab-pane\",{key:n,attrs:{label:e.label,name:e.type}})})),1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"table\",attrs:{data:e.tbody,\"highlight-current-row\":\"\",\"no-userFrom-text\":\"暂无数据\",\"no-filtered-userFrom-text\":\"暂无筛选结果\"}},e._l(1==e.type?e.thead2:e.thead,(function(n,t){return a(\"el-table-column\",{key:t,attrs:{label:n.title,\"min-width\":n.minWidth},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n.key?[a(\"div\",[a(\"span\",[e._v(e._s(t.row[n.key]))])])]:\"avatar\"===n.slot?[a(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"tabBox_img\"},[a(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:t.row.avatar,expression:\"scope.row.avatar\"}]})])]:\"status\"===n.slot?[a(\"el-tag\",{directives:[{name:\"show\",rawName:\"v-show\",value:1===t.row.status,expression:\"scope.row.status === 1\"}],attrs:{size:\"medium\",type:\"info\"}},[e._v(\"进行中\")]),a(\"el-tag\",{directives:[{name:\"show\",rawName:\"v-show\",value:2===t.row.status,expression:\"scope.row.status === 2\"}],attrs:{size:\"medium\",type:\"danger\"}},[e._v(\"已失败\")]),a(\"el-tag\",{directives:[{name:\"show\",rawName:\"v-show\",value:3===t.row.status,expression:\"scope.row.status === 3\"}],attrs:{size:\"medium\"}},[e._v(\"已成功\")])]:\"action\"===n.slot?[a(\"a\",{on:{click:function(a){return e.Info(t.row)}}},[e._v(\"查看详情\")])]:e._e()]}}],null,!0)})})),1),a(\"div\",{staticClass:\"acea-row row-right page\"},[e.total?a(\"pagination\",{attrs:{total:e.total,page:e.pagination.page,limit:e.pagination.limit},on:{\"update:page\":function(a){return e.$set(e.pagination,\"page\",a)},\"update:limit\":function(a){return e.$set(e.pagination,\"limit\",a)},pagination:e.getList}}):e._e()],1)],1),a(\"el-dialog\",{staticClass:\"tableBox\",attrs:{visible:e.modals,title:\"查看详情\",\"close-on-click-modal\":!1,width:\"720px\"},on:{\"update:visible\":function(a){e.modals=a}}},[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading2,expression:\"loading2\"}],ref:\"selection\",attrs:{data:e.tabList3,\"empty-text\":\"暂无数据\",\"highlight-current-row\":\"\",\"max-height\":\"600\",size:\"small\"}},[a(\"el-table-column\",{attrs:{label:\"用户ID\",width:\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(n){return[a(\"span\",[e._v(e._s(n.row.uid))])]}}])}),a(\"el-table-column\",{attrs:{label:\"用户头像\",\"min-width\":\"90\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"tabBox_img\"},[a(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:e.row.avatar,expression:\"scope.row.avatar\"}]})])]}}])}),a(\"el-table-column\",{attrs:{label:\"砍价金额\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(n){return[a(\"span\",[e._v(e._s(n.row.price))])]}}])}),a(\"el-table-column\",{attrs:{label:\"砍价时间\",\"min-width\":\"130\"},scopedSlots:e._u([{key:\"default\",fn:function(n){return[a(\"span\",[e._v(e._s(n.row.add_time))])]}}])})],1)],1)],1)}),[],!1,null,\"46e7762a\",null);a.default=n.exports}}]);","extractedComments":[]}