{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-48ece160\"],{\"024b\":function(e,t,a){a(\"c4c9\")},\"8f86\":function(e,t,a){a.r(t),a(\"b0c0\");var i=a(\"5530\"),n=(a(\"14d9\"),a(\"a434\"),a(\"2f62\")),s=a(\"47c5\"),o={name:\"live_detail\",props:{FormData:{type:Object,default:function(){}}},data:function(){return{option:{form:{labelWidth:\"150px\"}},loading:!1}},methods:{getData:function(e){var t=this;this.loading=!0,Object(s.h)(e).then((function(e){t.FormData=e.data,t.loading=!1})).catch((function(e){t.$message.error(e.msg),t.loading=!1}))}}},l=(a(\"024b\"),a(\"2877\"));o={name:\"live\",components:{goodsFrom:Object(l.a)(o,(function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"divBox\"},[t(\"div\",[t(\"div\",{staticClass:\"box-container\"},[t(\"div\",{staticClass:\"list sp\"},[t(\"label\",{staticClass:\"name\"},[e._v(\"商品名称：\")]),t(\"span\",{staticClass:\"info\"},[e._v(e._s(e.FormData.name))])]),t(\"div\",{staticClass:\"list sp\"},[t(\"label\",{staticClass:\"name\"},[e._v(\"直播价：\")]),t(\"span\",{staticClass:\"info\"},[e._v(e._s(e.FormData.price))])]),e.FormData.product?t(\"div\",{staticClass:\"list sp100\",staticStyle:{display:\"flex\"}},[t(\"label\",{staticClass:\"name\"},[e._v(\"商品图：\")]),t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}]},[t(\"img\",{attrs:{src:e.FormData.product.image,alt:\"\"}})])]):e._e(),t(\"div\",{staticClass:\"list sp100\"},[t(\"label\",{staticClass:\"name\"},[e._v(\"审核结果：\")]),t(\"span\",{staticClass:\"info\"},[e._v(e._s(e._f(\"liveStatusFilter\")(e.FormData.audit_status)))])])])])])}),[],!1,null,\"602ffee1\",null).exports},data:function(){return{grid:{xl:7,lg:7,md:12,sm:24,xs:24},formValidate:{status:\"\",kerword:\"\",page:1,limit:20},treeData:{withdrawal:[{title:\"全部\",value:\"\"},{title:\"待审核\",value:0},{title:\"已通过\",value:1},{title:\"未通过\",value:-1}]},columns1:[{key:\"product_id\",title:\"商品ID\",minWidth:35},{slot:\"name\",minWidth:35,title:\"商品名称\"},{key:\"price\",minWidth:35,title:\"直播价\"},{slot:\"cost_price\",minWidth:35,title:\"原价\"},{slot:\"stock\",minWidth:35,title:\"库存\"},{slot:\"status\",minWidth:35,title:\"审核状态\"},{slot:\"is_mer_show\",title:\"是否显示\",minWidth:80},{slot:\"action\",fixed:\"right\",title:\"操作\",minWidth:120}],tabList:[],loading:!1,modals:!1,total:0,FormData:{}}},computed:Object(i.a)(Object(i.a)({},Object(n.e)(\"media\",[\"isMobile\"])),{},{labelWidth:function(){return this.isMobile?void 0:\"80px\"},labelPosition:function(){return this.isMobile?\"top\":\"right\"}}),mounted:function(){this.getList()},methods:{onchangeIsShow:function(e){var t=this,a=e.id;e=e.is_show;Object(s.i)(a,e).then((function(e){t.$message.success(e.msg)})).catch((function(e){t.$message.error(e.msg)}))},getList:function(){var e=this;this.loading=!0,Object(s.e)(this.formValidate).then((function(t){e.total=t.data.count,e.tabList=t.data.list,e.loading=!1})).catch((function(t){e.$message.error(t.msg),e.loading=!1}))},selChange:function(){this.formValidate.page=1,this.getList()},menusAdd:function(){this.$router.push({path:this.$routeProStr+\"/marketing/live/add_live_goods\"})},syncGoods:function(){var e=this;Object(s.m)().then((function(t){e.$message.success(t.msg),e.getList()})).catch((function(t){e.$message.error(t.msg)}))},edit:function(e){var t=this;Object(s.h)(e.id).then((function(e){t.FormData=e.data,t.modals=!0})).catch((function(e){t.$message.error(e.msg)}))},del:function(e,t,a){var i=this;t={title:t,num:a,url:\"live/goods/del/\".concat(e.id),method:\"DELETE\",ids:\"\"};this.$modalSure(t).then((function(e){i.$message.success(e.msg),i.tabList.splice(a,1),i.getList()})).catch((function(e){i.$message.error(e.msg)}))}}},a(\"9973\"),i=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t(\"div\",[t(\"el-card\",{staticClass:\"ivu-mt\",attrs:{bordered:!1,shadow:\"never\",\"body-style\":{padding:0}}},[t(\"div\",{staticClass:\"padding-add\"},[t(\"el-form\",{ref:\"formValidate\",staticClass:\"tabform\",attrs:{model:e.formValidate,\"label-width\":e.labelWidth,\"label-position\":\"right\",inline:\"\"},nativeOn:{submit:function(e){e.preventDefault()}}},[t(\"el-form-item\",{attrs:{label:\"审核状态：\"}},[t(\"el-select\",{staticClass:\"form_content_width\",attrs:{clearable:\"\"},on:{change:e.selChange},model:{value:e.formValidate.status,callback:function(t){e.$set(e.formValidate,\"status\",t)},expression:\"formValidate.status\"}},e._l(e.treeData.withdrawal,(function(e,a){return t(\"el-option\",{key:a,attrs:{value:e.value,label:e.title}})})),1)],1),t(\"el-form-item\",{attrs:{label:\"搜索：\"}},[t(\"el-input\",{staticClass:\"form_content_width\",attrs:{clearable:\"\",placeholder:\"请输入商品名称/ID\"},model:{value:e.formValidate.kerword,callback:function(t){e.$set(e.formValidate,\"kerword\",t)},expression:\"formValidate.kerword\"}})],1),t(\"el-form-item\",[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.selChange}},[e._v(\"查询\")])],1)],1)],1)]),t(\"el-card\",{staticClass:\"ivu-mt mt16\",attrs:{bordered:!1,shadow:\"never\"}},[t(\"el-button\",{directives:[{name:\"auth\",rawName:\"v-auth\",value:[\"setting-system_menus-add\"],expression:\"['setting-system_menus-add']\"}],attrs:{type:\"primary\"},on:{click:function(t){return e.menusAdd(\"添加直播间\")}}},[e._v(\"添加商品\\n    \")]),t(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"table\",staticClass:\"mt14\",attrs:{data:e.tabList,\"highlight-current-row\":\"\",\"no-userFrom-text\":\"暂无数据\",\"no-filtered-userFrom-text\":\"暂无筛选结果\"}},[t(\"el-table-column\",{attrs:{label:\"商品ID\",width:\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.product_id))])]}}])}),t(\"el-table-column\",{attrs:{label:\"商品名称\",\"min-width\":\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"div\",{staticClass:\"product_box\"},[t(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\"}]},[t(\"img\",{attrs:{src:a.row.product.image,alt:\"\"}})]),t(\"div\",{staticClass:\"txt\"},[e._v(e._s(a.row.name))])])]}}])}),t(\"el-table-column\",{attrs:{label:\"直播价\",\"min-width\":\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.price))])]}}])}),t(\"el-table-column\",{attrs:{label:\"原价\",\"min-width\":\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.cost_price))])]}}])}),t(\"el-table-column\",{attrs:{label:\"库存\",\"min-width\":\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"span\",[e._v(e._s(a.row.product.stock))])]}}])}),t(\"el-table-column\",{attrs:{label:\"审核状态\",\"min-width\":\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"div\",[e._v(e._s(e._f(\"liveStatusFilter\")(a.row.audit_status)))])]}}])}),t(\"el-table-column\",{attrs:{label:\"是否显示\",\"min-width\":\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"el-switch\",{staticClass:\"defineSwitch\",attrs:{\"active-value\":1,\"inactive-value\":0,value:a.row.is_show,size:\"large\",disabled:2!=a.row.audit_status,\"active-text\":\"显示\",\"inactive-text\":\"隐藏\"},on:{change:function(t){return e.onchangeIsShow(a.row)}},model:{value:a.row.is_show,callback:function(t){e.$set(a.row,\"is_show\",t)},expression:\"scope.row.is_show\"}})]}}])}),t(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"170\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[t(\"a\",{on:{click:function(t){return e.edit(a.row,\"编辑\")}}},[e._v(\"详情\")]),t(\"el-divider\",{attrs:{direction:\"vertical\"}}),t(\"a\",{on:{click:function(t){return e.del(a.row,\"删除这条信息\",a.$index)}}},[e._v(\"删除\")])]}}])})],1),t(\"div\",{staticClass:\"acea-row row-right page\"},[e.total?t(\"pagination\",{attrs:{total:e.total,page:e.formValidate.page,limit:e.formValidate.limit},on:{\"update:page\":function(t){return e.$set(e.formValidate,\"page\",t)},\"update:limit\":function(t){return e.$set(e.formValidate,\"limit\",t)},pagination:e.getList}}):e._e()],1)],1),t(\"el-dialog\",{staticClass:\"paymentFooter\",attrs:{visible:e.modals,title:\"商品详情\",scrollable:\"\",width:\"720px\"},on:{\"update:visible\":function(t){e.modals=t}}},[t(\"goodsFrom\",{ref:\"goodsDetail\",attrs:{FormData:e.FormData}})],1)],1)}),[],!1,null,\"319087e0\",null);t.default=i.exports},9973:function(e,t,a){a(\"f3f7\")},c4c9:function(e,t,a){},f3f7:function(e,t){throw new Error(\"Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\\nModuleBuildError: Module build failed (from ./node_modules/stylus-loader/index.js):\\nTypeError: Class constructor Visitor cannot be invoked without 'new'\\n    at new ImportVisitor (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:10:11)\\n    at listImports (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/listimports.js:72:23)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/stylus-loader/lib/pathcache.js:295:15\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Fulfilled.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:590:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/webpack/lib/NormalModule.js:316:20\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:367:11\\n    at /Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:233:18\\n    at context.callback (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/loader-runner/lib/LoaderRunner.js:111:13)\\n    at tryCatchReject (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:840:30)\\n    at runContinuation1 (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:799:4)\\n    at Rejected.when (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:623:4)\\n    at Pending.run (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/makePromise.js:481:13)\\n    at Scheduler._drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:62:19)\\n    at Scheduler.drain (/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/when/lib/Scheduler.js:27:9)\\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)\")}}]);","extractedComments":[]}