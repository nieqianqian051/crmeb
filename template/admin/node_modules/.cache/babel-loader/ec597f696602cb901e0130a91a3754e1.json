{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/newsCategory/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/newsCategory/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCB2dWVXYXRlcmZhbGxFYXN5IGZyb20gJ3Z1ZS13YXRlcmZhbGwtZWFzeSc7CmltcG9ydCB7IHdlY2hhdE5ld3NMaXN0QXBpIH0gZnJvbSAnQC9hcGkvYXBwJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHNldHRpbmdzIGZyb20gJ0Avc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3c0NhdGVnb3J5JywKICBwcm9wczogewogICAgc2Nyb2xsZXJIZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnMTAwJScKICAgIH0sCiAgICBjb250ZW50VG9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzAnCiAgICB9LAogICAgY29udGVudFdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzEwMCUnCiAgICB9LAogICAgbWF4Q29sczogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUKICAgIH0sCiAgICBpc1Nob3c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpc1Nob3dTZW5kOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdXNlcklkczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgW107CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHZ1ZVdhdGVyZmFsbEVhc3k6IHZ1ZVdhdGVyZmFsbEVhc3kKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb3V0ZVByZTogc2V0dGluZ3Mucm91dGVQcmUsCiAgICAgIGlzRGVsOiBmYWxzZSwKICAgICAgaW1nc0FycjogW10sCiAgICAgIGdyb3VwOiAwLAogICAgICAvLyDlvZPliY3liqDovb3nmoTliqDovb3lm77niYfnmoTmrKHmlbAKICAgICAgZmV0Y2hJbWdzQXJyOiBbXSwKICAgICAgLy8g5a2Y5pS+5q+P5qyh5rua5Yqo5pe25LiL5LiA5om56KaB5Yqg6L2955qE5Zu+54mH55qE5pWw57uECiAgICAgIG9yZGVyRGF0YToge30sCiAgICAgIGNvbHM6IE5hTiwKICAgICAgLy8g6ZyA6KaB5qC55o2u56qX5Y+j5a695bqm5Yid5aeL5YyWCiAgICAgIGdyaWRQaWM6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogOCwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGNhdGVfbmFtZTogJycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTAKICAgICAgfSwKICAgICAgc2NyZWVuV2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSAyMDAsCiAgICAgIG1heENvbDogMQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5tYXhDb2xzID09PSA1KSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLCAnbWF4Q29sJywgdGhpcy5zY3JlZW5XaWR0aCAvIDI0MCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm1heENvbCA9IHRoaXMubWF4Q29sczsKICAgIH0KICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDlj5HpgIHlm77mlofmtojmga8KICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQocm93LCB0aXQsIG51bSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICBudW06IG51bSwKICAgICAgICB1cmw6ICJhcHAvd2VjaGF0L3B1c2giLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGlkczogewogICAgICAgICAgaWQ6IHJvdy5pZCwKICAgICAgICAgIHVzZXJfaWRzOiB0aGlzLnVzZXJJZHMKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBjbGlja0ZuOiBmdW5jdGlvbiBjbGlja0ZuKGV2ZW50LCBfcmVmKSB7CiAgICAgIHZhciBpbmRleCA9IF9yZWYuaW5kZXgsCiAgICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2RpdicpIHsKICAgICAgICB0aGlzLiRlbWl0KCdnZXRDZW50TGlzdCcsIHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpAogICAgZGVsOiBmdW5jdGlvbiBkZWwocm93LCB0aXQsIG51bSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgbnVtOiBudW0sCiAgICAgICAgdXJsOiAiYXBwL3dlY2hhdC9uZXdzLyIuY29uY2F0KHJvdy5pZCksCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBpZHM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXMyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuaW1nc0FyciA9IFtdOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMi5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgICAgX3RoaXMyLmdldERhdGEoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5oiQ5YqfCiAgICAvLyBzdWJtaXRNb2RlbCAoKSB7CiAgICAvLyAgICAgaWYgKHRoaXMuZGVsZnJvbURhdGEudGl0bGUgPT09ICfliKDpmaTlm77mlocnKSB7CiAgICAvLyAgICAgICAgIC8vIHRoaXMuaW1nc0Fyci5zcGxpY2UodGhpcy5kZWxmcm9tRGF0YS5udW0sIDEpCiAgICAvLyAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgIC8vICAgICAgICAgICAgIHRoaXMuaW1nc0FyciA9IFtdOwogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gMTsKICAgIC8vICAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgIC8vIOe8lui+kQogICAgY2xrazogZnVuY3Rpb24gY2xrayhpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiB0aGlzLnJvdXRlUHJlICsgJy9hcHAvd2VjaGF0L25ld3NfY2F0ZWdvcnkvc2F2ZS8nICsgaXRlbS5pZAogICAgICB9KTsKICAgIH0sCiAgICAvLyDpvKDmoIfnp7vov5sKICAgIG1vdXNlZW50ZXJPdXQ6IGZ1bmN0aW9uIG1vdXNlZW50ZXJPdXQoaXRlbSkgewogICAgICB0aGlzLiRzZXQoaXRlbSwgJ2lzRGVsJywgdHJ1ZSk7CiAgICB9LAogICAgLy8g6byg5qCH56e75Ye6CiAgICBtb3VzZWVudGVyT3ZlcjogZnVuY3Rpb24gbW91c2VlbnRlck92ZXIoaXRlbSkgewogICAgICB0aGlzLiRzZXQoaXRlbSwgJ2lzRGVsJywgZmFsc2UpOwogICAgfSwKICAgIC8vIOaQnOe0ogogICAgdXNlclNlYXJjaHM6IGZ1bmN0aW9uIHVzZXJTZWFyY2hzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5pbWdzQXJyID0gW107CiAgICAgIH0pOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9LAogICAgLy8g54CR5biD5rWB5pWw5o2uCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgd2VjaGF0TmV3c0xpc3RBcGkodGhpcy5mb3JtVmFsaWRhdGUpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgdmFyIG51bTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLmxpc3QubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDmqKHmi5/lt7Lnu4/ml6DmlrDmlbDmja7vvIzmmL7npLogc2xvdD0id2F0ZXJmYWxsLW92ZXIiCiAgICAgICAgICAgICAgICBfdGhpczQuaW1nc0FyciA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXM0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kcmVmcy53YXRlcmZhbGwud2F0ZXJmYWxsT3ZlcigpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBudW0gPSBNYXRoLmNlaWwocmVzLmRhdGEuY291bnQgLyBfdGhpczQuZm9ybVZhbGlkYXRlLmxpbWl0KSArIDE7CiAgICAgICAgICAgICAgICByZXMuZGF0YS5saXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpdGVtLmlzRGVsID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzNC5pbWdzQXJyID0gX3RoaXM0LmltZ3NBcnIuY29uY2F0KHJlcy5kYXRhLmxpc3QpIHx8IFtdOwogICAgICAgICAgICAgICAgX3RoaXM0LmZvcm1WYWxpZGF0ZS5wYWdlKys7CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczQuZm9ybVZhbGlkYXRlLnBhZ2UgPT09IG51bSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIOaooeaLn+W3sue7j+aXoOaWsOaVsOaNru+8jOaYvuekuiBzbG90PSJ3YXRlcmZhbGwtb3ZlciIKICAgICAgICAgICAgICAgIF90aGlzNC4kcmVmcy53YXRlcmZhbGwud2F0ZXJmYWxsT3ZlcigpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["vueWaterfallEasy","wechatNewsListApi","mapState","settings","name","props","scrollerHeight","type","String","default","contentTop","contentWidth","maxCols","Number","isShow","Boolean","isShowSend","userIds","Array","components","data","routePre","isDel","imgsArr","group","fetchImgsArr","orderData","cols","NaN","gridPic","xl","lg","md","sm","xs","grid","formValidate","cate_name","page","limit","screenWidth","document","body","clientWidth","maxCol","created","$set","getData","mounted","computed","methods","send","row","tit","num","_this","delfromData","title","url","method","ids","id","user_ids","$modalSure","then","res","$message","success","msg","catch","error","clickFn","event","_ref","index","value","preventDefault","target","tagName","toLowerCase","$emit","del","_this2","concat","$nextTick","clkk","item","$router","push","path","mouseenterOut","mouseenterOver","userSearchs","_this3","_this4","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","list","length","$refs","waterfall","waterfallOver","Math","ceil","count","map","abrupt","stop","_x","apply","arguments"],"sources":["src/components/newsCategory/index.vue"],"sourcesContent":["<template>\n  <div :style=\"{ height: scrollerHeight + 'px' || '' }\">\n      <div>\n        <el-form ref=\"formValidate\" inline :model=\"formValidate\" label-width=\"80px\" label-position=\"right\" class=\"tabform\">\n          <el-form-item label=\"图文搜索：\" prop=\"cate_name\" label-for=\"cate_name\">\n            <el-input\n                clearable\n                placeholder=\"请输入\"\n                v-model=\"formValidate.cate_name\"\n                class=\"form_content_width\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"userSearchs\">查询</el-button>\n            <router-link :to=\"routePre + '/app/wechat/news_category/save/0'\">\n              <el-button type=\"primary\" class=\"bnt ml15\">添加图文消息</el-button>\n            </router-link>\n          </el-form-item>\n        </el-form>\n      </div>\n    <div class=\"contentBox\">\n      <div id=\"content\" :style=\"{ top: contentTop + 'px' || '', width: contentWidth }\" ref=\"content\">\n        <vue-waterfall-easy\n          :imgsArr=\"imgsArr\"\n          :maxCols=\"maxCol\"\n          :width=\"screenWidth\"\n          @click=\"clickFn\"\n          @scrollReachBottom=\"getData\"\n          ref=\"waterfall\"\n          :reachBottomDistance=\"30\"\n        >\n          <div class=\"img-info\" slot-scope=\"props\" v-if=\"props.value.new.length !== 0\">\n            <div v-for=\"(j, i) in props.value.new\" :key=\"i\">\n              <div v-if=\"i === 0\">\n                <div\n                  class=\"news_pic\"\n                  :style=\"{\n                    backgroundImage: 'url(' + j.image_input[0] + ')',\n                    backgroundSize: '100% 100%',\n                  }\"\n                  @mouseenter=\"mouseenterOut(j)\"\n                  @mouseleave=\"mouseenterOver(j)\"\n                >\n                  <el-button\n                    type=\"success\"\n                    icon=\"el-icon-edit\"\n                    v-show=\"props.value.new[i].isDel && isShow\"\n                    @click=\"clkk(props.value)\"\n                  ></el-button>\n                  <el-button\n                    type=\"error\"\n                    icon=\"el-icon-delete\"\n                    v-show=\"props.value.new[i].isDel && isShow\"\n                    @click=\"del(props.value, '删除图文', i)\"\n                    style=\"margin-top: 5px\"\n                  ></el-button>\n                  <el-button\n                    type=\"primary\"\n                    icon=\"el-icon-s-promotion\"\n                    v-show=\"props.value.new[i].isDel && isShowSend\"\n                    @click=\"send(props.value, '发送', i)\"\n                    >推送</el-button\n                  >\n                </div>\n                <span class=\"news_sp\">{{ j.title }}</span>\n              </div>\n              <div v-else class=\"news_cent\">\n                <span class=\"news_sp1\" v-if=\"j.synopsis\">{{ j.title }}</span>\n                <div class=\"news_cent_img\" v-if=\"j.image_input.length !== 0\">\n                  <img :src=\"j.image_input[0]\" />\n                </div>\n              </div>\n            </div>\n            <p class=\"some-info\">{{ props.value.id }}</p>\n          </div>\n          <div slot=\"waterfall-over\"></div>\n        </vue-waterfall-easy>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport vueWaterfallEasy from 'vue-waterfall-easy';\nimport { wechatNewsListApi } from '@/api/app';\nimport { mapState } from 'vuex';\nimport settings from '@/setting';\nexport default {\n  name: 'newsCategory',\n  props: {\n    scrollerHeight: {\n      type: String,\n      default: '100%',\n    },\n    contentTop: {\n      type: String,\n      default: '0',\n    },\n    contentWidth: {\n      type: String,\n      default: '100%',\n    },\n    maxCols: {\n      type: Number,\n      default: 5,\n    },\n    isShow: {\n      type: Boolean,\n      default: false,\n    },\n    isShowSend: {\n      type: Boolean,\n      default: false,\n    },\n    userIds: {\n      type: Array,\n      default: () => {\n        [];\n      },\n    },\n  },\n  components: {\n    vueWaterfallEasy,\n  },\n  data() {\n    return {\n      routePre: settings.routePre,\n      isDel: false,\n      imgsArr: [],\n      group: 0, // 当前加载的加载图片的次数\n      fetchImgsArr: [], // 存放每次滚动时下一批要加载的图片的数组\n      orderData: {},\n      cols: NaN, // 需要根据窗口宽度初始化\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 8,\n        sm: 24,\n        xs: 24,\n      },\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 8,\n        sm: 24,\n        xs: 24,\n      },\n      formValidate: {\n        cate_name: '',\n        page: 1,\n        limit: 10,\n      },\n      screenWidth: document.body.clientWidth - 200,\n      maxCol: 1,\n    };\n  },\n  created() {\n    if (this.maxCols === 5) {\n      this.$set(this, 'maxCol', this.screenWidth / 240);\n    } else {\n      this.maxCol = this.maxCols;\n    }\n    this.getData();\n  },\n  mounted() {},\n  computed: {},\n  methods: {\n    // 发送图文消息\n    send(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/wechat/push`,\n        method: 'post',\n        ids: {\n          id: row.id,\n          user_ids: this.userIds,\n        },\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    clickFn(event, { index, value }) {\n      event.preventDefault();\n      if (event.target.tagName.toLowerCase() === 'div') {\n        this.$emit('getCentList', value);\n      }\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/wechat/news/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.$nextTick(() => {\n            this.imgsArr = [];\n          });\n          this.formValidate.page = 1;\n          this.getData();\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 删除成功\n    // submitModel () {\n    //     if (this.delfromData.title === '删除图文') {\n    //         // this.imgsArr.splice(this.delfromData.num, 1)\n    //         this.$nextTick(() => {\n    //             this.imgsArr = [];\n    //         })\n    //         this.formValidate.page = 1;\n    //         this.getData();\n    //     }\n    // },\n    // 编辑\n    clkk(item) {\n      this.$router.push({\n        path: this.routePre + '/app/wechat/news_category/save/' + item.id,\n      });\n    },\n    // 鼠标移进\n    mouseenterOut(item) {\n      this.$set(item, 'isDel', true);\n    },\n    // 鼠标移出\n    mouseenterOver(item) {\n      this.$set(item, 'isDel', false);\n    },\n    // 搜索\n    userSearchs() {\n      this.$nextTick(() => {\n        this.imgsArr = [];\n      });\n      this.formValidate.page = 1;\n      this.getData();\n    },\n    // 瀑布流数据\n    getData() {\n      wechatNewsListApi(this.formValidate)\n        .then(async (res) => {\n          if (res.data.list.length === 0) {\n            // 模拟已经无新数据，显示 slot=\"waterfall-over\"\n            this.imgsArr = [];\n            this.$nextTick(() => {\n              this.$refs.waterfall.waterfallOver();\n            });\n          } else {\n            let num = Math.ceil(res.data.count / this.formValidate.limit) + 1;\n            res.data.list.map((item) => {\n              item.isDel = false;\n            });\n            this.imgsArr = this.imgsArr.concat(res.data.list) || [];\n            this.formValidate.page++;\n            if (this.formValidate.page === num) {\n              // 模拟已经无新数据，显示 slot=\"waterfall-over\"\n              this.$refs.waterfall.waterfallOver();\n              return;\n            }\n          }\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.contentBox {\n   height: 600px;\n  width: 100%;\n  position: relative;\n\n  #content {\n    position: absolute;\n    /* top: 280px; */\n    bottom: 0;\n    width: 86%;\n    /* height 1000px; */\n  }\n}\n\n.contentBox ::v-deep .vue-waterfall-easy {\n  width: 100% !important;\n  left: 0 !important;\n  margin-left: 0 !important;\n}\n\n.contentBox ::v-deep .vue-waterfall-easy-scroll::-webkit-scrollbar {\n  display: none;\n}\n\n.contentBox ::v-deep .vue-waterfall-easy-scroll {\n  scrollbar-width: none; /* firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.some-info {\n  padding: 7px;\n  box-sizing: border-box;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.Refresh {\n  font-size: 12px;\n  color: var(--prev-color-primary);\n  cursor: pointer;\n  line-height: 35px;\n  display: inline-block;\n}\n\n.news_pic {\n  width: 100%;\n  height: 150px;\n  overflow: hidden;\n  position: relative;\n  background-size: cover;\n  border-radius: 5px 5px 0 0;\n  padding: 10px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n}\n\n.news_sp {\n  font-size: 12px;\n  color: #000000;\n  background: #fff;\n  width: 100%;\n  height: 38px;\n  line-height: 38px;\n  padding: 0 12px;\n  box-sizing: border-box;\n  display: block;\n}\n\n.news_cent {\n  width: 100%;\n  height: auto;\n  background: #fff;\n  border-top: 1px dashed #eee;\n  display: flex;\n  padding: 10px;\n  box-sizing: border-box;\n  justify-content: space-between;\n\n  .news_sp1 {\n    font-size: 12px;\n    color: #000000;\n    width: 71%;\n  }\n\n  .news_cent_img {\n    width: 81px;\n    height: 46px;\n    border-radius: 6px;\n    overflow: hidden;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n\n.news_pic ::v-deep .ivu-btn-error {\n  width: 24px !important;\n  height: 24px !important;\n  background: #FF5D5F !important;\n  color: #fff !important;\n  border: 1px solid #eee !important;\n}\n\n.news_pic ::v-deep .ivu-btn-error:hover {\n  background: #FF5D5F !important;\n  border: 1px solid #fff !important;\n  color: #fff !important;\n}\n\n.news_pic ::v-deep .ivu-btn-success {\n  width: 24px !important;\n  height: 24px !important;\n  border: 1px solid #eee !important;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}