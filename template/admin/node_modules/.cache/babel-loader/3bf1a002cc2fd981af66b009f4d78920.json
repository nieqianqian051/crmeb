{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/recipe/list/handle/recipeDetails.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/recipe/list/handle/recipeDetails.vue","mtime":1719916451000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9uaWVxaWFucWlhbi9Eb3dubG9hZHMveGlueGlhbmdtdS9DUk1FQi90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBXYW5nRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy93YW5nRWRpdG9yL2luZGV4LnZ1ZSc7CmltcG9ydCB7IGRldGFpbHNBcGksIGxhYmVsTGlzdCwgZm9vZExpc3QsIHVwbG9hZFJlY2lwZUltYWdlcywgZWRpdFJlY2lwZSB9IGZyb20gJ0AvYXBpL3JlY2lwZSc7CmltcG9ydCB7IGRlYWxJbWcgfSBmcm9tICJAL3V0aWxzL2luZGV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZWNpcGVEZXRhaWxzJywKICBjb21wb25lbnRzOiB7CiAgICBXYW5nRWRpdG9yOiBXYW5nRWRpdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTmFtZTogJ+mjn+iwseivpuaDhScsCiAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmb29kVHlwZXM6IFtdLAogICAgICBmb29kQXJlYUxhYmVsczogW10sCiAgICAgIHJhdGVDb2xvcnM6IFsnI0Y3REI0RCcsICcjRjdEQjREJ10sCiAgICAgIHJhdGVDb2xvcnNzOiBbJyNGN0RCNEQnLCAnI0Y3REI0RCcsICcjRjdEQjREJ10sCiAgICAgIHRocmVlTWVhbHM6IFsn5pep6aSQJywgJ+WNiOmkkCcsICfmmZrppJAnXSwKICAgICAgb3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogMSwKICAgICAgICBsYWJlbDogJ+S4jei+oycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyLAogICAgICAgIGxhYmVsOiAn6L6jJwogICAgICB9XSwKICAgICAgb3B0aW9uczE6IFt7CiAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgbGFiZWw6ICfmmJMnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMiwKICAgICAgICBsYWJlbDogJ+mavicKICAgICAgfV0sCiAgICAgIHJlY2lwZTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGFsaWFzOiAnJywKICAgICAgICBtYWluSW1hZ2VJZDogJycsCiAgICAgICAgbWFpbkZvb2RJZDogJycsCiAgICAgICAgbWFpbkZvb2RDb25zdW1wdGlvbjogJycsCiAgICAgICAgZm9vZElkOiAnJywKICAgICAgICBsYWJlbHM6IFtdLAogICAgICAgIGZvb2RDb25zdW1wdGlvbjogJycsCiAgICAgICAgZGV0YWlsc1RleHQ6ICcnLAogICAgICAgIG5vdGU6ICcnLAogICAgICAgIG1haWppU3RhZ2VMYWJlbElkczogW10sCiAgICAgICAgYXJlYUxhYmVsSWRzOiBbXSwKICAgICAgICByZWNpcGVMYWJlbElkczogW10sCiAgICAgICAgc3BpY3k6IDAsCiAgICAgICAgZWNvbm9teTogMCwKICAgICAgICB0aHJlZU1lYWw6IFtdLAogICAgICAgIGRpZmZpY3VsdHlMZXZlbDogMCwKICAgICAgICBnZWFyOiAwCiAgICAgIH0sCiAgICAgIGFsaWFzZXM6IFsnJ10sCiAgICAgIG1haW5Gb29kczogW3sKICAgICAgICBmb29kSWQ6ICcnLAogICAgICAgIGZvb2ROYW1lOiAnJywKICAgICAgICBjb25zdW1wdGlvbjogJycsCiAgICAgICAgbWFpbjogdHJ1ZSwKICAgICAgICBjYXNjYWRlclN0cjogJycsCiAgICAgICAgY2FzY2FkZXI6IFtdCiAgICAgIH1dLAogICAgICBmb29kczogW3sKICAgICAgICBmb29kSWQ6ICcnLAogICAgICAgIGZvb2ROYW1lOiAnJywKICAgICAgICBjb25zdW1wdGlvbjogJycsCiAgICAgICAgbWFpbjogZmFsc2UsCiAgICAgICAgY2FzY2FkZXJTdHI6ICcnLAogICAgICAgIGNhc2NhZGVyOiBbXQogICAgICB9XSwKICAgICAgYWxsTWFpamlTdGFnZUxhYmVsczogW10sCiAgICAgIGZvb2RMYWJlbHM6IFtdLAogICAgICByZWNpcGVNYWluSW1hZ2U6IG51bGwsCiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpo5/osLHlkI3np7DkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbWFpbkltYWdlSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpo5/osLHkuLvlm77kuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBtYWluRm9vZElkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5Li75paZ6aOf5p2QJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgc3BpY3k6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6novqPluqYnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkaWZmaWN1bHR5TGV2ZWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npmr7mmJPnqIvluqYnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBnZWFyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5pCt6YWN5oOF5Ya1JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgdGhyZWVNZWFsOiBbewogICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+iHs+WwkemAieaLqeS4gOS4quS4iemkkOW9kuWxnicsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIG1haWppU3RhZ2VMYWJlbElkczogW3sKICAgICAgICAgIHR5cGU6ICdhcnJheScsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7foh7PlsJHpgInmi6nkuIDkuKrpo5/osLHpuqblkInpmLbmrrUnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBkZXRhaWxzVGV4dDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mjn+iwseivpuaDheS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBkcmFDaGFuZ2U6IGZ1bmN0aW9uIGRyYUNoYW5nZSgpIHsKICAgICAgdGhpcy5yZWNpcGUgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWxpYXM6ICcnLAogICAgICAgIG1haW5JbWFnZUlkOiAnJywKICAgICAgICBtYWluRm9vZElkOiAnJywKICAgICAgICBtYWluRm9vZENvbnN1bXB0aW9uOiAnJywKICAgICAgICBmb29kSWQ6ICcnLAogICAgICAgIGxhYmVsczogW10sCiAgICAgICAgZm9vZENvbnN1bXB0aW9uOiAnJywKICAgICAgICBkZXRhaWxzVGV4dDogJycsCiAgICAgICAgbm90ZTogJycsCiAgICAgICAgbWFpamlTdGFnZUxhYmVsSWRzOiBbXSwKICAgICAgICBhcmVhTGFiZWxJZHM6IFtdLAogICAgICAgIHJlY2lwZUxhYmVsSWRzOiBbXSwKICAgICAgICBzcGljeTogMCwKICAgICAgICBlY29ub215OiAwLAogICAgICAgIHRocmVlTWVhbDogW10sCiAgICAgICAgZGlmZmljdWx0eUxldmVsOiAwLAogICAgICAgIGdlYXI6IDAKICAgICAgfTsKICAgICAgdGhpcy5hbGlhc2VzID0gWycnXTsKICAgICAgdGhpcy5yZWNpcGVNYWluSW1hZ2UgPSBudWxsOwogICAgICB0aGlzLm1haW5Gb29kcyA9IFt7CiAgICAgICAgZm9vZElkOiAnJywKICAgICAgICBmb29kTmFtZTogJycsCiAgICAgICAgY29uc3VtcHRpb246ICcnLAogICAgICAgIG1haW46IHRydWUsCiAgICAgICAgY2FzY2FkZXJTdHI6ICcnLAogICAgICAgIGNhc2NhZGVyOiBbXQogICAgICB9XTsKICAgICAgdGhpcy5mb29kcyA9IFt7CiAgICAgICAgZm9vZElkOiAnJywKICAgICAgICBmb29kTmFtZTogJycsCiAgICAgICAgY29uc3VtcHRpb246ICcnLAogICAgICAgIG1haW46IGZhbHNlLAogICAgICAgIGNhc2NhZGVyU3RyOiAnJywKICAgICAgICBjYXNjYWRlcjogW10KICAgICAgfV07CiAgICAgIHRoaXMuY29udGVudCA9ICcnOwogICAgfSwKICAgIGVkaXRTYXZlOiBmdW5jdGlvbiBlZGl0U2F2ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLnJlY2lwZS5kZXRhaWxzVGV4dCA9IF90aGlzLmNvbnRlbnQ7CiAgICAgICAgICAgICAgX3RoaXMuJHJlZnMucmVjaXBlRnJvbS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpbmRleFRvRGVsZXRlLCByZXN1bHQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLnvJbovpHpo5/osLHlpLHotKXvvIzor7fnoa7orqTnvJbovpHop4TojIPvvIEiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlY2lwZS5tYWlqaVN0YWdlTGFiZWxJZHMgJiYgX3RoaXMucmVjaXBlLm1haWppU3RhZ2VMYWJlbElkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLm1haWppU3RhZ2VMYWJlbElkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbElkOiBpdGVtCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlY2lwZS5hcmVhTGFiZWxJZHMgJiYgX3RoaXMucmVjaXBlLmFyZWFMYWJlbElkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmFyZWFMYWJlbElkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbElkOiBpdGVtCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlY2lwZS5yZWNpcGVMYWJlbElkcyAmJiBfdGhpcy5yZWNpcGUucmVjaXBlTGFiZWxJZHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlY2lwZS5yZWNpcGVMYWJlbElkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbElkOiBpdGVtCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmxhYmVscy5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmFsaWFzZXMgIT0gbnVsbCkgX3RoaXMucmVjaXBlLmFsaWFzID0gX3RoaXMuYWxpYXNlcy5qb2luKCfjgIEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmZvb2RzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5tYWluRm9vZHMpLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuZm9vZHMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhUb0RlbGV0ZSA9IF90aGlzLnJlY2lwZS5mb29kcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5mb29kSWQgPT09ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmZvb2RzLnNwbGljZShpbmRleFRvRGVsZXRlLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaXBlLmRldGFpbHNUZXh0ID0gZGVhbEltZyhfdGhpcy5yZWNpcGUuZGV0YWlsc1RleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWNpcGUudGhyZWVNZWFsID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMucmVjaXBlLnRocmVlTWVhbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDExMTEsIF90aGlzLnJlY2lwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlZGl0UmVjaXBlKF90aGlzLnJlY2lwZSk7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOaIkOWKn++8gSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0RGV0YWlscyhfdGhpcy5yZWNpcGUudXVJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi57yW6L6R6aOf6LCx5aSx6LSl77yBIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEVkaXRvckNvbnRlbnQ6IGZ1bmN0aW9uIGdldEVkaXRvckNvbnRlbnQoZGF0YSkgewogICAgICB0aGlzLmNvbnRlbnQgPSBkYXRhOwogICAgfSwKICAgIGdldERldGFpbHM6IGZ1bmN0aW9uIGdldERldGFpbHMoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuZHJhQ2hhbmdlKCk7CiAgICAgIGxhYmVsTGlzdCh7CiAgICAgICAgc291cmNlOiAi6aOf6LCxIgogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmZvb2RBcmVhTGFiZWxzID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChsYWJlbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbC5saXN0U2hvdyA9PSAyOwogICAgICAgICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChMMSwgTDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gTDEubmFtZS5sZW5ndGggLSBMMi5uYW1lLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgICAgICAgICAgICBfdGhpczIuYWxsTWFpamlTdGFnZUxhYmVscyA9IHJlcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwubGlzdFNob3cgPT0gMTsKICAgICAgICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAoTDEsIEwyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEwxLm9yZGVyTm8gLSBMMi5vcmRlck5vOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmZvb2RMYWJlbHMgPSByZXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsLmxpc3RTaG93ID09IDA7CiAgICAgICAgICAgICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKEwxLCBMMikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBMMS5vcmRlck5vIC0gTDIub3JkZXJObzsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgZm9vZExpc3QoewogICAgICAgIGlzRmluZEZvb2RzOiB0cnVlCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNChyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZm9vZFR5cGVzID0gcmVzLmRhdGEubWFwKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUuY2hpbGRyZW4gJiYgdHlwZS5jaGlsZHJlbi5sZW5ndGggPiAxKSB0eXBlLmNoaWxkcmVuLnNvcnQoZnVuY3Rpb24gKGMxLCBjMikgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMxLmxhYmVsLmxlbmd0aCAtIGMyLmxhYmVsLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTsKICAgICAgICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAodDEsIHQyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQxLmxhYmVsLmxlbmd0aCAtIHQyLmxhYmVsLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgZGV0YWlsc0FwaShpZCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHJlcykgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUudXVJZCA9IHJlcy5kYXRhLnV1SWQ7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUubmFtZSA9IHJlcy5kYXRhLm5hbWU7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUubm90ZSA9IHJlcy5kYXRhLm5vdGU7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUuc3BpY3kgPSByZXMuZGF0YS5zcGljeTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlY2lwZS5lY29ub215ID0gcmVzLmRhdGEuZWNvbm9teTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlY2lwZS5kaWZmaWN1bHR5TGV2ZWwgPSByZXMuZGF0YS5kaWZmaWN1bHR5TGV2ZWw7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUuZ2VhciA9IHJlcy5kYXRhLmdlYXI7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5tYWluRm9vZHMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIubWFpbkZvb2RzID0gcmVzLmRhdGEubWFpbkZvb2RzLm1hcChmdW5jdGlvbiAoZm9vZCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZm9vZCwgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNjYWRlcjogZm9vZC5jYXNjYWRlclN0ciAhPSBudWxsID8gZm9vZC5jYXNjYWRlclN0ci5zcGxpdCgnLCcpIDogW10KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUubWFpbkZvb2RJZCA9IF90aGlzMi5tYWluRm9vZHNbMF0uZm9vZElkOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUubWFpbkZvb2RDb25zdW1wdGlvbiA9IF90aGlzMi5tYWluRm9vZHNbMF0uY29uc3VtcHRpb247CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmZvb2RzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmZvb2RzID0gcmVzLmRhdGEuZm9vZHMubWFwKGZ1bmN0aW9uIChmb29kKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihmb29kLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2NhZGVyOiBmb29kLmNhc2NhZGVyU3RyICE9IG51bGwgPyBmb29kLmNhc2NhZGVyU3RyLnNwbGl0KCcsJykgOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlY2lwZS5mb29kSWQgPSBfdGhpczIuZm9vZHNbMF0uZm9vZElkOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUuZm9vZENvbnN1bXB0aW9uID0gX3RoaXMyLmZvb2RzWzBdLmNvbnN1bXB0aW9uOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5hcmVhTGFiZWxJZHMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVjaXBlLmFyZWFMYWJlbElkcyA9IHJlcy5kYXRhLmFyZWFMYWJlbElkcy5maWx0ZXIoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwubGlzdFNob3cgPT0gMjsKICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwudXVJZDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVjaXBlLm1haWppU3RhZ2VMYWJlbElkcyA9IHJlcy5kYXRhLmFyZWFMYWJlbElkcy5maWx0ZXIoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwubGlzdFNob3cgPT0gMTsKICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwudXVJZDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVjaXBlLnJlY2lwZUxhYmVsSWRzID0gcmVzLmRhdGEuYXJlYUxhYmVsSWRzLmZpbHRlcihmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbC5saXN0U2hvdyA9PSAwOwogICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAobGFiZWwpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbC51dUlkOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF90aGlzMi5hbGlhc2VzID0gcmVzLmRhdGEuYWxpYXNlczsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlY2lwZU1haW5JbWFnZSA9IHJlcy5kYXRhLm1haW5JbWFnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlY2lwZS5tYWluSW1hZ2VJZCA9IHJlcy5kYXRhLm1haW5JbWFnZS51dUlkOwogICAgICAgICAgICAgICAgICBfdGhpczIucmVjaXBlLmRldGFpbHNUZXh0ID0gcmVzLmRhdGEuZGV0YWlsc1RleHQ7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5yZWNpcGUudGhyZWVNZWFsID0gSlNPTi5wYXJzZShyZXMuZGF0YS50aHJlZU1lYWwpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBxdWVyeVNlYXJjaDogZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIHZhciBxdWVyeUFyciA9IFt7CiAgICAgICAgdmFsdWU6ICfoi6XlubInCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ+mAgumHjycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAn5bCR6K64JwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICfmiJbovpPlhaXlhbfkvZPmlbDlgLwo5YWLKScKICAgICAgfV07CiAgICAgIHZhciByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyBxdWVyeUFyci5maWx0ZXIoZnVuY3Rpb24gKHF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5LnZhbHVlLmluY2x1ZGVzKHF1ZXJ5U3RyaW5nKTsKICAgICAgfSkgOiBxdWVyeUFycjsKICAgICAgY2IocmVzdWx0cyk7IC8vIOiwg+eUqCBjYWxsYmFjayDov5Tlm57lu7rorq7liJfooajnmoTmlbDmja4KICAgIH0sCiAgICBhZGRSZWNpcGVJbWFnZTogZnVuY3Rpb24gYWRkUmVjaXBlSW1hZ2UocGFyYW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBpbWFnZURhdGEsIHJlc3VsdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaW1hZ2VEYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgaW1hZ2VEYXRhLmFwcGVuZCgndXBsb2FkRmlsZXMnLCBwYXJhbS5maWxlKTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHVwbG9hZFJlY2lwZUltYWdlcyhpbWFnZURhdGEpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlICE9IDIwMCkgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCJcdTRFMEFcdTRGMjBcdTk4REZcdThDMzFcdTRFM0JcdTU2RkVcdTU5MzFcdThEMjVcdUZGMENcdThCRjdcdTdBMERcdTU0MEVcdTkxQ0RcdThCRDVcdUZGMDEiKTsKICAgICAgICAgICAgICBfdGhpczMucmVjaXBlTWFpbkltYWdlID0gT2JqZWN0LmFzc2lnbihyZXN1bHQuZGF0YVswXSwgewogICAgICAgICAgICAgICAgaXNNYWluOiAxCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXMzLnJlY2lwZS5tYWluSW1hZ2VJZCA9IF90aGlzMy5yZWNpcGVNYWluSW1hZ2UudXVJZDsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgRWxDYXNjYWRlckNoYW5nZTogZnVuY3Rpb24gRWxDYXNjYWRlckNoYW5nZSh2YWx1ZSwgaW5kZXgsIGlzTWFpbikgewogICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMubXlNYWluRWxDYXNjYWRlcltpbmRleF0uc3VnZ2VzdGlvbnNbMF0ubGFiZWwpOwogICAgICBpZiAoaXNNYWluKSB7CiAgICAgICAgdmFyIGZvb2ROYW1lID0gdGhpcy4kcmVmcy5teU1haW5FbENhc2NhZGVyW2luZGV4XS5zdWdnZXN0aW9uc1swXS5sYWJlbDsKICAgICAgICB0aGlzLm1haW5Gb29kc1tpbmRleF0uZm9vZElkID0gdmFsdWVbMl07CiAgICAgICAgdGhpcy5tYWluRm9vZHNbaW5kZXhdLmZvb2ROYW1lID0gZm9vZE5hbWU7CiAgICAgICAgdGhpcy5tYWluRm9vZHNbaW5kZXhdLmNhc2NhZGVyU3RyID0gdmFsdWUuam9pbignLCcpOwogICAgICAgIHRoaXMucmVjaXBlLm1haW5Gb29kSWQgPSB2YWx1ZVsyXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX2Zvb2ROYW1lID0gdGhpcy4kcmVmcy5teUVsQ2FzY2FkZXJbaW5kZXhdLnN1Z2dlc3Rpb25zWzBdLmxhYmVsOwogICAgICAgIHRoaXMuZm9vZHNbaW5kZXhdLmZvb2RJZCA9IHZhbHVlWzJdOwogICAgICAgIHRoaXMuZm9vZHNbaW5kZXhdLmZvb2ROYW1lID0gX2Zvb2ROYW1lOwogICAgICAgIHRoaXMuZm9vZHNbaW5kZXhdLmNhc2NhZGVyU3RyID0gdmFsdWUuam9pbignLCcpOwogICAgICAgIHRoaXMucmVjaXBlLmZvb2RJZCA9IHZhbHVlWzJdOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRmlsdGVyTWV0aG9kOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJNZXRob2Qobm9kZSwga2V5d29yZCkgewogICAgICByZXR1cm4gbm9kZS5sYWJlbC5pbmRleE9mKGtleXdvcmQpICE9PSAtMTsKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXJNZXRob2QxOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJNZXRob2QxKG5vZGUsIGtleXdvcmQpIHsKICAgICAgcmV0dXJuIG5vZGUubGFiZWwuaW5kZXhPZihrZXl3b3JkKSAhPT0gLTE7CiAgICB9CiAgfQp9Ow=="},null]}