{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/order/print/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/order/print/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IGRpc3RyaWJ1dGlvbk9yZGVyIH0gZnJvbSAnQC9hcGkvb3JkZXInOwppbXBvcnQgUVJDb2RlIGZyb20gJ3FyY29kZWpzMic7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sdW1uczogW3sKICAgICAgICB0aXRsZTogJ+WVhuWTgee8luWPtycsCiAgICAgICAga2V5OiAnaW5kZXgnLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB3aWR0aDogNjAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5ZWG5ZOB5ZCN56ewJywKICAgICAgICBzbG90OiAnc3RvcmVfbmFtZScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiAyNTMKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5ZWG5ZOB6KeE5qC8JywKICAgICAgICBzbG90OiAnc3VrJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDIxOQogICAgICB9LAogICAgICAvLyB7CiAgICAgIC8vICAgICB0aXRsZTogJ+WVhuWTgeadoeeggScsCiAgICAgIC8vICAgICBrZXk6ICdiYXJfY29kZScsCiAgICAgIC8vICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgIC8vICAgICB3aWR0aDogMTA5CiAgICAgIC8vIH0sCiAgICAgIC8vIHsKICAgICAgLy8gICAgIHRpdGxlOiAn5ZWG5ZOB57yW56CBJywKICAgICAgLy8gICAgIGtleTogJ2NvZGUnLAogICAgICAvLyAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAvLyAgICAgd2lkdGg6IDEwOQogICAgICAvLyB9LAogICAgICB7CiAgICAgICAgdGl0bGU6ICfljZXku7cnLAogICAgICAgIGtleTogJ3ByaWNlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDEwMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmlbDph48nLAogICAgICAgIGtleTogJ251bScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHdpZHRoOiA2MAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfph5Hpop0nLAogICAgICAgIGtleTogJ3N1YnRvdGFsJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDEwMAogICAgICB9XSwKICAgICAgb3JkZXJEYXRhOiB7fSwKICAgICAgQmFzZVVSTDogU2V0dGluZy5hcGlCYXNlVVJMLnJlcGxhY2UoL2FkbWluYXBpLywgJycpLAogICAgICBuZXdBcnJheURhdGE6IFtdLAogICAgICBzaXRlX25hbWU6ICcnLAogICAgICByZWZ1bmRfcGhvbmU6ICcnLAogICAgICByZWZ1bmRfYWRkcmVzczogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREaXN0cmlidXRpb24oKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDnlJ/miJDkuoznu7TnoIEKICAgIGNyZWF0UXJDb2RlOiBmdW5jdGlvbiBjcmVhdFFyQ29kZSgpIHsKICAgICAgdmFyIHFyY29kZTsKICAgICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3BhZ2VzL2dvb2RzL29yZGVyX2RldGFpbHMvaW5kZXg/b3JkZXJfaWQ9JyArIHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgICB0aGlzLm5ld0FycmF5RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHZhciBvYmogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXJDb2RlVXJsJyArIGluZGV4KTsKICAgICAgICBxcmNvZGUgPSBuZXcgUVJDb2RlKG9iaiwgewogICAgICAgICAgdGV4dDogdXJsLAogICAgICAgICAgLy8g6ZyA6KaB6L2s5o2i5Li65LqM57u056CB55qE5YaF5a65CiAgICAgICAgICB3aWR0aDogOTAsCiAgICAgICAgICBoZWlnaHQ6IDkwLAogICAgICAgICAgY29sb3JEYXJrOiAnIzAwMDAwMCcsCiAgICAgICAgICBjb2xvckxpZ2h0OiAnI2ZmZmZmZicsCiAgICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuSAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXREaXN0cmlidXRpb246IGZ1bmN0aW9uIGdldERpc3RyaWJ1dGlvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgZGlzdHJpYnV0aW9uT3JkZXIodGhpcy4kcm91dGUucXVlcnkuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLm9yZGVyRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIHZhciBjaHVua2VkQXJyYXlzID0gW107CiAgICAgICAgcmVzLmRhdGEucHJvZHVjdF9pbmZvLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICB2YXIgY2h1bmtJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyA2KTsKICAgICAgICAgIGlmICghY2h1bmtlZEFycmF5c1tjaHVua0luZGV4XSkgewogICAgICAgICAgICBjaHVua2VkQXJyYXlzW2NodW5rSW5kZXhdID0gW107CiAgICAgICAgICB9CiAgICAgICAgICBpdGVtLmluZGV4ID0gaW5kZXggKyAxOwogICAgICAgICAgY2h1bmtlZEFycmF5c1tjaHVua0luZGV4XS5wdXNoKGl0ZW0pOwogICAgICAgIH0pOwogICAgICAgIF90aGlzLm5ld0FycmF5RGF0YSA9IGNodW5rZWRBcnJheXM7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5jcmVhdFFyQ29kZSgpOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["distributionOrder","QRCode","Setting","data","columns","title","key","align","width","slot","minWidth","orderData","BaseURL","apiBaseURL","replace","newArrayData","site_name","refund_phone","refund_address","created","getDistribution","mounted","methods","creatQrCode","qrcode","url","window","location","origin","$route","query","id","forEach","item","index","obj","document","getElementById","text","height","colorDark","colorLight","correctLevel","CorrectLevel","H","_this","then","res","chunkedArrays","product_info","chunkIndex","Math","floor","push","setTimeout","catch","err","$Message","error","msg"],"sources":["src/pages/order/print/index.vue"],"sourcesContent":["<template>\n  <!-- 支付订单 -->\n  <div class=\"order-bgc\">\n    <div class=\"putSupplier perpage\" v-for=\"(item, index) in newArrayData\" :key=\"index\">\n      <div class=\"header acea-row row-between-wrapper\">\n        <div class=\"left acea-row row-middle\">\n          <!-- <div class=\"picture\" :id=\"'qrCodeUrl' + index\"></div> -->\n          <div class=\"info\">\n            <div><span class=\"name\">收货人：</span>{{ orderData.user_name }}</div>\n            <div><span class=\"name\">收货地址：</span>{{ orderData.user_address }}</div>\n            <div>\n              <span class=\"name\">手机号：</span><span>{{ orderData.user_phone }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"info\">\n          <div><span class=\"name\">订单编号：</span>{{ orderData.order_id }}</div>\n          <div><span class=\"name\">支付时间：</span>{{ orderData.pay_time }}</div>\n          <div><span class=\"name\">支付方式：</span>{{ orderData.pay_type }}</div>\n        </div>\n      </div>\n      <div class=\"mt20\">\n        <el-table border :columns=\"columns\" :data=\"item\" :disabled-hover=\"true\">\n          <el-table-column label=\"商品编号\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.index }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"商品名称\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname line2\">{{ scope.row.name }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"商品规格\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.sku }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"单价\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.price }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"数量\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.num }} </span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"金额\">\n            <template slot-scope=\"scope\">\n              <span class=\"nickname\">{{ scope.row.sum_price }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div class=\"bottom acea-row row-between-wrapper\">\n        <div class=\"acea-row row-middle\">\n          <div class=\"item\"><span class=\"name\">运费：</span>{{ orderData.pay_postage }}</div>\n          <div class=\"item\"><span class=\"name\">优惠：</span>{{ orderData.coupon_price }}</div>\n          <div class=\"item\"><span class=\"name\">会员折扣：</span>{{ orderData.vip_price }}</div>\n          <div class=\"item\"><span class=\"name\">积分抵扣：</span>{{ orderData.deduction_price }}</div>\n        </div>\n        <div class=\"pricePay\">实付金额：{{ orderData.pay_price }}</div>\n      </div>\n      <div class=\"bottom acea-row\">\n        <div class=\"name\">\n          用户备注：<span class=\"con\">{{ orderData.mark || '-' }}</span>\n        </div>\n      </div>\n    </div>\n    <!--  注意：后续要是加内容使页面撑大，记得查看下打印是否在同一张,是否会多余一张空白纸  -->\n  </div>\n</template>\n<script>\nimport { distributionOrder } from '@/api/order';\nimport QRCode from 'qrcodejs2';\nimport Setting from '@/setting';\nexport default {\n  data() {\n    return {\n      columns: [\n        {\n          title: '商品编号',\n          key: 'index',\n          align: 'center',\n          width: 60,\n        },\n        {\n          title: '商品名称',\n          slot: 'store_name',\n          align: 'center',\n          minWidth: 253,\n        },\n        {\n          title: '商品规格',\n          slot: 'suk',\n          align: 'center',\n          width: 219,\n        },\n        // {\n        //     title: '商品条码',\n        //     key: 'bar_code',\n        //     align: 'center',\n        //     width: 109\n        // },\n        // {\n        //     title: '商品编码',\n        //     key: 'code',\n        //     align: 'center',\n        //     width: 109\n        // },\n        {\n          title: '单价',\n          key: 'price',\n          align: 'center',\n          width: 100,\n        },\n        {\n          title: '数量',\n          key: 'num',\n          align: 'center',\n          width: 60,\n        },\n        {\n          title: '金额',\n          key: 'subtotal',\n          align: 'center',\n          width: 100,\n        },\n      ],\n      orderData: {},\n      BaseURL: Setting.apiBaseURL.replace(/adminapi/, ''),\n      newArrayData: [],\n      site_name: '',\n      refund_phone: '',\n      refund_address: '',\n    };\n  },\n  created() {\n    this.getDistribution();\n  },\n  mounted() {},\n  methods: {\n    // 生成二维码\n    creatQrCode() {\n      let qrcode;\n      let url = window.location.origin + '/pages/goods/order_details/index?order_id=' + this.$route.query.id;\n      this.newArrayData.forEach((item, index) => {\n        let obj = document.getElementById('qrCodeUrl' + index);\n        qrcode = new QRCode(obj, {\n          text: url, // 需要转换为二维码的内容\n          width: 90,\n          height: 90,\n          colorDark: '#000000',\n          colorLight: '#ffffff',\n          correctLevel: QRCode.CorrectLevel.H,\n        });\n      });\n    },\n    getDistribution() {\n      distributionOrder(this.$route.query.id)\n        .then((res) => {\n          this.orderData = res.data;\n          const chunkedArrays = [];\n          res.data.product_info.forEach((item, index) => {\n            const chunkIndex = Math.floor(index / 6);\n            if (!chunkedArrays[chunkIndex]) {\n              chunkedArrays[chunkIndex] = [];\n            }\n            item.index = index + 1;\n            chunkedArrays[chunkIndex].push(item);\n          });\n          this.newArrayData = chunkedArrays;\n          setTimeout(() => {\n            this.creatQrCode();\n          }, 200);\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.perpage {\n  page-break-after: always !important;\n}\n.order-bgc {\n  position: absolute;\n  width: 100%;\n  background-color: #fff;\n  height: max-content;\n  min-height: 100vh;\n}\n::v-deep .el-table th {\n  background-color: #fff !important;\n}\n::v-deep .el-table-header thead tr th:nth-of-type(1) {\n  padding-left: 0 !important;\n}\n::v-deep .el-table-header thead tr th {\n  border-top: 1px solid #333;\n}\n::v-deep .el-table td:nth-of-type(1) {\n  padding-left: 0 !important;\n}\n::v-deep .el-table-header table {\n  //border-top:0!important;\n}\n::v-deep .el-table-border th,\n::v-deep .el-table-border td {\n  border-right: 1px solid #333 !important;\n}\n::v-deep .el-table-border th:nth-of-type(1),\n::v-deep .el-table-border td:nth-of-type(1) {\n  border-left: 1px solid #333 !important;\n}\n::v-deep .el-table th,\n::v-deep .el-table td {\n  border-bottom: 1px solid #333 !important;\n  border-right: 1px solid #333 !important;\n}\n::v-deep .el-table-wrapper-with-border {\n  border-color: #333 !important;\n  border: unset;\n}\n::v-deep .el-table-border:after {\n  background-color: #333;\n  width: 0 !important;\n  height: 0 !important;\n}\n::v-deep .el-table--border {\n  border: 1px solid #333 !important;\n  border-bottom: 0px !important;\n}\n::v-deep .el-table:before {\n  background-color: #333;\n  width: 0 !important;\n  height: 0 !important;\n}\n::v-deep .el-table .cell,\n::v-deep .el-table th.el-table__cell > .cell {\n  height: 47px !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n::v-deep .el-table {\n  color: #000;\n}\n.pricePay {\n  font-weight: bold;\n}\n.bottom {\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 12px;\n  font-weight: 400;\n  margin-top: 20px;\n  .item {\n    margin-right: 30px;\n  }\n  .name {\n    font-weight: 600;\n  }\n  .con {\n    width: 740px;\n    font-weight: unset;\n  }\n}\n.putSupplier {\n  width: 794px;\n  background-color: #fff;\n  margin: 0 auto;\n  padding-top: 10px;\n  /*padding: 20px 20px 450px 20px;*/\n  /*box-sizing: border-box;*/\n  .header {\n    .info {\n      font-size: 12px;\n      color: rgba(0, 0, 0, 0.85);\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      height: 80px;\n      .name {\n        font-weight: 600;\n      }\n    }\n    .left {\n      width: 500px;\n      .picture {\n        width: 90px;\n        height: 90px;\n        margin-right: 20px;\n        img {\n          width: 100%;\n          height: 100%;\n        }\n      }\n      .info {\n        flex: 1;\n      }\n    }\n  }\n}\n.delivery {\n  display: flex;\n  justify-content: center;\n  width: 794px;\n  padding-top: 14px;\n  border-top: 1px solid #dddddd;\n  margin: 11px auto;\n  font-size: 10px;\n  color: #333333;\n\n  div + div {\n    margin-left: 30px;\n  }\n}\n</style>\n"],"mappings":";;;;;AA0EA,SAAAA,iBAAA;AACA,OAAAC,MAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA,GACA;QACAC,KAAA;QACAC,GAAA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAH,KAAA;QACAI,IAAA;QACAF,KAAA;QACAG,QAAA;MACA,GACA;QACAL,KAAA;QACAI,IAAA;QACAF,KAAA;QACAC,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAH,KAAA;QACAC,GAAA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,KAAA;QACAC,KAAA;MACA,EACA;MACAG,SAAA;MACAC,OAAA,EAAAV,OAAA,CAAAW,UAAA,CAAAC,OAAA;MACAC,YAAA;MACAC,SAAA;MACAC,YAAA;MACAC,cAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA;IACA;IACAC,WAAA,WAAAA,YAAA;MACA,IAAAC,MAAA;MACA,IAAAC,GAAA,GAAAC,MAAA,CAAAC,QAAA,CAAAC,MAAA,uDAAAC,MAAA,CAAAC,KAAA,CAAAC,EAAA;MACA,KAAAhB,YAAA,CAAAiB,OAAA,WAAAC,IAAA,EAAAC,KAAA;QACA,IAAAC,GAAA,GAAAC,QAAA,CAAAC,cAAA,eAAAH,KAAA;QACAV,MAAA,OAAAvB,MAAA,CAAAkC,GAAA;UACAG,IAAA,EAAAb,GAAA;UAAA;UACAjB,KAAA;UACA+B,MAAA;UACAC,SAAA;UACAC,UAAA;UACAC,YAAA,EAAAzC,MAAA,CAAA0C,YAAA,CAAAC;QACA;MACA;IACA;IACAxB,eAAA,WAAAA,gBAAA;MAAA,IAAAyB,KAAA;MACA7C,iBAAA,MAAA6B,MAAA,CAAAC,KAAA,CAAAC,EAAA,EACAe,IAAA,WAAAC,GAAA;QACAF,KAAA,CAAAlC,SAAA,GAAAoC,GAAA,CAAA5C,IAAA;QACA,IAAA6C,aAAA;QACAD,GAAA,CAAA5C,IAAA,CAAA8C,YAAA,CAAAjB,OAAA,WAAAC,IAAA,EAAAC,KAAA;UACA,IAAAgB,UAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAlB,KAAA;UACA,KAAAc,aAAA,CAAAE,UAAA;YACAF,aAAA,CAAAE,UAAA;UACA;UACAjB,IAAA,CAAAC,KAAA,GAAAA,KAAA;UACAc,aAAA,CAAAE,UAAA,EAAAG,IAAA,CAAApB,IAAA;QACA;QACAY,KAAA,CAAA9B,YAAA,GAAAiC,aAAA;QACAM,UAAA;UACAT,KAAA,CAAAtB,WAAA;QACA;MACA,GACAgC,KAAA,WAAAC,GAAA;QACAX,KAAA,CAAAY,QAAA,CAAAC,KAAA,CAAAF,GAAA,CAAAG,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}