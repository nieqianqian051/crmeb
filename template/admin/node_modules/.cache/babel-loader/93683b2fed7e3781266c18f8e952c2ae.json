{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/mobile/user/userLabel.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/mobile/user/userLabel.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCB7IHVzZXJMYWJlbCwgdXNlckxhYmVsUHV0IH0gZnJvbSAnQC9hcGkva2VmdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXNlckxhYmVyJywKICBwcm9wczogewogICAgY2hhbmdlOiBCb29sZWFuLAogICAgdWlkOiBOdW1iZXIsCiAgICBsYWJlbExpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vICBsYWJlbExpc3Q6W10sCiAgICAgIGFjdGl2ZUlkczogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbGFiZWxMaXN0OiBmdW5jdGlvbiBsYWJlbExpc3QoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBkYXRhLm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgICBlbC5sYWJlbC5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7CiAgICAgICAgICBpZiAobGFiZWwuZGlzYWJsZWQpIHsKICAgICAgICAgICAgX3RoaXMuYWN0aXZlSWRzLnB1c2gobGFiZWwuaWQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdExhYmVsOiBmdW5jdGlvbiBzZWxlY3RMYWJlbChsYWJlbCkgewogICAgICBpZiAobGFiZWwuZGlzYWJsZWQpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmFjdGl2ZUlkcy5pbmRleE9mKGxhYmVsLmlkKTsKICAgICAgICB0aGlzLmFjdGl2ZUlkcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIGxhYmVsLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hY3RpdmVJZHMucHVzaChsYWJlbC5pZCk7CiAgICAgICAgbGFiZWwuZGlzYWJsZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g56Gu5a6aCiAgICBzdWJCdG46IGZ1bmN0aW9uIHN1YkJ0bigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciB1bkxhYmVyaWRzID0gW107CiAgICAgIHRoaXMubGFiZWxMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0ubGFiZWwubWFwKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICBpZiAoaS5kaXNhYmxlZCA9PSBmYWxzZSkgewogICAgICAgICAgICB1bkxhYmVyaWRzLnB1c2goaS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB1c2VyTGFiZWxQdXQodGhpcy51aWQsIHsKICAgICAgICBsYWJlbF9pZHM6IHRoaXMuYWN0aXZlSWRzLAogICAgICAgIHVuX2xhYmVsX2lkczogdW5MYWJlcmlkcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICBfdGhpczIuJGVtaXQoJ2VkaXRMYWJlbCcsIGZhbHNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2VDaGFuZ2UnLCBmYWxzZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["userLabel","userLabelPut","name","props","change","Boolean","uid","Number","labelList","type","Array","default","data","activeIds","watch","_this","map","el","label","disabled","push","id","methods","selectLabel","index","indexOf","splice","subBtn","_this2","unLaberids","item","i","label_ids","un_label_ids","then","res","$message","success","msg","$emit","catch","error","close"],"sources":["src/pages/kefu/mobile/user/userLabel.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"labelChange\" :class=\"change === true ? 'on' : ''\">\n      <div class=\"priceTitle cor32\">\n        用户标签\n        <span class=\"iconfontYI icon-guanbi\" @click=\"close\"></span>\n      </div>\n      <div class=\"label-wrapper\">\n        <div class=\"label-box\" v-for=\"(item, index) in labelList\" :key=\"index\">\n          <div class=\"title\">{{ item.name }}</div>\n          <div class=\"list\">\n            <div\n              class=\"label-item\"\n              :class=\"{ on: label.disabled }\"\n              v-for=\"(label, j) in item.label\"\n              :key=\"j\"\n              @click=\"selectLabel(label)\"\n            >\n              {{ label.label_name }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer\">\n        <el-button type=\"primary\" class=\"btn\" @click=\"subBtn\">确定</el-button>\n      </div>\n    </div>\n    <div class=\"maskModel\" @touchmove.prevent v-show=\"change === true\"></div>\n  </div>\n</template>\n\n<script>\nimport { userLabel, userLabelPut } from '@/api/kefu';\nexport default {\n  name: 'userLaber',\n  props: {\n    change: Boolean,\n    uid: Number,\n    labelList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      //  labelList:[],\n      activeIds: [],\n    };\n  },\n  watch: {\n    labelList: function (data) {\n      data.map((el) => {\n        el.label.map((label) => {\n          if (label.disabled) {\n            this.activeIds.push(label.id);\n          }\n        });\n      });\n    },\n  },\n  methods: {\n    selectLabel(label) {\n      if (label.disabled) {\n        let index = this.activeIds.indexOf(label.id);\n        this.activeIds.splice(index, 1);\n        label.disabled = false;\n      } else {\n        this.activeIds.push(label.id);\n        label.disabled = true;\n      }\n    },\n    // 确定\n    subBtn() {\n      let unLaberids = [];\n      this.labelList.map((item) => {\n        item.label.map((i) => {\n          if (i.disabled == false) {\n            unLaberids.push(i.id);\n          }\n        });\n      });\n      userLabelPut(this.uid, {\n        label_ids: this.activeIds,\n        un_label_ids: unLaberids,\n      })\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.$emit('editLabel', false);\n        })\n        .catch((error) => {\n          this.$message.error(error.msg);\n        });\n    },\n    close: function () {\n      this.$emit('closeChange', false);\n    },\n  },\n};\n</script>\n<style lang=\"stylus\" scoped>\n.label-wrapper\n    height 9rem\n    overflow: scroll;\n    .list\n        display flex\n        flex-wrap wrap\n        .label-item\n            margin: 0.2rem 0.3rem 0.1rem 0;\n            padding: 0 0.2rem;\n            background #EEEEEE\n            color #282828\n            border-radius 6px\n            cursor pointer\n            font-size 0.28rem\n            height 0.56rem\n            line-height 0.56rem\n            &.on\n                color #fff\n                background #3875EA\n.footer\n    margin-top: 0.25rem;\n.btn\n    width 100%\n    height 0.76rem\n    border-radius: 43px;\n    background #3875EA\n.title\n    font-size 0.32rem\n    color #282828\n</style>\n<style scoped lang=\"scss\">\n.label {\n  &-title {\n    margin-bottom: 0.25rem;\n  }\n}\n.label-box {\n  margin-bottom: 10px;\n}\n\n.priceTitle {\n  position: relative;\n  text-align: center;\n  .iconfontYI {\n    position: absolute;\n    font-size: 0.2rem;\n    right: 0.13rem;\n    top: 0.11rem;\n    width: 0.2rem;\n    height: 0.2rem;\n    line-height: 0.2rem;\n  }\n}\n.labelCheck {\n  ::v-deep .ivu-checkbox {\n    display: none !important;\n  }\n  ::v-deep .ivu-checkbox-wrapper-checked.ivu-checkbox-border {\n    background: #3875ea;\n    color: #fff;\n  }\n}\n.labelChange {\n  padding: 0.3rem;\n  position: fixed;\n  width: 90%;\n  height: 11.1rem;\n  background-color: #fff;\n  border-radius: 0.1rem;\n  top: 50%;\n  left: 50%;\n  margin-left: -3.4rem;\n  margin-top: -5.6rem;\n  z-index: 99;\n  transition: all 0.3s ease-in-out 0s;\n  -webkit-transition: all 0.3s ease-in-out 0s;\n  -o-transition: all 0.3s ease-in-out 0s;\n  -moz-transition: all 0.3s ease-in-out 0s;\n  -webkit-transform: scale(0);\n  -o-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  transform: scale(0);\n  opacity: 0;\n}\n.cor32 {\n  font-size: 0.32rem;\n  color: #282828;\n}\n.mb80 {\n  margin-bottom: 0.5rem;\n}\n.on {\n  opacity: 1;\n  transform: scale(1);\n  -webkit-transform: scale(1);\n  -o-transform: scale(1);\n  -moz-transform: scale(1);\n  -ms-transform: scale(1);\n}\n</style>\n"],"mappings":";;;;AAgCA,SAAAA,SAAA,EAAAC,YAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,MAAA,EAAAC,OAAA;IACAC,GAAA,EAAAC,MAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAA,SAAA;QAAA;MAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,SAAA;IACA;EACA;EACAC,KAAA;IACAN,SAAA,WAAAA,UAAAI,IAAA;MAAA,IAAAG,KAAA;MACAH,IAAA,CAAAI,GAAA,WAAAC,EAAA;QACAA,EAAA,CAAAC,KAAA,CAAAF,GAAA,WAAAE,KAAA;UACA,IAAAA,KAAA,CAAAC,QAAA;YACAJ,KAAA,CAAAF,SAAA,CAAAO,IAAA,CAAAF,KAAA,CAAAG,EAAA;UACA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAAL,KAAA;MACA,IAAAA,KAAA,CAAAC,QAAA;QACA,IAAAK,KAAA,QAAAX,SAAA,CAAAY,OAAA,CAAAP,KAAA,CAAAG,EAAA;QACA,KAAAR,SAAA,CAAAa,MAAA,CAAAF,KAAA;QACAN,KAAA,CAAAC,QAAA;MACA;QACA,KAAAN,SAAA,CAAAO,IAAA,CAAAF,KAAA,CAAAG,EAAA;QACAH,KAAA,CAAAC,QAAA;MACA;IACA;IACA;IACAQ,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,UAAA;MACA,KAAArB,SAAA,CAAAQ,GAAA,WAAAc,IAAA;QACAA,IAAA,CAAAZ,KAAA,CAAAF,GAAA,WAAAe,CAAA;UACA,IAAAA,CAAA,CAAAZ,QAAA;YACAU,UAAA,CAAAT,IAAA,CAAAW,CAAA,CAAAV,EAAA;UACA;QACA;MACA;MACApB,YAAA,MAAAK,GAAA;QACA0B,SAAA,OAAAnB,SAAA;QACAoB,YAAA,EAAAJ;MACA,GACAK,IAAA,WAAAC,GAAA;QACAP,MAAA,CAAAQ,QAAA,CAAAC,OAAA,CAAAF,GAAA,CAAAG,GAAA;QACAV,MAAA,CAAAW,KAAA;MACA,GACAC,KAAA,WAAAC,KAAA;QACAb,MAAA,CAAAQ,QAAA,CAAAK,KAAA,CAAAA,KAAA,CAAAH,GAAA;MACA;IACA;IACAI,KAAA,WAAAA,MAAA;MACA,KAAAH,KAAA;IACA;EACA;AACA","ignoreList":[]}]}