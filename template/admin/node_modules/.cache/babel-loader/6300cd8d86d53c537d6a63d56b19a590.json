{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/storeService/feedback.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/storeService/feedback.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IGtlZnVGZWVkQmFjaywga2VmdUZlZWRCYWNrRWRpdCB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2ZlZWRiYWNrJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGxpc3Q6IFtdLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMTUsCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIHRpbWU6ICcnLAogICAgICAgIHRpdGxlOiAnJwogICAgICB9LAogICAgICBwaWNrZXJPcHRpb25zOiB0aGlzLiR0aW1lT3B0aW9ucywKICAgICAgdGltZVZhbDogW10sCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSksIHt9LCB7CiAgICBsYWJlbFdpZHRoOiBmdW5jdGlvbiBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6ICc4MHB4JzsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uOiBmdW5jdGlvbiBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+Wkh+azqO+8mwogICAgcmVtYXJrczogZnVuY3Rpb24gcmVtYXJrcyhpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0oa2VmdUZlZWRCYWNrRWRpdChpZCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmAieaLqQogICAgc2VsQ2hhbmdlOiBmdW5jdGlvbiBzZWxDaGFuZ2UoKSB7CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOmAieaLqeaXtumXtAogICAgc2VsZWN0Q2hhbmdlOiBmdW5jdGlvbiBzZWxlY3RDaGFuZ2UodGFiKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnRpbWUgPSB0YWI7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDlhbfkvZPml6XmnJ8KICAgIG9uY2hhbmdlVGltZTogZnVuY3Rpb24gb25jaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy50aW1lVmFsID0gZTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUudGltZSA9IHRoaXMudGltZVZhbCA/IHRoaXMudGltZVZhbC5qb2luKCctJykgOiAnJzsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGtlZnVGZWVkQmFjayh7CiAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgIGxpbWl0OiB0aGlzLmxpbWl0LAogICAgICAgIHRpbWU6IHRoaXMuZm9ybVZhbGlkYXRlLnRpbWUsCiAgICAgICAgdGl0bGU6IHRoaXMuZm9ybVZhbGlkYXRlLnRpdGxlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5saXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChyb3csIHRpdCwgbnVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICBudW06IG51bSwKICAgICAgICB1cmw6ICIvYXBwL2ZlZWRiYWNrLyIuY29uY2F0KHJvdy5pZCksCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBpZHM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXMzLmxpc3Quc3BsaWNlKG51bSwgMSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["kefuFeedBack","kefuFeedBackEdit","mapState","name","data","loading","list","page","limit","formValidate","time","title","pickerOptions","$timeOptions","timeVal","total","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","created","getList","methods","remarks","id","_this","$modalForm","then","selChange","selectChange","tab","onchangeTime","e","join","_this2","res","count","del","row","tit","num","_this3","delfromData","url","concat","method","ids","$modalSure","$message","success","msg","splice","catch","error"],"sources":["src/pages/setting/storeService/feedback.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: 0 }\">\n      <div class=\"padding-add\">\n        <el-form\n          ref=\"formValidate\"\n          :model=\"formValidate\"\n          :label-width=\"labelWidth\"\n          :label-position=\"labelPosition\"\n          class=\"tabform\"\n          @submit.native.prevent\n          inline\n        >\n          <el-form-item label=\"留言时间：\">\n            <el-date-picker\n              clearable\n              v-model=\"timeVal\"\n              type=\"daterange\"\n              :editable=\"false\"\n              @change=\"onchangeTime\"\n              format=\"yyyy/MM/dd\"\n              value-format=\"yyyy/MM/dd\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              :picker-options=\"pickerOptions\"\n              style=\"width: 250px\"\n              class=\"mr20\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"留言信息：\">\n            <el-input\n              clearable\n              placeholder=\"请输入用户昵称/电话/留言内容搜索\"\n              v-model=\"formValidate.title\"\n              class=\"form_content_width\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"selChange\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt mt16\">\n      <el-table :data=\"list\" v-loading=\"loading\" no-userFrom-text=\"暂无数据\" no-filtered-userFrom-text=\"暂无筛选结果\">\n        <el-table-column label=\"ID\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.id }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"昵称\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.rela_name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"电话\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.phone }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"内容\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.content }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"状态\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <div>{{ scope.row.status === 1 ? '已处理' : '未处理' }}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"时间\" min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.add_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"170\">\n          <template slot-scope=\"scope\">\n            <a @click=\"remarks(scope.row.id)\">{{ scope.row.status === 1 ? '备注' : '处理' }}</a>\n            <el-divider direction=\"vertical\"></el-divider>\n            <a @click=\"del(scope.row, '删除反馈', scope.$index)\">删除</a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"acea-row row-right page\">\n        <pagination v-if=\"total\" :total=\"total\" :page.sync=\"page\" :limit.sync=\"limit\" @pagination=\"getList\" />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { kefuFeedBack, kefuFeedBackEdit } from '@/api/setting';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'feedback',\n  data() {\n    return {\n      loading: false,\n      list: [],\n      page: 1,\n      limit: 15,\n      formValidate: {\n        time: '',\n        title: '',\n      },\n      pickerOptions: this.$timeOptions,\n      timeVal: [],\n      total: 0,\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : '80px';\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    //备注；\n    remarks(id) {\n      this.$modalForm(kefuFeedBackEdit(id)).then(() => this.getList());\n    },\n    // 选择\n    selChange() {\n      this.page = 1;\n      this.getList();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.time = tab;\n      this.timeVal = [];\n      this.page = 1;\n      this.getList();\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.time = this.timeVal ? this.timeVal.join('-') : '';\n      this.page = 1;\n      this.getList();\n    },\n    getList() {\n      kefuFeedBack({\n        page: this.page,\n        limit: this.limit,\n        time: this.formValidate.time,\n        title: this.formValidate.title,\n      }).then((res) => {\n        this.list = res.data.data;\n        this.total = res.data.count;\n      });\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `/app/feedback/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.list.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"mappings":";;;AA2FA,SAAAA,YAAA,EAAAC,gBAAA;AACA,SAAAC,QAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,IAAA;MACAC,IAAA;MACAC,KAAA;MACAC,YAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACAC,aAAA,OAAAC,YAAA;MACAC,OAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAf,QAAA;IACAgB,UAAA,WAAAA,WAAA;MACA,YAAAC,QAAA,GAAAC,SAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,YAAAF,QAAA;IACA;EAAA,EACA;EACAG,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACA;IACAC,OAAA,WAAAA,QAAAC,EAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,UAAA,CAAA3B,gBAAA,CAAAyB,EAAA,GAAAG,IAAA;QAAA,OAAAF,KAAA,CAAAJ,OAAA;MAAA;IACA;IACA;IACAO,SAAA,WAAAA,UAAA;MACA,KAAAvB,IAAA;MACA,KAAAgB,OAAA;IACA;IACA;IACAQ,YAAA,WAAAA,aAAAC,GAAA;MACA,KAAAvB,YAAA,CAAAC,IAAA,GAAAsB,GAAA;MACA,KAAAlB,OAAA;MACA,KAAAP,IAAA;MACA,KAAAgB,OAAA;IACA;IACA;IACAU,YAAA,WAAAA,aAAAC,CAAA;MACA,KAAApB,OAAA,GAAAoB,CAAA;MACA,KAAAzB,YAAA,CAAAC,IAAA,QAAAI,OAAA,QAAAA,OAAA,CAAAqB,IAAA;MACA,KAAA5B,IAAA;MACA,KAAAgB,OAAA;IACA;IACAA,OAAA,WAAAA,QAAA;MAAA,IAAAa,MAAA;MACApC,YAAA;QACAO,IAAA,OAAAA,IAAA;QACAC,KAAA,OAAAA,KAAA;QACAE,IAAA,OAAAD,YAAA,CAAAC,IAAA;QACAC,KAAA,OAAAF,YAAA,CAAAE;MACA,GAAAkB,IAAA,WAAAQ,GAAA;QACAD,MAAA,CAAA9B,IAAA,GAAA+B,GAAA,CAAAjC,IAAA,CAAAA,IAAA;QACAgC,MAAA,CAAArB,KAAA,GAAAsB,GAAA,CAAAjC,IAAA,CAAAkC,KAAA;MACA;IACA;IACA;IACAC,GAAA,WAAAA,IAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,WAAA;QACAjC,KAAA,EAAA8B,GAAA;QACAC,GAAA,EAAAA,GAAA;QACAG,GAAA,mBAAAC,MAAA,CAAAN,GAAA,CAAAd,EAAA;QACAqB,MAAA;QACAC,GAAA;MACA;MACA,KAAAC,UAAA,CAAAL,WAAA,EACAf,IAAA,WAAAQ,GAAA;QACAM,MAAA,CAAAO,QAAA,CAAAC,OAAA,CAAAd,GAAA,CAAAe,GAAA;QACAT,MAAA,CAAArC,IAAA,CAAA+C,MAAA,CAAAX,GAAA;MACA,GACAY,KAAA,WAAAjB,GAAA;QACAM,MAAA,CAAAO,QAAA,CAAAK,KAAA,CAAAlB,GAAA,CAAAe,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}