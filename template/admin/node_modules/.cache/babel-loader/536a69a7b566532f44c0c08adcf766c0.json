{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/utils/compressImg.js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/utils/compressImg.js","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmRldGFjaGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnRyYW5zZmVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnRyYW5zZmVyLXRvLWZpeGVkLWxlbmd0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtbGFzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtbGFzdC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXJldmVyc2VkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc29ydGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkud2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5hdG9iLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1leGNlcHRpb24uY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWV4Y2VwdGlvbi5zdGFjay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tZXhjZXB0aW9uLnRvLXN0cmluZy10YWcuanMiOwovKioKICogQOWOi+e8qeWFrOWFseaWueazlQogKiBAcGFyYW1zIGZpbGUKICogQHJldHVybiDljovnvKnlkI7nmoTmlofku7bvvIzmlK/mjIHkuKTnp43vvIxmaWxl5ZKMIGJsb2IKICovCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXByZXNzSW1nKGZpbGUpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAvLyByZWFkQXNEYXRhVVJMIOaWueazleS8muivu+WPluaMh+WumueahCBCbG9iIOaIliBGaWxlIOWvueixoeOAguivu+WPluaTjeS9nOWujOaIkOeahOaXtuWAme+8jHJlYWR5U3RhdGUg5Lya5Y+Y5oiQ5bey5a6M5oiQRE9ORe+8jOW5tuinpuWPkSBsb2FkZW5kIChlbi1VUykg5LqL5Lu277yMCiAgICAvLyDlkIzml7YgcmVzdWx0IOWxnuaAp+WwhuWMheWQq+S4gOS4qmRhdGE6VVJM5qC85byP55qE5a2X56ym5Liy77yIYmFzZTY057yW56CB77yJ5Lul6KGo56S65omA6K+75Y+W5paH5Lu255qE5YaF5a6544CCCiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLnNyYyA9IHJlYWRlci5yZXN1bHQ7CiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g5Zu+54mH55qE5a696auYCiAgICAgICAgdmFyIHcgPSBpbWcud2lkdGg7CiAgICAgICAgdmFyIGggPSBpbWcuaGVpZ2h0OwogICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICAvLyBjYW52YXPlr7nlm77niYfov5vooYzoo4HliarvvIzov5nph4zorr7nva7kuLrlm77niYfnmoTljp/lp4vlsLrlr7gKICAgICAgICBjYW52YXMud2lkdGggPSB3OwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoOwogICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICAvLyBjYW52YXPkuK3vvIxwbmfovaxqcGfkvJrlj5jpu5HlupXvvIzmiYDku6XlhYjnu5ljYW52YXPpk7rkuIDlvKDnmb3lupUKICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmYnOwogICAgICAgIC8vIGZpbGxSZWN0KCnmlrnms5Xnu5jliLbkuIDkuKrloavlhYXkuoblhoXlrrnnmoTnn6nlvaLvvIzov5nkuKrnn6nlvaLnmoTlvIDlp4vngrnvvIjlt6bkuIrngrnvvInlnKgKICAgICAgICAvLyAoeCwgeSkg77yM5a6D55qE5a695bqm5ZKM6auY5bqm5YiG5Yir55Sxd2lkdGgg5ZKMIGhlaWdodCDnoa7lrprvvIzloavlhYXmoLflvI/nlLHlvZPliY3nmoRmaWxsU3R5bGUg5Yaz5a6a44CCCiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgLy8g57uY5Yi25Zu+5YOPCiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHcsIGgpOwoKICAgICAgICAvLyBjYW52YXPovazlm77niYfovr7liLDlm77niYfljovnvKnmlYjmnpwKICAgICAgICAvLyDov5Tlm57kuIDkuKrljIXlkKvlm77niYflsZXnpLrnmoQgZGF0YSBVUkkgYmFzZTY0IOWcqOaMh+WumuWbvueJh+agvOW8j+S4uiBpbWFnZS9qcGVnIOaIliBpbWFnZS93ZWJw55qE5oOF5Ya15LiL77yMCiAgICAgICAgLy8g5Y+v5Lul5LuOIDAg5YiwIDEg55qE5Yy66Ze05YaF6YCJ5oup5Zu+54mH55qE6LSo6YeP44CC5aaC5p6c6LaF5Ye65Y+W5YC86IyD5Zu077yM5bCG5Lya5L2/55So6buY6K6k5YC8IDAuOTLjgILlhbbku5blj4LmlbDkvJrooqvlv73nlaXjgIIKICAgICAgICB2YXIgZGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjgpOwogICAgICAgIHZhciBuZXdGaWxlID0gZGF0YVVSTHRvRmlsZShkYXRhVXJsLCBmaWxlLm5hbWUpOwogICAgICAgIHJlc29sdmUobmV3RmlsZSk7CiAgICAgIH07CiAgICB9OwogIH0pOwp9Ci8vICBiYXNlNjQtPmZpbGUKZnVuY3Rpb24gZGF0YVVSTHRvRmlsZShkYXRhdXJsLCBmaWxlTmFtZSkgewogIHZhciBhcnIgPSBkYXRhdXJsLnNwbGl0KCcsJyksCiAgICBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7LylbMV0sCiAgICBic3RyID0gYXRvYihhcnJbMV0pLAogICAgbiA9IGJzdHIubGVuZ3RoLAogICAgdThhcnIgPSBuZXcgVWludDhBcnJheShuKTsKICB3aGlsZSAobi0tKSB7CiAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKTsKICB9CiAgcmV0dXJuIG5ldyBGaWxlKFt1OGFycl0sIGZpbGVOYW1lLCB7CiAgICB0eXBlOiBtaW1lCiAgfSk7Cn0KLy8gYmFzZTY0LT5ibG9iCmZ1bmN0aW9uIGRhdGFVUkx0b0Jsb2IoZGF0YXVybCkgewogIHZhciBhcnIgPSBkYXRhdXJsLnNwbGl0KCcsJyksCiAgICBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7LylbMV0sCiAgICBic3RyID0gYXRvYihhcnJbMV0pOwogIHZhciBuID0gYnN0ci5sZW5ndGg7CiAgdmFyIHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobik7CiAgd2hpbGUgKG4tLSkgewogICAgdThhcnJbbl0gPSBic3RyLmNoYXJDb2RlQXQobik7CiAgfQogIHJldHVybiBuZXcgQmxvYihbdThhcnJdLCB7CiAgICB0eXBlOiBtaW1lCiAgfSk7Cn0="},{"version":3,"names":["compressImg","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","img","Image","src","result","w","width","h","height","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","drawImage","dataUrl","toDataURL","newFile","dataURLtoFile","name","dataurl","fileName","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","dataURLtoBlob","Blob"],"sources":["/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/utils/compressImg.js"],"sourcesContent":["/**\n * @压缩公共方法\n * @params file\n * @return 压缩后的文件，支持两种，file和 blob\n */\nexport default function compressImg(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    // readAsDataURL 方法会读取指定的 Blob 或 File 对象。读取操作完成的时候，readyState 会变成已完成DONE，并触发 loadend (en-US) 事件，\n    // 同时 result 属性将包含一个data:URL格式的字符串（base64编码）以表示所读取文件的内容。\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      const img = new Image();\n      img.src = reader.result;\n      img.onload = () => {\n        // 图片的宽高\n        const w = img.width;\n        const h = img.height;\n        const canvas = document.createElement('canvas');\n        // canvas对图片进行裁剪，这里设置为图片的原始尺寸\n        canvas.width = w;\n        canvas.height = h;\n        const ctx = canvas.getContext('2d');\n        // canvas中，png转jpg会变黑底，所以先给canvas铺一张白底\n        ctx.fillStyle = '#fff';\n        // fillRect()方法绘制一个填充了内容的矩形，这个矩形的开始点（左上点）在\n        // (x, y) ，它的宽度和高度分别由width 和 height 确定，填充样式由当前的fillStyle 决定。\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        // 绘制图像\n        ctx.drawImage(img, 0, 0, w, h);\n\n        // canvas转图片达到图片压缩效果\n        // 返回一个包含图片展示的 data URI base64 在指定图片格式为 image/jpeg 或 image/webp的情况下，\n        // 可以从 0 到 1 的区间内选择图片的质量。如果超出取值范围，将会使用默认值 0.92。其他参数会被忽略。\n        const dataUrl = canvas.toDataURL('image/jpeg', 0.8);\n        let newFile = dataURLtoFile(dataUrl, file.name);\n        resolve(newFile);\n      };\n    };\n  });\n}\n//  base64->file\nfunction dataURLtoFile(dataurl, fileName) {\n  let arr = dataurl.split(','),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], fileName, { type: mime });\n}\n// base64->blob\nfunction dataURLtoBlob(dataurl) {\n  const arr = dataurl.split(','),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]);\n  let n = bstr.length;\n  const u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], { type: mime });\n}\n"],"mappings":"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","ignoreList":[]}]}