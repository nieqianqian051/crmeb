{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navMenu/horizontal.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navMenu/horizontal.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBTdWJJdGVtIGZyb20gJ0AvbGF5b3V0L25hdk1lbnUvc3ViSXRlbS52dWUnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ25hdk1lbnVIb3Jpem9udGFsJywKICBjb21wb25lbnRzOiB7CiAgICBTdWJJdGVtOiBTdWJJdGVtCiAgfSwKICBwcm9wczogewogICAgbWVudUxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtZW51JywgWydhY3RpdmVQYXRoJ10pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVmYXVsdEFjdGl2ZTogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRFbE1lbnVPZmZzZXRMZWZ0KCk7CiAgICB0aGlzLnNldEN1cnJlbnRSb3V0ZXJIaWdobGlnaHQodGhpcy4kcm91dGUucGF0aCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDorr7nva7mqKrlkJHmu5rliqjmnaHlj6/ku6XpvKDmoIfmu5rova7mu5rliqgKICAgIG9uRWxNZW51SG9yaXpvbnRhbFNjcm9sbDogZnVuY3Rpb24gb25FbE1lbnVIb3Jpem9udGFsU2Nyb2xsKGUpIHsKICAgICAgdmFyIGV2ZW50RGVsdGEgPSBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZICogNDA7CiAgICAgIHRoaXMuJHJlZnMuZWxNZW51SG9yaXpvbnRhbFNjcm9sbFJlZi4kcmVmcy53cmFwLnNjcm9sbExlZnQgPSB0aGlzLiRyZWZzLmVsTWVudUhvcml6b250YWxTY3JvbGxSZWYuJHJlZnMud3JhcC5zY3JvbGxMZWZ0ICsgZXZlbnREZWx0YSAvIDQ7CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5pWw5o2u77yM6aG16Z2i5Yi35paw5pe277yM5rua5Yqo5p2h5rua5Yqo5Yiw5a+55bqU5L2N572uCiAgICBpbml0RWxNZW51T2Zmc2V0TGVmdDogZnVuY3Rpb24gaW5pdEVsTWVudU9mZnNldExlZnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsLW1lbnUuZWwtbWVudS0taG9yaXpvbnRhbCBsaS5pcy1hY3RpdmUnKTsKICAgICAgICBpZiAoIWVscykgcmV0dXJuIGZhbHNlOwogICAgICAgIF90aGlzLiRyZWZzLmVsTWVudUhvcml6b250YWxTY3JvbGxSZWYuJHJlZnMud3JhcC5zY3JvbGxMZWZ0ID0gZWxzLm9mZnNldExlZnQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOi3r+eUsei/h+a7pOmAkuW9kuWHveaVsAogICAgZmlsdGVyUm91dGVzRnVuOiBmdW5jdGlvbiBmaWx0ZXJSb3V0ZXNGdW4oYXJyKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhaXRlbS5pc0hpZGU7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbikgaXRlbS5jaGlsZHJlbiA9IF90aGlzMi5maWx0ZXJSb3V0ZXNGdW4oaXRlbS5jaGlsZHJlbik7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS8oOmAgeW9k+WJjeWtkOe6p+aVsOaNruWIsOiPnOWNleS4rQogICAgc2V0U2VuZENsYXNzaWNDaGlsZHJlbjogZnVuY3Rpb24gc2V0U2VuZENsYXNzaWNDaGlsZHJlbihwYXRoKSB7CiAgICAgIHZhciBjdXJyZW50UGF0aFNwbGl0ID0gcGF0aC5zcGxpdCgnLycpOwogICAgICB2YXIgY3VycmVudERhdGEgPSB7fTsKICAgICAgdGhpcy5maWx0ZXJSb3V0ZXNGdW4odGhpcy4kc3RvcmUuc3RhdGUucm91dGVzTGlzdC5yb3V0ZXNMaXN0KS5tYXAoZnVuY3Rpb24gKHYsIGspIHsKICAgICAgICBpZiAodi5wYXRoID09PSAiLyIuY29uY2F0KGN1cnJlbnRQYXRoU3BsaXRbMV0pKSB7CiAgICAgICAgICB2WydrJ10gPSBrOwogICAgICAgICAgY3VycmVudERhdGFbJ2l0ZW0nXSA9IFtfb2JqZWN0U3ByZWFkKHt9LCB2KV07CiAgICAgICAgICBjdXJyZW50RGF0YVsnY2hpbGRyZW4nXSA9IFtfb2JqZWN0U3ByZWFkKHt9LCB2KV07CiAgICAgICAgICBpZiAodi5jaGlsZHJlbikgY3VycmVudERhdGFbJ2NoaWxkcmVuJ10gPSB2LmNoaWxkcmVuOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBjdXJyZW50RGF0YTsKICAgIH0sCiAgICAvLyDoj5zljZXmv4DmtLvlm57osIMKICAgIG9uSG9yaXpvbnRhbFNlbGVjdDogZnVuY3Rpb24gb25Ib3Jpem9udGFsU2VsZWN0KHBhdGgpIHsKICAgICAgdGhpcy5idXMuJGVtaXQoJ3NldFNlbmRDbGFzc2ljQ2hpbGRyZW4nLCB0aGlzLnNldFNlbmRDbGFzc2ljQ2hpbGRyZW4ocGF0aCkpOwogICAgfSwKICAgIC8vIOiuvue9rumhtemdouW9k+WJjei3r+eUsemrmOS6rgogICAgc2V0Q3VycmVudFJvdXRlckhpZ2hsaWdodDogZnVuY3Rpb24gc2V0Q3VycmVudFJvdXRlckhpZ2hsaWdodChwYXRoKSB7CiAgICAgIHZhciBjdXJyZW50UGF0aFNwbGl0ID0gcGF0aC5zcGxpdCgnLycpOwogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcubGF5b3V0ID09PSAnY2xhc3NpYycpIHsKICAgICAgICB0aGlzLmRlZmF1bHRBY3RpdmUgPSAiLyIuY29uY2F0KGN1cnJlbnRQYXRoU3BsaXRbMV0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGVmYXVsdEFjdGl2ZSA9IHBhdGg7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyDnm5HlkKzot6/nlLHnmoTlj5jljJYKICAgICRyb3V0ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHRvKSB7CiAgICAgICAgdGhpcy5zZXRDdXJyZW50Um91dGVySGlnaGxpZ2h0KHRvLnBhdGgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["SubItem","mapState","name","components","props","menuList","type","Array","default","computed","_objectSpread","data","defaultActive","mounted","initElMenuOffsetLeft","setCurrentRouterHighlight","$route","path","methods","onElMenuHorizontalScroll","e","eventDelta","wheelDelta","deltaY","$refs","elMenuHorizontalScrollRef","wrap","scrollLeft","_this","$nextTick","els","document","querySelector","offsetLeft","filterRoutesFun","arr","_this2","filter","item","isHide","map","Object","assign","children","setSendClassicChildren","currentPathSplit","split","currentData","$store","state","routesList","v","k","concat","onHorizontalSelect","bus","$emit","themeConfig","layout","watch","handler","to","deep"],"sources":["src/layout/navMenu/horizontal.vue"],"sourcesContent":["<template>\n  <div class=\"el-menu-horizontal-warp\">\n    <el-scrollbar @wheel.native.prevent=\"onElMenuHorizontalScroll\" ref=\"elMenuHorizontalScrollRef\">\n      <el-menu\n        router\n        :default-active=\"activePath || defaultActive\"\n        background-color=\"transparent\"\n        mode=\"horizontal\"\n        @select=\"onHorizontalSelect\"\n      >\n        <template v-for=\"val in menuList\">\n          <el-submenu\n            :index=\"val.path\"\n            v-if=\"val.is_show && val.children && val.children.length > 0\"\n            :key=\"val.path\"\n          >\n            <template slot=\"title\">\n              <!-- <i class=\"ivu-icon\" :class=\"val.icon ? 'el-icon-' + val.icon : ''\"></i> -->\n              <span>{{ $t(val.title) }}</span>\n            </template>\n            <SubItem :chil=\"val.children\" />\n          </el-submenu>\n          <template v-else-if=\"val.is_show\">\n            <el-menu-item :index=\"val.path\" :key=\"val.path\">\n              <template slot=\"title\" v-if=\"!val.isLink || (val.isLink && val.isIframe)\">\n                <!-- <i class=\"ivu-icon\" :class=\"val.icon ? 'el-icon-' + val.icon : ''\"></i> -->\n                {{ $t(val.title) }}\n              </template>\n              <template slot=\"title\" v-else>\n                <a :href=\"val.isLink\" target=\"_blank\">\n                  <Icon :type=\"val.icon ? val.icon : ''\" />\n                  {{ $t(val.title) }}\n                </a>\n              </template>\n            </el-menu-item>\n          </template>\n        </template>\n      </el-menu>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport SubItem from '@/layout/navMenu/subItem.vue';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'navMenuHorizontal',\n  components: { SubItem },\n  props: {\n    menuList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  computed: {\n    ...mapState('menu', ['activePath']),\n  },\n  data() {\n    return {\n      defaultActive: null,\n    };\n  },\n  mounted() {\n    this.initElMenuOffsetLeft();\n    this.setCurrentRouterHighlight(this.$route.path);\n  },\n  methods: {\n    // 设置横向滚动条可以鼠标滚轮滚动\n    onElMenuHorizontalScroll(e) {\n      const eventDelta = e.wheelDelta || -e.deltaY * 40;\n      this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft =\n        this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft + eventDelta / 4;\n    },\n    // 初始化数据，页面刷新时，滚动条滚动到对应位置\n    initElMenuOffsetLeft() {\n      this.$nextTick(() => {\n        let els = document.querySelector('.el-menu.el-menu--horizontal li.is-active');\n        if (!els) return false;\n        this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft = els.offsetLeft;\n      });\n    },\n    // 路由过滤递归函数\n    filterRoutesFun(arr) {\n      return arr\n        .filter((item) => !item.isHide)\n        .map((item) => {\n          item = Object.assign({}, item);\n          if (item.children) item.children = this.filterRoutesFun(item.children);\n          return item;\n        });\n    },\n    // 传送当前子级数据到菜单中\n    setSendClassicChildren(path) {\n      const currentPathSplit = path.split('/');\n      let currentData = {};\n      this.filterRoutesFun(this.$store.state.routesList.routesList).map((v, k) => {\n        if (v.path === `/${currentPathSplit[1]}`) {\n          v['k'] = k;\n          currentData['item'] = [{ ...v }];\n          currentData['children'] = [{ ...v }];\n          if (v.children) currentData['children'] = v.children;\n        }\n      });\n      return currentData;\n    },\n    // 菜单激活回调\n    onHorizontalSelect(path) {\n      this.bus.$emit('setSendClassicChildren', this.setSendClassicChildren(path));\n    },\n    // 设置页面当前路由高亮\n    setCurrentRouterHighlight(path) {\n      const currentPathSplit = path.split('/');\n      if (this.$store.state.themeConfig.themeConfig.layout === 'classic') {\n        this.defaultActive = `/${currentPathSplit[1]}`;\n      } else {\n        this.defaultActive = path;\n      }\n    },\n  },\n  watch: {\n    // 监听路由的变化\n    $route: {\n      handler(to) {\n        this.setCurrentRouterHighlight(to.path);\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .el-scrollbar__bar.is-horizontal {\n  height: 0;\n}\n.el-menu-horizontal-warp {\n  flex: 1;\n  overflow: hidden;\n  margin-right: 30px;\n  ::v-deep .el-scrollbar__bar.is-vertical {\n    display: none;\n  }\n  ::v-deep .el-scrollbar__wrap {\n    overflow-y: hidden !important;\n  }\n  ::v-deepa {\n    width: 100%;\n  }\n  .el-menu.el-menu--horizontal {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n  }\n}\n</style>\n"],"mappings":";;;;AA2CA,OAAAA,OAAA;AACA,SAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAH,OAAA,EAAAA;EAAA;EACAI,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,WAAAA,SAAA;QAAA;MAAA;IACA;EACA;EACAC,QAAA,EAAAC,aAAA,KACAT,QAAA,yBACA;EACAU,IAAA,WAAAA,KAAA;IACA;MACAC,aAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,oBAAA;IACA,KAAAC,yBAAA,MAAAC,MAAA,CAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACAC,wBAAA,WAAAA,yBAAAC,CAAA;MACA,IAAAC,UAAA,GAAAD,CAAA,CAAAE,UAAA,KAAAF,CAAA,CAAAG,MAAA;MACA,KAAAC,KAAA,CAAAC,yBAAA,CAAAD,KAAA,CAAAE,IAAA,CAAAC,UAAA,GACA,KAAAH,KAAA,CAAAC,yBAAA,CAAAD,KAAA,CAAAE,IAAA,CAAAC,UAAA,GAAAN,UAAA;IACA;IACA;IACAP,oBAAA,WAAAA,qBAAA;MAAA,IAAAc,KAAA;MACA,KAAAC,SAAA;QACA,IAAAC,GAAA,GAAAC,QAAA,CAAAC,aAAA;QACA,KAAAF,GAAA;QACAF,KAAA,CAAAJ,KAAA,CAAAC,yBAAA,CAAAD,KAAA,CAAAE,IAAA,CAAAC,UAAA,GAAAG,GAAA,CAAAG,UAAA;MACA;IACA;IACA;IACAC,eAAA,WAAAA,gBAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,OAAAD,GAAA,CACAE,MAAA,WAAAC,IAAA;QAAA,QAAAA,IAAA,CAAAC,MAAA;MAAA,GACAC,GAAA,WAAAF,IAAA;QACAA,IAAA,GAAAG,MAAA,CAAAC,MAAA,KAAAJ,IAAA;QACA,IAAAA,IAAA,CAAAK,QAAA,EAAAL,IAAA,CAAAK,QAAA,GAAAP,MAAA,CAAAF,eAAA,CAAAI,IAAA,CAAAK,QAAA;QACA,OAAAL,IAAA;MACA;IACA;IACA;IACAM,sBAAA,WAAAA,uBAAA3B,IAAA;MACA,IAAA4B,gBAAA,GAAA5B,IAAA,CAAA6B,KAAA;MACA,IAAAC,WAAA;MACA,KAAAb,eAAA,MAAAc,MAAA,CAAAC,KAAA,CAAAC,UAAA,CAAAA,UAAA,EAAAV,GAAA,WAAAW,CAAA,EAAAC,CAAA;QACA,IAAAD,CAAA,CAAAlC,IAAA,SAAAoC,MAAA,CAAAR,gBAAA;UACAM,CAAA,QAAAC,CAAA;UACAL,WAAA,YAAArC,aAAA,KAAAyC,CAAA;UACAJ,WAAA,gBAAArC,aAAA,KAAAyC,CAAA;UACA,IAAAA,CAAA,CAAAR,QAAA,EAAAI,WAAA,eAAAI,CAAA,CAAAR,QAAA;QACA;MACA;MACA,OAAAI,WAAA;IACA;IACA;IACAO,kBAAA,WAAAA,mBAAArC,IAAA;MACA,KAAAsC,GAAA,CAAAC,KAAA,gCAAAZ,sBAAA,CAAA3B,IAAA;IACA;IACA;IACAF,yBAAA,WAAAA,0BAAAE,IAAA;MACA,IAAA4B,gBAAA,GAAA5B,IAAA,CAAA6B,KAAA;MACA,SAAAE,MAAA,CAAAC,KAAA,CAAAQ,WAAA,CAAAA,WAAA,CAAAC,MAAA;QACA,KAAA9C,aAAA,OAAAyC,MAAA,CAAAR,gBAAA;MACA;QACA,KAAAjC,aAAA,GAAAK,IAAA;MACA;IACA;EACA;EACA0C,KAAA;IACA;IACA3C,MAAA;MACA4C,OAAA,WAAAA,QAAAC,EAAA;QACA,KAAA9C,yBAAA,CAAA8C,EAAA,CAAA5C,IAAA;MACA;MACA6C,IAAA;IACA;EACA;AACA","ignoreList":[]}]}