{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/directive/module/draggable.js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/directive/module/draggable.js","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCB7IG9uIH0gZnJvbSAnQC9saWJzL3Rvb2xzJzsKZXhwb3J0IGRlZmF1bHQgewogIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgIHZhciB0cmlnZ2VyRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihiaW5kaW5nLnZhbHVlLnRyaWdnZXIpOwogICAgdHJpZ2dlckRvbS5zdHlsZS5jdXJzb3IgPSAnbW92ZSc7CiAgICB2YXIgYm9keURvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmluZGluZy52YWx1ZS5ib2R5KTsKICAgIHZhciBwYWdlWCA9IDA7CiAgICB2YXIgcGFnZVkgPSAwOwogICAgdmFyIHRyYW5zZm9ybVggPSAwOwogICAgdmFyIHRyYW5zZm9ybVkgPSAwOwogICAgdmFyIGNhbk1vdmUgPSBmYWxzZTsKICAgIHZhciBoYW5kbGVNb3VzZWRvd24gPSBmdW5jdGlvbiBoYW5kbGVNb3VzZWRvd24oZSkgewogICAgICB2YXIgdHJhbnNmb3JtID0gL1woLipcKS8uZXhlYyhib2R5RG9tLnN0eWxlLnRyYW5zZm9ybSk7CiAgICAgIGlmICh0cmFuc2Zvcm0pIHsKICAgICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm1bMF0uc2xpY2UoMSwgdHJhbnNmb3JtWzBdLmxlbmd0aCAtIDEpOwogICAgICAgIHZhciBzcGxpdHh5ID0gdHJhbnNmb3JtLnNwbGl0KCdweCwgJyk7CiAgICAgICAgdHJhbnNmb3JtWCA9IHBhcnNlRmxvYXQoc3BsaXR4eVswXSk7CiAgICAgICAgdHJhbnNmb3JtWSA9IHBhcnNlRmxvYXQoc3BsaXR4eVsxXS5zcGxpdCgncHgnKVswXSk7CiAgICAgIH0KICAgICAgcGFnZVggPSBlLnBhZ2VYOwogICAgICBwYWdlWSA9IGUucGFnZVk7CiAgICAgIGNhbk1vdmUgPSB0cnVlOwogICAgfTsKICAgIHZhciBoYW5kbGVNb3VzZW1vdmUgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZW1vdmUoZSkgewogICAgICB2YXIgeE9mZnNldCA9IGUucGFnZVggLSBwYWdlWCArIHRyYW5zZm9ybVg7CiAgICAgIHZhciB5T2Zmc2V0ID0gZS5wYWdlWSAtIHBhZ2VZICsgdHJhbnNmb3JtWTsKICAgICAgaWYgKGNhbk1vdmUpIGJvZHlEb20uc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgiLmNvbmNhdCh4T2Zmc2V0LCAicHgsICIpLmNvbmNhdCh5T2Zmc2V0LCAicHgpIik7CiAgICB9OwogICAgdmFyIGhhbmRsZU1vdXNldXAgPSBmdW5jdGlvbiBoYW5kbGVNb3VzZXVwKGUpIHsKICAgICAgY2FuTW92ZSA9IGZhbHNlOwogICAgfTsKICAgIG9uKHRyaWdnZXJEb20sICdtb3VzZWRvd24nLCBoYW5kbGVNb3VzZWRvd24pOwogICAgb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZW1vdmUpOwogICAgb24oZG9jdW1lbnQsICdtb3VzZXVwJywgaGFuZGxlTW91c2V1cCk7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHsKICAgIGlmICghYmluZGluZy52YWx1ZS5yZWNvdmVyKSByZXR1cm47CiAgICB2YXIgYm9keURvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmluZGluZy52YWx1ZS5ib2R5KTsKICAgIGJvZHlEb20uc3R5bGUudHJhbnNmb3JtID0gJyc7CiAgfQp9Ow=="},{"version":3,"names":["on","inserted","el","binding","vnode","triggerDom","document","querySelector","value","trigger","style","cursor","bodyDom","body","pageX","pageY","transformX","transformY","canMove","handleMousedown","e","transform","exec","slice","length","splitxy","split","parseFloat","handleMousemove","xOffset","yOffset","concat","handleMouseup","update","recover"],"sources":["/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/directive/module/draggable.js"],"sourcesContent":["import { on } from '@/libs/tools';\nexport default {\n  inserted: (el, binding, vnode) => {\n    let triggerDom = document.querySelector(binding.value.trigger);\n    triggerDom.style.cursor = 'move';\n    let bodyDom = document.querySelector(binding.value.body);\n    let pageX = 0;\n    let pageY = 0;\n    let transformX = 0;\n    let transformY = 0;\n    let canMove = false;\n    const handleMousedown = (e) => {\n      let transform = /\\(.*\\)/.exec(bodyDom.style.transform);\n      if (transform) {\n        transform = transform[0].slice(1, transform[0].length - 1);\n        let splitxy = transform.split('px, ');\n        transformX = parseFloat(splitxy[0]);\n        transformY = parseFloat(splitxy[1].split('px')[0]);\n      }\n      pageX = e.pageX;\n      pageY = e.pageY;\n      canMove = true;\n    };\n    const handleMousemove = (e) => {\n      let xOffset = e.pageX - pageX + transformX;\n      let yOffset = e.pageY - pageY + transformY;\n      if (canMove) bodyDom.style.transform = `translate(${xOffset}px, ${yOffset}px)`;\n    };\n    const handleMouseup = (e) => {\n      canMove = false;\n    };\n    on(triggerDom, 'mousedown', handleMousedown);\n    on(document, 'mousemove', handleMousemove);\n    on(document, 'mouseup', handleMouseup);\n  },\n  update: (el, binding, vnode) => {\n    if (!binding.value.recover) return;\n    let bodyDom = document.querySelector(binding.value.body);\n    bodyDom.style.transform = '';\n  },\n};\n"],"mappings":";;;AAAA,SAASA,EAAE,QAAQ,cAAc;AACjC,eAAe;EACbC,QAAQ,EAAE,SAAVA,QAAQA,CAAGC,EAAE,EAAEC,OAAO,EAAEC,KAAK,EAAK;IAChC,IAAIC,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAACJ,OAAO,CAACK,KAAK,CAACC,OAAO,CAAC;IAC9DJ,UAAU,CAACK,KAAK,CAACC,MAAM,GAAG,MAAM;IAChC,IAAIC,OAAO,GAAGN,QAAQ,CAACC,aAAa,CAACJ,OAAO,CAACK,KAAK,CAACK,IAAI,CAAC;IACxD,IAAIC,KAAK,GAAG,CAAC;IACb,IAAIC,KAAK,GAAG,CAAC;IACb,IAAIC,UAAU,GAAG,CAAC;IAClB,IAAIC,UAAU,GAAG,CAAC;IAClB,IAAIC,OAAO,GAAG,KAAK;IACnB,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,CAAC,EAAK;MAC7B,IAAIC,SAAS,GAAG,QAAQ,CAACC,IAAI,CAACV,OAAO,CAACF,KAAK,CAACW,SAAS,CAAC;MACtD,IAAIA,SAAS,EAAE;QACbA,SAAS,GAAGA,SAAS,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,EAAEF,SAAS,CAAC,CAAC,CAAC,CAACG,MAAM,GAAG,CAAC,CAAC;QAC1D,IAAIC,OAAO,GAAGJ,SAAS,CAACK,KAAK,CAAC,MAAM,CAAC;QACrCV,UAAU,GAAGW,UAAU,CAACF,OAAO,CAAC,CAAC,CAAC,CAAC;QACnCR,UAAU,GAAGU,UAAU,CAACF,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;MACpD;MACAZ,KAAK,GAAGM,CAAC,CAACN,KAAK;MACfC,KAAK,GAAGK,CAAC,CAACL,KAAK;MACfG,OAAO,GAAG,IAAI;IAChB,CAAC;IACD,IAAMU,eAAe,GAAG,SAAlBA,eAAeA,CAAIR,CAAC,EAAK;MAC7B,IAAIS,OAAO,GAAGT,CAAC,CAACN,KAAK,GAAGA,KAAK,GAAGE,UAAU;MAC1C,IAAIc,OAAO,GAAGV,CAAC,CAACL,KAAK,GAAGA,KAAK,GAAGE,UAAU;MAC1C,IAAIC,OAAO,EAAEN,OAAO,CAACF,KAAK,CAACW,SAAS,gBAAAU,MAAA,CAAgBF,OAAO,UAAAE,MAAA,CAAOD,OAAO,QAAK;IAChF,CAAC;IACD,IAAME,aAAa,GAAG,SAAhBA,aAAaA,CAAIZ,CAAC,EAAK;MAC3BF,OAAO,GAAG,KAAK;IACjB,CAAC;IACDlB,EAAE,CAACK,UAAU,EAAE,WAAW,EAAEc,eAAe,CAAC;IAC5CnB,EAAE,CAACM,QAAQ,EAAE,WAAW,EAAEsB,eAAe,CAAC;IAC1C5B,EAAE,CAACM,QAAQ,EAAE,SAAS,EAAE0B,aAAa,CAAC;EACxC,CAAC;EACDC,MAAM,EAAE,SAARA,MAAMA,CAAG/B,EAAE,EAAEC,OAAO,EAAEC,KAAK,EAAK;IAC9B,IAAI,CAACD,OAAO,CAACK,KAAK,CAAC0B,OAAO,EAAE;IAC5B,IAAItB,OAAO,GAAGN,QAAQ,CAACC,aAAa,CAACJ,OAAO,CAACK,KAAK,CAACK,IAAI,CAAC;IACxDD,OAAO,CAACF,KAAK,CAACW,SAAS,GAAG,EAAE;EAC9B;AACF,CAAC","ignoreList":[]}]}