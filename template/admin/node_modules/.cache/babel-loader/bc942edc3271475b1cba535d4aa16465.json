{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/onlineUpgrade/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/onlineUpgrade/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbmllcWlhbnFpYW4vRG93bmxvYWRzL3hpbnhpYW5nbXUvQ1JNRUIvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLnRvLWpzb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKaW1wb3J0IHsgdXBncmFkZUxpc3RBcGksIHVwZ3JhZGVQcm9ncmVzc0FwaSwgdXBncmFkZUFncmVlbWVudEFwaSwgdXBncmFkZVN0YXR1c0FwaSwgdXBncmFkZUxvZ0xpc3RBcGksIHVwZ3JhZGVhYmxlTGlzdEFwaSwgZG93bmxvYWRBcGkgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBBY2NvdW50TG9nb3V0IH0gZnJvbSAnQC9hcGkvYWNjb3VudCc7CmltcG9ydCB7IGdldENvb2tpZXMsIHJlbW92ZUNvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc3lzdGVtVXBncmFkZWNsaWVudCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFBhbmVsOiAnMScsCiAgICAgIGN1cnJlbnRUYWI6ICcxJywKICAgICAgZGVjbGFyYXRpb246IGZhbHNlLAogICAgICB1cGRhdGVNb2RhbDogZmFsc2UsCiAgICAgIG1vZGFsX2xvYWRpbmc6IGZhbHNlLAogICAgICBwZXJjZW50OiAwLAogICAgICBwYXJhbXM6IFtdLAogICAgICBhcnI6IFtdLAogICAgICBkeW5hbWljOiBmYWxzZSwKICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgdmVyc2lvbjogJycsCiAgICAgIGZvcmNlVmVyc2lvbjogJycsCiAgICAgIGhlYWRlckxpc3Q6IFt7CiAgICAgICAgbGFiZWw6ICfns7vnu5/ljYfnuqcnLAogICAgICAgIHZhbHVlOiAxCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+WNh+e6p+iusOW9lScsCiAgICAgICAgdmFsdWU6IDIKICAgICAgfV0sCiAgICAgIHVwZ3JhZGVMaXN0OiBbXSwKICAgICAgdXBncmFkZUxvZ0xpc3Q6IFtdLAogICAgICB1cGdyYWRlYWJsZUxpc3Q6IFtdLAogICAgICB1cGdyYWRlUHJvZ3Jlc3M6IHsKICAgICAgICBzcGVlZDogMAogICAgICB9LAogICAgICB1cGdyYWRlQWdyZWVtZW50OiBbXSwKICAgICAgdXBncmFkZVN0YXR1czoge30sCiAgICAgIGRvd25sb2FkU3RhdHVzOiBudWxsLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogMTUsCiAgICAgIC8vIOWumuaXtuWZqAogICAgICB0aW1lcjogbnVsbCwKICAgICAgcGFyYW1zX2tleTogdW5kZWZpbmVkLAogICAgICBuZXdLZXk6IG51bGwsCiAgICAgIHNlcnZpb25TdGF0dXM6IGZhbHNlLAogICAgICBjb3VudDogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyB0aGlzLmdldFVwZ3JhZGVMaXN0KCk7CiAgICAvLyB0aGlzLmdldFVwZ3JhZGVMb2dMaXN0KCk7CiAgICAvLyB0aGlzLmdldHVwZ3JhZGVhYmxlTGlzdCgpOwogICAgLy8gaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtcykgewogICAgLy8gICB0aGlzLmdldFVwZ3JhZGVBZ3JlZW1lbnQoKTsKICAgIC8vIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX3RoaXMuZ2V0VXBncmFkZVN0YXR1cygpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFVwZ3JhZGVMaXN0KCk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0dXBncmFkZWFibGVMaXN0KCk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuc3RhdGUudXBncmFkZS50b2dnbGVTdGF0dXMpIHsKICAgICAgICAgICAgICBfdGhpcy5zZXJ2aW9uU3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICBfdGhpcy5nZXRVcGdyYWRlQWdyZWVtZW50KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gdGhpcy5jb21wYXJlKCk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHdhdGNoOiB7CiAgICAndXBncmFkZVByb2dyZXNzLnNwZWVkJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gJzEwMC4wJykgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8vICd0aGlzLmRvd25sb2FkU3RhdHVzJzogewogICAgLy8gICBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAvLyAgICAgaWYgKG5ld1ZhbCA9ICcyMDAnKSB7CiAgICAvLyAgICAgICB0aGlzLnVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAvLyAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVhY2hCb3R0b206IGZ1bmN0aW9uIGhhbmRsZVJlYWNoQm90dG9tKCkgewogICAgICBpZiAodGhpcy5jb3VudCA9PT0gdGhpcy51cGdyYWRlTG9nTGlzdC5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aaguaXoOabtOWkmuWNh+e6p+iusOW9lScpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0VXBncmFkZUxvZ0xpc3QoKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHsKICAgICAgdGhpcy5wYWdlID0gMTsKICAgICAgaWYgKHRoaXMuY3VycmVudFRhYiA9PSAxKSB7CiAgICAgICAgdGhpcy5nZXR1cGdyYWRlYWJsZUxpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZ3JhZGVMb2dMaXN0ID0gW107CiAgICAgICAgdGhpcy5nZXRVcGdyYWRlTG9nTGlzdCgpOwogICAgICB9CiAgICB9LAogICAgLy8g5Y2H57qn5YiX6KGoCiAgICBnZXRVcGdyYWRlTGlzdDogZnVuY3Rpb24gZ2V0VXBncmFkZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGF0YSwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgcGFnZTogX3RoaXMyLnBhZ2UsCiAgICAgICAgICAgICAgICBsaW1pdDogX3RoaXMyLmxpbWl0CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHVwZ3JhZGVMaXN0QXBpKGRhdGEpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMyLnVwZ3JhZGVMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgICBfdGhpczIudXBncmFkZUxpc3QgPSByZXMuZGF0YS5saXN0OwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDljYfnuqforrDlvZUKICAgIGdldFVwZ3JhZGVMb2dMaXN0OiBmdW5jdGlvbiBnZXRVcGdyYWRlTG9nTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICBsaW1pdDogdGhpcy5saW1pdAogICAgICB9OwogICAgICB1cGdyYWRlTG9nTGlzdEFwaShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMudXBncmFkZUxvZ0xpc3QgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMy51cGdyYWRlTG9nTGlzdCksIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5saXN0KSk7CiAgICAgICAgX3RoaXMzLmNvdW50ID0gcmVzLmRhdGEuY291bnQ7CiAgICAgICAgaWYgKF90aGlzMy51cGdyYWRlTG9nTGlzdC5sZW5ndGggPCBfdGhpczMuY291bnQpIHsKICAgICAgICAgIF90aGlzMy5wYWdlKys7CiAgICAgICAgfQogICAgICAgIGlmIChfdGhpczMuY291bnQgPT09IF90aGlzMy51cGdyYWRlTG9nTGlzdC5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS53YXJuaW5nKCfmmoLml6Dmm7TlpJrljYfnuqforrDlvZUnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLmdldFVwZ3JhZGVMb2dMaXN0KCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj6/ljYfnuqfliJfooagKICAgIGdldHVwZ3JhZGVhYmxlTGlzdDogZnVuY3Rpb24gZ2V0dXBncmFkZWFibGVMaXN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlcywgZmlyc3RWZXIsIGRhdGE7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdXBncmFkZWFibGVMaXN0QXBpKCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfdGhpczQudXBncmFkZWFibGVMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgZmlyc3RWZXIgPSByZXMuZGF0YVswXTsKICAgICAgICAgICAgICBpZiAoX3RoaXM0LiRzdG9yZS5zdGF0ZS51cGdyYWRlLnRvZ2dsZVN0YXR1cyB8fCBfdGhpczQudXBncmFkZVN0YXR1cy5mb3JjZV9yZW1pbmRlcikgewogICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZm9yY2VfcmVtaW5kZXIgPT09IDE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzNC5uZXdLZXkgPSBkYXRhLnBhY2thZ2Vfa2V5OwogICAgICAgICAgICAgICAgX3RoaXM0LmZvcmNlVmVyc2lvbiA9IGRhdGEuZmlyc3RfdmVyc2lvbiArICcuJyArIGRhdGEuc2Vjb25kX3ZlcnNpb24gKyAnLicgKyBkYXRhLnRoaXJkX3ZlcnNpb24gKyAnLicgKyBkYXRhLmZvdXJ0aF92ZXJzaW9uOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczQucGFyYW1zX2tleSA9IF90aGlzNC51cGdyYWRlYWJsZUxpc3RbMF0ucGFja2FnZV9rZXk7CiAgICAgICAgICAgICAgICBfdGhpczQuZm9yY2VWZXJzaW9uID0gZmlyc3RWZXIuZmlyc3RfdmVyc2lvbiArICcuJyArIGZpcnN0VmVyLnNlY29uZF92ZXJzaW9uICsgJy4nICsgZmlyc3RWZXIudGhpcmRfdmVyc2lvbiArICcuJyArIGZpcnN0VmVyLmZvdXJ0aF92ZXJzaW9uOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8gYXJyLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAvLyAgIHRoaXMuJHNldCgKICAgICAgICAgICAgICAvLyAgICAgaXRlbSwKICAgICAgICAgICAgICAvLyAgICAgJ3NlcnZpb24nLAogICAgICAgICAgICAgIC8vICAgICBpdGVtLmZpcnN0X3ZlcnNpb24gKyAnLicgKyBpdGVtLnNlY29uZF92ZXJzaW9uICsgJy4nICsgaXRlbS50aGlyZF92ZXJzaW9uICsgJy4nICsgaXRlbS5mb3VydGhfdmVyc2lvbiwKICAgICAgICAgICAgICAvLyAgICk7CiAgICAgICAgICAgICAgLy8gfSk7CgogICAgICAgICAgICAgIC8vIGxldCBkYXRhID0gW107CiAgICAgICAgICAgICAgLy8gYXJyLm1hcCgoZWxlKSA9PiB7CiAgICAgICAgICAgICAgLy8gICBkYXRhLnB1c2goZWxlLnNlcnZpb24pOwogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgIC8vIC8vIOeJiOacrOWPt+aOkuW6jwogICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHNvcnRWZXJzaW9uKGxpc3QpIHsKICAgICAgICAgICAgICAvLyAgIHJldHVybiBsaXN0LnNvcnQoKHZlcnNpb24xLCB2ZXJzaW9uMikgPT4gewogICAgICAgICAgICAgIC8vICAgICBjb25zdCBhcnIxID0gdmVyc2lvbjEuc3BsaXQoJy4nKS5tYXAoKGUpID0+IGUgKiAxKTsKICAgICAgICAgICAgICAvLyAgICAgY29uc3QgYXJyMiA9IHZlcnNpb24yLnNwbGl0KCcuJykubWFwKChlKSA9PiBlICogMSk7CiAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KGFycjEubGVuZ3RoLCBhcnIyLmxlbmd0aCk7CiAgICAgICAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAvLyAgICAgICBpZiAoKGFycjFbaV0gfHwgMCkgPiAoYXJyMltpXSB8fCAwKSkgcmV0dXJuIDE7CiAgICAgICAgICAgICAgLy8gICAgICAgaWYgKChhcnIxW2ldIHx8IDApIDwgKGFycjJbaV0gfHwgMCkpIHJldHVybiAtMTsKICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgIC8vICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAvLyAgIH0pOwogICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAvLyB0aGlzLmZvcmNlVmVyc2lvbiA9IGRhdGFbMF07CiAgICAgICAgICAgICAgLy8gdGhpcy5wYXJhbXMubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgLy8gICBpZiAoaXRlbS5zZXJ2aW9uID09IGRhdGFbZGF0YS5sZW5ndGggLSAxXSkgewogICAgICAgICAgICAgIC8vICAgICB0aGlzLm5ld0tleSA9IGl0ZW0ucGFja2FnZV9rZXk7CiAgICAgICAgICAgICAgLy8gICB9CiAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS4i+i9veWNh+e6p+WMhQogICAgZ2V0ZG93bmxvYWQ6IGZ1bmN0aW9uIGdldGRvd25sb2FkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVwZ3JhZGUudG9nZ2xlU3RhdHVzIHx8IHRoaXMudXBncmFkZVN0YXR1cy5mb3JjZV9yZW1pbmRlcikgewogICAgICAgIHRoaXMucGFyYW1zX2tleSA9IHRoaXMubmV3S2V5OwogICAgICB9CiAgICAgIGRvd25sb2FkQXBpKHRoaXMucGFyYW1zX2tleSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gdGhpcy5kb3dubG9hZFN0YXR1cyA9IHJlcy5zdGF0dXM7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBpZiAoX3RoaXM1LnVwZ3JhZGVQcm9ncmVzcy5zcGVlZCAhPT0gJzEwMC4wJykgewogICAgICAgICAgICBfdGhpczUudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczUuZ2V0VXBncmFkZVByb2dyZXNzKCk7CiAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpczUudGltZXIpOwogICAgICAgICAgICBfdGhpczUudXBkYXRlTW9kYWwgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM1LnVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpczUudGltZXIpOwogICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcign5LiL6L2957uI5q2iJyk7CiAgICAgICAgX3RoaXM1LnVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkRmlsZTogZnVuY3Rpb24gZG93bmxvYWRGaWxlKHVybCkgewogICAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTsKICAgIH0sCiAgICAvLyDljYfnuqfov5vluqYKICAgIGdldFVwZ3JhZGVQcm9ncmVzczogZnVuY3Rpb24gZ2V0VXBncmFkZVByb2dyZXNzKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdXBncmFkZVByb2dyZXNzQXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM2LnVwZ3JhZGVQcm9ncmVzcyA9IHJlcy5kYXRhOwogICAgICAgIF90aGlzNi5kb3dubG9hZFN0YXR1cyA9IHJlcy5zdGF0dXM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjbGVhckludGVydmFsKF90aGlzNi50aW1lcik7CiAgICAgICAgX3RoaXM2LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDljYfnuqfljY/orq4KICAgIGdldFVwZ3JhZGVBZ3JlZW1lbnQ6IGZ1bmN0aW9uIGdldFVwZ3JhZGVBZ3JlZW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB1cGdyYWRlQWdyZWVtZW50QXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM3LnVwZ3JhZGVBZ3JlZW1lbnQgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczcuZGVjbGFyYXRpb24gPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM3LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDljYfnuqfnirbmgIEKICAgIGdldFVwZ3JhZGVTdGF0dXM6IGZ1bmN0aW9uIGdldFVwZ3JhZGVTdGF0dXMoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICB1cGdyYWRlU3RhdHVzQXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM4LnVwZ3JhZGVTdGF0dXMgPSByZXMuZGF0YTsKICAgICAgICBpZiAocmVzLmRhdGEuZm9yY2VfcmVtaW5kZXIpIHsKICAgICAgICAgIF90aGlzOC5kZWNsYXJhdGlvbiA9IHRydWU7CiAgICAgICAgICBfdGhpczguZ2V0VXBncmFkZUFncmVlbWVudCgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56uL5Y2z5pu05pawCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShpdGVtKSB7CiAgICAgIHRoaXMuZGVjbGFyYXRpb24gPSB0cnVlOwogICAgICBpZiAoaXRlbSAmJiB0aGlzLiRzdG9yZS5zdGF0ZS51cGdyYWRlLnRvZ2dsZVN0YXR1cyA9PSBmYWxzZSkgewogICAgICAgIHRoaXMucGFyYW1zX2tleSA9IGl0ZW0ucGFyYW1zX2tleTsKICAgICAgfQogICAgICAvLyB0aGlzLnZlcnNpb24gPSBpdGVtLmZpcnN0X3ZlcnNpb24gKyAiLiIgKyBpdGVtLnNlY29uZF92ZXJzaW9uICsgIi4iICsgaXRlbS50aGlyZF92ZXJzaW9uICsgIi4iICsgaXRlbS5mb3VydGhfdmVyc2lvbjsKICAgICAgdGhpcy5nZXRVcGdyYWRlQWdyZWVtZW50KCk7CiAgICB9LAogICAgLy8g5q+U6L6D55u45ZCM54mI5pys5Y+3CiAgICBjb21wYXJlOiBmdW5jdGlvbiBjb21wYXJlKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdGhpcy51cGdyYWRlTGlzdC5tYXAoZnVuY3Rpb24gKGVsZSwgaSkgewogICAgICAgIF90aGlzOS4kc2V0KF90aGlzOS51cGdyYWRlTGlzdFtpXSwgJ21uJywgZWxlLmZpcnN0X3ZlcnNpb24gKyBlbGUuc2Vjb25kX3ZlcnNpb24gKyBlbGUudGhpcmRfdmVyc2lvbiArIGVsZS5mb3VydGhfdmVyc2lvbik7CiAgICAgICAgX3RoaXM5LnVwZ3JhZGVhYmxlTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgICAgIF90aGlzOS4kc2V0KF90aGlzOS51cGdyYWRlYWJsZUxpc3RbaV0sICdtbicsIGl0ZW0uZmlyc3RfdmVyc2lvbiArIGl0ZW0uc2Vjb25kX3ZlcnNpb24gKyBpdGVtLnRoaXJkX3ZlcnNpb24gKyBpdGVtLmZvdXJ0aF92ZXJzaW9uKTsKICAgICAgICB9KTsKICAgICAgICBpZiAoX3RoaXM5LnVwZ3JhZGVMaXN0W2ldLm1uID09IF90aGlzOS51cGdyYWRlYWJsZUxpc3RbaV0ubW4pIHsKICAgICAgICAgIF90aGlzOS4kc2V0KF90aGlzOS51cGdyYWRlTGlzdFtpXSwgJ2luZGV4bicsIHRydWUpOwogICAgICAgICAgX3RoaXM5LiRzZXQoX3RoaXM5LnVwZ3JhZGVMaXN0W2ldLCAncGFyYW1zX2tleScsIF90aGlzOS51cGdyYWRlYWJsZUxpc3RbaV0ucGFja2FnZV9rZXkpOwogICAgICAgICAgX3RoaXM5LiRzZXQoX3RoaXM5LnVwZ3JhZGVhYmxlTGlzdFtpXSwgJ2luZGV4bicsIHRydWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5ZCM5oSPCiAgICBhZ3JlZTogZnVuY3Rpb24gYWdyZWUoKSB7CiAgICAgIHRoaXMuZGVjbGFyYXRpb24gPSBmYWxzZTsKICAgICAgdGhpcy51cGRhdGVNb2RhbCA9IHRydWU7CiAgICAgIHRoaXMuZ2V0ZG93bmxvYWQoKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGdyYWRlL1RPR0dMRV9TVEFUVVMiLCBmYWxzZSk7CiAgICB9LAogICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgIHRoaXMuZGVjbGFyYXRpb24gPSBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGdyYWRlL1RPR0dMRV9TVEFUVVMiLCBmYWxzZSk7CiAgICB9LAogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgICB0aGlzLnVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAgIC8vIHRoaXMuZ2V0VXBncmFkZUxpc3QoKTsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgQWNjb3VudExvZ291dCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTAuJG1lc3NhZ2Uuc3VjY2Vzcygn5oKo5bey5oiQ5Yqf6YCA5Ye6Jyk7CiAgICAgICAgX3RoaXMxMC4kcm91dGVyLnJlcGxhY2UoX3RoaXMxMC4kcm91dGVQcm9TdHIgKyAnL2xvZ2luJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgcmVtb3ZlQ29va2llcygndG9rZW4nKTsKICAgICAgICByZW1vdmVDb29raWVzKCdleHBpcmVzX3RpbWUnKTsKICAgICAgICByZW1vdmVDb29raWVzKCd1dWlkJyk7CiAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHt9KTsKICAgIH0sCiAgICBiYWNrU3VyZTogZnVuY3Rpb24gYmFja1N1cmUoKSB7CiAgICAgIHRoaXMudXBkYXRlTW9kYWwgPSBmYWxzZTsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy51cGRhdGVNb2RhbCA9IGZhbHNlOwogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgfSwKICAgIC8vIOWvvOWHuuWkh+S7veaWh+S7tgogICAgZXhwb3J0czogZnVuY3Rpb24gZXhwb3J0cyhpdGVtKSB7CiAgICAgIHZhciBuYW1lID0gaXRlbS50aXRsZSArICd2JyArIGl0ZW0uZmlyc3RfdmVyc2lvbiArICcuJyArIGl0ZW0uc2Vjb25kX3ZlcnNpb24gKyAnLicgKyBpdGVtLnRoaXJkX3ZlcnNpb24gKyAnLicgKyBpdGVtLmZvdXJ0aF92ZXJzaW9uICsgJy4nICsgaXRlbS51cGdyYWRlX3RpbWU7CiAgICAgIHZhciBocmVmID0gU2V0dGluZy5hcGlCYXNlVVJMICsgIi9zeXN0ZW0vdXBncmFkZV9leHBvcnQvIi5jb25jYXQoaXRlbS5pZCwgIi9maWxlIik7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHVybDogaHJlZiwKICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaS16YXRpb24nOiAnQmVhcmVyICcgKyBnZXRDb29raWVzKCd0b2tlbicpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtyZXMuZGF0YV0sIHsKICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07Y2hhcnNldD1VVEYtOCcKICAgICAgICB9KTsKICAgICAgICB2YXIgZG93bmxvYWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIC8vIOS4i+i9veeahOaWh+S7tuWQjQogICAgICAgIGRvd25sb2FkRWxlbWVudC5kb3dubG9hZCA9ICIiLmNvbmNhdChuYW1lLCAiLnppcCIpOwogICAgICAgIC8vIOWIm+W7uuS4i+i9veeahOmTvuaOpQogICAgICAgIGRvd25sb2FkRWxlbWVudC5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgLy8g54K55Ye75LiL6L29CiAgICAgICAgZG93bmxvYWRFbGVtZW50LmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb3dubG9hZEVsZW1lbnQpOwogICAgICAgIC8vIOS4i+i9veWujOaIkOenu+mZpOWFg+e0oAogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG93bmxvYWRFbGVtZW50KTsKICAgICAgICAvLyDph4rmlL7mjolibG9i5a+56LGhCiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoZG93bmxvYWRFbGVtZW50LmhyZWYpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEb3dubG9hZDogZnVuY3Rpb24gaGFuZGxlRG93bmxvYWQoaXRlbSkgewogICAgICB2YXIgbmFtZSA9IGl0ZW0udGl0bGUgKyAndicgKyBpdGVtLmZpcnN0X3ZlcnNpb24gKyAnLicgKyBpdGVtLnNlY29uZF92ZXJzaW9uICsgJy4nICsgaXRlbS50aGlyZF92ZXJzaW9uICsgJy4nICsgaXRlbS5mb3VydGhfdmVyc2lvbiArICcuJyArIGl0ZW0udXBncmFkZV90aW1lOwogICAgICB2YXIgaHJlZiA9IFNldHRpbmcuYXBpQmFzZVVSTCArICIvc3lzdGVtL3VwZ3JhZGVfZXhwb3J0LyIuY29uY2F0KGl0ZW0uaWQsICIvZGF0YSIpOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICB1cmw6IGhyZWYsCiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcmktemF0aW9uJzogJ0JlYXJlciAnICsgZ2V0Q29va2llcygndG9rZW4nKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbcmVzLmRhdGFdLCB7CiAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGRvd25sb2FkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAvLyDkuIvovb3nmoTmlofku7blkI0KICAgICAgICBkb3dubG9hZEVsZW1lbnQuZG93bmxvYWQgPSAiIi5jb25jYXQobmFtZSwgIi5neiIpOwogICAgICAgIC8vIOWIm+W7uuS4i+i9veeahOmTvuaOpQogICAgICAgIGRvd25sb2FkRWxlbWVudC5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgLy8g54K55Ye75LiL6L29CiAgICAgICAgZG93bmxvYWRFbGVtZW50LmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb3dubG9hZEVsZW1lbnQpOwogICAgICAgIC8vIOS4i+i9veWujOaIkOenu+mZpOWFg+e0oAogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG93bmxvYWRFbGVtZW50KTsKICAgICAgICAvLyDph4rmlL7mjolibG9i5a+56LGhCiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoZG93bmxvYWRFbGVtZW50LmhyZWYpOwogICAgICB9KTsKICAgIH0sCiAgICBxdWVhcnlFdmVhcjogZnVuY3Rpb24gcXVlYXJ5RXZlYXIoaWQsIGluZGV4KSB7CiAgICAgIHRoaXMuZHluYW1pYyA9IGluZGV4OwogICAgfQogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAvL+mUgOavgQogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICB9Cn07"},null]}