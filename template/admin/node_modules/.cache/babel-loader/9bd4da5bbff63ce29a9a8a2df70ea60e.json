{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/directive/module/permission.js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/directive/module/permission.js","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgTG9jYWwgfSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UuanMnOwoKLyoqCiAqIOWIpOaWreS8oOWFpeeahCBrZXkg5piv5ZCm5Zyo5pWw57uEIGFyciDkuK3lrZjlnKgKICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIOW+heWIpOaWreeahOWtl+espuS4sgogKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSDov5Tlm57luIPlsJTlgLzvvIzooajnpLrmmK/lkKbmnInmnYPpmZAKICovCmZ1bmN0aW9uIGNoZWNrQXJyYXkoa2V5KSB7CiAgLy8gc2Vja2lsbCDnp5LmnYAgYmFyZ2FpbiDnoI3ku7cgY29tYmluYXRpb24g5ou85ZuiCiAgdmFyIGFyciA9IExvY2FsLmdldCgnUEVSTUlTU0lPTlMnKSB8fCBbJ3NlY2tpbGwnLCAnYmFyZ2FpbicsICdjb21iaW5hdGlvbiddOyAvLyDlrprkuYnkuIDkuKrmlbDnu4TvvIzljIXlkKvkuInnp43nsbvlnosKICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihrZXkpOyAvLyDojrflj5Yga2V5IOWcqOaVsOe7hOS4reeahOe0ouW8lQogIGlmIChpbmRleCA+IC0xKSB7CiAgICAvLyDlpoLmnpzntKLlvJXlpKfkuo4gLTHvvIzor7TmmI4ga2V5IOWtmOWcqOS6juaVsOe7hOS4rQogICAgcmV0dXJuIHRydWU7IC8vIOacieadg+mZkAogIH0gZWxzZSB7CiAgICByZXR1cm4gZmFsc2U7IC8vIOaXoOadg+mZkAogIH0KfQoKLyoqCiAqIEBkZXNjcmlwdGlvbiDkuIDkuKpWdWXmjIfku6TvvIznlKjkuo7mjqfliLbnu4Tku7bnmoTmmL7npLrlkozpmpDol48KICogQHBhcmFtIHtPYmplY3R9IGVsIC0g5oyH5Luk57uR5a6a55qERE9N5YWD57SgCiAqIEBwYXJhbSB7T2JqZWN0fSBiaW5kaW5nIC0g5oyH5Luk57uR5a6a55qE5a+56LGhCiAqLwp2YXIgcGVybWlzc2lvbiA9IHsKICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcpIHsKICAgIHZhciBwZXJtaXNzaW9uID0gYmluZGluZy52YWx1ZTsgLy8g6I635Y+W5YiwIHYtcGVybWlzc2lvbueahOWAvAogICAgaWYgKHBlcm1pc3Npb24pIHsKICAgICAgdmFyIGhhc1Blcm1pc3Npb24gPSBjaGVja0FycmF5KHBlcm1pc3Npb24pOyAvLyDosIPnlKhjaGVja0FycmF55Ye95pWw5Yik5pat5piv5ZCm5pyJ5p2D6ZmQCiAgICAgIGlmICghaGFzUGVybWlzc2lvbikgewogICAgICAgIC8vIOayoeacieadg+mZkCDnp7vpmaREb23lhYPntKAKICAgICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgICB9CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBwZXJtaXNzaW9uOw=="},{"version":3,"names":["Local","checkArray","key","arr","get","index","indexOf","permission","inserted","el","binding","value","hasPermission","parentNode","removeChild"],"sources":["/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/directive/module/permission.js"],"sourcesContent":["import { Local } from '@/utils/storage.js';\n\n/**\n * 判断传入的 key 是否在数组 arr 中存在\n * @param {string} key - 待判断的字符串\n * @returns {boolean} - 返回布尔值，表示是否有权限\n */\nfunction checkArray(key) {\n  // seckill 秒杀 bargain 砍价 combination 拼团\n  let arr = Local.get('PERMISSIONS') || ['seckill', 'bargain', 'combination']; // 定义一个数组，包含三种类型\n  let index = arr.indexOf(key); // 获取 key 在数组中的索引\n  if (index > -1) {\n    // 如果索引大于 -1，说明 key 存在于数组中\n    return true; // 有权限\n  } else {\n    return false; // 无权限\n  }\n}\n\n/**\n * @description 一个Vue指令，用于控制组件的显示和隐藏\n * @param {Object} el - 指令绑定的DOM元素\n * @param {Object} binding - 指令绑定的对象\n */\nconst permission = {\n  inserted: function (el, binding) {\n    let permission = binding.value; // 获取到 v-permission的值\n    if (permission) {\n      let hasPermission = checkArray(permission); // 调用checkArray函数判断是否有权限\n      if (!hasPermission) {\n        // 没有权限 移除Dom元素\n        el.parentNode && el.parentNode.removeChild(el);\n      }\n    }\n  },\n};\n\nexport default permission;\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,oBAAoB;;AAE1C;AACA;AACA;AACA;AACA;AACA,SAASC,UAAUA,CAACC,GAAG,EAAE;EACvB;EACA,IAAIC,GAAG,GAAGH,KAAK,CAACI,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;EAC7E,IAAIC,KAAK,GAAGF,GAAG,CAACG,OAAO,CAACJ,GAAG,CAAC,CAAC,CAAC;EAC9B,IAAIG,KAAK,GAAG,CAAC,CAAC,EAAE;IACd;IACA,OAAO,IAAI,CAAC,CAAC;EACf,CAAC,MAAM;IACL,OAAO,KAAK,CAAC,CAAC;EAChB;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAME,UAAU,GAAG;EACjBC,QAAQ,EAAE,SAAVA,QAAQA,CAAYC,EAAE,EAAEC,OAAO,EAAE;IAC/B,IAAIH,UAAU,GAAGG,OAAO,CAACC,KAAK,CAAC,CAAC;IAChC,IAAIJ,UAAU,EAAE;MACd,IAAIK,aAAa,GAAGX,UAAU,CAACM,UAAU,CAAC,CAAC,CAAC;MAC5C,IAAI,CAACK,aAAa,EAAE;QAClB;QACAH,EAAE,CAACI,UAAU,IAAIJ,EAAE,CAACI,UAAU,CAACC,WAAW,CAACL,EAAE,CAAC;MAChD;IACF;EACF;AACF,CAAC;AAED,eAAeF,UAAU","ignoreList":[]}]}