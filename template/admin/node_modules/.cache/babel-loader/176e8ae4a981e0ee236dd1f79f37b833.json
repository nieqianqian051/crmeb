{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/libs/request.js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/libs/request.js","mtime":1719473088000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gfCBDUk1FQiBbIENSTUVC6LWL6IO95byA5Y+R6ICF77yM5Yqp5Yqb5LyB5Lia5Y+R5bGVIF0KLy8gKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB8IENvcHlyaWdodCAoYykgMjAxNn4yMDIzIGh0dHBzOi8vd3d3LmNybWViLmNvbSBBbGwgcmlnaHRzIHJlc2VydmVkLgovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIHwgTGljZW5zZWQgQ1JNRULlubbkuI3mmK/oh6rnlLHova/ku7bvvIzmnKrnu4/orrjlj6/kuI3og73ljrvmjolDUk1FQuebuOWFs+eJiOadgwovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIHwgQXV0aG9yOiBDUk1FQiBUZWFtIDxhZG1pbkBjcm1lYi5jb20+Ci8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHsgZ2V0Q29va2llcywgcmVtb3ZlQ29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJzsKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgdGltZW91dDogNjAwMDAwIC8vIOivt+axgui2heaXtuaXtumXtAp9KTsKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsgLy8g5pC65bimY29va2llCgovLyDor7fmsYLmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGNvbnNvbGUubG9nKGNvbmZpZykKICBpZiAoY29uZmlnLmtlZnUpIHsKICAgIHZhciBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSS5yZXBsYWNlKC9hZG1pbmFwaS8sICdrZWZ1YXBpJyk7CiAgICBjb25maWcuYmFzZVVSTCA9IGJhc2VVcmw7CiAgfSBlbHNlIHsKICAgIGNvbmZpZy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSTsKICB9CiAgaWYgKGNvbmZpZy5maWxlKSB7CiAgICBjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7CiAgfQogIHZhciB0b2tlbiA9IGdldENvb2tpZXMoJ3Rva2VuJyk7CiAgLy8gY29uc3Qga2VmdVRva2VuID0gZ2V0Q29va2llcygna2VmdV90b2tlbicpOwogIC8vIGlmICh0b2tlbiB8fCBrZWZ1VG9rZW4pIHsKICAvLyAgIGNvbmZpZy5oZWFkZXJzWydtYWlqaVRva2VuJ10gPSBjb25maWcua2VmdSA/ICdCZWFyZXIgJyArIGtlZnVUb2tlbiA6ICdCZWFyZXIgJyArIHRva2VuOwogIC8vIH0KICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gY29uc29sZS5sb2coMTEsZXJyb3IpCiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8gcmVzcG9uc2UgaW50ZXJjZXB0b3IKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogIHZhciBjb2RlID0gcmVzcG9uc2UuZGF0YS5jb2RlIHx8IDIwMDsKICB2YXIgbXNnID0gcmVzcG9uc2UuZGF0YS5tc2c7CiAgaWYgKHJlc3BvbnNlLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSAnYmxvYicgfHwgcmVzcG9uc2UucmVxdWVzdC5yZXNwb25zZVR5cGUgPT09ICdhcnJheWJ1ZmZlcicpIHsKICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogIH0KICBpZiAoY29kZSA9PT0gNDAxKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ+aXoOaViOeahOS8muivne+8jOaIluiAheS8muivneW3sui/h+acn++8jOivt+mHjeaWsOeZu+W9leOAgicpOwogIH0gZWxzZSBpZiAoY29kZSA9PT0gNTAwKSB7CiAgICBNZXNzYWdlKHsKICAgICAgbWVzc2FnZTogbXNnLAogICAgICB0eXBlOiAnZXJyb3InCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobXNnKSk7CiAgfSBlbHNlIGlmIChjb2RlID09PSA2MDEpIHsKICAgIE1lc3NhZ2UoewogICAgICBtZXNzYWdlOiBtc2csCiAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1zZykpOwogIH0gZWxzZSBpZiAoY29kZSAhPT0gMjAwKSB7CiAgICBNZXNzYWdlKHsKICAgICAgbWVzc2FnZTogbXNnLAogICAgICB0eXBlOiAnZXJyb3InCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobXNnKSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgTWVzc2FnZS5lcnJvcihlcnJvci5tc2cpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"names":["axios","Message","getCookies","removeCookies","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","defaults","withCredentials","interceptors","request","use","config","kefu","baseUrl","replace","file","headers","token","error","Promise","reject","response","code","data","msg","responseType","message","type","Error"],"sources":["/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/libs/request.js"],"sourcesContent":["// +---------------------------------------------------------------------\n// | CRMEB [ CRMEB赋能开发者，助力企业发展 ]\n// +---------------------------------------------------------------------\n// | Copyright (c) 2016~2023 https://www.crmeb.com All rights reserved.\n// +---------------------------------------------------------------------\n// | Licensed CRMEB并不是自由软件，未经许可不能去掉CRMEB相关版权\n// +---------------------------------------------------------------------\n// | Author: CRMEB Team <admin@crmeb.com>\n// +---------------------------------------------------------------------\n\nimport axios from 'axios';\nimport { Message } from 'element-ui';\nimport { getCookies, removeCookies } from '@/libs/util';\n\n\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API,\n  timeout: 600000, // 请求超时时间\n});\n\naxios.defaults.withCredentials = true; // 携带cookie\n\n// 请求拦截器\nservice.interceptors.request.use(\n  (config) => {\n    // console.log(config)\n    if (config.kefu) {\n      let baseUrl = process.env.VUE_APP_BASE_API.replace(/adminapi/, 'kefuapi');\n      config.baseURL = baseUrl;\n    } else {\n      config.baseURL = process.env.VUE_APP_BASE_API;\n    }\n    if (config.file) {\n      config.headers['Content-Type'] = 'multipart/form-data';\n    }\n    const token = getCookies('token');\n    // const kefuToken = getCookies('kefu_token');\n    // if (token || kefuToken) {\n    //   config.headers['maijiToken'] = config.kefu ? 'Bearer ' + kefuToken : 'Bearer ' + token;\n    // }\n    config.headers['Authorization'] = token;\n    return config;\n  },\n  (error) => {\n      // console.log(11,error)\n    // do something with request error\n    return Promise.reject(error);\n  },\n);\n\n// response interceptor\nservice.interceptors.response.use(\n  (response) => {\n      // console.log(response)\n      const code = response.data.code || 200;\n      const msg = response.data.msg\n      if(response.request.responseType ===  'blob' || response.request.responseType ===  'arraybuffer'){\n          return response.data\n      }\n      if (code === 401) {\n          return Promise.reject('无效的会话，或者会话已过期，请重新登录。')\n      } else\n          if (code === 500) {\n          Message({ message: msg, type: 'error' })\n          return Promise.reject(new Error(msg))\n      } else if (code === 601) {\n          Message({ message: msg, type: 'warning' })\n          return Promise.reject(new Error(msg))\n      } else if (code !== 200) {\n          Message({ message: msg, type: 'error'})\n          return Promise.reject(new Error(msg))\n      } else {\n          return response.data\n      }\n  },\n  (error) => {\n    Message.error(error.msg);\n    return Promise.reject(error);\n  },\n);\n\nexport default service;\n"],"mappings":"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","ignoreList":[]}]}