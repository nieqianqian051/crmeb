{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/mobile/user/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/kefu/mobile/user/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB1c2VyTGFiZWxzIGZyb20gJy4vdXNlckxhYmVsJzsKaW1wb3J0IHsgdXNlckluZm8sIHVzZXJHcm91cEFwaSwgcHV0R3JvdXBBcGksIHVzZXJMYWJlbCB9IGZyb20gJ0AvYXBpL2tlZnUnOwppbXBvcnQgdnVlUGlja2VycyBmcm9tICd2dWUtcGlja2Vycyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5kZXgnLAogIGNvbXBvbmVudHM6IHsKICAgIHVzZXJMYWJlbHM6IHVzZXJMYWJlbHMsCiAgICB2dWVQaWNrZXJzOiB2dWVQaWNrZXJzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlOiBmYWxzZSwKICAgICAgLy/mqKHmgIHmoYbmmL7npLrpmpDol48KICAgICAgYWN0aXZlVXNlckluZm86ICcnLAogICAgICBwaWNrZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgLy/liIbnu4TpgInmi6kKICAgICAgZ3JvdXBMaXN0OiBbXSwKICAgICAgLy/liIbnu4QKICAgICAgbGFiZWxMaXN0OiBbXSAvL+agh+etvgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEdyb3VwKCk7CiAgICB0aGlzLmdldFVzZXJJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPlueUqOaIt+agh+etvgogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdXNlckxhYmVsKHRoaXMuJHJvdXRlLnBhcmFtcy51aWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxhYmVsTGlzdCA9IHJlcy5kYXRhIHx8IFtdOwogICAgICAgIGlmIChfdGhpcy5sYWJlbExpc3QubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpcy5jaGFuZ2UgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kZGlhbG9nLmVycm9yKCfmmoLml6DmoIfnrb4nKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kZGlhbG9nLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPlueUqOaIt+ivpuaDhQogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdXNlckluZm8odGhpcy4kcm91dGUucGFyYW1zLnVpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmFjdGl2ZVVzZXJJbmZvID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczIuJGRpYWxvZy5lcnJvcihlcnIubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bnlKjmiLfliIbnu4QKICAgIGdldEdyb3VwOiBmdW5jdGlvbiBnZXRHcm91cCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgZ3JvdXBfbmFtZTogJ+aXoCcKICAgICAgfTsKICAgICAgdXNlckdyb3VwQXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzLmRhdGEudW5zaGlmdChvYmopOwogICAgICAgIHZhciB0ZGF0YSA9IFtdOwogICAgICAgIHJlcy5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdGRhdGEucHVzaCh7CiAgICAgICAgICAgIGxhYmVsOiBpdGVtLmdyb3VwX25hbWUsCiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBfdGhpczMuZ3JvdXBMaXN0ID0gW3RkYXRhXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy4kZGlhbG9nLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0TGFiZWw6IGZ1bmN0aW9uIGVkaXRMYWJlbCgpIHsKICAgICAgdGhpcy5jaGFuZ2UgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRVc2VySW5mbygpOwogICAgfSwKICAgIG9uU2hvd0xhYmVsOiBmdW5jdGlvbiBvblNob3dMYWJlbCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgc2hvd05hbWU6IGZ1bmN0aW9uIHNob3dOYW1lKCkgewogICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge30sCiAgICAvLyDpgInmi6nliIbnu4QKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0ocmVzKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBwdXRHcm91cEFwaSh0aGlzLiRyb3V0ZS5wYXJhbXMudWlkLCByZXNbMF0udmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIF90aGlzNC5nZXRVc2VySW5mbygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM0LiRkaWFsb2cuZXJyb3IoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlQ2hhbmdlOiBmdW5jdGlvbiBjbG9zZUNoYW5nZShtc2cpIHsKICAgICAgdGhpcy5jaGFuZ2UgPSBtc2c7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["userLabels","userInfo","userGroupApi","putGroupApi","userLabel","vuePickers","name","components","data","change","activeUserInfo","pickerVisible","groupList","labelList","mounted","getGroup","getUserInfo","methods","getList","_this","$route","params","uid","then","res","length","$dialog","error","catch","err","msg","_this2","_this3","obj","id","group_name","unshift","tdata","map","item","push","label","value","editLabel","onShowLabel","showName","cancel","confirm","_this4","$message","success","closeChange"],"sources":["src/pages/kefu/mobile/user/index.vue"],"sourcesContent":["<template>\n  <div class=\"userBox\" v-if=\"activeUserInfo\">\n    <div class=\"user-header acea-row row-middle\">\n      <div class=\"user-header-img mr20\">\n        <img v-lazy=\"activeUserInfo.avatar\" />\n      </div>\n      <div class=\"user-header-name\">\n        <span class=\"sp1 mr10\" v-text=\"activeUserInfo.nickname\"></span>\n        <span class=\"sp2\">{{ $route.params.type | sourceType }}</span>\n      </div>\n    </div>\n    <div class=\"user-list\">\n      <div class=\"acea-row item bgt\">\n        <span class=\"sp1\">用户标签</span>\n        <div class=\"labelBox\" v-if=\"activeUserInfo.labelNames.length\">\n          <span class=\"label\" v-for=\"(item, index) in activeUserInfo.labelNames\" :key=\"index\">{{ item }}</span>\n        </div>\n        <span v-else class=\"labelBox\">无</span>\n        <span class=\"iconfontYI icon-up\" @click=\"onShowLabel\"></span>\n      </div>\n      <div class=\"acea-row item bgt\">\n        <span class=\"sp1\">手机号</span>\n        <span class=\"sp2\" v-text=\"activeUserInfo.phone || '无'\"></span>\n      </div>\n      <div class=\"acea-row item\">\n        <span class=\"sp1\">分组</span>\n        <span\n          class=\"checkName\"\n          v-if=\"activeUserInfo.group_name\"\n          v-text=\"activeUserInfo.group_name\"\n          @click=\"showName\"\n        ></span>\n        <span v-else @click=\"showName\">无</span>\n        <vue-pickers\n          :data=\"groupList\"\n          v-if=\"groupList.length\"\n          :showToolbar=\"true\"\n          :maskClick=\"true\"\n          @confirm=\"confirm\"\n          :defaultIndex=\"0\"\n          :visible.sync=\"pickerVisible\"\n        ></vue-pickers>\n      </div>\n    </div>\n    <div class=\"user-list\">\n      <div class=\"acea-row item bgt\">\n        <span class=\"sp1\">用户等级</span>\n        <span class=\"sp2\" v-text=\"activeUserInfo.level_name ? activeUserInfo.level_name : '无'\"></span>\n      </div>\n      <div class=\"acea-row item bgt\">\n        <span class=\"sp1\">用户类型</span>\n        <span class=\"sp2\">{{ activeUserInfo.user_type | userType }}</span>\n      </div>\n      <div class=\"acea-row item bgt\">\n        <span class=\"sp1\">余额</span>\n        <span class=\"sp2\" v-text=\"activeUserInfo.now_money || '无'\"></span>\n      </div>\n      <div class=\"acea-row item bgt\">\n        <span class=\"sp1\">推广员</span>\n        <span class=\"sp2\" v-text=\"activeUserInfo.is_promoter === 1 ? '是' : '否'\"></span>\n      </div>\n      <div class=\"acea-row item\">\n        <span class=\"sp1\">生日</span>\n        <span class=\"sp2\" v-text=\"activeUserInfo.birthday || '无'\"></span>\n      </div>\n    </div>\n    <user-labels\n      v-if=\"change\"\n      :change=\"change\"\n      @cancel=\"cancel\"\n      :labelList=\"labelList\"\n      :uid=\"Number($route.params.uid)\"\n      @editLabel=\"editLabel\"\n      @closeChange=\"closeChange\"\n    ></user-labels>\n  </div>\n</template>\n\n<script>\nimport userLabels from './userLabel';\nimport { userInfo, userGroupApi, putGroupApi, userLabel } from '@/api/kefu';\nimport vuePickers from 'vue-pickers';\nexport default {\n  name: 'index',\n  components: {\n    userLabels,\n    vuePickers,\n  },\n  data() {\n    return {\n      change: false, //模态框显示隐藏\n      activeUserInfo: '',\n      pickerVisible: false, //分组选择\n      groupList: [], //分组\n      labelList: [], //标签\n    };\n  },\n  mounted() {\n    this.getGroup();\n    this.getUserInfo();\n  },\n  methods: {\n    //获取用户标签\n    getList() {\n      userLabel(this.$route.params.uid)\n        .then((res) => {\n          this.labelList = res.data || [];\n          if (this.labelList.length) {\n            this.change = true;\n          } else {\n            this.$dialog.error('暂无标签');\n          }\n        })\n        .catch((err) => {\n          this.$dialog.error(err.msg);\n        });\n    },\n    //获取用户详情\n    getUserInfo() {\n      userInfo(this.$route.params.uid)\n        .then((res) => {\n          this.activeUserInfo = res.data;\n        })\n        .catch((err) => {\n          this.$dialog.error(err.msg);\n        });\n    },\n    //获取用户分组\n    getGroup() {\n      let obj = {\n        id: 0,\n        group_name: '无',\n      };\n      userGroupApi()\n        .then((res) => {\n          res.data.unshift(obj);\n          let tdata = [];\n          res.data.map((item) => {\n            tdata.push({\n              label: item.group_name,\n              value: item.id,\n            });\n          });\n          this.groupList = [tdata];\n        })\n        .catch((err) => {\n          this.$dialog.error(err.msg);\n        });\n    },\n    editLabel() {\n      this.change = false;\n      this.getUserInfo();\n    },\n    onShowLabel() {\n      this.getList();\n    },\n    showName() {\n      this.pickerVisible = true;\n    },\n    cancel() {},\n    // 选择分组\n    confirm(res) {\n      putGroupApi(this.$route.params.uid, res[0].value)\n        .then((res) => {\n          this.$message.success(res.msg);\n          this.getUserInfo();\n        })\n        .catch((err) => {\n          this.$dialog.error(err.msg);\n        });\n    },\n    closeChange(msg) {\n      this.change = msg;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.userBox {\n  background: #f0f1f2;\n}\n.bgt {\n  border-bottom: 1px solid #f0f2f7;\n}\n.user {\n  &-header {\n    width: 100%;\n    height: 1.5rem;\n    line-height: 1.5rem;\n    &-img {\n      width: 1.1rem;\n      height: 1.1rem;\n      border-radius: 50%;\n      overflow: hidden;\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n    &-name {\n      .sp1 {\n        color: #282828;\n        font-size: 0.32rem;\n        font-weight: bold;\n      }\n      .sp2 {\n        background: rgba(56, 117, 234, 0.14);\n        color: #3875ea;\n        font-size: 0.18rem;\n        padding: 0.1rem;\n        border-radius: 4px;\n      }\n    }\n    padding: 0 0.3rem;\n    background: #fff;\n    margin-bottom: 0.15rem;\n  }\n  &-list {\n    padding: 0 0.2rem;\n    background: #fff;\n    margin-bottom: 0.15rem;\n    .item {\n      width: 100%;\n      padding: 0.2rem 0;\n      .sp1 {\n        color: #686868;\n        font-size: 0.28rem;\n        width: 1.6rem;\n      }\n      .sp2 {\n        color: #282828;\n        font-size: 0.28rem;\n      }\n    }\n    .labelBox {\n      display: flex;\n      flex-wrap: wrap;\n      width: 4.8rem;\n    }\n    .label {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 0.5rem;\n      border: 1px solid #3875ea;\n      opacity: 1;\n      border-radius: 16px;\n      padding: 0 0.15rem;\n      text-align: center;\n      color: #3875ea;\n      font-size: 0.2rem;\n      margin: 0.07rem 0.15rem 0.07rem 0;\n    }\n  }\n}\n</style>\n"],"mappings":";;AA+EA,OAAAA,UAAA;AACA,SAAAC,QAAA,EAAAC,YAAA,EAAAC,WAAA,EAAAC,SAAA;AACA,OAAAC,UAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAP,UAAA,EAAAA,UAAA;IACAK,UAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MAAA;MACAC,cAAA;MACAC,aAAA;MAAA;MACAC,SAAA;MAAA;MACAC,SAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACA;IACAC,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;MACAf,SAAA,MAAAgB,MAAA,CAAAC,MAAA,CAAAC,GAAA,EACAC,IAAA,WAAAC,GAAA;QACAL,KAAA,CAAAN,SAAA,GAAAW,GAAA,CAAAhB,IAAA;QACA,IAAAW,KAAA,CAAAN,SAAA,CAAAY,MAAA;UACAN,KAAA,CAAAV,MAAA;QACA;UACAU,KAAA,CAAAO,OAAA,CAAAC,KAAA;QACA;MACA,GACAC,KAAA,WAAAC,GAAA;QACAV,KAAA,CAAAO,OAAA,CAAAC,KAAA,CAAAE,GAAA,CAAAC,GAAA;MACA;IACA;IACA;IACAd,WAAA,WAAAA,YAAA;MAAA,IAAAe,MAAA;MACA9B,QAAA,MAAAmB,MAAA,CAAAC,MAAA,CAAAC,GAAA,EACAC,IAAA,WAAAC,GAAA;QACAO,MAAA,CAAArB,cAAA,GAAAc,GAAA,CAAAhB,IAAA;MACA,GACAoB,KAAA,WAAAC,GAAA;QACAE,MAAA,CAAAL,OAAA,CAAAC,KAAA,CAAAE,GAAA,CAAAC,GAAA;MACA;IACA;IACA;IACAf,QAAA,WAAAA,SAAA;MAAA,IAAAiB,MAAA;MACA,IAAAC,GAAA;QACAC,EAAA;QACAC,UAAA;MACA;MACAjC,YAAA,GACAqB,IAAA,WAAAC,GAAA;QACAA,GAAA,CAAAhB,IAAA,CAAA4B,OAAA,CAAAH,GAAA;QACA,IAAAI,KAAA;QACAb,GAAA,CAAAhB,IAAA,CAAA8B,GAAA,WAAAC,IAAA;UACAF,KAAA,CAAAG,IAAA;YACAC,KAAA,EAAAF,IAAA,CAAAJ,UAAA;YACAO,KAAA,EAAAH,IAAA,CAAAL;UACA;QACA;QACAF,MAAA,CAAApB,SAAA,IAAAyB,KAAA;MACA,GACAT,KAAA,WAAAC,GAAA;QACAG,MAAA,CAAAN,OAAA,CAAAC,KAAA,CAAAE,GAAA,CAAAC,GAAA;MACA;IACA;IACAa,SAAA,WAAAA,UAAA;MACA,KAAAlC,MAAA;MACA,KAAAO,WAAA;IACA;IACA4B,WAAA,WAAAA,YAAA;MACA,KAAA1B,OAAA;IACA;IACA2B,QAAA,WAAAA,SAAA;MACA,KAAAlC,aAAA;IACA;IACAmC,MAAA,WAAAA,OAAA;IACA;IACAC,OAAA,WAAAA,QAAAvB,GAAA;MAAA,IAAAwB,MAAA;MACA7C,WAAA,MAAAiB,MAAA,CAAAC,MAAA,CAAAC,GAAA,EAAAE,GAAA,IAAAkB,KAAA,EACAnB,IAAA,WAAAC,GAAA;QACAwB,MAAA,CAAAC,QAAA,CAAAC,OAAA,CAAA1B,GAAA,CAAAM,GAAA;QACAkB,MAAA,CAAAhC,WAAA;MACA,GACAY,KAAA,WAAAC,GAAA;QACAmB,MAAA,CAAAtB,OAAA,CAAAC,KAAA,CAAAE,GAAA,CAAAC,GAAA;MACA;IACA;IACAqB,WAAA,WAAAA,YAAArB,GAAA;MACA,KAAArB,MAAA,GAAAqB,GAAA;IACA;EACA;AACA","ignoreList":[]}]}