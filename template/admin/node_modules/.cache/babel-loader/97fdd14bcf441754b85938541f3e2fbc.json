{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/component/main.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/component/main.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IExheW91dFBhcmVudFZpZXcgZnJvbSAnQC9sYXlvdXQvcm91dGVyVmlldy9wYXJlbnQudnVlJzsKaW1wb3J0IEZvb3RlcnMgZnJvbSAnQC9sYXlvdXQvZm9vdGVyL2luZGV4LnZ1ZSc7CmltcG9ydCBMaW5rcyBmcm9tICdAL2xheW91dC9yb3V0ZXJWaWV3L2xpbmsudnVlJzsKaW1wb3J0IElmcmFtZXMgZnJvbSAnQC9sYXlvdXQvcm91dGVyVmlldy9pZnJhbWVzLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbGF5b3V0TWFpbicsCiAgY29tcG9uZW50czogewogICAgTGF5b3V0UGFyZW50VmlldzogTGF5b3V0UGFyZW50VmlldywKICAgIEZvb3RlcnM6IEZvb3RlcnMsCiAgICBMaW5rczogTGlua3MsCiAgICBJZnJhbWVzOiBJZnJhbWVzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVySGVpZ2h0OiAnJywKICAgICAgY3VycmVudFJvdXRlTWV0YToge30sCiAgICAgIGlzU2hvd0xpbms6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiOt+WPluW4g+WxgOmFjee9ruS/oeaBrwogICAgZ2V0VGhlbWVDb25maWc6IGZ1bmN0aW9uIGdldFRoZW1lQ29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWc7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0SGVhZGVySGVpZ2h0KCk7CiAgICB0aGlzLmluaXRDdXJyZW50Um91dGVNZXRhKHRoaXMuJHJvdXRlLm1ldGEpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyW5b2T5YmN6Lev55SxIG1ldGEg5L+h5oGvCiAgICBpbml0Q3VycmVudFJvdXRlTWV0YTogZnVuY3Rpb24gaW5pdEN1cnJlbnRSb3V0ZU1ldGEobWV0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmlzU2hvd0xpbmsgPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50Um91dGVNZXRhID0gbWV0YTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaXNTaG93TGluayA9IHRydWU7CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgLy8g6K6+572uIG1haW4g55qE6auY5bqmCiAgICBpbml0SGVhZGVySGVpZ2h0OiBmdW5jdGlvbiBpbml0SGVhZGVySGVpZ2h0KCkgewogICAgICB2YXIgaXNUYWdzdmlldyA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmlzVGFnc3ZpZXc7CiAgICAgIGlmIChpc1RhZ3N2aWV3KSByZXR1cm4gdGhpcy5oZWFkZXJIZWlnaHQgPSAiODRweCI7ZWxzZSByZXR1cm4gdGhpcy5oZWFkZXJIZWlnaHQgPSAiNTBweCI7CiAgICB9LAogICAgLy8g5a2Q57uE5Lu26Kem5Y+R5pu05pawCiAgICBvbkdldEN1cnJlbnRSb3V0ZU1ldGE6IGZ1bmN0aW9uIG9uR2V0Q3VycmVudFJvdXRlTWV0YSgpIHsKICAgICAgdGhpcy5pbml0Q3VycmVudFJvdXRlTWV0YSh0aGlzLiRyb3V0ZS5tZXRhKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyDnm5HlkKwgdnVleCDmlbDmja7lj5jljJYKICAgICckc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5oZWFkZXJIZWlnaHQgPSB2YWwuaXNUYWdzdmlldyA/ICc4NHB4JyA6ICc1MHB4JzsKICAgICAgICBpZiAodmFsLmlzRml4ZWRIZWFkZXJDaGFuZ2UgIT09IHZhbC5pc0ZpeGVkSGVhZGVyKSB7CiAgICAgICAgICBpZiAoIXRoaXMuJHJlZnMubGF5b3V0U2Nyb2xsYmFyUmVmKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICB0aGlzLiRyZWZzLmxheW91dFNjcm9sbGJhclJlZi51cGRhdGUoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICAvLyDnm5HlkKzot6/nlLHnmoTlj5jljJYKICAgICRyb3V0ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHRvKSB7CiAgICAgICAgdGhpcy5pbml0Q3VycmVudFJvdXRlTWV0YSh0by5tZXRhKTsKICAgICAgICB0aGlzLiRyZWZzLmxheW91dFNjcm9sbGJhclJlZi53cmFwLnNjcm9sbFRvcCA9IDA7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["LayoutParentView","Footers","Links","Iframes","name","components","data","headerHeight","currentRouteMeta","isShowLink","computed","getThemeConfig","$store","state","themeConfig","mounted","initHeaderHeight","initCurrentRouteMeta","$route","meta","methods","_this","setTimeout","isTagsview","onGetCurrentRouteMeta","watch","handler","val","isFixedHeaderChange","isFixedHeader","$refs","layoutScrollbarRef","update","deep","to","wrap","scrollTop"],"sources":["src/layout/component/main.vue"],"sourcesContent":["<template>\n  <el-main class=\"layout-main\">\n    <el-scrollbar\n      class=\"layout-scrollbar\"\n      ref=\"layoutScrollbarRef\"\n      v-show=\"!currentRouteMeta.isLink && !currentRouteMeta.isIframe\"\n      :style=\"{ minHeight: `calc(100vh - ${headerHeight}` }\"\n    >\n      <LayoutParentView />\n      <Footers v-if=\"getThemeConfig.isFooter\" />\n    </el-scrollbar>\n    <Links\n      :style=\"{ height: `calc(100vh - ${headerHeight}` }\"\n      :meta=\"currentRouteMeta\"\n      v-if=\"currentRouteMeta.isLink && !currentRouteMeta.isIframe\"\n    />\n    <Iframes\n      :style=\"{ height: `calc(100vh - ${headerHeight}` }\"\n      :meta=\"currentRouteMeta\"\n      v-if=\"currentRouteMeta.isLink && currentRouteMeta.isIframe && isShowLink\"\n      @getCurrentRouteMeta=\"onGetCurrentRouteMeta\"\n    />\n  </el-main>\n</template>\n\n<script>\nimport LayoutParentView from '@/layout/routerView/parent.vue';\nimport Footers from '@/layout/footer/index.vue';\nimport Links from '@/layout/routerView/link.vue';\nimport Iframes from '@/layout/routerView/iframes.vue';\nexport default {\n  name: 'layoutMain',\n  components: { LayoutParentView, Footers, Links, Iframes },\n  data() {\n    return {\n      headerHeight: '',\n      currentRouteMeta: {},\n      isShowLink: false,\n    };\n  },\n  computed: {\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n  },\n  mounted() {\n    this.initHeaderHeight();\n    this.initCurrentRouteMeta(this.$route.meta);\n  },\n  methods: {\n    // 初始化当前路由 meta 信息\n    initCurrentRouteMeta(meta) {\n      this.isShowLink = false;\n      this.currentRouteMeta = meta;\n      setTimeout(() => {\n        this.isShowLink = true;\n      }, 100);\n    },\n    // 设置 main 的高度\n    initHeaderHeight() {\n      let { isTagsview } = this.$store.state.themeConfig.themeConfig;\n      if (isTagsview) return (this.headerHeight = `84px`);\n      else return (this.headerHeight = `50px`);\n    },\n    // 子组件触发更新\n    onGetCurrentRouteMeta() {\n      this.initCurrentRouteMeta(this.$route.meta);\n    },\n  },\n  watch: {\n    // 监听 vuex 数据变化\n    '$store.state.themeConfig.themeConfig': {\n      handler(val) {\n        this.headerHeight = val.isTagsview ? '84px' : '50px';\n        if (val.isFixedHeaderChange !== val.isFixedHeader) {\n          if (!this.$refs.layoutScrollbarRef) return false;\n          this.$refs.layoutScrollbarRef.update();\n        }\n      },\n      deep: true,\n    },\n    // 监听路由的变化\n    $route: {\n      handler(to) {\n        this.initCurrentRouteMeta(to.meta);\n        this.$refs.layoutScrollbarRef.wrap.scrollTop = 0;\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n"],"mappings":"AA0BA,OAAAA,gBAAA;AACA,OAAAC,OAAA;AACA,OAAAC,KAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAL,gBAAA,EAAAA,gBAAA;IAAAC,OAAA,EAAAA,OAAA;IAAAC,KAAA,EAAAA,KAAA;IAAAC,OAAA,EAAAA;EAAA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,YAAA;MACAC,gBAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,cAAA,WAAAA,eAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAA,WAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,gBAAA;IACA,KAAAC,oBAAA,MAAAC,MAAA,CAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACAH,oBAAA,WAAAA,qBAAAE,IAAA;MAAA,IAAAE,KAAA;MACA,KAAAZ,UAAA;MACA,KAAAD,gBAAA,GAAAW,IAAA;MACAG,UAAA;QACAD,KAAA,CAAAZ,UAAA;MACA;IACA;IACA;IACAO,gBAAA,WAAAA,iBAAA;MACA,IAAAO,UAAA,QAAAX,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAA,WAAA,CAAAS,UAAA;MACA,IAAAA,UAAA,cAAAhB,YAAA,eACA,YAAAA,YAAA;IACA;IACA;IACAiB,qBAAA,WAAAA,sBAAA;MACA,KAAAP,oBAAA,MAAAC,MAAA,CAAAC,IAAA;IACA;EACA;EACAM,KAAA;IACA;IACA;MACAC,OAAA,WAAAA,QAAAC,GAAA;QACA,KAAApB,YAAA,GAAAoB,GAAA,CAAAJ,UAAA;QACA,IAAAI,GAAA,CAAAC,mBAAA,KAAAD,GAAA,CAAAE,aAAA;UACA,UAAAC,KAAA,CAAAC,kBAAA;UACA,KAAAD,KAAA,CAAAC,kBAAA,CAAAC,MAAA;QACA;MACA;MACAC,IAAA;IACA;IACA;IACAf,MAAA;MACAQ,OAAA,WAAAA,QAAAQ,EAAA;QACA,KAAAjB,oBAAA,CAAAiB,EAAA,CAAAf,IAAA;QACA,KAAAW,KAAA,CAAAC,kBAAA,CAAAI,IAAA,CAAAC,SAAA;MACA;MACAH,IAAA;IACA;EACA;AACA","ignoreList":[]}]}