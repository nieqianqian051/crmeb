{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/agreement/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/agreement/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgV2FuZ0VkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvd2FuZ0VkaXRvci9pbmRleC52dWUnOwppbXBvcnQgeyBnZXRBZ3JlZW1lbnRzLCBzZXRBZ3JlZW1lbnRzIH0gZnJvbSAnQC9hcGkvc3lzdGVtJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFdhbmdFZGl0b3I6IFdhbmdFZGl0b3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nRXhpc3Q6IGZhbHNlLAogICAgICBjdXJyZW50VGFiOiAnMScsCiAgICAgIGhlYWRlckxpc3Q6IFt7CiAgICAgICAgbGFiZWw6ICfku5jotLnkvJrlkZjljY/orq4nLAogICAgICAgIHZhbHVlOiAnMScKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Luj55CG5ZWG5Y2P6K6uJywKICAgICAgICB2YWx1ZTogJzInCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+makOengeWNj+iuricsCiAgICAgICAgdmFsdWU6ICczJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfnlKjmiLfljY/orq4nLAogICAgICAgIHZhbHVlOiAnNCcKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5rOo6ZSA5Y2P6K6uJywKICAgICAgICB2YWx1ZTogJzUnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+enr+WIhuWNj+iuricsCiAgICAgICAgdmFsdWU6ICc2JwogICAgICB9XSwKICAgICAgdWVDb25maWc6IHsKICAgICAgICBhdXRvSGVpZ2h0RW5hYmxlZDogZmFsc2UsCiAgICAgICAgaW5pdGlhbEZyYW1lSGVpZ2h0OiA1MDAsCiAgICAgICAgaW5pdGlhbEZyYW1lV2lkdGg6ICcxMDAlJywKICAgICAgICBVRURJVE9SX0hPTUVfVVJMOiAnL1VFZGl0b3IvJywKICAgICAgICBzZXJ2ZXJVcmw6ICcnCiAgICAgIH0sCiAgICAgIGlkOiAwLAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBjb250ZW50OiAnJwogICAgICB9LAogICAgICBjb250ZW50OiAnJywKICAgICAgc3BpblNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiuvue9ruaYr+WQpuaYvuekuiB0YWdzVmlldwogICAgZml4Qm90dG9tV2lkdGg6IGZ1bmN0aW9uIGZpeEJvdHRvbVdpZHRoKCkgewogICAgICB2YXIgX3RoaXMkJHN0b3JlJHN0YXRlJHRoID0gdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcsCiAgICAgICAgbGF5b3V0ID0gX3RoaXMkJHN0b3JlJHN0YXRlJHRoLmxheW91dCwKICAgICAgICBpc0NvbGxhcHNlID0gX3RoaXMkJHN0b3JlJHN0YXRlJHRoLmlzQ29sbGFwc2U7CiAgICAgIHZhciB3OwogICAgICBpZiAoWydjb2x1bW5zJ10uaW5jbHVkZXMobGF5b3V0KSkgewogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICB3ID0gJzg1cHgnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3ID0gJzI2NXB4JzsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoWydjbGFzc2ljJ10uaW5jbHVkZXMobGF5b3V0KSkgewogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICB3ID0gJzg1cHgnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3ID0gJzE4MHB4JzsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoWydkZWZhdWx0cycsICdjbGFzc2ljJ10uaW5jbHVkZXMobGF5b3V0KSkgewogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICB3ID0gJzY0cHgnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3ID0gJzE4MHB4JzsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdyA9ICcwcHgnOwogICAgICB9CiAgICAgIHJldHVybiB3OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY2hhbmdlVGFiKHRoaXMuY3VycmVudFRhYik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jb250ZW50ID0gdGhpcy5jb250ZW50OwogICAgICBzZXRBZ3JlZW1lbnRzKHRoaXMuZm9ybVZhbGlkYXRlKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFZGl0b3JDb250ZW50OiBmdW5jdGlvbiBnZXRFZGl0b3JDb250ZW50KGNvbnRlbnQpIHsKICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDsKICAgIH0sCiAgICBjaGFuZ2VUYWI6IGZ1bmN0aW9uIGNoYW5nZVRhYigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSAnICc7CiAgICAgIGdldEFncmVlbWVudHModGhpcy5jdXJyZW50VGFiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLmlkID0gcmVzLmRhdGEuaWQgfHwgMDsKICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLnR5cGUgPSByZXMuZGF0YS50eXBlOwogICAgICAgIF90aGlzMi5mb3JtVmFsaWRhdGUudGl0bGUgPSByZXMuZGF0YS50aXRsZTsKICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSByZXMuZGF0YS5jb250ZW50OwogICAgICAgIF90aGlzMi5jb250ZW50ID0gcmVzLmRhdGEuY29udGVudDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","WangEditor","getAgreements","setAgreements","components","data","loadingExist","currentTab","headerList","label","value","ueConfig","autoHeightEnabled","initialFrameHeight","initialFrameWidth","UEDITOR_HOME_URL","serverUrl","id","formValidate","content","spinShow","computed","fixBottomWidth","_this$$store$state$th","$store","state","themeConfig","layout","isCollapse","w","includes","created","changeTab","methods","save","_this","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","$message","success","msg","stop","_x","apply","arguments","catch","error","getEditorContent","_this2","type","title"],"sources":["src/pages/setting/agreement/index.vue"],"sourcesContent":["<template>\n  <div class=\"agreemant\">\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\" :body-style=\"{ padding: '0 20px' }\">\n      <div>\n        <el-tabs v-model=\"currentTab\" @tab-click=\"changeTab\">\n          <el-tab-pane\n            :label=\"item.label\"\n            :name=\"item.value.toString()\"\n            v-for=\"(item, index) in headerList\"\n            :key=\"index\"\n          />\n        </el-tabs>\n      </div>\n    </el-card>\n\n    <el-row class=\"content\">\n      <el-col :span=\"16\">\n        <WangEditor style=\"width: 100%\" :content=\"formValidate.content\" @editorContent=\"getEditorContent\"></WangEditor>\n      </el-col>\n      <el-col :span=\"6\" style=\"width: 33%\">\n        <div class=\"ifam\">\n          <div class=\"content\" v-html=\"content\"></div>\n        </div>\n      </el-col>\n    </el-row>\n    <!-- <el-row class=\"mb10 content\">\n      <el-button class=\"bnt\" type=\"primary\" @click=\"save\" :loading=\"loadingExist\"\n        >保存</el-button\n      >\n    </el-row> -->\n\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"fixed-card\" :style=\"{ left: `${fixBottomWidth}` }\">\n      <div class=\"acea-row row-center\">\n        <el-button class=\"bnt\" type=\"primary\" @click=\"save\" :loading=\"loadingExist\">保存</el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { getAgreements, setAgreements } from '@/api/system';\n\nexport default {\n  components: { WangEditor },\n  data() {\n    return {\n      loadingExist: false,\n      currentTab: '1',\n      headerList: [\n        { label: '付费会员协议', value: '1' },\n        { label: '代理商协议', value: '2' },\n        { label: '隐私协议', value: '3' },\n        { label: '用户协议', value: '4' },\n        { label: '注销协议', value: '5' },\n        { label: '积分协议', value: '6' },\n      ],\n      ueConfig: {\n        autoHeightEnabled: false,\n        initialFrameHeight: 500,\n        initialFrameWidth: '100%',\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      id: 0,\n      formValidate: {\n        content: '',\n      },\n      content: '',\n      spinShow: false,\n    };\n  },\n  computed: {\n    // 设置是否显示 tagsView\n    fixBottomWidth() {\n      let { layout, isCollapse } = this.$store.state.themeConfig.themeConfig;\n      let w;\n      if (['columns'].includes(layout)) {\n        if (isCollapse) {\n          w = '85px';\n        } else {\n          w = '265px';\n        }\n      } else if (['classic'].includes(layout)) {\n        if (isCollapse) {\n          w = '85px';\n        } else {\n          w = '180px';\n        }\n      } else if (['defaults', 'classic'].includes(layout)) {\n        if (isCollapse) {\n          w = '64px';\n        } else {\n          w = '180px';\n        }\n      } else {\n        w = '0px';\n      }\n      return w;\n    },\n  },\n  created() {\n    this.changeTab(this.currentTab);\n  },\n  methods: {\n    save() {\n      this.formValidate.content = this.content;\n      setAgreements(this.formValidate)\n        .then(async (res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    getEditorContent(content) {\n      this.content = content;\n    },\n    changeTab() {\n      this.formValidate.content = ' ';\n      getAgreements(this.currentTab).then((res) => {\n        this.formValidate.id = res.data.id || 0;\n        this.formValidate.type = res.data.type;\n        this.formValidate.title = res.data.title;\n        this.formValidate.content = res.data.content;\n        this.content = res.data.content;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n::v-deep .el-tabs__item {\n  height: 54px !important;\n  line-height: 54px !important;\n}\n.agreemant {\n  background-color: #fff;\n}\n\n.content {\n  padding: 10px 16px;\n}\n\n.ifam {\n  width: 344px;\n  height: 644px;\n  background: url('../../../assets/images/ag-phone.png') no-repeat center top;\n  background-size: 344px 644px;\n  padding: 40px 20px;\n  padding-top: 50px;\n  margin: 0 auto 0 20px;\n\n  .content {\n    height: 560px;\n    overflow: hidden;\n    scrollbar-width: none; /* firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n\n  .content::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n}\n\n.new_tab {\n  ::v-deep .ivu-tabs-nav .ivu-tabs-tab {\n    padding: 4px 16px 20px !important;\n    font-weight: 500;\n  }\n}\n\n// .fixed-card {\n//   position: fixed;\n//   right: 0;\n//   bottom: 0;\n//   left: 200px;\n//   z-index: 8;\n//   // box-shadow: 0 -1px 2px rgb(240, 240, 240);\n//   border:none;\n//   ::v-deep .ivu-card-body {\n//     padding: 15px 16px 14px;\n//   }\n\n//   .ivu-form-item {\n//     margin-bottom: 0;\n//   }\n\n//   ::v-deep .ivu-form-item-content {\n//     margin-right: 124px;\n//     text-align: center;\n//   }\n// }\n</style>\n"],"mappings":"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","ignoreList":[]}]}