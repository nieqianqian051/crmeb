{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/index/components/userChart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/index/components/userChart.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IHsgdXNlckFwaSwgcmFua0FwaSB9IGZyb20gJ0AvYXBpL2luZGV4JzsKaW1wb3J0IGVjaGFydHNGcm9tIGZyb20gJ0AvY29tcG9uZW50cy9lY2hhcnRzL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyLWNoYXJ0JywKICBjb21wb25lbnRzOiB7CiAgICBlY2hhcnRzRnJvbTogZWNoYXJ0c0Zyb20KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaW5lOiAnbGluZScsCiAgICAgIGNpcmNsZTogJ2NpcmNsZScsCiAgICAgIGluZm9MaXN0OiB7fSwKICAgICAgc2VyaWVzOiBbXSwKICAgICAgeERhdGE6IFtdLAogICAgICB5MURhdGE6IFtdLAogICAgICB5MkRhdGE6IFtdLAogICAgICBsaXN0czogW10sCiAgICAgIGJpbmdfZGF0YTogW10sCiAgICAgIGJpbmdfeGRhdGE6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g57uf6K6hCiAgICBnZXRTdGF0aXN0aWNzOiBmdW5jdGlvbiBnZXRTdGF0aXN0aWNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB1c2VyQXBpKCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmluZm9MaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5zZXJpZXMgPSBbewogICAgICAgICAgICAgICAgICBkYXRhOiByZXMuZGF0YS5zZXJpZXMsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICfkurrmlbDvvIjkurrvvIknLAogICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsCiAgICAgICAgICAgICAgICAgIHNtb290aDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgc3ltYm9sOiAnbm9uZScsCiAgICAgICAgICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgIF90aGlzLmJpbmdfZGF0YSA9IHJlcy5iaW5nX2RhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5iaW5nX3hkYXRhID0gcmVzLmJpbmdfeGRhdGE7CiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UmFuazogZnVuY3Rpb24gZ2V0UmFuaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJhbmtBcGkoKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczIubGlzdHMgPSBkYXRhLmxpc3Q7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnm5HlkKzpobXpnaLlrr3luqblj5jljJbvvIzliLfmlrDooajmoLwKICAgIGhhbmRsZVJlc2l6ZTogZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkgewogICAgICBpZiAodGhpcy5pbmZvTGlzdCAmJiB0aGlzLnNlcmllcy5sZW5ndGggIT09IDApIHRoaXMuJHJlZnMudXNlckNoYXJ0LmhhbmRsZVJlc2l6ZSgpOwogICAgICBpZiAodGhpcy5pbmZvTGlzdCkgdGhpcy4kcmVmcy52aXNpdENoYXJ0LmhhbmRsZVJlc2l6ZSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0U3RhdGlzdGljcygpOwogICAgdGhpcy5nZXRSYW5rKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMudmlzaXRDaGFydCkgewogICAgICB0aGlzLnZpc2l0Q2hhcnQuZGlzcG9zZSgpOwogICAgICB0aGlzLnZpc2l0Q2hhcnQgPSBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"names":["userApi","rankApi","echartsFrom","name","components","data","line","circle","infoList","series","xData","y1Data","y2Data","lists","bing_data","bing_xdata","methods","getStatistics","_this","then","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","type","tooltip","smooth","symbol","areaStyle","normal","opacity","stop","_x","apply","arguments","catch","$message","error","msg","getRank","_this2","_ref2","_callee2","_callee2$","_context2","list","_x2","handleResize","length","$refs","userChart","visitChart","mounted","beforeDestroy","dispose"],"sources":["src/pages/index/components/userChart.vue"],"sourcesContent":["<template>\n  <div @resize=\"handleResize\">\n    <el-row :gutter=\"16\">\n      <el-col :xl=\"16\" :lg=\"12\" :md=\"24\" :sm=\"24\" :xs=\"24\" class=\"ivu-mb dashboard-console-visit\">\n        <el-card :bordered=\"false\" shadow=\"never\">\n          <div class=\"card-title\">\n            <el-avatar\n              icon=\"el-icon-user-solid\"\n              size=\"small\"\n              style=\"color: var(--prev-color-primary); background-color: #e6f7ff\"\n            ></el-avatar>\n            <h4 class=\"ivu-pl-8\">用户</h4>\n          </div>\n          <echarts-from\n            ref=\"userChart\"\n            :echartsTitle=\"line\"\n            :infoList=\"infoList\"\n            :series=\"series\"\n            v-if=\"infoList && series.length !== 0\"\n          ></echarts-from>\n        </el-card>\n      </el-col>\n      <el-col :xl=\"8\" :lg=\"12\" :md=\"24\" :sm=\"24\" :xs=\"24\">\n        <el-card :bordered=\"false\" shadow=\"never\" class=\"dashboard-console-visit\">\n          <div class=\"card-title\">\n            <el-avatar\n              icon=\"el-icon-s-marketing\"\n              size=\"small\"\n              style=\"color: var(--prev-color-primary); background-color: #e6f7ff\"\n            ></el-avatar>\n            <h4 class=\"ivu-pl-8\">购买用户统计</h4>\n          </div>\n          <echarts-from ref=\"visitChart\" :infoList=\"infoList\" :echartsTitle=\"circle\"></echarts-from>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { userApi, rankApi } from '@/api/index';\nimport echartsFrom from '@/components/echarts/index';\nexport default {\n  name: 'user-chart',\n  components: { echartsFrom },\n  data() {\n    return {\n      line: 'line',\n      circle: 'circle',\n      infoList: {},\n      series: [],\n      xData: [],\n      y1Data: [],\n      y2Data: [],\n      lists: [],\n      bing_data: [],\n      bing_xdata: [],\n    };\n  },\n  methods: {\n    // 统计\n    getStatistics() {\n      userApi()\n        .then(async (res) => {\n          this.infoList = res.data;\n          this.series = [\n            {\n              data: res.data.series,\n              name: '人数（人）',\n              type: 'line',\n              tooltip: true,\n              smooth: true,\n              symbol: 'none',\n              areaStyle: {\n                normal: {\n                  opacity: 0.2,\n                },\n              },\n            },\n          ];\n          this.bing_data = res.bing_data;\n          this.bing_xdata = res.bing_xdata;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    getRank() {\n      rankApi()\n        .then(async (res) => {\n          let data = res.data;\n          this.lists = data.list;\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 监听页面宽度变化，刷新表格\n    handleResize() {\n      if (this.infoList && this.series.length !== 0) this.$refs.userChart.handleResize();\n      if (this.infoList) this.$refs.visitChart.handleResize();\n    },\n  },\n  mounted() {\n    this.getStatistics();\n    this.getRank();\n  },\n  beforeDestroy() {\n    if (this.visitChart) {\n      this.visitChart.dispose();\n      this.visitChart = null;\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.dashboard-console-visit {\n  ul {\n    li {\n      list-style-type: none;\n      margin-top: 12px;\n    }\n  }\n}\n.trees-coadd {\n  width: 100%;\n  height: 100%;\n  .scollhide {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n}\n.scollhide::-webkit-scrollbar {\n  display: none;\n}\n.names {\n  display: inline-block;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  width: 84%;\n  margin-bottom: -7px;\n}\n.card-title {\n  display: flex;\n  align-items: center;\n}\n</style>\n"],"mappings":";;AAwCA,SAAAA,OAAA,EAAAC,OAAA;AACA,OAAAC,WAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF,WAAA,EAAAA;EAAA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;MACAC,MAAA;MACAC,QAAA;MACAC,MAAA;MACAC,KAAA;MACAC,MAAA;MACAC,MAAA;MACAC,KAAA;MACAC,SAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MACAlB,OAAA,GACAmB,IAAA;QAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAAC,GAAA;UAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBACAZ,KAAA,CAAAV,QAAA,GAAAiB,GAAA,CAAApB,IAAA;gBACAa,KAAA,CAAAT,MAAA,IACA;kBACAJ,IAAA,EAAAoB,GAAA,CAAApB,IAAA,CAAAI,MAAA;kBACAN,IAAA;kBACA4B,IAAA;kBACAC,OAAA;kBACAC,MAAA;kBACAC,MAAA;kBACAC,SAAA;oBACAC,MAAA;sBACAC,OAAA;oBACA;kBACA;gBACA,EACA;gBACAnB,KAAA,CAAAJ,SAAA,GAAAW,GAAA,CAAAX,SAAA;gBACAI,KAAA,CAAAH,UAAA,GAAAU,GAAA,CAAAV,UAAA;cAAA;cAAA;gBAAA,OAAAa,QAAA,CAAAU,IAAA;YAAA;UAAA,GAAAd,OAAA;QAAA,CACA;QAAA,iBAAAe,EAAA;UAAA,OAAAnB,IAAA,CAAAoB,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAC,KAAA,WAAAjB,GAAA;QACAP,KAAA,CAAAyB,QAAA,CAAAC,KAAA,CAAAnB,GAAA,CAAAoB,GAAA;MACA;IACA;IACAC,OAAA,WAAAA,QAAA;MAAA,IAAAC,MAAA;MACA9C,OAAA,GACAkB,IAAA;QAAA,IAAA6B,KAAA,GAAA3B,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAA0B,SAAAxB,GAAA;UAAA,IAAApB,IAAA;UAAA,OAAAiB,mBAAA,GAAAI,IAAA,UAAAwB,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAtB,IAAA,GAAAsB,SAAA,CAAArB,IAAA;cAAA;gBACAzB,IAAA,GAAAoB,GAAA,CAAApB,IAAA;gBACA0C,MAAA,CAAAlC,KAAA,GAAAR,IAAA,CAAA+C,IAAA;cAAA;cAAA;gBAAA,OAAAD,SAAA,CAAAb,IAAA;YAAA;UAAA,GAAAW,QAAA;QAAA,CACA;QAAA,iBAAAI,GAAA;UAAA,OAAAL,KAAA,CAAAR,KAAA,OAAAC,SAAA;QAAA;MAAA,KACAC,KAAA,WAAAjB,GAAA;QACAsB,MAAA,CAAAJ,QAAA,CAAAC,KAAA,CAAAnB,GAAA,CAAAoB,GAAA;MACA;IACA;IACA;IACAS,YAAA,WAAAA,aAAA;MACA,SAAA9C,QAAA,SAAAC,MAAA,CAAA8C,MAAA,aAAAC,KAAA,CAAAC,SAAA,CAAAH,YAAA;MACA,SAAA9C,QAAA,OAAAgD,KAAA,CAAAE,UAAA,CAAAJ,YAAA;IACA;EACA;EACAK,OAAA,WAAAA,QAAA;IACA,KAAA1C,aAAA;IACA,KAAA6B,OAAA;EACA;EACAc,aAAA,WAAAA,cAAA;IACA,SAAAF,UAAA;MACA,KAAAA,UAAA,CAAAG,OAAA;MACA,KAAAH,UAAA;IACA;EACA;AACA","ignoreList":[]}]}