{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/systemOutInterface/request.js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/systemOutInterface/request.js","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB7IGdldENvb2tpZXMsIHJlbW92ZUNvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBTZXR0aW5nLmFwaUJhc2VVUkwsCiAgdGltZW91dDogMTAwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cn0pOwpheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOyAvLyDmkLrluKZjb29raWUKCi8vIOivt+axguaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKGNvbmZpZy5rZWZ1KSB7CiAgICB2YXIgYmFzZVVybCA9IFNldHRpbmcuYXBpQmFzZVVSTC5yZXBsYWNlKC9hZG1pbmFwaS8sICdrZWZ1YXBpJyk7CiAgICBjb25maWcuYmFzZVVSTCA9IGJhc2VVcmw7CiAgfSBlbHNlIHsKICAgIGNvbmZpZy5iYXNlVVJMID0gU2V0dGluZy5hcGlCYXNlVVJMOwogIH0KICBpZiAoY29uZmlnLmZpbGUpIHsKICAgIGNvbmZpZy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJzsKICB9CiAgdHJ5IHsKICAgIGlmIChjb25maWcuaGVhZGVySXRlbSkgewogICAgICBmb3IgKHZhciBpIGluIGNvbmZpZy5oZWFkZXJJdGVtKSB7CiAgICAgICAgY29uZmlnLmhlYWRlcnNbaV0gPSBjb25maWcuaGVhZGVySXRlbVtpXTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfQogIHZhciB0b2tlbiA9IGdldENvb2tpZXMoJ3Rva2VuJyk7CiAgdmFyIGtlZnVUb2tlbiA9IGdldENvb2tpZXMoJ2tlZnVfdG9rZW4nKTsKICBpZiAodG9rZW4gfHwga2VmdVRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaS16YXRpb24nXSA9IGNvbmZpZy5rZWZ1ID8gJ0JlYXJlciAnICsga2VmdVRva2VuIDogJ0JlYXJlciAnICsgdG9rZW47CiAgfQogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIGRvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciBvYmogPSB7fTsKICBpZiAoISFyZXNwb25zZS5kYXRhKSB7CiAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT0gJ3N0cmluZycpIHsKICAgICAgb2JqID0gSlNPTi5wYXJzZShyZXNwb25zZS5kYXRhKTsKICAgIH0gZWxzZSB7CiAgICAgIG9iaiA9IHJlc3BvbnNlLmRhdGE7CiAgICB9CiAgfQogIHZhciBzdGF0dXMgPSByZXNwb25zZS5kYXRhID8gb2JqLnN0YXR1cyA6IDA7CiAgLy8gbGV0IHN0YXR1cyA9IHJlc3BvbnNlLmRhdGEgPyByZXNwb25zZS5kYXRhLnN0YXR1cyA6IDA7CiAgdmFyIGNvZGUgPSBzdGF0dXM7CiAgc3dpdGNoIChjb2RlKSB7CiAgICBjYXNlIDIwMDoKICAgICAgcmV0dXJuIG9iajsKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChvYmogfHwgewogICAgICAgIG1zZzogJ+acquefpemUmeivrycKICAgICAgfSk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTsKCi8vIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KHVybCwgbWV0aG9kLCBwYXJhbXMsIGhlYWRlcikgewovLyAgIGNvbnN0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKLy8gICAgIGJhc2VVUkw6IFNldHRpbmcuYXBpQmFzZVVSTCwgLy8g6K+35rGC55qE5qC55Z+f5ZCNCi8vICAgICB0aW1lb3V0OiAxMDAwLCAvLyDor7fmsYLotoXml7bml7bpl7QKLy8gICAgIGhlYWRlcnM6IHsKLy8gICAgICAgJ1gtQ3VzdG9tLUhlYWRlcic6IGhlYWRlciwgLy8g6Ieq5a6a5LmJ5aS05L+h5oGvCi8vICAgICB9LAovLyAgIH0pOwoKLy8gICBpZiAobWV0aG9kID09PSAnR0VUJykgewovLyAgICAgaW5zdGFuY2UKLy8gICAgICAgLmdldCh1cmwsIHsgcGFyYW1zOiBwYXJhbXMgfSkKLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7Ci8vICAgICAgICAgLy8g5aSE55CG5ZON5bqU5pWw5o2uCi8vICAgICAgIH0pCi8vICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIbplJnor68KLy8gICAgICAgfSk7Ci8vICAgfSBlbHNlIGlmIChtZXRob2QgPT09ICdQT1NUJykgewovLyAgICAgaW5zdGFuY2UKLy8gICAgICAgLnBvc3QodXJsLCBwYXJhbXMsIHsgaGVhZGVyczogaGVhZGVyIH0pCi8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewovLyAgICAgICAgIC8vIOWkhOeQhuWTjeW6lOaVsOaNrgovLyAgICAgICB9KQovLyAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7Ci8vICAgICAgICAgLy8g5aSE55CG6ZSZ6K+vCi8vICAgICAgIH0pOwovLyAgIH0gZWxzZSBpZiAobWV0aG9kID09PSAnUFVUJykgewovLyAgICAgaW5zdGFuY2UKLy8gICAgICAgLnB1dCh1cmwsIHBhcmFtcywgeyBoZWFkZXJzOiBoZWFkZXIgfSkKLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7Ci8vICAgICAgICAgLy8g5aSE55CG5ZON5bqU5pWw5o2uCi8vICAgICAgIH0pCi8vICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIbplJnor68KLy8gICAgICAgfSk7Ci8vICAgfSBlbHNlIGlmIChtZXRob2QgPT09ICdERUxFVEUnKSB7Ci8vICAgICBpbnN0YW5jZQovLyAgICAgICAuZGVsZXRlKHVybCwgeyBoZWFkZXJzOiBoZWFkZXIgfSkKLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7Ci8vICAgICAgICAgLy8g5aSE55CG5ZON5bqU5pWw5o2uCi8vICAgICAgIH0pCi8vICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIbplJnor68KLy8gICAgICAgfSk7Ci8vICAgfQoKLy8gICByZXR1cm4gaW5zdGFuY2U7Ci8vIH0="},{"version":3,"names":["axios","Setting","getCookies","removeCookies","service","create","baseURL","apiBaseURL","timeout","defaults","withCredentials","interceptors","request","use","config","kefu","baseUrl","replace","file","headers","headerItem","i","error","console","log","token","kefuToken","Promise","reject","response","obj","data","JSON","parse","status","code","msg"],"sources":["/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/setting/systemOutInterface/request.js"],"sourcesContent":["import axios from 'axios';\nimport Setting from '@/setting';\nimport { getCookies, removeCookies } from '@/libs/util';\n\nconst service = axios.create({\n  baseURL: Setting.apiBaseURL,\n  timeout: 10000, // 请求超时时间\n});\naxios.defaults.withCredentials = true; // 携带cookie\n\n// 请求拦截器\nservice.interceptors.request.use(\n  (config) => {\n    if (config.kefu) {\n      let baseUrl = Setting.apiBaseURL.replace(/adminapi/, 'kefuapi');\n      config.baseURL = baseUrl;\n    } else {\n      config.baseURL = Setting.apiBaseURL;\n    }\n    if (config.file) {\n      config.headers['Content-Type'] = 'multipart/form-data';\n    }\n    try {\n      if (config.headerItem) {\n        for (let i in config.headerItem) {\n          config.headers[i] = config.headerItem[i];\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    const token = getCookies('token');\n    const kefuToken = getCookies('kefu_token');\n    if (token || kefuToken) {\n      config.headers['Authori-zation'] = config.kefu ? 'Bearer ' + kefuToken : 'Bearer ' + token;\n    }\n    return config;\n  },\n  (error) => {\n    // do something with request error\n    return Promise.reject(error);\n  },\n);\nservice.interceptors.response.use(\n  (response) => {\n    let obj = {};\n    if (!!response.data) {\n      if (typeof response.data == 'string') {\n        obj = JSON.parse(response.data);\n      } else {\n        obj = response.data;\n      }\n    }\n    let status = response.data ? obj.status : 0;\n    // let status = response.data ? response.data.status : 0;\n    const code = status;\n    switch (code) {\n      case 200:\n        return obj;\n      default:\n        return Promise.reject(obj || { msg: '未知错误' });\n    }\n  },\n  (error) => {\n    return Promise.reject(error);\n  },\n);\nexport default service;\n\n// function sendRequest(url, method, params, header) {\n//   const instance = axios.create({\n//     baseURL: Setting.apiBaseURL, // 请求的根域名\n//     timeout: 1000, // 请求超时时间\n//     headers: {\n//       'X-Custom-Header': header, // 自定义头信息\n//     },\n//   });\n\n//   if (method === 'GET') {\n//     instance\n//       .get(url, { params: params })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   } else if (method === 'POST') {\n//     instance\n//       .post(url, params, { headers: header })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   } else if (method === 'PUT') {\n//     instance\n//       .put(url, params, { headers: header })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   } else if (method === 'DELETE') {\n//     instance\n//       .delete(url, { headers: header })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   }\n\n//   return instance;\n// }\n"],"mappings":"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","ignoreList":[]}]}