{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/uploadPictures/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/components/uploadPictures/index.vue","mtime":1719468544000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnlMaXN0QXBpLCBjcmVhdGVBcGksIGZpbGVMaXN0QXBpLCBjYXRlZ29yeUVkaXRBcGksIG1vdmVBcGksIGZpbGVVcGRhdGVBcGkgfSBmcm9tICdAL2FwaS91cGxvYWRQaWN0dXJlcyc7CmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB7IGdldENvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCB1cGxvYWRJbWcgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZEltZyc7CmltcG9ydCB7IFZ1ZVRyZWVMaXN0LCBUcmVlLCBUcmVlTm9kZSB9IGZyb20gJ3Z1ZS10cmVlLWxpc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3VwbG9hZFBpY3R1cmVzJywKICBjb21wb25lbnRzOiB7CiAgICB1cGxvYWRJbWc6IHVwbG9hZEltZywKICAgIFZ1ZVRyZWVMaXN0OiBWdWVUcmVlTGlzdAogIH0sCiAgcHJvcHM6IHsKICAgIGlzQ2hvaWNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBpc1BhZ2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpc0lmcmFtZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGdyaWRCdG46IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZ3JpZFBpYzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBpc1Nob3c6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9LAogICAgcGFnZUxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNwaW5TaG93OiBmYWxzZSwKICAgICAgZmlsZVVybDogU2V0dGluZy5hcGlCYXNlVVJMICsgJy9maWxlL3VwbG9hZCcsCiAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgdHJlZURhdGE6IFtdLAogICAgICB0cmVlRGF0YTI6IFtdLAogICAgICBwaWN0cnVlTGlzdDogW10sCiAgICAgIHVwbG9hZERhdGE6IHt9LAogICAgICAvLyDkuIrkvKDlj4LmlbAKICAgICAgY2hlY2tQaWNMaXN0OiBbXSwKICAgICAgdXBsb2FkTmFtZTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGFsbDogMQogICAgICB9LAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBpZDogMAogICAgICB9LAogICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgdHJlZUlkOiAnJywKICAgICAgaXNKdWRnZTogZmFsc2UsCiAgICAgIGJ1dHRvblByb3BzOiB7CiAgICAgICAgdHlwZTogJ2RlZmF1bHQnLAogICAgICAgIHNpemU6ICdzbWFsbCcKICAgICAgfSwKICAgICAgZmlsZURhdGE6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VMaW1pdCB8fCAxOAogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgcGlkczogMCwKICAgICAgbGlzdDogW10sCiAgICAgIG1vZGFsVGl0bGVTczogJycsCiAgICAgIGlzU2hvd1BpYzogZmFsc2UsCiAgICAgIGhlYWRlcjoge30sCiAgICAgIGlkczogW10sCiAgICAgIC8vIOmAieS4remZhOS7tueahGlk6ZuG5ZCICiAgICAgIGxpZXRTdHlsZTogJ2xpc3QnLAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIHBpY21hcmdpbjogJzVweCcgLy/pu5jorqTot53nprvlj7Povrnot53nprsKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuaXNQYWdlKSB7CiAgICAgIHZhciBoYW5nID0gcGFyc2VJbnQoKGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC0gdGhpcy4kcmVmcy5pbWdMaXN0Qm94LmNsaWVudEhlaWdodCAtIDMyNSkgLyAxODApOyAvL+iuoeeul+ihjOaVsAogICAgICB2YXIgY29sID0gcGFyc2VJbnQodGhpcy4kcmVmcy5pbWdMaXN0Qm94LmNsaWVudFdpZHRoIC8gMTU2KTsgLy/orqHnrpfliJfmlbAKICAgICAgdGhpcy5maWxlRGF0YS5saW1pdCA9IGNvbCAqIGhhbmc7IC8v6K6h566X5YiG6aG15pWw6YePCiAgICAgIHRoaXMucGljbWFyZ2luID0gcGFyc2VJbnQodGhpcy4kcmVmcy5pbWdMaXN0Qm94LmNsaWVudFdpZHRoIC0gY29sICogMTQ2KSAvICgyICogY29sKSArICdweCc7IC8v5bmz5Z2H5YiG5biD6K6h566XbWFyZ2lu6Led56a7CiAgICB9CiAgICB0aGlzLmdldFRva2VuKCk7CiAgICAvLyB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJhZGlvQ2hhbmdlOiBmdW5jdGlvbiByYWRpb0NoYW5nZSgpIHsKICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgfSwKICAgIGxvb2tJbWc6IGZ1bmN0aW9uIGxvb2tJbWcoaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmltYWdlVXJsID0gaXRlbS51cmw7CiAgICAgIHZhciB2aWV3ZXIgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2VzJykuJHZpZXdlcjsKICAgICAgdmlld2VyLnNob3coKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpID0gX3RoaXMucGljdHJ1ZUxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS51cmwgPT09IGl0ZW0udXJsOwogICAgICAgIH0pOwogICAgICAgIHZpZXdlci51cGRhdGUoKS52aWV3KGkpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkRlbDogZnVuY3Rpb24gb25EZWwobm9kZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIG1ldGhvZCA9IG5vZGUuY2F0ZV9pZCA/IHJvdXRlRGVsIDogcm91dGVDYXRlRGVsOwogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBtZXNzYWdlOiAn5piv5ZCm56Gu5a6a5Yig6Zmk6K+l6I+c5Y2VJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5Yig6ZmkJywKICAgICAgICBpY29uQ2xhc3M6ICdlbC1pY29uLXdhcm5pbmcnLAogICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0bi1jdXN0b20tY2FuY2VsJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBtZXRob2Qobm9kZS51dUlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgbm9kZS5yZW1vdmUoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIG9uQ2hhbmdlTmFtZTogZnVuY3Rpb24gb25DaGFuZ2VOYW1lKHBhcmFtcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgaWYgKHBhcmFtcy5ldmVudFR5cGUgPT0gJ2JsdXInKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBmaWxlTmFtZTogcGFyYW1zLm5ld05hbWUsCiAgICAgICAgICB1dUlkOiBwYXJhbXMudXVJZAogICAgICAgIH07CiAgICAgICAgaW50ZXJmYWNlRWRpdE5hbWUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOa3u+WKoOWIhuexuwogICAgYWRkU29ydDogZnVuY3Rpb24gYWRkU29ydCgpIHsKICAgICAgdGhpcy5hcHBlbmQoewogICAgICAgIGlkOiB0aGlzLnRyZWVJZCB8fCAwCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+iPnOWNlQogICAgY2xpY2tNZW51OiBmdW5jdGlvbiBjbGlja01lbnUoZGF0YSwgbmFtZSkgewogICAgICBpZiAobmFtZSA9PSAxKSB7CiAgICAgICAgdGhpcy5hcHBlbmQoZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAyKSB7CiAgICAgICAgdGhpcy5lZGl0UGljKGRhdGEpOwogICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gMykgewogICAgICAgIHRoaXMucmVtb3ZlKGRhdGEsICfliIbnsbsnKTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZFN1Y2Nlc3M6IGZ1bmN0aW9uIHVwbG9hZFN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMuZmlsZURhdGEucGFnZSA9IDE7CiAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgICAgLy8gY29uc29sZS5sb2coMTExMTEpCiAgICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICAgIH0sCiAgICB1cGxvYWRNb2RhbDogZnVuY3Rpb24gdXBsb2FkTW9kYWwoKSB7CiAgICAgIHRoaXMuJHJlZnMudXBsb2FkLnVwbG9hZE1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBlbnRlck1vdXNlOiBmdW5jdGlvbiBlbnRlck1vdXNlKGl0ZW0pIHsKICAgICAgaXRlbS5maWxlTmFtZSA9ICFpdGVtLmZpbGVOYW1lOwogICAgfSwKICAgIGVudGVyTGVhdmU6IGZ1bmN0aW9uIGVudGVyTGVhdmUoaXRlbSkgewogICAgICBpdGVtLmlzU2hvd0VkaXQgPSAhaXRlbS5pc1Nob3dFZGl0OwogICAgfSwKICAgIC8vIOS4iuS8oOWktOmDqHRva2VuCiAgICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICAgIHRoaXMuaGVhZGVyWydBdXRob3JpLXphdGlvbiddID0gJ0JlYXJlciAnICsgZ2V0Q29va2llcygndG9rZW4nKTsKICAgIH0sCiAgICBtb3ZlSW1nOiBmdW5jdGlvbiBtb3ZlSW1nKHN0YXR1cykgewogICAgICBpZiAoIXN0YXR1cykgewogICAgICAgIHRoaXMuZ2V0TW92ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5pZHMudG9TdHJpbmcoKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flhYjpgInmi6nlm77niYcnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hJbWc6IGZ1bmN0aW9uIHNlYXJjaEltZygpIHt9LAogICAgLy8g56e75Yqo5YiG57G7CiAgICBnZXRNb3ZlOiBmdW5jdGlvbiBnZXRNb3ZlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdXVJZDogdGhpcy5waWRzLAogICAgICAgIGltYWdlczogdGhpcy5pZHMudG9TdHJpbmcoKQogICAgICB9OwogICAgICBpZiAoIWRhdGEuaW1hZ2VzKSByZXR1cm47CiAgICAgIG1vdmVBcGkoZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgX3RoaXM0LmdldEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICBfdGhpczQucGlkcyA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczQuY2hlY2tQaWNMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfdGhpczQuaWRzID0gW107CiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbEltZzogZnVuY3Rpb24gZGVsSW1nKGlkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgaWRzID0gewogICAgICAgIGlkczogaWQKICAgICAgfTsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiAn5Yig6Zmk6YCJ5Lit5Zu+54mHJywKICAgICAgICB1cmw6ICJmaWxlL2ZpbGUvZGVsZXRlIiwKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBpZHM6IGlkcwogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIF90aGlzNS5nZXRGaWxlTGlzdCgpOwogICAgICAgIF90aGlzNS5jaGVja1BpY0xpc3QgPSBbXTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5Zu+54mHCiAgICBlZGl0UGljTGlzdDogZnVuY3Rpb24gZWRpdFBpY0xpc3QoaWQpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSB7CiAgICAgICAgaWRzOiBpZCB8fCB0aGlzLmlkcy50b1N0cmluZygpCiAgICAgIH07CiAgICAgIHZhciBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogJ+WIoOmZpOmAieS4reWbvueJhycsCiAgICAgICAgdXJsOiAiZmlsZS9maWxlL2RlbGV0ZSIsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgaWRzOiBpZHMKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczYuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICBfdGhpczYuZ2V0RmlsZUxpc3QoKTsKICAgICAgICBfdGhpczYuaW5pdERhdGEoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKCkgewogICAgICB0aGlzLmNoZWNrUGljTGlzdCA9IFtdOwogICAgICB0aGlzLmlkcyA9IFtdOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gW107CiAgICB9LAogICAgLy8g6byg5qCH56e75YWlIOenu+WHugogICAgb25Nb3VzZU92ZXI6IGZ1bmN0aW9uIG9uTW91c2VPdmVyKHJvb3QsIG5vZGUsIGRhdGEpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgZGF0YS5mbGFnID0gIWRhdGEuZmxhZzsKICAgICAgaWYgKGRhdGEuZmxhZzIpIHsKICAgICAgICBkYXRhLmZsYWcyID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyDngrnlh7vmoJEKICAgIGFwcGVuZEJ0bjogZnVuY3Rpb24gYXBwZW5kQnRuKGRhdGEpIHsKICAgICAgdGhpcy50cmVlSWQgPSBkYXRhLmlkOwogICAgICB0aGlzLmZpbGVEYXRhLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICB9LAogICAgLy8g54K55Ye75re75YqgCiAgICBhcHBlbmQ6IGZ1bmN0aW9uIGFwcGVuZChkYXRhKSB7CiAgICAgIHRoaXMudHJlZUlkID0gZGF0YS5pZDsKICAgICAgdGhpcy5nZXRGcm9tKCk7CiAgICB9LAogICAgLy8g5Yig6Zmk5YiG57G7CiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShkYXRhLCB0aXQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHRoaXMudGl0cyA9IHRpdDsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiAn5Yig6ZmkIFsgJyArIGRhdGEudGl0bGUgKyAnIF0gJyArICfliIbnsbsnLAogICAgICAgIHVybDogImZpbGUvY2F0ZWdvcnkvIi5jb25jYXQoZGF0YS5pZCksCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBpZHM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM3LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXM3LmdldExpc3QoKTsKICAgICAgICBfdGhpczcuY2hlY2tQaWNMaXN0ID0gW107CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczcuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOe8lui+keagkeihqOWNlQogICAgZWRpdFBpYzogZnVuY3Rpb24gZWRpdFBpYyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0oY2F0ZWdvcnlFZGl0QXBpKGRhdGEuaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM4LmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57Si5YiG57G7CiAgICBjaGFuZ2VQYWdlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlKCkgewogICAgICB0aGlzLmdldExpc3QoJ3NlYXJjaCcpOwogICAgfSwKICAgIC8vIOWIhuexu+WIl+ihqOagkQogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCh0eXBlKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHRpdGxlOiAn5YWo6YOo5Zu+54mHJywKICAgICAgICBpZDogJycsCiAgICAgICAgcGlkOiAwCiAgICAgIH07CiAgICAgIC8vIGdldENhdGVnb3J5TGlzdEFwaSh0aGlzLnVwbG9hZE5hbWUpCiAgICAgIC8vICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAvLyAgICAgaWYgKHR5cGUgIT09ICdzZWFyY2gnKSB7CiAgICAgIC8vICAgICAgIHRoaXMudHJlZURhdGEyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShbLi4ucmVzLmRhdGEubGlzdF0pKTsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIHJlcy5kYXRhLmxpc3QudW5zaGlmdChkYXRhKTsKICAgICAgLy8gICAgIHRoaXMudHJlZURhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIC8vICAgfSk7CiAgICB9LAogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKGl0ZW0sIGNhbGxiYWNrKSB7CiAgICAgIC8vIGdldENhdGVnb3J5TGlzdEFwaSh7CiAgICAgIC8vICAgcGlkOiBpdGVtLmlkLAogICAgICAvLyB9KQogICAgICAvLyAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgLy8gICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAvLyAgICAgY2FsbGJhY2soZGF0YSk7CiAgICAgIC8vICAgfSkKICAgICAgLy8gICAuY2F0Y2goKHJlcykgPT4ge30pOwogICAgfSwKICAgIGFkZEZsYWc6IGZ1bmN0aW9uIGFkZEZsYWcodHJlZWRhdGEpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIHRyZWVkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIF90aGlzOS4kc2V0KGl0ZW0sICdmbGFnJywgZmFsc2UpOwogICAgICAgIF90aGlzOS4kc2V0KGl0ZW0sICdmbGFnMicsIGZhbHNlKTsKICAgICAgICBpdGVtLmNoaWxkcmVuICYmIF90aGlzOS5hZGRGbGFnKGl0ZW0uY2hpbGRyZW4pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlu7rliIbnsbsKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLnRyZWVJZCA9IDA7CiAgICAgIHRoaXMuZ2V0RnJvbSgpOwogICAgfSwKICAgIC8vIOaWh+S7tuWIl+ihqAogICAgZ2V0RmlsZUxpc3Q6IGZ1bmN0aW9uIGdldEZpbGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CiAgICAgIGZpbGVMaXN0QXBpKHRoaXMuZmlsZURhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXMuZGF0YS5saXN0LmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgIGVsLm51bSA9IDA7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZWRpdE5hbWUoZWwpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczEwLnBpY3RydWVMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLnBpY3RydWVMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfdGhpczEwLmlzU2hvd1BpYyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5pc1Nob3dQaWMgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMxMC50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgICAgICAgICAgX3RoaXMxMC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAvL+ehruS/nWRvbeWKoOi9veWujOavlQogICAgICAgICAgICAgICAgICBfdGhpczEwLnNob3dTZWxlY3REYXRhKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEwLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93U2VsZWN0RGF0YTogZnVuY3Rpb24gc2hvd1NlbGVjdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoID4gMCkgewogICAgICAgIC8vIOWIpOaWreaYr+WQpuWtmOWcqOWLvumAiei/h+eahOaVsOaNrgogICAgICAgIHRoaXMucGljdHJ1ZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7CiAgICAgICAgICAvLyDojrflj5bmlbDmja7liJfooajmjqXlj6Por7fmsYLliLDnmoTmlbDmja4KICAgICAgICAgIF90aGlzMTEubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAvLyDli77pgInliLDnmoTmlbDmja4KICAgICAgICAgICAgaWYgKHJvdy51dUlkID09PSBpdGVtLnV1SWQpIHsKICAgICAgICAgICAgICBfdGhpczExLiRyZWZzLnRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihpdGVtLCB0cnVlKTsgLy8g6Iul5pyJ6YeN5ZCI77yM5YiZ5Zue5pi+6K+l5p2h5pWw5o2uCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0Um93S2V5OiBmdW5jdGlvbiBnZXRSb3dLZXkocm93KSB7CiAgICAgIHJldHVybiByb3cudXVJZDsKICAgIH0sCiAgICAvL+WvueixoeaVsOe7hOWOu+mHje+8mwogICAgdW5pcXVlOiBmdW5jdGlvbiB1bmlxdWUoYXJyKSB7CiAgICAgIHZhciByZXN1bHQgPSBhcnIucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnIpIHsKICAgICAgICB2YXIgeCA9IGFjYy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS51dUlkID09PSBjdXJyLnV1SWQ7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCF4KSB7CiAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChbY3Vycl0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0KICAgICAgfSwgW10pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIC8vICDpgInkuK3mn5DkuIDooYwKICAgIGhhbmRsZVNlbGVjdFJvdzogZnVuY3Rpb24gaGFuZGxlU2VsZWN0Um93KHNlbGVjdGlvbikgewogICAgICB2YXIgYXJyID0gdGhpcy51bmlxdWUoc2VsZWN0aW9uKTsKICAgICAgdmFyIHVuaXF1ZUFyciA9IFtdOwogICAgICB2YXIgaWRzID0gW107CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBhcnJbaV07CiAgICAgICAgaWYgKCFpZHMuaW5jbHVkZXMoaXRlbS51dUlkKSkgewogICAgICAgICAgdW5pcXVlQXJyLnB1c2goaXRlbSk7CiAgICAgICAgICBpZHMucHVzaChpdGVtLnV1SWQpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmlkcyA9IGlkczsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHVuaXF1ZUFycjsKICAgIH0sCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKGluZGV4KSB7CiAgICAgIHRoaXMuZmlsZURhdGEucGFnZSA9IGluZGV4OwogICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICAgIHRoaXMuY2hlY2tQaWNMaXN0ID0gW107CiAgICB9LAogICAgLy8g5paw5bu65YiG57G76KGo5Y2VCiAgICBnZXRGcm9tOiBmdW5jdGlvbiBnZXRGcm9tKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShjcmVhdGVBcGkoewogICAgICAgIGlkOiB0aGlzLnRyZWVJZAogICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMi5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS4iuS8oOS5i+WJjQogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CiAgICAgIC8vIGlmIChmaWxlLnNpemUgPiAyMDk3MTUyKSB7CiAgICAgIC8vICAgdGhpcy4kbWVzc2FnZS5lcnJvcihmaWxlLm5hbWUgKyAi5aSn5bCP6LaF6L+HMk0hIik7CiAgICAgIC8vIH0gZWxzZQogICAgICBpZiAoIS9pbWFnZVwvXHcrLy50ZXN0KGZpbGUudHlwZSkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fkuIrkvKDku6VqcGfjgIFqcGVn44CBcG5n562J57uT5bC+55qE5Zu+54mH5paH5Lu2Jyk7IC8vRmlsZUV4dC50b0xvd2VyQ2FzZSgpCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMudXBsb2FkRGF0YSA9IHsKICAgICAgICBwaWQ6IHRoaXMudHJlZUlkCiAgICAgIH07CiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBfdGhpczEzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHByb21pc2U7CiAgICB9LAogICAgLy8g5LiK5Lyg5oiQ5YqfCiAgICBoYW5kbGVTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVTdWNjZXNzKHJlcywgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB0aGlzLmZpbGVEYXRhLnBhZ2UgPSAxOwogICAgICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9CiAgICB9LAogICAgLy8g5YWz6ZetCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlQ2FuY2VsJyk7CiAgICB9LAogICAgLy8g6YCJ5Lit5Zu+54mHCiAgICBjaGFuZ0ltYWdlOiBmdW5jdGlvbiBjaGFuZ0ltYWdlKGl0ZW0sIGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICB2YXIgYWN0aXZlSW5kZXggPSAwOwogICAgICBpZiAoIWl0ZW0uaXNTZWxlY3QpIHsKICAgICAgICBpdGVtLmlzU2VsZWN0ID0gdHJ1ZTsKICAgICAgICB0aGlzLmNoZWNrUGljTGlzdC5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW0uaXNTZWxlY3QgPSBmYWxzZTsKICAgICAgICB0aGlzLmNoZWNrUGljTGlzdC5tYXAoZnVuY3Rpb24gKGVsLCBpbmRleCkgewogICAgICAgICAgaWYgKGVsLnV1SWQgPT0gaXRlbS51dUlkKSB7CiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jaGVja1BpY0xpc3Quc3BsaWNlKGFjdGl2ZUluZGV4LCAxKTsKICAgICAgfQogICAgICB0aGlzLmlkcyA9IFtdOwogICAgICB0aGlzLmNoZWNrUGljTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgICBfdGhpczE0Lmlkcy5wdXNoKGl0ZW0udXVJZCk7CiAgICAgIH0pOwogICAgICB0aGlzLnBpY3RydWVMaXN0Lm1hcChmdW5jdGlvbiAoZWwsIGkpIHsKICAgICAgICBpZiAoZWwuaXNTZWxlY3QpIHsKICAgICAgICAgIF90aGlzMTQuY2hlY2tQaWNMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwyLCBqKSB7CiAgICAgICAgICAgIGlmIChlbC51dUlkID09IGVsMi51dUlkKSB7CiAgICAgICAgICAgICAgZWwubnVtID0gaiArIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbC5udW0gPSAwOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75L2/55So6YCJ5Lit5Zu+54mHCiAgICBjaGVja1BpY3M6IGZ1bmN0aW9uIGNoZWNrUGljcygpIHsKICAgICAgaWYgKHRoaXMuaXNDaG9pY2UgPT09ICfljZXpgIknKSB7CiAgICAgICAgaWYgKHRoaXMuY2hlY2tQaWNMaXN0Lmxlbmd0aCA+IDEpIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+acgOWkmuWPquiDvemAieS4gOW8oOWbvueJhycpOwogICAgICAgIHRoaXMuJGVtaXQoJ2dldFBpYycsIHRoaXMuY2hlY2tQaWNMaXN0WzBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbWF4TGVuZ3RoID0gdGhpcy4kcm91dGUucXVlcnkubWF4TGVuZ3RoOwogICAgICAgIGlmIChtYXhMZW5ndGggIT0gdW5kZWZpbmVkICYmIHRoaXMuY2hlY2tQaWNMaXN0Lmxlbmd0aCA+IE51bWJlcihtYXhMZW5ndGgpKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmnIDlpJrlj6rog73pgIknICsgbWF4TGVuZ3RoICsgJ+W8oOWbvueJhycpOwogICAgICAgIHRoaXMuJGVtaXQoJ2dldFBpY0QnLCB0aGlzLmNoZWNrUGljTGlzdCk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0TmFtZTogZnVuY3Rpb24gZWRpdE5hbWUoaXRlbSkgewogICAgICB2YXIgaXQgPSBpdGVtLmZpbGVOYW1lLnNwbGl0KCcuJyk7CiAgICAgIHZhciBpdDEgPSBpdFsxXSA9PSB1bmRlZmluZWQgPyBbXSA6IGl0WzFdOwogICAgICB2YXIgbGVuID0gaXRbMF0ubGVuZ3RoICsgaXQxLmxlbmd0aDsKICAgICAgaXRlbS5lZGl0TmFtZSA9IGxlbiA8IDEwID8gaXRlbS5maWxlTmFtZSA6IGl0ZW0uZmlsZU5hbWUuc3Vic3RyKDAsIDQpICsgJy4uLicgKyBpdGVtLmZpbGVOYW1lLnN1YnN0cigtNSwgNSk7CiAgICB9LAogICAgLy8g5L+u5pS55Zu+54mH5paH5a2X5LiK5LygCiAgICBiaW5kVHh0OiBmdW5jdGlvbiBiaW5kVHh0KGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwogICAgICBpZiAoaXRlbS5maWxlTmFtZSA9PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeWGheWuuScpOwogICAgICB9CiAgICAgIGZpbGVVcGRhdGVBcGkoaXRlbS51dUlkLCB7CiAgICAgICAgZmlsZU5hbWU6IGl0ZW0uZmlsZU5hbWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNS5lZGl0TmFtZShpdGVtKTsKICAgICAgICBpdGVtLmlzRWRpdCA9IGZhbHNlOwogICAgICAgIF90aGlzMTUuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMxNS4kbWVzc2FnZS5lcnJvcihlcnJvci5tc2cpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},null]}