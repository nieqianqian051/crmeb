{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/tagsView/contextmenu.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/navBars/tagsView/contextmenu.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXlvdXRUYWdzVmlld0NvbnRleHRtZW51JywKICBwcm9wczogewogICAgZHJvcGRvd246IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93OiBmYWxzZSwKICAgICAgZHJvcGRvd25MaXN0OiBbewogICAgICAgIGlkOiAwLAogICAgICAgIHR4dDogJ21lc3NhZ2UudGFnc1ZpZXcucmVmcmVzaCcsCiAgICAgICAgYWZmaXg6IGZhbHNlLAogICAgICAgIGljb246ICdlbC1pY29uLXJlZnJlc2gtcmlnaHQnCiAgICAgIH0sIHsKICAgICAgICBpZDogMSwKICAgICAgICB0eHQ6ICdtZXNzYWdlLnRhZ3NWaWV3LmNsb3NlJywKICAgICAgICBhZmZpeDogZmFsc2UsCiAgICAgICAgaWNvbjogJ2VsLWljb24tY2xvc2UnCiAgICAgIH0sIHsKICAgICAgICBpZDogMiwKICAgICAgICB0eHQ6ICdtZXNzYWdlLnRhZ3NWaWV3LmNsb3NlT3RoZXInLAogICAgICAgIGFmZml4OiBmYWxzZSwKICAgICAgICBpY29uOiAnZWwtaWNvbi1jaXJjbGUtY2xvc2UnCiAgICAgIH0sIHsKICAgICAgICBpZDogMywKICAgICAgICB0eHQ6ICdtZXNzYWdlLnRhZ3NWaWV3LmNsb3NlQWxsJywKICAgICAgICBhZmZpeDogZmFsc2UsCiAgICAgICAgaWNvbjogJ2VsLWljb24tZm9sZGVyLWRlbGV0ZScKICAgICAgfV0sCiAgICAgIHBhdGg6IHt9LAogICAgICBhcnJvd0xlZnQ6IDUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZHJvcGRvd25zOiBmdW5jdGlvbiBkcm9wZG93bnMoKSB7CiAgICAgIC8vIDk5IOS4uiBgRHJvcGRvd24g5LiL5ouJ6I+c5Y2VYCDnmoTlrr3luqYKICAgICAgaWYgKHRoaXMuZHJvcGRvd24ueCArIDk5ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIDk5IC0gNSwKICAgICAgICAgIHk6IHRoaXMuZHJvcGRvd24ueQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZHJvcGRvd247CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyDnm5HlkKzpobXpnaLnm5HlkKzov5vooYzlj7PplK7oj5zljZXnmoTlhbPpl60KICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlQ29udGV4dG1lbnUpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5b2T5YmN6aG56I+c5Y2V54K55Ye7CiAgICBvbkN1cnJlbnRDb250ZXh0bWVudUNsaWNrOiBmdW5jdGlvbiBvbkN1cnJlbnRDb250ZXh0bWVudUNsaWNrKGlkKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2N1cnJlbnRDb250ZXh0bWVudUNsaWNrJywgewogICAgICAgIGlkOiBpZCwKICAgICAgICBwYXRoOiB0aGlzLnBhdGgKICAgICAgfSk7CiAgICB9LAogICAgLy8g5omT5byA5Y+z6ZSu6I+c5Y2V77ya5Yik5pat5piv5ZCm5Zu65a6a77yM5Zu65a6a5YiZ5LiN5pi+56S65YWz6Zet5oyJ6ZKuCiAgICBvcGVuQ29udGV4dG1lbnU6IGZ1bmN0aW9uIG9wZW5Db250ZXh0bWVudShpdGVtKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMucGF0aCA9IGl0ZW0ucGF0aDsKICAgICAgaXRlbS5tZXRhLmlzQWZmaXggPyB0aGlzLmRyb3Bkb3duTGlzdFsxXS5hZmZpeCA9IHRydWUgOiB0aGlzLmRyb3Bkb3duTGlzdFsxXS5hZmZpeCA9IGZhbHNlOwogICAgICB0aGlzLmNsb3NlQ29udGV4dG1lbnUoKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaXNTaG93ID0gdHJ1ZTsKICAgICAgfSwgODApOwogICAgfSwKICAgIC8vIOWFs+mXreWPs+mUruiPnOWNlQogICAgY2xvc2VDb250ZXh0bWVudTogZnVuY3Rpb24gY2xvc2VDb250ZXh0bWVudSgpIHsKICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgIH0KICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgLy8g6aG16Z2i5Y246L295pe277yM56e76Zmk5Y+z6ZSu6I+c5Y2V55uR5ZCs5LqL5Lu2CiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZUNvbnRleHRtZW51KTsKICB9LAogIC8vIOebkeWQrOS4i+aLieiPnOWNleS9jee9rgogIHdhdGNoOiB7CiAgICBkcm9wZG93bjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKF9yZWYpIHsKICAgICAgICB2YXIgeCA9IF9yZWYueDsKICAgICAgICBpZiAoeCArIDk5ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB0aGlzLmFycm93TGVmdCA9IDk5IC0gKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIHgpO2Vsc2UgdGhpcy5hcnJvd0xlZnQgPSAxMDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["name","props","dropdown","type","Object","data","isShow","dropdownList","id","txt","affix","icon","path","arrowLeft","computed","dropdowns","x","document","documentElement","clientWidth","y","mounted","body","addEventListener","closeContextmenu","methods","onCurrentContextmenuClick","$emit","openContextmenu","item","_this","meta","isAffix","setTimeout","destroyed","removeEventListener","watch","handler","_ref","deep"],"sources":["src/layout/navBars/tagsView/contextmenu.vue"],"sourcesContent":["<template>\n  <div>\n    <transition name=\"el-zoom-in-center\">\n      <ul\n        class=\"el-dropdown-menu el-popper el-dropdown-menu--medium custom-contextmenu\"\n        :style=\"`top: ${dropdowns.y}px;left: ${dropdowns.x}px;`\"\n        x-placement=\"bottom-end\"\n        id=\"contextmenu\"\n        v-show=\"isShow\"\n      >\n        <li\n          class=\"el-dropdown-menu__item\"\n          v-for=\"(v, k) in dropdownList\"\n          :key=\"k\"\n          @click=\"onCurrentContextmenuClick(v.id)\"\n        >\n          <template v-if=\"!v.affix\">\n            <i :class=\"v.icon\"></i>\n            <span>{{ $t(v.txt) }}</span>\n          </template>\n        </li>\n        <div x-arrow class=\"popper__arrow\" :style=\"{ left: `${arrowLeft}px` }\"></div>\n      </ul>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'layoutTagsViewContextmenu',\n  props: {\n    dropdown: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      isShow: false,\n      dropdownList: [\n        { id: 0, txt: 'message.tagsView.refresh', affix: false, icon: 'el-icon-refresh-right' },\n        { id: 1, txt: 'message.tagsView.close', affix: false, icon: 'el-icon-close' },\n        { id: 2, txt: 'message.tagsView.closeOther', affix: false, icon: 'el-icon-circle-close' },\n        { id: 3, txt: 'message.tagsView.closeAll', affix: false, icon: 'el-icon-folder-delete' },\n      ],\n      path: {},\n      arrowLeft: 5,\n    };\n  },\n  computed: {\n    dropdowns() {\n      // 99 为 `Dropdown 下拉菜单` 的宽度\n      if (this.dropdown.x + 99 > document.documentElement.clientWidth) {\n        return {\n          x: document.documentElement.clientWidth - 99 - 5,\n          y: this.dropdown.y,\n        };\n      } else {\n        return this.dropdown;\n      }\n    },\n  },\n  mounted() {\n    // 监听页面监听进行右键菜单的关闭\n    document.body.addEventListener('click', this.closeContextmenu);\n  },\n  methods: {\n    // 当前项菜单点击\n    onCurrentContextmenuClick(id) {\n      this.$emit('currentContextmenuClick', { id, path: this.path });\n    },\n    // 打开右键菜单：判断是否固定，固定则不显示关闭按钮\n    openContextmenu(item) {\n      this.path = item.path;\n      item.meta.isAffix ? (this.dropdownList[1].affix = true) : (this.dropdownList[1].affix = false);\n      this.closeContextmenu();\n      setTimeout(() => {\n        this.isShow = true;\n      }, 80);\n    },\n    // 关闭右键菜单\n    closeContextmenu() {\n      this.isShow = false;\n    },\n  },\n  destroyed() {\n    // 页面卸载时，移除右键菜单监听事件\n    document.body.removeEventListener('click', this.closeContextmenu);\n  },\n  // 监听下拉菜单位置\n  watch: {\n    dropdown: {\n      handler({ x }) {\n        if (x + 99 > document.documentElement.clientWidth)\n          this.arrowLeft = 99 - (document.documentElement.clientWidth - x);\n        else this.arrowLeft = 10;\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.custom-contextmenu {\n  transform-origin: center top;\n  z-index: 2190;\n  position: fixed;\n  .el-dropdown-menu__item {\n    font-size: 12px !important;\n    white-space: nowrap;\n    i {\n      font-size: 12px !important;\n    }\n  }\n}\n</style>\n"],"mappings":"AA4BA;EACAA,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,YAAA,GACA;QAAAC,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,EACA;MACAC,IAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA;MACA,SAAAb,QAAA,CAAAc,CAAA,QAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA;QACA;UACAH,CAAA,EAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA;UACAC,CAAA,OAAAlB,QAAA,CAAAkB;QACA;MACA;QACA,YAAAlB,QAAA;MACA;IACA;EACA;EACAmB,OAAA,WAAAA,QAAA;IACA;IACAJ,QAAA,CAAAK,IAAA,CAAAC,gBAAA,eAAAC,gBAAA;EACA;EACAC,OAAA;IACA;IACAC,yBAAA,WAAAA,0BAAAlB,EAAA;MACA,KAAAmB,KAAA;QAAAnB,EAAA,EAAAA,EAAA;QAAAI,IAAA,OAAAA;MAAA;IACA;IACA;IACAgB,eAAA,WAAAA,gBAAAC,IAAA;MAAA,IAAAC,KAAA;MACA,KAAAlB,IAAA,GAAAiB,IAAA,CAAAjB,IAAA;MACAiB,IAAA,CAAAE,IAAA,CAAAC,OAAA,QAAAzB,YAAA,IAAAG,KAAA,eAAAH,YAAA,IAAAG,KAAA;MACA,KAAAc,gBAAA;MACAS,UAAA;QACAH,KAAA,CAAAxB,MAAA;MACA;IACA;IACA;IACAkB,gBAAA,WAAAA,iBAAA;MACA,KAAAlB,MAAA;IACA;EACA;EACA4B,SAAA,WAAAA,UAAA;IACA;IACAjB,QAAA,CAAAK,IAAA,CAAAa,mBAAA,eAAAX,gBAAA;EACA;EACA;EACAY,KAAA;IACAlC,QAAA;MACAmC,OAAA,WAAAA,QAAAC,IAAA;QAAA,IAAAtB,CAAA,GAAAsB,IAAA,CAAAtB,CAAA;QACA,IAAAA,CAAA,QAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA,EACA,KAAAN,SAAA,SAAAI,QAAA,CAAAC,eAAA,CAAAC,WAAA,GAAAH,CAAA,OACA,KAAAH,SAAA;MACA;MACA0B,IAAA;IACA;EACA;AACA","ignoreList":[]}]}