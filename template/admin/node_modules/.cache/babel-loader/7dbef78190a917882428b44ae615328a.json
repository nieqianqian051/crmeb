{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/backendRouting/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/backendRouting/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvbmllcWlhbnFpYW4vRG93bmxvYWRzL3hpbnhpYW5nbXUvQ1JNRUIvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IHJvdXRlQ2F0ZSwgc3luY1JvdXRlIGFzIF9zeW5jUm91dGUsIHJvdXRlTGlzdCwgcm91dGVEZXQsIHJvdXRlU2F2ZSwgaW50ZXJmYWNlRWRpdE5hbWUsIHJvdXRlRGVsLCByb3V0ZUVkaXQsIHJvdXRlQ2F0ZURlbCB9IGZyb20gJ0AvYXBpL3N5c3RlbUJhY2tlbmRSb3V0aW5nJzsKaW1wb3J0IHsgVnVlVHJlZUxpc3QsIFRyZWUsIFRyZWVOb2RlIH0gZnJvbSAndnVlLXRyZWUtbGlzdCc7CmltcG9ydCBkZWJ1Z2dpbmcgZnJvbSAnLi9kZWJ1Z2dpbmcudnVlJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgaW50ZXJmYWNlRGVsIH0gZnJvbSAnQGFwaS9zeXN0ZW1PdXRBY2NvdW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzeXN0ZW1PdXRJbnRlcmZhY2UnLAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZVRyZWVMaXN0OiBWdWVUcmVlTGlzdCwKICAgIGRlYnVnZ2luZzogZGVidWdnaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsdWU6ICcnLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBuYW1lTW9kYWw6IGZhbHNlLAogICAgICBkZWJ1Z2dpbmdNb2RhbDogZmFsc2UsCiAgICAgIGZvcm1WYWxpZGF0ZToge30sCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogNywKICAgICAgICBsZzogNywKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDI0LAogICAgICAgIHhzOiAyNAogICAgICB9LAogICAgICBydWxlVmFsaWRhdGU6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTmj4/ov7AgKOS4jeiDveWkmuS6jjIwMOS9jeaVsCknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgbWF4OiAyMDAKICAgICAgICB9XQogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgaW50VHlwZUxpc3Q6IFt7CiAgICAgICAgdmFsdWU6ICdzdHJpbmcnLAogICAgICAgIGxhYmVsOiAnU3RyaW5nJwogICAgICB9LAogICAgICAvLyB7CiAgICAgIC8vICAgdmFsdWU6ICdhcnJheScsCiAgICAgIC8vICAgbGFiZWw6ICdBcnJheScsCiAgICAgIC8vIH0sCiAgICAgIC8vIHsKICAgICAgLy8gICB2YWx1ZTogJ29iamVjdCcsCiAgICAgIC8vICAgbGFiZWw6ICdPYmplY3QnLAogICAgICAvLyB9LAogICAgICB7CiAgICAgICAgdmFsdWU6ICdudW1iZXInLAogICAgICAgIGxhYmVsOiAnTnVtYmVyJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdib29sZWFuJywKICAgICAgICBsYWJlbDogJ0Jvb2xlYW4nCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ251bGwnLAogICAgICAgIGxhYmVsOiAnTnVsbCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnYW55JywKICAgICAgICBsYWJlbDogJ0FueScKICAgICAgfV0sCiAgICAgIHR5cGVMaXN0OiBbewogICAgICAgIHZhbHVlOiAnc3RyaW5nJywKICAgICAgICBsYWJlbDogJ1N0cmluZycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnYXJyYXknLAogICAgICAgIGxhYmVsOiAnQXJyYXknCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ29iamVjdCcsCiAgICAgICAgbGFiZWw6ICdPYmplY3QnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ251bWJlcicsCiAgICAgICAgbGFiZWw6ICdOdW1iZXInCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ2Jvb2xlYW4nLAogICAgICAgIGxhYmVsOiAnQm9vbGVhbicKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnbnVsbCcsCiAgICAgICAgbGFiZWw6ICdOdWxsJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdhbnknLAogICAgICAgIGxhYmVsOiAnQW55JwogICAgICB9XSwKICAgICAgcmVxdWVzdFR5cGVMaXN0OiBbewogICAgICAgIHZhbHVlOiAnR0VUJywKICAgICAgICBsYWJlbDogJ0dFVCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnUE9TVCcsCiAgICAgICAgbGFiZWw6ICdQT1NUJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdERUxFVEUnLAogICAgICAgIGxhYmVsOiAnREVMRVRFJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdQVVQnLAogICAgICAgIGxhYmVsOiAnUFVUJwogICAgICB9XSwKICAgICAgY29udGV4dERhdGE6IG51bGwsCiAgICAgIC8v5bem5L6n5a+86Iiq5Y+z6ZSu54K55Ye75piv5Lqn55Sf55qE5pWw5o2u5a+56LGhCiAgICAgIHRyZWVEYXRhOiB1bmRlZmluZWQsCiAgICAgIGJ1dHRvblByb3BzOiB7CiAgICAgICAgdHlwZTogJ2RlZmF1bHQnLAogICAgICAgIHNpemU6ICdzbWFsbCcKICAgICAgfSwKICAgICAgbWV0aG9kQ29sb3I6ICcjZmZmJywKICAgICAgYXBpVHlwZTogJ2FkbWluYXBpJywKICAgICAgcGFyYW1zSWQ6IDAsCiAgICAgIHdpbkxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LCAnZm9ybVZhbGlkYXRlLm1ldGhvZCcsIHsKICAgIGRlZXA6IHRydWUsCiAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICB2YXIgbWV0aG9kID0gbmV3VmFsLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgaWYgKG1ldGhvZCA9PSAnR0VUJykgewogICAgICAgICAgdGhpcy5tZXRob2RDb2xvciA9ICcjNjFhZmZlJzsKICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PSAnUE9TVCcpIHsKICAgICAgICAgIHRoaXMubWV0aG9kQ29sb3IgPSAnIzQ5Y2M5MCc7CiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ1BVVCcpIHsKICAgICAgICAgIHRoaXMubWV0aG9kQ29sb3IgPSAnI2ZjYTEzMCc7CiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ0RFTCcgfHwgbWV0aG9kID09ICdERUxFVEUnKSB7CiAgICAgICAgICB0aGlzLm1ldGhvZENvbG9yID0gJyNmOTNlM2UnOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pLCAiYXBpVHlwZSIsIGZ1bmN0aW9uIGFwaVR5cGUobmV3VmFsKSB7CiAgICBpZiAobmV3VmFsKSB7CiAgICAgIHRoaXMud2luTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZ2V0SW50ZXJmYWNlTGlzdCgnb25lJyk7CiAgICB9CiAgfSksICJpc0VkaXQiLCBmdW5jdGlvbiBpc0VkaXQobmV3VmFsKSB7CiAgICBpZiAobmV3VmFsKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnJlc3BvbnNlX2V4YW1wbGUubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5kYXRhID0gSlNPTi5zdHJpbmdpZnkoZS5kYXRhKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybVZhbGlkYXRlLnJlc3BvbnNlX2V4YW1wbGUsICd0aGlzLmZvcm1WYWxpZGF0ZS5yZXNwb25zZV9leGFtcGxlJyk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5yZXNwb25zZV9leGFtcGxlLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIGUuZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSksIHt9LCB7CiAgICBsYWJlbFdpZHRoOiBmdW5jdGlvbiBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6ICc1MHB4JzsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uOiBmdW5jdGlvbiBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRJbnRlcmZhY2VMaXN0KCdvbmUnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN5bmNSb3V0ZTogZnVuY3Rpb24gc3luY1JvdXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRtc2dib3goewogICAgICAgIHRpdGxlOiAn56uL5Y2z5ZCM5q2lJywKICAgICAgICBtZXNzYWdlOiAn5ZCM5q2l5LmL5ZCO77yM6Lev55Sx5paH5Lu25Lit5paw5aKe55qE5o6l5Y+j5re75Yqg5Yiw5o6l5Y+j5YiX6KGo5Lit77yM6Lev55Sx5paH5Lu25Lit5Yig6Zmk55qE6Lev55Sx5Lya5ZCM5q2l55qE5Zyo5o6l5Y+j5YiX6KGo5Lit5Yig6ZmkJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBpY29uQ2xhc3M6ICdlbC1pY29uLXdhcm5pbmcnLAogICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0bi1jdXN0b20tY2FuY2VsJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfc3luY1JvdXRlKF90aGlzLmFwaVR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuZ2V0SW50ZXJmYWNlTGlzdCgnb25lJyk7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgZGVidWdnaW5nOiBmdW5jdGlvbiBkZWJ1Z2dpbmcoKSB7CiAgICAgIHRoaXMuZGVidWdnaW5nTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIG9uQ2xpY2tzc3M6IGZ1bmN0aW9uIG9uQ2xpY2tzc3MoZSkge30sCiAgICBtZXRob2RzQ29sb3I6IGZ1bmN0aW9uIG1ldGhvZHNDb2xvcihuZXdWYWwpIHsKICAgICAgdmFyIG1ldGhvZCA9IG5ld1ZhbC50b1VwcGVyQ2FzZSgpOwogICAgICBpZiAobWV0aG9kID09ICdHRVQnKSB7CiAgICAgICAgcmV0dXJuICcjNjFhZmZlJzsKICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ1BPU1QnKSB7CiAgICAgICAgcmV0dXJuICcjNDljYzkwJzsKICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT0gJ1BVVCcpIHsKICAgICAgICByZXR1cm4gJyNmY2ExMzAnOwogICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PSAnREVMJyB8fCBtZXRob2QgPT0gJ0RFTEVURScpIHsKICAgICAgICByZXR1cm4gJyNmOTNlM2UnOwogICAgICB9CiAgICB9LAogICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiBpbnNlcnRCZWZvcmUocGFyYW1zKSB7fSwKICAgIGluc2VydEFmdGVyOiBmdW5jdGlvbiBpbnNlcnRBZnRlcihwYXJhbXMpIHt9LAogICAgbW92ZUludG86IGZ1bmN0aW9uIG1vdmVJbnRvKHBhcmFtcykge30sCiAgICBhZGRUYWJsZURhdGE6IGZ1bmN0aW9uIGFkZFRhYmxlRGF0YSgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJCR0YWJsZSRpbnNlcnRBLCBkYXRhOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiAkdGFibGUuaW5zZXJ0QXQobmV3Um93LCAtMSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfeWllbGQkJHRhYmxlJGluc2VydEEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkJHRhYmxlJGluc2VydEEucm93OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiAkdGFibGUuc2V0QWN0aXZlQ2VsbChkYXRhLCAnbmFtZScpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0SW50ZXJmYWNlTGlzdDogZnVuY3Rpb24gZ2V0SW50ZXJmYWNlTGlzdChkaXNrX3R5cGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRyeSB7CiAgICAgICAgcm91dGVMaXN0KHRoaXMuYXBpVHlwZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgIHJlcy5kYXRhWzBdLmV4cGFuZCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczIudHJlZURhdGEgPSBuZXcgVHJlZShyZXMuZGF0YSk7CiAgICAgICAgICAgIHZhciBpOwogICAgICAgICAgICBfdGhpczIuJG5leHRUaWNrKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgaWYgKGRpc2tfdHlwZSkgewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhWzBdLmNoaWxkcmVuICYmIHJlcy5kYXRhWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuICYmIHJlcy5kYXRhWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnRsLWljb24tY2FyZXQtcmlnaHQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnRsLWljb24tY2FyZXQtcmlnaHQnKVsxXS5jbGljaygpOwogICAgICAgICAgICAgICAgICBpID0gcmVzLmRhdGFbMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnRsLWljb24tY2FyZXQtcmlnaHQnKVswXS5jbGljaygpOwogICAgICAgICAgICAgICAgICBpID0gcmVzLmRhdGFbMF0uY2hpbGRyZW5bMF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpczIub25DbGljayhpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gdGhpcy4kcmVmcy50cmVlTGlzdC5jbGVhcigpOwogICAgICAgICAgICBfdGhpczIudHJlZURhdGEgPSBuZXcgVHJlZSh7fSk7CiAgICAgICAgICAgIF90aGlzMi5mb3JtVmFsaWRhdGUgPSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzMi53aW5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXMyLndpbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKHBhcmFtcykgewogICAgICB0cnkgewogICAgICAgIGlmIChwYXJhbXMubWV0aG9kKSB7CiAgICAgICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5wYXJhbXNJZCA9IHBhcmFtcy5pZDsKICAgICAgICAgIHRoaXMuZ2V0Um90ZURhdGEocGFyYW1zLmlkKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQogICAgfSwKICAgIGdldFJvdGVEYXRhOiBmdW5jdGlvbiBnZXRSb3RlRGF0YShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcm91dGVEZXQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5mb3JtVmFsaWRhdGUgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKF90aGlzNC5mb3JtVmFsaWRhdGUubmFtZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczQuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5o6l5Y+j5ZCN56ewJykpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgaWYgKF90aGlzNC5mb3JtVmFsaWRhdGUubWV0aG9kKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzNC4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nor7fmsYLnsbvlnosnKSk7CiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBpZiAoX3RoaXM0LmZvcm1WYWxpZGF0ZS5wYXRoKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczQuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl6Lev55Sx5Zyw5Z2AJykpOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy5ib2R5VGFibGUuZ2V0VGFibGVEYXRhKCkudGFibGVEYXRhOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUucmVxdWVzdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy5yZXNUYWJsZS5nZXRUYWJsZURhdGEoKS50YWJsZURhdGE7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX3RoaXM0LmZvcm1WYWxpZGF0ZS5yZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy5jb2RlVGFibGUuZ2V0VGFibGVEYXRhKCkudGFibGVEYXRhOwogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUuZXJyb3JfY29kZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy5oZWFkVGFibGUuZ2V0VGFibGVEYXRhKCkudGFibGVEYXRhOwogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUuaGVhZGVyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRyZWZzLnhUYWJsZS5nZXRUYWJsZURhdGEoKS50YWJsZURhdGE7CiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgX3RoaXM0LmZvcm1WYWxpZGF0ZS5xdWVyeSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUuYXBpVHlwZSA9IF90aGlzNC5hcGlUeXBlOwogICAgICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUucmVzcG9uc2VfZXhhbXBsZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGUuZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI5OwogICAgICAgICAgICAgIHJldHVybiByb3V0ZVNhdmUoX3RoaXM0LmZvcm1WYWxpZGF0ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICAgIF90aGlzNC5nZXRSb3RlRGF0YShfdGhpczQucGFyYW1zSWQpOwogICAgICAgICAgICAgICAgX3RoaXM0LmlzRWRpdCA9IGZhbHNlOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGluc2VydEV2ZW50OiBmdW5jdGlvbiBpbnNlcnRFdmVudCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgJHRhYmxlLCBuZXdSb3csIF95aWVsZCQkdGFibGUkaW5zZXJ0QTIsIGRhdGE7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICR0YWJsZSA9IF90aGlzNS4kcmVmc1t0eXBlXTsKICAgICAgICAgICAgICBpZiAodHlwZSA9PSAneFRhYmxlJykgewogICAgICAgICAgICAgICAgbmV3Um93ID0gewogICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLAogICAgICAgICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgICAgICAgbXVzdDogMCwKICAgICAgICAgICAgICAgICAgdHJpcDogJycKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdyZXNUYWJsZScpIHsKICAgICAgICAgICAgICAgIG5ld1JvdyA9IHsKICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJywKICAgICAgICAgICAgICAgICAgdHlwZTogJycsCiAgICAgICAgICAgICAgICAgIHRyaXA6ICcnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuZXdSb3cgPSB7CiAgICAgICAgICAgICAgICAgIGNvZGU6ICcnLAogICAgICAgICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgICAgICAgIHNvbHV0aW9uOiAnJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gJHRhYmxlLmluc2VydChuZXdSb3cpLnRoZW4oKHsgcm93IH0pID0+ICR0YWJsZS5zZXRFZGl0Um93KHJvdywgLTEpKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuICR0YWJsZS5pbnNlcnRBdChuZXdSb3csIC0xKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF95aWVsZCQkdGFibGUkaW5zZXJ0QTIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJCR0YWJsZSRpbnNlcnRBMi5yb3c7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiAkdGFibGUuc2V0QWN0aXZlQ2VsbChkYXRhLCAnbmFtZScpOwogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbnNlcnRSb3c6IGZ1bmN0aW9uIGluc2VydFJvdyhjdXJyUm93LCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgJHRhYmxlLCByZWNvcmQsIF95aWVsZCQkdGFibGUkaW5zZXJ0QTMsIG5ld1JvdzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgJHRhYmxlID0gX3RoaXM2LiRyZWZzW3R5cGVdOyAvLyDlpoLmnpwgbnVsbCDliJnmj5LlhaXliLDnm67moIfoioLngrnpobbpg6gKICAgICAgICAgICAgICAvLyDlpoLmnpwgLTEg5YiZ5o+S5YWl5Yiw55uu5qCH6IqC54K55bqV6YOoCiAgICAgICAgICAgICAgLy8g5aaC5p6cIHJvdyDliJnmnInmj5LlhaXliLDmlYjnmoTnm67moIfoioLngrnor6XooYznmoTkvY3nva4KICAgICAgICAgICAgICBpZiAodHlwZSA9PSAneFRhYmxlJykgewogICAgICAgICAgICAgICAgcmVjb3JkID0gewogICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLAogICAgICAgICAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgICAgICAgICAgbXVzdDogMCwKICAgICAgICAgICAgICAgICAgdHJpcDogJycsCiAgICAgICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICBwYXJlbnRJZDogY3VyclJvdy5pZCAvLyDpnIDopoHmjIflrprniLboioLngrnvvIzoh6rliqjmj5LlhaXor6XoioLngrnkuK0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdyZXNUYWJsZScpIHsKICAgICAgICAgICAgICAgIHJlY29yZCA9IHsKICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJywKICAgICAgICAgICAgICAgICAgdHlwZTogJycsCiAgICAgICAgICAgICAgICAgIHRyaXA6ICcnLAogICAgICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6IGN1cnJSb3cuaWQgLy8g6ZyA6KaB5oyH5a6a54i26IqC54K577yM6Ieq5Yqo5o+S5YWl6K+l6IqC54K55LitCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZWNvcmQgPSB7CiAgICAgICAgICAgICAgICAgIGNvZGU6ICcnLAogICAgICAgICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgICAgICAgIHNvbHV0aW9uOiAnJywKICAgICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICAgIHBhcmVudElkOiBjdXJyUm93LmlkIC8vIOmcgOimgeaMh+WumueItuiKgueCue+8jOiHquWKqOaPkuWFpeivpeiKgueCueS4rQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiAkdGFibGUuaW5zZXJ0QXQocmVjb3JkLCAtMSk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfeWllbGQkJHRhYmxlJGluc2VydEEzID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgbmV3Um93ID0gX3lpZWxkJCR0YWJsZSRpbnNlcnRBMy5yb3c7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiAkdGFibGUuc2V0VHJlZUV4cGFuZChjdXJyUm93LCB0cnVlKTsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuICR0YWJsZS5zZXRBY3RpdmVSb3cobmV3Um93KTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZVJvdzogZnVuY3Rpb24gcmVtb3ZlUm93KHJvdywgdHlwZSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyICR0YWJsZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgJHRhYmxlID0gX3RoaXM3LiRyZWZzW3R5cGVdOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gJHRhYmxlLnJlbW92ZShyb3cpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkv67mlLnlkI3lrZcKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLnZhbHVlID0gJyc7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlkID0gMDsKICAgICAgdGhpcy5uYW1lTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIC8vIOeCueWHu+iPnOWNlQogICAgY2xpY2tNZW51OiBmdW5jdGlvbiBjbGlja01lbnUobmFtZSwgcGFyYW1zKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICBpZiAobmFtZSA9PSAxKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB7fTsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jYXRlX2lkID0gcGFyYW1zID8gcGFyYW1zLmlkIDogMDsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pZCA9IDA7CiAgICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gMikgewogICAgICAgIC8vIHRoaXMudmFsdWUgPSBwYXJhbXMubmFtZSB8fCAnJzsKICAgICAgICAvLyB0aGlzLmZvcm1WYWxpZGF0ZS5jYXRlX2lkID0gcGFyYW1zID8gcGFyYW1zLmlkIDogMDsKICAgICAgICAvLyB0aGlzLm5hbWVNb2RhbCA9IHRydWU7CiAgICAgICAgLy8gdGhpcy5vbkVkaXQocGFyYW1zKTsKICAgICAgICB0aGlzLiRtb2RhbEZvcm0ocm91dGVFZGl0KHBhcmFtcy5pZCwgdGhpcy5hcGlUeXBlKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM4LmdldEludGVyZmFjZUxpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChuYW1lID09IDMpIHsKICAgICAgICB0aGlzLm9uRGVsKHBhcmFtcyk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSA0KSB7CiAgICAgICAgLy8gdGhpcy5hZGQoKTsKICAgICAgICB0aGlzLiRtb2RhbEZvcm0ocm91dGVDYXRlKHRoaXMuYXBpVHlwZSkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzOC5nZXRJbnRlcmZhY2VMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRGYWM6IGZ1bmN0aW9uIGFkZEZhYyhwYXJhbXMpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB7CiAgICAgICAgaWQ6IHBhcmFtcyA/IHBhcmFtcy5pZCA6IDAKICAgICAgfTsKICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOwogICAgfSwKICAgIGFzeW5jT0s6IGZ1bmN0aW9uIGFzeW5jT0soKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogdGhpcy5mb3JtVmFsaWRhdGUuaWQgfHwgMCwKICAgICAgICB0eXBlOiAwLAogICAgICAgIG5hbWU6IHRoaXMudmFsdWUKICAgICAgfTsKICAgICAgcm91dGVTYXZlKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOS4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIF90aGlzOS5nZXRJbnRlcmZhY2VMaXN0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczkuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5L6n6L655qCP5Y+z6ZSu54K55Ye75LqL5Lu2CiAgICBoYW5kbGVDb250ZXh0TWVudTogZnVuY3Rpb24gaGFuZGxlQ29udGV4dE1lbnUoZGF0YSwgZXZlbnQsIHBvc2l0aW9uKSB7CiAgICAgIHBvc2l0aW9uLmxlZnQgPSBOdW1iZXIocG9zaXRpb24ubGVmdC5zbGljZSgwLCAtMikpICsgNzUgKyAncHgnOwogICAgICB0aGlzLmNvbnRleHREYXRhID0gZGF0YTsKICAgIH0sCiAgICBoYW5kbGVDb250ZXh0Q3JlYXRlRm9sZGVyOiBmdW5jdGlvbiBoYW5kbGVDb250ZXh0Q3JlYXRlRm9sZGVyKCkge30sCiAgICBoYW5kbGVDb250ZXh0Q3JlYXRlRmlsZTogZnVuY3Rpb24gaGFuZGxlQ29udGV4dENyZWF0ZUZpbGUoKSB7fSwKICAgIC8vIOiHquWumuS5ieaYvuekugogICAgcmVuZGVyQ29udGVudDogZnVuY3Rpb24gcmVuZGVyQ29udGVudChoLCBfcmVmKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsCiAgICAgICAgbm9kZSA9IF9yZWYubm9kZSwKICAgICAgICBkYXRhID0gX3JlZi5kYXRhOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHJldHVybiBoKCdzcGFuJywgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywKICAgICAgICAgIHdpZHRoOiAnMTAwJScKICAgICAgICB9CiAgICAgIH0sIFtoKCdzcGFuJywgW2gocmVzb2x2ZUNvbXBvbmVudCgnSWNvbicpLCB7CiAgICAgICAgdHlwZTogJ2lvcy1wYXBlci1vdXRsaW5lJywKICAgICAgICBzdHlsZTogewogICAgICAgICAgbWFyZ2luUmlnaHQ6ICc4cHgnCiAgICAgICAgfQogICAgICB9KSwgaCgnc3BhbicsIGRhdGEudGl0bGUpXSksIGgoJ3NwYW4nLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLAogICAgICAgICAgZmxvYXQ6ICdyaWdodCcsCiAgICAgICAgICBtYXJnaW5SaWdodDogJzMycHgnCiAgICAgICAgfQogICAgICB9LCBbaChyZXNvbHZlQ29tcG9uZW50KCdCdXR0b24nKSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmJ1dHRvblByb3BzKSwge30sIHsKICAgICAgICBpY29uOiAnaW9zLWFkZCcsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1hcmdpblJpZ2h0OiAnOHB4JwogICAgICAgIH0sCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIF90aGlzMTAuYXBwZW5kKGRhdGEpOwogICAgICAgIH0KICAgICAgfSkpLCBoKHJlc29sdmVDb21wb25lbnQoJ0J1dHRvbicpLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuYnV0dG9uUHJvcHMpLCB7fSwgewogICAgICAgIGljb246ICdpb3MtcmVtb3ZlJywKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgX3RoaXMxMC5yZW1vdmUocm9vdCwgbm9kZSwgZGF0YSk7CiAgICAgICAgfQogICAgICB9KSldKV0pOwogICAgfSwKICAgIC8qKgogICAgICog5L6n6L655qCP54K55Ye75LqL5Lu2CiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YQogICAgICovCiAgICBjbGlja0RpcjogZnVuY3Rpb24gY2xpY2tEaXIoZGF0YSwgcm9vdCwgbm9kZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQubmF2SXRlbSA9IGRhdGE7CiAgICAgIHRoYXQucGF0aG5hbWUgPSBkYXRhLnBhdGhuYW1lOwogICAgfSwKICAgIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKGRhdGEpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gZGF0YS5jaGlsZHJlbiB8fCBbXTsKICAgICAgY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgdGl0bGU6ICdhcHBlbmRlZCBub2RlJywKICAgICAgICBleHBhbmQ6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMuJHNldChkYXRhLCAnY2hpbGRyZW4nLCBjaGlsZHJlbik7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUocm9vdCwgbm9kZSwgZGF0YSkgewogICAgICB2YXIgcGFyZW50S2V5ID0gcm9vdC5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbCA9PT0gbm9kZTsKICAgICAgfSkucGFyZW50OwogICAgICB2YXIgcGFyZW50ID0gcm9vdC5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5ub2RlS2V5ID09PSBwYXJlbnRLZXk7CiAgICAgIH0pLm5vZGU7CiAgICAgIHZhciBpbmRleCA9IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGRhdGEpOwogICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBvbk1vdXNlT3ZlcjogZnVuY3Rpb24gb25Nb3VzZU92ZXIocm9vdCwgbm9kZSwgZGF0YSwgZSwgZCkgewogICAgICBjb25zb2xlLmxvZyhyb290LCBub2RlLCBkYXRhKTsKICAgIH0sCiAgICAvLwogICAgb25EZWw6IGZ1bmN0aW9uIG9uRGVsKG5vZGUpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwogICAgICB2YXIgbWV0aG9kID0gbm9kZS5jYXRlX2lkID8gcm91dGVEZWwgOiByb3V0ZUNhdGVEZWw7CiAgICAgIHRoaXMuJG1zZ2JveCh7CiAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgIG1lc3NhZ2U6ICfliKDpmaTlkI7ml6Dms5XmgaLlpI3vvIzor7fnoa7orqTlkI7liKDpmaTvvIEnLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGljb25DbGFzczogJ2VsLWljb24td2FybmluZycsCiAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAnYnRuLWN1c3RvbS1jYW5jZWwnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIG1ldGhvZChub2RlLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTEuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIG5vZGUucmVtb3ZlKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXMxMS4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIG9uQ2hhbmdlTmFtZTogZnVuY3Rpb24gb25DaGFuZ2VOYW1lKHBhcmFtcykgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CiAgICAgIGlmIChwYXJhbXMuZXZlbnRUeXBlID09ICdibHVyJykgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgbmFtZTogcGFyYW1zLm5ld05hbWUsCiAgICAgICAgICBpZDogcGFyYW1zLmlkCiAgICAgICAgfTsKICAgICAgICBpbnRlcmZhY2VFZGl0TmFtZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczEyLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25BZGROb2RlOiBmdW5jdGlvbiBvbkFkZE5vZGUocGFyYW1zKSB7CiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgLy8gICBwYXRoOiAnL2FkbWluL3NldHRpbmcvc3lzdGVtX291dF9pbnRlcmZhY2UvYWRkJywKICAgICAgLy8gICBxdWVyeTogewogICAgICAvLyAgICAgcGlkOiBwYXJhbXMucGlkLAogICAgICAvLyAgIH0sCiAgICAgIC8vIH0pOwogICAgfSwKICAgIGFkZE5vZGU6IGZ1bmN0aW9uIGFkZE5vZGUoKSB7CiAgICAgIHZhciBub2RlID0gbmV3IFRyZWVOb2RlKHsKICAgICAgICBuYW1lOiAnbmV3IG5vZGUnLAogICAgICAgIGlzTGVhZjogZmFsc2UKICAgICAgfSk7CiAgICAgIGlmICghdGhpcy5kYXRhLmNoaWxkcmVuKSB0aGlzLmRhdGEuY2hpbGRyZW4gPSBbXTsKICAgICAgdGhpcy5kYXRhLmFkZENoaWxkcmVuKG5vZGUpOwogICAgfSwKICAgIGdldE5ld1RyZWU6IGZ1bmN0aW9uIGdldE5ld1RyZWUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGZ1bmN0aW9uIF9kZnMob2xkTm9kZSkgewogICAgICAgIHZhciBuZXdOb2RlID0ge307CiAgICAgICAgZm9yICh2YXIgayBpbiBvbGROb2RlKSB7CiAgICAgICAgICBpZiAoayAhPT0gJ2NoaWxkcmVuJyAmJiBrICE9PSAncGFyZW50JykgewogICAgICAgICAgICBuZXdOb2RlW2tdID0gb2xkTm9kZVtrXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKG9sZE5vZGUuY2hpbGRyZW4gJiYgb2xkTm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICBuZXdOb2RlLmNoaWxkcmVuID0gW107CiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gb2xkTm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICBuZXdOb2RlLmNoaWxkcmVuLnB1c2goX2RmcyhvbGROb2RlLmNoaWxkcmVuW2ldKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXdOb2RlOwogICAgICB9CiAgICAgIHZtLm5ld1RyZWUgPSBfZGZzKHZtLmRhdGEpOwogICAgfQogIH0KfTs="},null]}