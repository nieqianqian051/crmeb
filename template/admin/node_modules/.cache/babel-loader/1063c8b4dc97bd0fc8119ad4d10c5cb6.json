{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/user/list/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/user/list/index.vue","mtime":1722154891000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/thread-loader/dist/cjs.js","mtime":1746465018446},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbmllcWlhbnFpYW4vRG93bmxvYWRzL3hpbnhpYW5nbXUvQ1JNRUIvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmRpZmZlcmVuY2UudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmludGVyc2VjdGlvbi52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuaXMtZGlzam9pbnQtZnJvbS52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuaXMtc3Vic2V0LW9mLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5pcy1zdXBlcnNldC1vZi52Mi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuc3ltbWV0cmljLWRpZmZlcmVuY2UudjIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LnVuaW9uLnYyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB1c2VyTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL3VzZXJMYWJlbCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBleHBhbmRSb3cgZnJvbSAnLi90YWJsZUV4cGFuZC52dWUnOwppbXBvcnQgdXNlckVkaXQgZnJvbSAnLi9oYW5kbGUvdXNlckVkaXQudnVlJzsKaW1wb3J0IHsgdXNlckxpc3QsIGdldFVzZXJEYXRhLCBpc1Nob3dBcGksIGVkaXRPdGhlckFwaSwgZ2l2ZUxldmVsQXBpLCB1c2VyU2V0R3JvdXAsIHVzZXJHcm91cEFwaSwgbGV2ZWxMaXN0QXBpLCB1c2VyU2V0TGFiZWxBcGksIHVzZXJMYWJlbEFwaSwgdXNlclN5bmNocm8sIGdldFVzZXJTYXZlRm9ybSwgZ2l2ZUxldmVsVGltZUFwaSwgZ2V0VXNlckluZm8sIHNldFVzZXIgYXMgX3NldFVzZXIsIGVkaXRVc2VyLCBzYXZlU2V0TGFiZWwgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgYWdlbnRTcHJlYWRBcGkgfSBmcm9tICdAL2FwaS9hZ2VudCc7CmltcG9ydCB7IGV4cG9ydFVzZXJMaXN0IH0gZnJvbSAnQC9hcGkvZXhwb3J0JzsKaW1wb3J0IGVkaXRGcm9tIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvZnJvbS9mcm9tJzsKaW1wb3J0IHNlbmRGcm9tIGZyb20gJ0AvY29tcG9uZW50cy9zZW5kQ291cG9ucy9pbmRleCc7CmltcG9ydCB1c2VyRGV0YWlscyBmcm9tICcuL2hhbmRsZS91c2VyRGV0YWlscyc7CmltcG9ydCBuZXdzQ2F0ZWdvcnkgZnJvbSAnQC9jb21wb25lbnRzL25ld3NDYXRlZ29yeS9pbmRleCc7CmltcG9ydCBjdXN0b21lckluZm8gZnJvbSAnQC9jb21wb25lbnRzL2N1c3RvbWVySW5mbyc7CmltcG9ydCB7IGNpdHlMaXN0IH0gZnJvbSAnQC9hcGkvYXBwJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyX2xpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIGV4cGFuZFJvdzogZXhwYW5kUm93LAogICAgZWRpdEZyb206IGVkaXRGcm9tLAogICAgc2VuZEZyb206IHNlbmRGcm9tLAogICAgdXNlckRldGFpbHM6IHVzZXJEZXRhaWxzLAogICAgbmV3c0NhdGVnb3J5OiBuZXdzQ2F0ZWdvcnksCiAgICBjdXN0b21lckluZm86IGN1c3RvbWVySW5mbywKICAgIHVzZXJMYWJlbDogdXNlckxhYmVsLAogICAgdXNlckVkaXQ6IHVzZXJFZGl0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxhYmVsOiBbXSwKICAgICAgc2VsZWN0RGF0YUxhYmVsOiBbXSwKICAgICAgdXNlckRhdGE6IHt9LAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBzZWxlY3RMYWJlbFNob3c6IGZhbHNlLAogICAgICBsYWJlbFNob3c6IGZhbHNlLAogICAgICBjdXN0b21lclNob3c6IGZhbHNlLAogICAgICBwcm9tb3RlclNob3c6IGZhbHNlLAogICAgICBsYWJlbEFjdGl2ZTogewogICAgICAgIHVpZDogMAogICAgICB9LAogICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgdWlkOiAwLAogICAgICAgIHNwcmVhZF91aWQ6IDAsCiAgICAgICAgaW1hZ2U6ICcnCiAgICAgIH0sCiAgICAgIHBpY2tlck9wdGlvbnM6IHRoaXMuJHRpbWVPcHRpb25zLAogICAgICBjb2xsYXBzZTogZmFsc2UsCiAgICAgIGhlYWRlTnVtOiBbewogICAgICAgIHR5cGU6ICcwJywKICAgICAgICBuYW1lOiAn5YWo6YOoJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJzEnLAogICAgICAgIG5hbWU6ICfmlrDnlKjmiLcnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnMicsCiAgICAgICAgbmFtZTogJ+W+ruS/oeWwj+eoi+W6jycKICAgICAgfSwgewogICAgICAgIHR5cGU6ICczJywKICAgICAgICBuYW1lOiAnQVBQJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJzQnLAogICAgICAgIG5hbWU6ICfkvZPph43miqXorabnlKjmiLcnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnNScsCiAgICAgICAgbmFtZTogJ+azqOmUgOeUqOaItycKICAgICAgfV0sCiAgICAgIGFkZHJlc3M6IFtdLAogICAgICBhZGRyZXNEYXRhOiBbXSwKICAgICAgaXNTaG93U2VuZDogdHJ1ZSwKICAgICAgbW9kYWwxMzogZmFsc2UsCiAgICAgIG1heENvbHM6IDQsCiAgICAgIHNjcm9sbGVySGVpZ2h0OiAnNjAwJywKICAgICAgY29udGVudFRvcDogJzEzMCcsCiAgICAgIGNvbnRlbnRXaWR0aDogJzk4JScsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogNiwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGdyaWQyOiB7CiAgICAgICAgeGw6IDgsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDEyLAogICAgICAgIHhzOiAyNAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdG90YWw6IDAsCiAgICAgIHVzZXJGcm9tOiB7CiAgICAgICAgbGFiZWxfaWQ6ICcnLAogICAgICAgIHVzZXJUeXBlOiAwLAogICAgICAgIHJlZ0RhdGUxOiAnJywKICAgICAgICByZWdEYXRlMjogJycsCiAgICAgICAgbmlja05hbWU6ICcnLAogICAgICAgIGFkbWluSWQ6IG51bGwsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICAgIHRlbDogJycsCiAgICAgICAgb3JkZXJUeXBlOiAnJywKICAgICAgICBxdWVzdGlvblRpbWU6ICdkZXNjJwogICAgICB9LAogICAgICByZWdEYXRlczogbnVsbCwKICAgICAgZmllbGRfa2V5OiAnJywKICAgICAgbGV2ZWw6ICcnLAogICAgICBncm91cF9pZDogJycsCiAgICAgIGxhYmVsX2lkOiAnJywKICAgICAgdXNlcl90aW1lX3R5cGU6ICcnLAogICAgICBwYXlfY291bnQ6ICcnLAogICAgICB1c2VyTGlzdHM6IFtdLAogICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgc2VsZWN0aW9uTGlzdDogW10sCiAgICAgIHVzZXJfaWRzOiAnJywKICAgICAgc2VsZWN0ZWREYXRhOiBbXSwKICAgICAgdGltZVZhbDogW10sCiAgICAgIGdyb3VwTGlzdDogW10sCiAgICAgIGxldmVsTGlzdDogW10sCiAgICAgIGxhYmVsRnJvbTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6ICcnCiAgICAgIH0sCiAgICAgIGxhYmVsTGlzdHM6IFtdLAogICAgICBzZWxlY3RlZElkczogW10sCiAgICAgIC8v6YCJ5Lit5ZCI5bm26aG555qEaWQKICAgICAgaWRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSkpLCB7fSwgewogICAgd29tYW5TdHlsZTogZnVuY3Rpb24gd29tYW5TdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBjb2xvcjogJyNlZDQwMTQnLAogICAgICAgIGZvbnRTaXplOiAnMTVweCcKICAgICAgfTsKICAgIH0sCiAgICBtYW5TdHlsZTogZnVuY3Rpb24gbWFuU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sb3I6ICcjMmRiN2Y1JywKICAgICAgICBmb250U2l6ZTogJzE1cHgnCiAgICAgIH07CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VySW5mby5yb2xlcy5pbmNsdWRlcygyKSkgewogICAgICB0aGlzLnVzZXJGcm9tLmFkbWluSWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VySW5mby5pZDsKICAgIH0KICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXRDaXR5TGlzdCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXNlckdyb3VwKCk7CiAgICB0aGlzLmxldmVsTGlzdHMoKTsKICAgIC8vIHRoaXMuZ3JvdXBMaXN0cygpOwogIH0sCiAgZmlsdGVyczogewogICAgZGF0ZUZvcm1hdHRlcjogZnVuY3Rpb24gZGF0ZUZvcm1hdHRlcihkYXRldGltZSwgdGltZSkgewogICAgICBpZiAoZGF0ZXRpbWUpIHsKICAgICAgICBkYXRldGltZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTsKICAgICAgICB2YXIgeSA9IGRhdGV0aW1lLmdldEZ1bGxZZWFyKCkgKyAnLSc7CiAgICAgICAgdmFyIHl1ZSA9IGRhdGV0aW1lLmdldE1vbnRoKCkgKyAxOwogICAgICAgIHZhciBtb24gPSB5dWUgPCAxMCA/ICcwJyArIHl1ZSArICctJyA6IHl1ZSArICctJzsKICAgICAgICB2YXIgZCA9IGRhdGV0aW1lLmdldERhdGUoKSA8IDEwID8gJzAnICsgZGF0ZXRpbWUuZ2V0RGF0ZSgpIDogZGF0ZXRpbWUuZ2V0RGF0ZSgpOwogICAgICAgIHZhciBob3VycyA9IGRhdGV0aW1lLmdldEhvdXJzKCkgPCAxMCA/ICcwJyArIGRhdGV0aW1lLmdldEhvdXJzKCkgKyAnOicgOiBkYXRldGltZS5nZXRIb3VycygpICsgJzonOwogICAgICAgIHZhciBtaW51dGVzID0gZGF0ZXRpbWUuZ2V0TWludXRlcygpIDwgMTAgPyAiMCIgKyBkYXRldGltZS5nZXRNaW51dGVzKCkgKyAiOiIgOiBkYXRldGltZS5nZXRNaW51dGVzKCkgKyAiOiI7CiAgICAgICAgdmFyIHNlY29uZHMgPSBkYXRldGltZS5nZXRTZWNvbmRzKCkgPCAxMCA/ICIwIiArIGRhdGV0aW1lLmdldFNlY29uZHMoKSA6IGRhdGV0aW1lLmdldFNlY29uZHMoKTsKICAgICAgICBpZiAodGltZSA9ICJ5eXl5LW1tLWRkIikgcmV0dXJuIHkgKyBtb24gKyBkO2Vsc2UgaWYgKHRpbWUgPSAiaGg6bW06c3MiKSByZXR1cm4gaG91cnMgKyBtaW51dGVzICsgc2Vjb25kcztlbHNlIHJldHVybiB5ICsgbW9uICsgZCArICdcbicgKyBob3VycyArIG1pbnV0ZXMgKyBzZWNvbmRzOwogICAgICB9CiAgICAgIHJldHVybiAn4oCUJzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENpdHlMaXN0OiBmdW5jdGlvbiBnZXRDaXR5TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgY2l0eUxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5hZGRyZXNEYXRhID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHRoaXMuJHJlZnMudXNlckVkaXQuZm9ybUl0ZW07CiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgdGhpcy4kcmVmcy51c2VyRWRpdC5kYXRhTGFiZWwubWFwKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgaWRzLnB1c2goaS5pZCk7CiAgICAgIH0pOwogICAgICBkYXRhLmxhYmVsX2lkID0gaWRzOwogICAgICAvLyBpZiAoIWRhdGEucmVhbF9uYW1lKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXnnJ/lrp7lp5PlkI0iKTsKICAgICAgLy8gaWYgKCFkYXRhLnBob25lKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXmiYvmnLrlj7ciKTsKICAgICAgLy8gaWYgKCFkYXRhLnB3ZCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36L6T5YWl5a+G56CBIik7CiAgICAgIC8vIGlmICghZGF0YS50cnVlX3B3ZCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+36L6T5YWl56Gu6K6k5a+G56CBIik7CiAgICAgIGlmIChkYXRhLnVpZCkgewogICAgICAgIGVkaXRVc2VyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIF9zZXRVc2VyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uY2VHZXRMaXN0OiBmdW5jdGlvbiBvbmNlR2V0TGlzdCgpIHsKICAgICAgdGhpcy5sYWJlbEFjdGl2ZS51aWQgPSAwOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2U6IGZ1bmN0aW9uIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxBY3RpdmUudWlkID0gMDsKICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RMYWJlbFNob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmj5DkuqQKICAgIHB1dFNlbmQ6IGZ1bmN0aW9uIHB1dFNlbmQobmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghX3RoaXMzLmZvcm1JbmxpbmUuc3ByZWFkX3VpZCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRtZXNzYWdlLmVycm9yKCfor7fkuIrkvKDnlKjmiLcnKTsKICAgICAgICAgIH0KICAgICAgICAgIGFnZW50U3ByZWFkQXBpKF90aGlzMy5mb3JtSW5saW5lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMzLnByb21vdGVyU2hvdyA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICAgICAgX3RoaXMzLiRyZWZzW25hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlOwoKICAgICAgLy8gdGhpcy4kbW9kYWxGb3JtKGdldFVzZXJTYXZlRm9ybSgpKQogICAgICAvLyAgIC50aGVuKCgpID0+IHsKICAgICAgLy8gICAgIHRoaXMudXNlckZyb20ucGFnZSA9IDE7CiAgICAgIC8vICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAvLyAgIH0pOwogICAgfSwKICAgIHN5bmNocm86IGZ1bmN0aW9uIHN5bmNocm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB1c2VyU3luY2hybygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBpc1NlbDogZnVuY3Rpb24gaXNTZWwocm93KSB7CiAgICAgIHJldHVybiAhISFyb3cuaXNfZGVsOwogICAgfSwKICAgIC8vIOWIhue7hOWIl+ihqAogICAgZ3JvdXBMaXN0czogZnVuY3Rpb24gZ3JvdXBMaXN0cygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHVzZXJMYWJlbEFwaSh0aGlzLmxhYmVsRnJvbSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXM1LmxhYmVsTGlzdHMgPSBkYXRhLmxpc3Q7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzNS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgb25DbGlja1RhYjogZnVuY3Rpb24gb25DbGlja1RhYigpIHsKICAgICAgdGhpcy51c2VyRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgdXNlckdyb3VwOiBmdW5jdGlvbiB1c2VyR3JvdXAoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAnJwogICAgICB9OwogICAgICB1c2VyR3JvdXBBcGkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM2Lmdyb3VwTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGxldmVsTGlzdHM6IGZ1bmN0aW9uIGxldmVsTGlzdHMoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgaXNfc2hvdzogMQogICAgICB9OwogICAgICBsZXZlbExpc3RBcGkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM3LmxldmVsTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJuemHj+iuvue9ruWIhue7hO+8mwogICAgc2V0R3JvdXA6IGZ1bmN0aW9uIHNldEdyb3VwKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB6K6+572u5YiG57uE55qE55So5oi3Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHVpZHMgPSB7CiAgICAgICAgICB1aWRzOiB0aGlzLmlkcwogICAgICAgIH07CiAgICAgICAgdGhpcy4kbW9kYWxGb3JtKHVzZXJTZXRHcm91cCh1aWRzKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczguaWRzID0gW107CiAgICAgICAgICBfdGhpczguc2VsZWN0ZWRJZHMgPSBbXTsKICAgICAgICAgIF90aGlzOC5nZXRMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmibnph4/orr7nva7moIfnrb7vvJsKICAgIHNldExhYmVsOiBmdW5jdGlvbiBzZXRMYWJlbCgpIHsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB6K6+572u5qCH562+55qE55So5oi3Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHVpZHMgPSB7CiAgICAgICAgICB1aWRzOiB0aGlzLmlkcwogICAgICAgIH07CiAgICAgICAgdGhpcy5sYWJlbEFjdGl2ZS51aWQgPSAwOwogICAgICAgIHRoaXMubGFiZWxTaG93ID0gdHJ1ZTsKICAgICAgICAvLyB0aGlzLiRtb2RhbEZvcm0odXNlclNldExhYmVsQXBpKHVpZHMpKS50aGVuKCgpID0+CiAgICAgICAgLy8gICB0aGlzLiRyZWZzLnNlbmRzLmdldExpc3QoKQogICAgICAgIC8vICk7CiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmVTZWxlY3REYXRhOiBmdW5jdGlvbiBhY3RpdmVTZWxlY3REYXRhKGRhdGEpIHsKICAgICAgdGhpcy5zZWxlY3RMYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3REYXRhTGFiZWwgPSBkYXRhIHx8IFtdOwogICAgICBpZiAodGhpcy5zZWxlY3REYXRhTGFiZWwubGVuZ3RoKSB7CiAgICAgICAgdmFyIGFjdGl2ZUlkcyA9IFtdOwogICAgICAgIHRoaXMuc2VsZWN0RGF0YUxhYmVsLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgYWN0aXZlSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51c2VyRnJvbS5sYWJlbF9pZCA9IGFjdGl2ZUlkcy5qb2luKCcsJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2VyRnJvbS5sYWJlbF9pZCA9ICcnOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKHRhZykgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdmFyIGkgPSB0aGlzLnNlbGVjdERhdGFMYWJlbC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdGFnLmlkOwogICAgICB9KTsKICAgICAgaWYgKGkgIT09IC0xKSB7CiAgICAgICAgdGhpcy5zZWxlY3REYXRhTGFiZWwuc3BsaWNlKGksIDEpOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXM5LnNlbGVjdERhdGFMYWJlbC5sZW5ndGgpIHsKICAgICAgICAgIHZhciBhY3RpdmVJZHMgPSBbXTsKICAgICAgICAgIF90aGlzOS5zZWxlY3REYXRhTGFiZWwubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGFjdGl2ZUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczkudXNlckZyb20ubGFiZWxfaWQgPSBhY3RpdmVJZHMuam9pbignLCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczkudXNlckZyb20ubGFiZWxfaWQgPSAnJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyB0aGlzLnVzZXJTZWFyY2hzKCk7CiAgICB9LAogICAgLy8g5om56YeP6K6+572u5qCH562+CiAgICBhY3RpdmVEYXRhOiBmdW5jdGlvbiBhY3RpdmVEYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgICB2YXIgbGFiZWxzID0gW107CiAgICAgIGlmICghZGF0YS5sZW5ndGgpIHJldHVybjsKICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICBsYWJlbHMucHVzaChpLmlkKTsKICAgICAgfSk7CiAgICAgIHNhdmVTZXRMYWJlbCh7CiAgICAgICAgdWlkczogdGhpcy5pZHMuam9pbignLCcpLAogICAgICAgIGxhYmVsX2lkOiBsYWJlbHMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMC5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgICBfdGhpczEwLnNlbGVjdGVkSWRzID0gbmV3IFNldCgpOwogICAgICAgIF90aGlzMTAuZ2V0TGlzdCgpOwogICAgICAgIF90aGlzMTAuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mmK/lkKbkuLrku5jotLnkvJrlkZjvvJsKICAgIGNoYW5nZU1lbWJlcjogZnVuY3Rpb24gY2hhbmdlTWVtYmVyKCkgewogICAgICB0aGlzLnVzZXJGcm9tLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDpgInmi6nlm73lrrYKICAgIGNoYW5nZUNvdW50cnk6IGZ1bmN0aW9uIGNoYW5nZUNvdW50cnkoKSB7CiAgICAgIGlmICh0aGlzLnVzZXJGcm9tLmNvdW50cnkgPT09ICdhYnJvYWQnIHx8ICF0aGlzLnVzZXJGcm9tLmNvdW50cnkpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRGF0YSA9IFtdOwogICAgICAgIHRoaXMudXNlckZyb20ucHJvdmluY2UgPSAnJzsKICAgICAgICB0aGlzLnVzZXJGcm9tLmNpdHkgPSAnJzsKICAgICAgICB0aGlzLmFkZHJlc3MgPSBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOmAieaLqeWcsOWdgAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2Uoc2VsZWN0ZWREYXRhKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWREYXRhID0gc2VsZWN0ZWREYXRhLm1hcChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLmxhYmVsOwogICAgICB9KTsKICAgICAgdGhpcy51c2VyRnJvbS5wcm92aW5jZSA9IHRoaXMuc2VsZWN0ZWREYXRhWzBdOwogICAgICB0aGlzLnVzZXJGcm9tLmNpdHkgPSB0aGlzLnNlbGVjdGVkRGF0YVsxXTsKICAgIH0sCiAgICAvLyDlhbfkvZPml6XmnJ8KICAgIG9uY2hhbmdlVGltZTogZnVuY3Rpb24gb25jaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy5yZWdEYXRlcyA9IGUgfHwgW107CiAgICAgIGlmICh0aGlzLnJlZ0RhdGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMudXNlckZyb20ucmVnRGF0ZTEgPSAnJzsKICAgICAgICB0aGlzLnVzZXJGcm9tLnJlZ0RhdGUyID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2VyRnJvbS5yZWdEYXRlMSA9IGVbMF07CiAgICAgICAgdGhpcy51c2VyRnJvbS5yZWdEYXRlMiA9IGVbMV07CiAgICAgIH0KICAgIH0sCiAgICB1c2VyRGV0YWlsOiBmdW5jdGlvbiB1c2VyRGV0YWlsKHJvdykgewogICAgICB0aGlzLiRyZWZzLnVzZXJEZXRhaWxzLm1vZGFscyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMudXNlckRldGFpbHMuZ2V0RGV0YWlscyhyb3cudXNlcklkKTsKICAgIH0sCiAgICBjcmVhdGVGb29kOiBmdW5jdGlvbiBjcmVhdGVGb29kKHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL3VzZXIvYWRkX2Zvb2QnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICB1c2VySWQ6IHJvdy51c2VySWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaTjeS9nAogICAgY2hhbmdlTWVudTogZnVuY3Rpb24gY2hhbmdlTWVudShyb3csIG5hbWUsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdmFyIHVpZCA9IFtdOwogICAgICB1aWQucHVzaChyb3cudWlkKTsKICAgICAgdmFyIHVpZHMgPSB7CiAgICAgICAgdWlkczogdWlkCiAgICAgIH07CiAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgIGNhc2UgJzEnOgogICAgICAgICAgdGhpcy5lZGl0KHJvdyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICcyJzoKICAgICAgICAgIHRoaXMuZ2V0T3RoZXJGcm9tKHJvdy51aWQpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLmdpdmVMZXZlbFRpbWUocm93LnVpZCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc0JzoKICAgICAgICAgIHRoaXMuZGVsKHJvdywgJ+a4hemZpCDjgJAgJyArIHRoaXMudGVuVGV4dChyb3cubmlja25hbWUpICsgJyDjgJHnmoTkvJrlkZjnrYnnuqcnLCBpbmRleCwgJ3VzZXInKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzUnOgogICAgICAgICAgdGhpcy4kbW9kYWxGb3JtKHVzZXJTZXRHcm91cCh1aWRzKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczExLmdldExpc3QoKTsKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnNic6CiAgICAgICAgICB0aGlzLm9wZW5MYWJlbChyb3cpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnNyc6CiAgICAgICAgICB0aGlzLmVkaXRTKHJvdyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5kZWwocm93LCAn6Kej6Zmk44CQICcgKyB0aGlzLnRlblRleHQocm93Lm5pY2tuYW1lKSArICcg44CR55qE5LiK57qn5o6o5bm/5Lq6JywgaW5kZXgsICd0dWlndWFuZycpOwogICAgICB9CiAgICB9LAogICAgdGVuVGV4dDogZnVuY3Rpb24gdGVuVGV4dChzdHIpIHsKICAgICAgaWYgKHN0ci5sZW5ndGggPiAxMCkgewogICAgICAgIC8v5aaC5p6c5a2X56ym6ZW/5bqm6LaF6L+HMTDvvIzlkI7pnaLnmoTlrZfnrKblsLHlj5jmiJAuLi7lj6/oh6rooYzosIPmlbTplb/luqblkozku6Pmm7/lrZfnrKYKICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIDEwKSArICcuLi4nOyAvL+aIquWPluS7juesrOS4gOS4quWtl+espuW8gOWni++8jOW+gOWQjuWPljEw5Liq5a2X56ym77yM5Ymp5L2Z55qE55SoLi4u5Luj5pu/CiAgICAgIH0KICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBvcGVuTGFiZWw6IGZ1bmN0aW9uIG9wZW5MYWJlbChyb3cpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSB0cnVlOwogICAgICB0aGlzLmxhYmVsQWN0aXZlLnVpZCA9IHJvdy51aWQ7CiAgICB9LAogICAgb3BlblNlbGVjdExhYmVsOiBmdW5jdGlvbiBvcGVuU2VsZWN0TGFiZWwoKSB7CiAgICAgIHRoaXMuc2VsZWN0TGFiZWxTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBlZGl0UzogZnVuY3Rpb24gZWRpdFMocm93KSB7CiAgICAgIHRoaXMucHJvbW90ZXJTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtSW5saW5lLnVpZCA9IHJvdy51aWQ7CiAgICB9LAogICAgY3VzdG9tZXI6IGZ1bmN0aW9uIGN1c3RvbWVyKCkgewogICAgICB0aGlzLmN1c3RvbWVyU2hvdyA9IHRydWU7CiAgICB9LAogICAgaW1hZ2VPYmplY3Q6IGZ1bmN0aW9uIGltYWdlT2JqZWN0KGUpIHsKICAgICAgdGhpcy5jdXN0b21lclNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtSW5saW5lLnNwcmVhZF91aWQgPSBlLnVpZDsKICAgICAgdGhpcy5mb3JtSW5saW5lLmltYWdlID0gZS5pbWFnZTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChuYW1lKSB7CiAgICAgIHRoaXMucHJvbW90ZXJTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5mb3JtSW5saW5lID0gewogICAgICAgIHVpZDogMCwKICAgICAgICBzcHJlYWRfdWlkOiAwLAogICAgICAgIGltYWdlOiAnJwogICAgICB9OwogICAgfSwKICAgIC8vIOi1oOmAgeS8muWRmOetiee6pwogICAgZ2l2ZUxldmVsOiBmdW5jdGlvbiBnaXZlTGV2ZWwoaWQpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0oZ2l2ZUxldmVsQXBpKGlkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTIuZ2V0TGlzdCgxKTsKICAgICAgfSk7CgogICAgICAvLyBnaXZlTGV2ZWxBcGkoaWQpCiAgICAgIC8vICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAvLyAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuJGF1dGhMYXBzZShyZXMuZGF0YSk7CiAgICAgIC8vICAgICB9CgogICAgICAvLyAgICAgdGhpcy5Gcm9tRGF0YSA9IHJlcy5kYXRhOwogICAgICAvLyAgICAgdGhpcy4kcmVmcy5lZGl0cy5tb2RhbHMgPSB0cnVlOwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIC8vICAgfSk7CiAgICB9LAogICAgLy8g6LWg6YCB5Lya5ZGY562J57qnCiAgICBnaXZlTGV2ZWxUaW1lOiBmdW5jdGlvbiBnaXZlTGV2ZWxUaW1lKGlkKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKICAgICAgdGhpcy4kbW9kYWxGb3JtKGdpdmVMZXZlbFRpbWVBcGkoaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMxMy5nZXRMaXN0KDEpOwogICAgICB9KTsKCiAgICAgIC8vIGdpdmVMZXZlbFRpbWVBcGkoaWQpCiAgICAgIC8vICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAvLyAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgLy8gICAgICAgcmV0dXJuIHRoaXMuJGF1dGhMYXBzZShyZXMuZGF0YSk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICB0aGlzLkZyb21EYXRhID0gcmVzLmRhdGE7CiAgICAgIC8vICAgICB0aGlzLiRyZWZzLmVkaXRzLm1vZGFscyA9IHRydWU7CiAgICAgIC8vICAgfSkKICAgICAgLy8gICAuY2F0Y2goKHJlcykgPT4gewogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgLy8gICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbDogZnVuY3Rpb24gZGVsKHJvdywgdGl0LCBudW0sIG5hbWUpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICBudW06IG51bSwKICAgICAgICB1cmw6IG5hbWUgPT09ICd1c2VyJyA/ICJ1c2VyL2RlbF9sZXZlbC8iLmNvbmNhdChyb3cudWlkKSA6ICJhZ2VudC9zdGFpci9kZWxldGVfc3ByZWFkLyIuY29uY2F0KHJvdy51aWQpLAogICAgICAgIG1ldGhvZDogbmFtZSA9PT0gJ3VzZXInID8gJ0RFTEVURScgOiAnUFVUJywKICAgICAgICBpZHM6ICcnLAogICAgICAgIHdpZHRoOiA2MDAKICAgICAgfTsKICAgICAgdGhpcy4kbW9kYWxTdXJlKGRlbGZyb21EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczE0LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgX3RoaXMxNC5nZXRMaXN0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczE0LiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmuIXpmaTkvJrlkZjliKDpmaTmiJDlip8KICAgIHN1Ym1pdE1vZGVsOiBmdW5jdGlvbiBzdWJtaXRNb2RlbCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5Lya5ZGY5YiX6KGoCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CiAgICAgIC8vIGlmICh0aGlzLnNlbGVjdERhdGFMYWJlbC5sZW5ndGgpIHsKICAgICAgLy8gICBsZXQgYWN0aXZlSWRzID0gW107CiAgICAgIC8vICAgdGhpcy5zZWxlY3REYXRhTGFiZWwuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAvLyAgICAgYWN0aXZlSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgIC8vICAgfSk7CiAgICAgIC8vICAgdGhpcy51c2VyRnJvbS5sYWJlbF9pZCA9IGFjdGl2ZUlkcy5qb2luKCcsJyk7CiAgICAgIC8vIH0KICAgICAgdGhpcy51c2VyRnJvbS51c2VyVHlwZSA9IHRoaXMudXNlckZyb20udXNlclR5cGUgfHwgJyc7CiAgICAgIC8vIHRoaXMudXNlckZyb20uc3RhdHVzID0gdGhpcy51c2VyRnJvbS5zdGF0dXMgfHwgJyc7CiAgICAgIC8vIHRoaXMudXNlckZyb20uc2V4ID0gdGhpcy51c2VyRnJvbS5zZXggfHwgJyc7CiAgICAgIC8vIHRoaXMudXNlckZyb20uaXNfcHJvbW90ZXIgPSB0aGlzLnVzZXJGcm9tLmlzX3Byb21vdGVyIHx8ICcnOwogICAgICAvLyB0aGlzLnVzZXJGcm9tLmNvdW50cnkgPSB0aGlzLnVzZXJGcm9tLmNvdW50cnkgfHwgJyc7CiAgICAgIC8vIHRoaXMudXNlckZyb20ucGF5X2NvdW50ID0gdGhpcy5wYXlfY291bnQgPT09ICdhbGwnID8gJycgOiB0aGlzLnBheV9jb3VudDsKICAgICAgLy8gdGhpcy51c2VyRnJvbS51c2VyX3RpbWVfdHlwZSA9IHRoaXMudXNlcl90aW1lX3R5cGUgPT09ICdhbGwnID8gJycgOiB0aGlzLnVzZXJfdGltZV90eXBlOwogICAgICAvLyB0aGlzLnVzZXJGcm9tLmZpZWxkX2tleSA9IHRoaXMuZmllbGRfa2V5ID09PSAnYWxsJyA/ICcnIDogdGhpcy5maWVsZF9rZXk7CiAgICAgIC8vIHRoaXMudXNlckZyb20ubGV2ZWwgPSB0aGlzLmxldmVsID09PSAnYWxsJyA/ICcnIDogdGhpcy5sZXZlbDsKICAgICAgdGhpcy51c2VyRnJvbS5ncm91cF9pZCA9IHRoaXMuZ3JvdXBfaWQgPT09ICdhbGwnID8gJycgOiB0aGlzLmdyb3VwX2lkOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB1c2VyTGlzdCh0aGlzLnVzZXJGcm9tKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE1LnVzZXJMaXN0cyA9IGRhdGEubGlzdDsKICAgICAgICAgICAgICAgIF90aGlzMTUudG90YWwgPSBkYXRhLmNvdW50OwogICAgICAgICAgICAgICAgX3RoaXMxNS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczE1LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTUuc2V0Q2hlY2tlZCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMxNS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g55So5oi35a+85Ye6CiAgICBleHBvcnRMaXN0OiBmdW5jdGlvbiBleHBvcnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB0aCwgZmlsZWtleSwgZGF0YSwgZmlsZU5hbWUsIGV4Y2VsRGF0YSwgaSwgbGViRGF0YTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKF90aGlzMTYuaWRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgX3RoaXMxNi51c2VyRnJvbS5pZHMgPSBfdGhpczE2LmlkczsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMxNi51c2VyRnJvbS51c2VyX3R5cGUgPSBfdGhpczE2LnVzZXJGcm9tLnVzZXJfdHlwZSB8fCAnJzsKICAgICAgICAgICAgICBfdGhpczE2LnVzZXJGcm9tLnN0YXR1cyA9IF90aGlzMTYudXNlckZyb20uc3RhdHVzIHx8ICcnOwogICAgICAgICAgICAgIF90aGlzMTYudXNlckZyb20uc2V4ID0gX3RoaXMxNi51c2VyRnJvbS5zZXggfHwgJyc7CiAgICAgICAgICAgICAgX3RoaXMxNi51c2VyRnJvbS5pc19wcm9tb3RlciA9IF90aGlzMTYudXNlckZyb20uaXNfcHJvbW90ZXIgfHwgJyc7CiAgICAgICAgICAgICAgX3RoaXMxNi51c2VyRnJvbS5jb3VudHJ5ID0gX3RoaXMxNi51c2VyRnJvbS5jb3VudHJ5IHx8ICcnOwogICAgICAgICAgICAgIF90aGlzMTYudXNlckZyb20ucGF5X2NvdW50ID0gX3RoaXMxNi5wYXlfY291bnQgPT09ICdhbGwnID8gJycgOiBfdGhpczE2LnBheV9jb3VudDsKICAgICAgICAgICAgICBfdGhpczE2LnVzZXJGcm9tLnVzZXJfdGltZV90eXBlID0gX3RoaXMxNi51c2VyX3RpbWVfdHlwZSA9PT0gJ2FsbCcgPyAnJyA6IF90aGlzMTYudXNlcl90aW1lX3R5cGU7CiAgICAgICAgICAgICAgX3RoaXMxNi51c2VyRnJvbS5maWVsZF9rZXkgPSBfdGhpczE2LmZpZWxkX2tleSA9PT0gJ2FsbCcgPyAnJyA6IF90aGlzMTYuZmllbGRfa2V5OwogICAgICAgICAgICAgIF90aGlzMTYudXNlckZyb20ubGV2ZWwgPSBfdGhpczE2LmxldmVsID09PSAnYWxsJyA/ICcnIDogX3RoaXMxNi5sZXZlbDsKICAgICAgICAgICAgICBfdGhpczE2LnVzZXJGcm9tLmdyb3VwX2lkID0gX3RoaXMxNi5ncm91cF9pZCA9PT0gJ2FsbCcgPyAnJyA6IF90aGlzMTYuZ3JvdXBfaWQ7CiAgICAgICAgICAgICAgdGggPSBbXSwgZmlsZWtleSA9IFtdLCBkYXRhID0gW10sIGZpbGVOYW1lID0gJyc7IC8vICAgbGV0IGZpbGVOYW1lID0gIiI7CiAgICAgICAgICAgICAgZXhjZWxEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczE2LnVzZXJGcm9tKSk7CiAgICAgICAgICAgICAgZXhjZWxEYXRhLnBhZ2UgPSAxOwogICAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGlmICghKGkgPCBleGNlbERhdGEucGFnZSArIDEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuZ2V0RXhjZWxEYXRhKGV4Y2VsRGF0YSk7CiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgbGViRGF0YSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGlmICghZmlsZU5hbWUpIGZpbGVOYW1lID0gbGViRGF0YS5maWxlbmFtZTsKICAgICAgICAgICAgICBpZiAoIWZpbGVrZXkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBmaWxla2V5ID0gbGViRGF0YS5maWxlS2V5OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoIXRoLmxlbmd0aCkgdGggPSBsZWJEYXRhLmhlYWRlcjsKICAgICAgICAgICAgICBpZiAoIWxlYkRhdGEuZXhwb3J0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkYXRhID0gZGF0YS5jb25jYXQobGViRGF0YS5leHBvcnQpOwogICAgICAgICAgICAgIGV4Y2VsRGF0YS5wYWdlKys7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBfdGhpczE2LiRleHBvcnRFeGNlbCh0aCwgZmlsZWtleSwgZmlsZU5hbWUsIGRhdGEpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEV4Y2VsRGF0YTogZnVuY3Rpb24gZ2V0RXhjZWxEYXRhKGV4Y2VsRGF0YSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGV4cG9ydFVzZXJMaXN0KGV4Y2VsRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgcGFnZUNoYW5nZTogZnVuY3Rpb24gcGFnZUNoYW5nZSgpIHsKICAgICAgdGhpcy5zZWxlY3Rpb25MaXN0ID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOaQnOe0ogogICAgdXNlclNlYXJjaHM6IGZ1bmN0aW9uIHVzZXJTZWFyY2hzKCkgewogICAgICB0aGlzLnVzZXJGcm9tLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChuYW1lKSB7CiAgICAgIHRoaXMudXNlckZyb20gPSB7CiAgICAgICAgdXNlclR5cGU6IHRoaXMudXNlckZyb20udXNlclR5cGUsCiAgICAgICAgdGVsOiAnJywKICAgICAgICBuaWNrTmFtZTogJycsCiAgICAgICAgcmVnRGF0MTogJycsCiAgICAgICAgcmVnRGF0MjogJycsCiAgICAgICAgb3JkZXJUeXBlOiAnZGVzYycsCiAgICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICAgIGxhYmVsX2lkOiAnJywKICAgICAgICBwYWdlOiAxLAogICAgICAgIC8vIOW9k+WJjemhtQogICAgICAgIGxpbWl0OiAyMCAvLyDmr4/pobXmmL7npLrmnaHmlbAKICAgICAgfTsKICAgICAgdGhpcy5yZWdEYXRlcyA9IG51bGw7CiAgICAgIHRoaXMuZmllbGRfa2V5ID0gJyc7CiAgICAgIHRoaXMubGV2ZWwgPSAnJzsKICAgICAgdGhpcy5ncm91cF9pZCA9ICcnOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IFtdOwogICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbCA9IFtdOwogICAgICB0aGlzLnVzZXJfdGltZV90eXBlID0gJyc7CiAgICAgIHRoaXMucGF5X2NvdW50ID0gJyc7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkSWRzID0gbmV3IFNldCgpOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bnvJbovpHooajljZXmlbDmja4KICAgIGdldFVzZXJGcm9tOiBmdW5jdGlvbiBnZXRVc2VyRnJvbShpZCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CiAgICAgIGdldFVzZXJJbmZvKGlkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxNy5tb2RhbHMgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMxNy51c2VyRGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzLmRhdGEpLCB7fSwgewogICAgICAgICAgICAgICAgICB1c2VySW5mbzogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXMuZGF0YS51c2VySW5mbyksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgdGVsOiByZXMuZGF0YS51c2VySW5mby5hcHBVc2VyLnRlbAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W56ev5YiG5L2Z6aKd6KGo5Y2VCiAgICBnZXRPdGhlckZyb206IGZ1bmN0aW9uIGdldE90aGVyRnJvbShpZCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShlZGl0T3RoZXJBcGkoaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC5nZXRMaXN0KDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkv67mlLnnirbmgIEKICAgIG9uY2hhbmdlSXNTaG93OiBmdW5jdGlvbiBvbmNoYW5nZUlzU2hvdyhyb3cpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogcm93LnVpZCwKICAgICAgICBzdGF0dXM6IHJvdy5zdGF0dXMKICAgICAgfTsKICAgICAgaXNTaG93QXBpKGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNShyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE5LiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxOS4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75Y+R6YCB5LyY5oOg5Yi4CiAgICBvblNlbmQ6IGZ1bmN0aW9uIG9uU2VuZCgpIHsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB5Y+R6YCB5LyY5oOg5Yi455qE55So5oi3Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5zZW5kcy5tb2RhbHMgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMuc2VuZHMuZ2V0TGlzdCgpOwogICAgICB9CiAgICB9LAogICAgLy8g5Y+R6YCB5Zu+5paH5raI5oGvCiAgICBvblNlbmRQaWM6IGZ1bmN0aW9uIG9uU2VuZFBpYygpIHsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB5Y+R6YCB5Zu+5paH5raI5oGv55qE55So5oi3Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tb2RhbDEzID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOe8lui+kQogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdGhpcy5nZXRVc2VyRnJvbShyb3cudWlkKTsKICAgIH0sCiAgICAvLyDkv67mlLnmiJDlip8KICAgIHN1Ym1pdEZhaWw6IGZ1bmN0aW9uIHN1Ym1pdEZhaWwoKSB7CiAgICAgIC8vIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOaOkuW6jwogICAgc29ydENoYW5nZWQ6IGZ1bmN0aW9uIHNvcnRDaGFuZ2VkKGUsIHByb3BzLCBvcmRlcikgewogICAgICB0aGlzLnVzZXJGcm9tW2UucHJvcF0gPSBlLm9yZGVyLnJlcGxhY2UoImVuZGluZyIsICIiKTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy/lhajpgInlkozlj5bmtojlhajpgInml7bop6blj5EKICAgIGhhbmRsZVNlbGVjdEFsbDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0QWxsKHNlbGVjdGlvbikgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIGlkcy5wdXNoKGUudWlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRJZHMgPSBpZHM7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+ehruS/nWRvbeWKoOi9veWujOavlQogICAgICAgIF90aGlzMjAuc2V0Q2hlY2tlZCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyAg6YCJ5Lit5p+Q5LiA6KGMCiAgICBoYW5kbGVTZWxlY3RSb3c6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdFJvdyhzZWxlY3Rpb24sIHJvdykgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIGlkcy5wdXNoKGUudWlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRJZHMgPSBpZHM7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+ehruS/nWRvbeWKoOi9veWujOavlQogICAgICAgIF90aGlzMjEuc2V0Q2hlY2tlZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRDaGVja2VkOiBmdW5jdGlvbiBzZXRDaGVja2VkKCkgewogICAgICAvL+Wwhm5ldyBTZXQoKei9rOWMluS4uuaVsOe7hAogICAgICB0aGlzLmlkcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdGVkSWRzKTsKICAgICAgLy8g5om+5Yiw57uR5a6a55qEdGFibGXnmoRyZWblr7nlupTnmoRkb23vvIzmib7liLB0YWJsZeeahG9iakRhdGHlr7nosaHvvIxvYmpEYXRh5L+d5a2Y55qE5piv5b2T5YmN6aG155qE5pWw5o2uCiAgICAgIHZhciBvYmpEYXRhID0gdGhpcy4kcmVmcy50YWJsZS5vYmpEYXRhOwogICAgICBmb3IgKHZhciBpbmRleCBpbiBvYmpEYXRhKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJZHMuaGFzKG9iakRhdGFbaW5kZXhdLnVpZCkpIHsKICAgICAgICAgIG9iakRhdGFbaW5kZXhdLl9pc0NoZWNrZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},null]}