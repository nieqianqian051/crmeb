{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/commentMsgList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/community/commentMsgList.vue","mtime":1722513822000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL25pZXFpYW5xaWFuL0Rvd25sb2Fkcy94aW54aWFuZ211L0NSTUVCL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCB7IGZpbmRBbGxNc2dzQXBpIH0gZnJvbSAnQC9hcGkvY29tbXVuaXR5JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbDogMCwKICAgICAgc2VhcmNoTXNnOiB7CiAgICAgICAgbmlja05hbWU6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBjb250ZW50OiAnJywKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiA4CiAgICAgIH0sCiAgICAgIG1zZ1RhYmxlOiBudWxsLAogICAgICBtc2dzVGFibGVMb2FkaW5nOiBmYWxzZSwKICAgICAgY29tbWVudE1zZ1Nob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICAvL+afpeeci+ivhOiuugogICAgY2hlY2tDb21tZW50OiBmdW5jdGlvbiBjaGVja0NvbW1lbnQobXNncykgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZUNvbW1lbnRNc2dMaXN0JywgbXNncyk7CiAgICB9LAogICAgZmluZEFsbE1zZ3M6IGZ1bmN0aW9uIGZpbmRBbGxNc2dzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMubXNnc1RhYmxlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGZpbmRBbGxNc2dzQXBpKF90aGlzLnNlYXJjaE1zZyk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzLm1zZ1RhYmxlID0gcmVzdWx0LmRhdGEubGlzdC5zb3J0KGZ1bmN0aW9uIChjMSwgYzIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGMyLm5vdFJlYWRDb3VudCAtIGMxLm5vdFJlYWRDb3VudDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSByZXN1bHQuZGF0YS5jb3VudDsKICAgICAgICAgICAgICAgIF90aGlzLm1zZ3NUYWJsZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKCkgewogICAgICB0aGlzLm1zZ1RhYmxlID0gW107CiAgICAgIHRoaXMuZmluZEFsbE1zZ3MoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["findAllMsgsApi","data","total","searchMsg","nickName","title","content","page","limit","msgTable","msgsTableLoading","commentMsgShow","computed","watch","methods","checkComment","msgs","$emit","findAllMsgs","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","sent","code","list","sort","c1","c2","notReadCount","count","stop","pageChange"],"sources":["src/pages/community/commentMsgList.vue"],"sourcesContent":["<template>\n  <el-dialog :visible.sync=\"commentMsgShow\" width=\"90%\">\n    <span slot=\"title\">选择动态：<span style=\"color: gray;\">回复 / 审核 / 屏蔽 动态评论</span></span>\n    <el-row style=\"margin-bottom: 10px;\">\n      <el-input v-model=\"searchMsg.nickName\" placeholder=\"用户名关键词搜索\" size=\"small\" style=\"width: 29%;\">\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findAllMsgs()\"/>\n        <el-button slot=\"append\" icon=\"el-icon-refresh-left\" @click=\"searchMsg.nickName = ''; findAllMsgs()\"/>\n      </el-input>\n      <el-input v-model=\"searchMsg.title\" placeholder=\"动态标题关键词搜索\" size=\"small\" style=\"width: 29%;\">\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findAllMsgs()\"/>\n        <el-button slot=\"append\" icon=\"el-icon-refresh-left\" @click=\"searchMsg.title = ''; findAllMsgs()\"/>\n      </el-input>\n      <el-input v-model=\"searchMsg.content\" placeholder=\"动态内容关键词搜索\" size=\"small\" style=\"width: 29%;\">\n        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findAllMsgs()\"/>\n        <el-button slot=\"append\" icon=\"el-icon-refresh-left\" @click=\"searchMsg.content = ''; findAllMsgs()\"/>\n      </el-input>\n  </el-row>\n    <el-table v-loading=\"msgsTableLoading\" :data=\"msgTable\">\n      <el-table-column label=\"ID\" type=\"index\" width=\"45\" align=\"center\"/>\n      <el-table-column label=\"头像\" width=\"75\">\n        <template slot-scope=\"scope\">\n          <img :src=\"scope.row.user.headUrl\" v-show=\"scope.row.user.headUrl\" width=\"45\" height=\"45\"/>\n          <img src=\"../../assets/images/maijiCat.png\" v-show=\"! scope.row.user.headUrl\" width=\"45\"\n               height=\"45\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户名\" width=\"150\"\n                       show-overflow-tooltip\n                       :formatter=\"(row) => row.user.nickName || '麦吉用户'\">\n      </el-table-column>\n      <el-table-column label=\"动态标题/内容\" min-width=\"345\"\n                       show-overflow-tooltip>\n        <template slot-scope=\"scope\">\n          <span style=\"color: gray;\">标题：</span><span>{{scope.row.title || '—'}}</span><br/>\n          <span style=\"color: gray;\">内容：</span><span>{{scope.row.content}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"评论数\" width=\"68\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"primary\">{{scope.row.allCCCount}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"未审核\" width=\"68\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"danger\">{{scope.row.notReadCount}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"选择动态\" width=\"120\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"mini\" @click=\"checkComment(scope.row)\">查看评论 <i class=\"el-icon-search\"/></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-row style=\"margin-top: 10px; text-align: right;\">\n\t\t<pagination\n\t\t\tv-if=\"total\"\n\t\t\t:total=\"total\"\n\t\t\t:page-sizes=\"[8, 15, 20, 30]\"\n\t\t\t:page-size=\"searchMsg.size\"\n\t\t\tayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t:current-page.sync=\"searchMsg.page\"\n\t\t\t@pagination=\"pageChange\"/>\n    </el-row>\n  </el-dialog>\n</template>\n\n<script>\n\timport { findAllMsgsApi } from '@/api/community'\n    export default {\n        data() {\n\t\t\treturn {\n\t\t\t\ttotal: 0,\n\t\t\t\tsearchMsg: {\n\t\t\t\t\tnickName: '',\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: 8\n\t\t\t\t},\n\t\t\t\tmsgTable: null,\n\t\t\t\tmsgsTableLoading: false,\n\t\t\t\tcommentMsgShow: false,\n\t\t\t}\n        },\n\t\tcomputed: {\n\t\t},\n\t\twatch: {\n\t\t},\n\t\tmethods: {\n\t\t\t//查看评论\n\t\t\tcheckComment(msgs) {\n\t\t\t\tthis.$emit('closeCommentMsgList',msgs)\n\t\t\t},\n\t\t\tasync findAllMsgs() {\n\t\t\t  this.msgsTableLoading = true\n\t\t\t  const result = await findAllMsgsApi(this.searchMsg)\n\t\t\t  if (result.code == 200) {\n\t\t\t\tthis.msgTable = result.data.list.sort((c1, c2) =>c2.notReadCount - c1.notReadCount)\n\t\t\t\tthis.total = result.data.count\n\t\t\t\tthis.msgsTableLoading = false\n\t\t\t  }\n\t\t\t},\n\t\t\tpageChange() {\n\t\t\t\tthis.msgTable = [];\n\t\t\t\tthis.findAllMsgs();\n\t\t\t},\n\t\t},\n    }\n</script>\n\n<style scoped lang=\"scss\">\n\t::v-deep .el-dialog {\n\t\tmargin-top: auto !important;\n\t\theight: 100%;;\n\t}\n    .el-table .success-row {\n        color: #409EFF;\n    }\n    .el-form-item {\n        text-align: left;\n    }\n    .el-dialog__body {\n        padding-top: 10px;\n    }\n\n    .el-tooltip__popper {\n      max-width: 30%;\n    }\n</style>\n"],"mappings":";;;AAmEA,SAAAA,cAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MACAC,SAAA;QACAC,QAAA;QACAC,KAAA;QACAC,OAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACAC,QAAA;MACAC,gBAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA,GACA;EACAC,KAAA,GACA;EACAC,OAAA;IACA;IACAC,YAAA,WAAAA,aAAAC,IAAA;MACA,KAAAC,KAAA,wBAAAD,IAAA;IACA;IACAE,WAAA,WAAAA,YAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,MAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAV,KAAA,CAAAT,gBAAA;cAAAiB,QAAA,CAAAE,IAAA;cAAA,OACA7B,cAAA,CAAAmB,KAAA,CAAAhB,SAAA;YAAA;cAAAqB,MAAA,GAAAG,QAAA,CAAAG,IAAA;cACA,IAAAN,MAAA,CAAAO,IAAA;gBACAZ,KAAA,CAAAV,QAAA,GAAAe,MAAA,CAAAvB,IAAA,CAAA+B,IAAA,CAAAC,IAAA,WAAAC,EAAA,EAAAC,EAAA;kBAAA,OAAAA,EAAA,CAAAC,YAAA,GAAAF,EAAA,CAAAE,YAAA;gBAAA;gBACAjB,KAAA,CAAAjB,KAAA,GAAAsB,MAAA,CAAAvB,IAAA,CAAAoC,KAAA;gBACAlB,KAAA,CAAAT,gBAAA;cACA;YAAA;YAAA;cAAA,OAAAiB,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA;IACA;IACAgB,UAAA,WAAAA,WAAA;MACA,KAAA9B,QAAA;MACA,KAAAS,WAAA;IACA;EACA;AACA","ignoreList":[]}]}