{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemCleardata/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/pages/system/maintain/systemCleardata/index.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVwbGFjZVNpdGVVcmxBcGkgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3N5c3RlbUNsZWFyZGF0YScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlNjogJycsCiAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDI0LAogICAgICAgIHhzOiAyNAogICAgICB9LAogICAgICB0YWJMaXN0OiBbewogICAgICAgIHRpdGxlOiAn5pu05o2i5Z+f5ZCNJywKICAgICAgICB0bHQ6ICfmm7/mjaLmiYDmnInmnKzlnLDkuIrkvKDnmoTlm77niYfln5/lkI0nLAogICAgICAgIHR5cGVOYW1lOiAncHJpbWFyeScsCiAgICAgICAgdHlwZTogJzExJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTnlKjmiLfnlJ/miJDnmoTkuLTml7bpmYTku7YnLAogICAgICAgIHRsdDogJ+a4hemZpOeUqOaIt+eUn+aIkOeahOS4tOaXtumZhOS7tu+8jOS4jeS8muW9seWTjeWVhuWTgeWbvicsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ3RlbXAnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+a4hemZpOWbnuaUtuermeWVhuWTgScsCiAgICAgICAgdGx0OiAn5riF6Zmk5Zue5pS256uZ5ZWG5ZOB77yM6LCo5oWO5pON5L2cJywKICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICB0eXBlOiAncmVjeWNsZScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk55So5oi35pWw5o2uJywKICAgICAgICB0bHQ6ICfnlKjmiLfnm7jlhbPnmoTmiYDmnInooajpg73lsIbooqvmuIXpmaTvvIzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICd1c2VyJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTllYbln47mlbDmja4nLAogICAgICAgIHRsdDogJ+a4hemZpOaJgOacieWVhuWfjuaVsOaNru+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ3N0b3JlJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTllYblk4HliIbnsbsnLAogICAgICAgIHRsdDogJ+S8mua4hemZpOaJgOacieWVhuWTgeWIhuexu++8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ2NhdGVnb3J5JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTorqLljZXmlbDmja4nLAogICAgICAgIHRsdDogJ+a4hemZpOeUqOaIt+aJgOacieiuouWNleaVsOaNru+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ29yZGVyJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTlrqLmnI3mlbDmja4nLAogICAgICAgIHRsdDogJ+a4hemZpOa3u+WKoOeahOWuouacjeaVsOaNru+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ2tlZnUnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+a4hemZpOW+ruS/oeaVsOaNricsCiAgICAgICAgdGx0OiAn5riF6Zmk5b6u5L+h6I+c5Y2V5L+d5a2Y5pWw5o2u77yM5b6u5L+h5YWz6ZSu5a2X5peg5pWI5Zue5aSNJywKICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICB0eXBlOiAnd2VjaGF0JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTlhoXlrrnliIbnsbsnLAogICAgICAgIHRsdDogJ+a4hemZpOa3u+WKoOeahOaWh+eroOWSjOaWh+eroOWIhuexuyzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdhcnRpY2xlJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTmiYDmnInpmYTku7YnLAogICAgICAgIHRsdDogJ+a4hemZpOaJgOaciemZhOS7tueUqOaIt+eUn+aIkOWSjOWQjuWPsOS4iuS8oCzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdhdHRhY2htZW50JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTns7vnu5/orrDlvZUnLAogICAgICAgIHRsdDogJ+a4hemZpOezu+e7n+iusOW9lSzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdzeXN0ZW0nCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5riF6Zmk5pWw5o2uCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoaXRlbSkgewogICAgICBpZiAoaXRlbS50eXBlID09PSAnMTEnKSB7CiAgICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xlYXJGcm9tcyhpdGVtKTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyRnJvbXM6IGZ1bmN0aW9uIGNsZWFyRnJvbXMoaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsCiAgICAgICAgdXJsOiAic3lzdGVtL2NsZWFyLyIuY29uY2F0KGl0ZW0udHlwZSksCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBpZHM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmjaLln5/lkI0KICAgIGNoYW5nZVlVOiBmdW5jdGlvbiBjaGFuZ2VZVSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJlcGxhY2VTaXRlVXJsQXBpKHsKICAgICAgICB1cmw6IHRoaXMudmFsdWU2CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5tb2RhbHMgPSBmYWxzZTsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["replaceSiteUrlApi","name","data","value6","modals","grid","xl","lg","md","sm","xs","tabList","title","tlt","typeName","type","methods","onChange","item","clearFroms","_this","delfromData","url","concat","method","ids","$modalSure","then","res","$message","success","msg","catch","error","changeYU","_this2"],"sources":["src/pages/system/maintain/systemCleardata/index.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n      <span class=\"clear_tit\">\n        <i class=\"el-icon-info\" style=\"color: #ED4014\" />\n        <span>清除数据请谨慎，清除就无法恢复哦！</span>\n      </span>\n    </div>\n    <el-card :bordered=\"false\" shadow=\"never\" class=\"ivu-mt\">\n      <el-row :gutter=\"24\">\n        <el-col v-bind=\"grid\" class=\"mb20\" v-for=\"(item, index) in tabList\" :key=\"index\">\n          <div class=\"clear_box\">\n            <span class=\"clear_box_sp1\" v-text=\"item.title\"></span>\n            <span class=\"clear_box_sp2\" v-text=\"item.tlt\"></span>\n            <el-button\n              :type=\"item.typeName\"\n              v-text=\"item.typeName === 'primary' ? '立即更换' : '立即清理'\"\n              @click=\"onChange(item)\"\n            ></el-button>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n    <!-- 更换域名-->\n    <el-dialog :visible.sync=\"modals\" class=\"tableBox\" title=\"更换域名\" width=\"540px\" :close-on-click-modal=\"false\">\n      <div class=\"acea-row row-column\">\n        <span>请输入需要替换的域名，格式为：http://域名。</span>\n        <span>替换规则：会使用当前[设置]里面的[网站域名]去替换成当前您输入的域名。</span>\n        <span class=\"mb15\">替换成功后再去更换[网站域名]。</span>\n        <el-input v-model=\"value6\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入网站域名...\" />\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"modals = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"changeYU\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { replaceSiteUrlApi } from '@/api/system';\nexport default {\n  name: 'systemCleardata',\n  data() {\n    return {\n      value6: '',\n      modals: false,\n      grid: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tabList: [\n        {\n          title: '更换域名',\n          tlt: '替换所有本地上传的图片域名',\n          typeName: 'primary',\n          type: '11',\n        },\n        {\n          title: '清除用户生成的临时附件',\n          tlt: '清除用户生成的临时附件，不会影响商品图',\n          typeName: 'error',\n          type: 'temp',\n        },\n        {\n          title: '清除回收站商品',\n          tlt: '清除回收站商品，谨慎操作',\n          typeName: 'error',\n          type: 'recycle',\n        },\n        {\n          title: '清除用户数据',\n          tlt: '用户相关的所有表都将被清除，谨慎操作',\n          typeName: 'error',\n          type: 'user',\n        },\n        {\n          title: '清除商城数据',\n          tlt: '清除所有商城数据，谨慎操作',\n          typeName: 'error',\n          type: 'store',\n        },\n        {\n          title: '清除商品分类',\n          tlt: '会清除所有商品分类，谨慎操作',\n          typeName: 'error',\n          type: 'category',\n        },\n        {\n          title: '清除订单数据',\n          tlt: '清除用户所有订单数据，谨慎操作',\n          typeName: 'error',\n          type: 'order',\n        },\n        {\n          title: '清除客服数据',\n          tlt: '清除添加的客服数据，谨慎操作',\n          typeName: 'error',\n          type: 'kefu',\n        },\n        {\n          title: '清除微信数据',\n          tlt: '清除微信菜单保存数据，微信关键字无效回复',\n          typeName: 'error',\n          type: 'wechat',\n        },\n        {\n          title: '清除内容分类',\n          tlt: '清除添加的文章和文章分类,谨慎操作',\n          typeName: 'error',\n          type: 'article',\n        },\n        {\n          title: '清除所有附件',\n          tlt: '清除所有附件用户生成和后台上传,谨慎操作',\n          typeName: 'error',\n          type: 'attachment',\n        },\n        {\n          title: '清除系统记录',\n          tlt: '清除系统记录,谨慎操作',\n          typeName: 'error',\n          type: 'system',\n        },\n      ],\n    };\n  },\n  methods: {\n    // 清除数据\n    onChange(item) {\n      if (item.type === '11') {\n        this.modals = true;\n      } else {\n        this.clearFroms(item);\n      }\n    },\n    clearFroms(item) {\n      let delfromData = {\n        title: item.title,\n        url: `system/clear/${item.type}`,\n        method: 'get',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n    // 更换域名\n    changeYU() {\n      replaceSiteUrlApi({ url: this.value6 })\n        .then((res) => {\n          this.modals = false;\n          this.$message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.clear_tit\n    align-items center\n    margin: 15px\n    span\n        font-size 14px\n        color #ED4014\n.clear_box\n    border 1px solid #DADFE6\n    border-radius 3px\n    display flex\n    flex-direction column\n    align-items: center\n    padding 30px 10px\n    box-sizing border-box\n    .clear_box_sp1\n        font-size 16px\n        color #000000\n        display block\n    .clear_box_sp2\n        font-size 14px\n        color #808695\n        display block\n        margin: 12px 0\n.clear_box ::v-deep .ivu-btn-error\n    color: #fff;\n    background-color: #ED4014;\n    border-color: #ED4014;\n.product_tabs ::v-deep .ivu-page-header-title\n    margin-bottom 0!important\n</style>\n"],"mappings":"AAyCA,SAAAA,iBAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,MAAA;MACAC,IAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAC,OAAA,GACA;QACAC,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA;IAEA;EACA;EACAC,OAAA;IACA;IACAC,QAAA,WAAAA,SAAAC,IAAA;MACA,IAAAA,IAAA,CAAAH,IAAA;QACA,KAAAX,MAAA;MACA;QACA,KAAAe,UAAA,CAAAD,IAAA;MACA;IACA;IACAC,UAAA,WAAAA,WAAAD,IAAA;MAAA,IAAAE,KAAA;MACA,IAAAC,WAAA;QACAT,KAAA,EAAAM,IAAA,CAAAN,KAAA;QACAU,GAAA,kBAAAC,MAAA,CAAAL,IAAA,CAAAH,IAAA;QACAS,MAAA;QACAC,GAAA;MACA;MACA,KAAAC,UAAA,CAAAL,WAAA,EACAM,IAAA,WAAAC,GAAA;QACAR,KAAA,CAAAS,QAAA,CAAAC,OAAA,CAAAF,GAAA,CAAAG,GAAA;MACA,GACAC,KAAA,WAAAJ,GAAA;QACAR,KAAA,CAAAS,QAAA,CAAAI,KAAA,CAAAL,GAAA,CAAAG,GAAA;MACA;IACA;IACA;IACAG,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACAnC,iBAAA;QAAAsB,GAAA,OAAAnB;MAAA,GACAwB,IAAA,WAAAC,GAAA;QACAO,MAAA,CAAA/B,MAAA;QACA+B,MAAA,CAAAN,QAAA,CAAAC,OAAA,CAAAF,GAAA,CAAAG,GAAA;MACA,GACAC,KAAA,WAAAJ,GAAA;QACAO,MAAA,CAAAN,QAAA,CAAAI,KAAA,CAAAL,GAAA,CAAAG,GAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}