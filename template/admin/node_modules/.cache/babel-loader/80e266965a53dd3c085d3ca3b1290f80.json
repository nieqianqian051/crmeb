{"remainingRequest":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/routerView/parent.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/src/layout/routerView/parent.vue","mtime":1719467759000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/babel.config.js","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/.babelrc","mtime":1679965410000},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/babel-loader/lib/index.js","mtime":1746465024347},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":1746465018509},{"path":"/Users/nieqianqian/Downloads/xinxiangmu/CRMEB/template/admin/node_modules/vue-loader/lib/index.js","mtime":1746465019530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3BhcmVudCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlZnJlc2hSb3V0ZXJWaWV3S2V5OiBudWxsLAogICAgICBrZWVwQWxpdmVOYW1lTGlzdDogW10sCiAgICAgIGtlZXBBbGl2ZU5hbWVOZXdMaXN0OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDorr7nva7kuLvnlYzpnaLliIfmjaLliqjnlLsKICAgIHNldFRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uTmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmFuaW1hdGlvbjsKICAgIH0sCiAgICBpc1RhZ0hpc3Rvcnk6IGZ1bmN0aW9uIGlzVGFnSGlzdG9yeSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmlzVGFnc3ZpZXc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIC8qKgogICAgKiDojrflj5bpnIDopoHkv53mjIHmtLvliqjnirbmgIHnmoTnu4Tku7blkI3np7DliJfooagKICAgICovCiAgICB0aGlzLmtlZXBBbGl2ZU5hbWVMaXN0ID0gdGhpcy5nZXRLZWVwQWxpdmVOYW1lcygpOwogICAgLy8g55uR5ZCs5qCH562+6aG16KeG5Zu+5Yi35paw6Lev55Sx6KeG5Zu+5LqL5Lu2CiAgICB0aGlzLmJ1cy4kb24oJ29uVGFnc1ZpZXdSZWZyZXNoUm91dGVyVmlldycsIGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgIC8vIOWmguaenOW9k+WJjei3r+eUsei3r+W+hOS4jeetieS6juS8oOWFpeeahOi3r+W+hO+8jOWImeebtOaOpei/lOWbnmZhbHNlCiAgICAgIGlmIChfdGhpcy4kcm91dGUucGF0aCAhPT0gcGF0aCkgcmV0dXJuIGZhbHNlOwogICAgICAvLyDov4fmu6TmjonlvZPliY3ot6/nlLHlr7nlupTnmoTnu4Tku7blkI3np7DvvIzlubbph43mlrDorr7nva5rZWVwQWxpdmVOYW1lTGlzdAogICAgICBfdGhpcy5rZWVwQWxpdmVOYW1lTGlzdCA9IF90aGlzLmdldEtlZXBBbGl2ZU5hbWVzKCkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZS5uYW1lICE9PSBuYW1lOwogICAgICB9KTsKICAgICAgLy8g5Yi35paw6Lev55Sx6KeG5Zu+a2V5CiAgICAgIF90aGlzLnJlZnJlc2hSb3V0ZXJWaWV3S2V5ID0gX3RoaXMuJHJvdXRlLnBhdGg7CiAgICAgIC8vIOWcqOS4i+S4gOS4qnRpY2vkuK3ph43mlrDorr7nva5rZWVwQWxpdmVOYW1lTGlzdAogICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnJlZnJlc2hSb3V0ZXJWaWV3S2V5ID0gbnVsbDsKICAgICAgICAvKioKICAgICAgICAgKiDojrflj5bpnIDopoHkv53mjIHmtLvliqjnirbmgIHnmoTnu4Tku7blkI3np7DliJfooagKICAgICAgICAgKi8KICAgICAgICBfdGhpcy5rZWVwQWxpdmVOYW1lTGlzdCA9IF90aGlzLmdldEtlZXBBbGl2ZU5hbWVzKCk7CiAgICAgIH0pOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygndGhpcy5rZWVwQWxpdmVOYW1lTGlzdCcsIHRoaXMua2VlcEFsaXZlTmFtZUxpc3QsIHRoaXMucmVmcmVzaFJvdXRlclZpZXdLZXkpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6Lev55Sx57yT5a2Y5YiX6KGo77yIbmFtZe+8ie+8jOm7mOiupOi3r+eUseWFqOmDqOe8k+WtmAogICAgZ2V0S2VlcEFsaXZlTmFtZXM6IGZ1bmN0aW9uIGdldEtlZXBBbGl2ZU5hbWVzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUua2VlcEFsaXZlTmFtZXMua2VlcEFsaXZlTmFtZXM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","refreshRouterViewKey","keepAliveNameList","keepAliveNameNewList","computed","setTransitionName","$store","state","themeConfig","animation","isTagHistory","isTagsview","created","_this","getKeepAliveNames","bus","$on","path","$route","filter","$nextTick","console","log","methods","keepAliveNames"],"sources":["src/layout/routerView/parent.vue"],"sourcesContent":["<template>\n  <div :class=\"isTagHistory ? 'h100' : 'h101'\">\n    <transition :name=\"setTransitionName\"\n                mode=\"out-in\">\n      <keep-alive :include=\"keepAliveNameList\">\n        <router-view :key=\"refreshRouterViewKey\" />\n      </keep-alive>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'parent',\n  data () {\n    return {\n      refreshRouterViewKey: null,\n      keepAliveNameList: [],\n      keepAliveNameNewList: [],\n    };\n  },\n  computed: {\n    // 设置主界面切换动画\n    setTransitionName () {\n      return this.$store.state.themeConfig.themeConfig.animation;\n    },\n    isTagHistory () {\n      return this.$store.state.themeConfig.themeConfig.isTagsview;\n    },\n  },\n  created () {\n    /**\n  * 获取需要保持活动状态的组件名称列表\n  */\n    this.keepAliveNameList = this.getKeepAliveNames();\n    // 监听标签页视图刷新路由视图事件\n    this.bus.$on('onTagsViewRefreshRouterView', (path) => {\n      // 如果当前路由路径不等于传入的路径，则直接返回false\n      if (this.$route.path !== path) return false;\n      // 过滤掉当前路由对应的组件名称，并重新设置keepAliveNameList\n      this.keepAliveNameList = this.getKeepAliveNames().filter((name) => this.$route.name !== name);\n      // 刷新路由视图key\n      this.refreshRouterViewKey = this.$route.path;\n      // 在下一个tick中重新设置keepAliveNameList\n      this.$nextTick(() => {\n        this.refreshRouterViewKey = null;\n        /**\n         * 获取需要保持活动状态的组件名称列表\n         */\n        this.keepAliveNameList = this.getKeepAliveNames();\n      });\n    });\n    console.log('this.keepAliveNameList', this.keepAliveNameList, this.refreshRouterViewKey)\n  },\n\n  methods: {\n    // 获取路由缓存列表（name），默认路由全部缓存\n    getKeepAliveNames () {\n      return this.$store.state.keepAliveNames.keepAliveNames;\n    },\n  },\n};\n</script>\n"],"mappings":";;;AAYA;EACAA,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,oBAAA;MACAC,iBAAA;MACAC,oBAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,iBAAA,WAAAA,kBAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAA,WAAA,CAAAC,SAAA;IACA;IACAC,YAAA,WAAAA,aAAA;MACA,YAAAJ,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAA,WAAA,CAAAG,UAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA;AACA;AACA;IACA,KAAAX,iBAAA,QAAAY,iBAAA;IACA;IACA,KAAAC,GAAA,CAAAC,GAAA,0CAAAC,IAAA;MACA;MACA,IAAAJ,KAAA,CAAAK,MAAA,CAAAD,IAAA,KAAAA,IAAA;MACA;MACAJ,KAAA,CAAAX,iBAAA,GAAAW,KAAA,CAAAC,iBAAA,GAAAK,MAAA,WAAApB,IAAA;QAAA,OAAAc,KAAA,CAAAK,MAAA,CAAAnB,IAAA,KAAAA,IAAA;MAAA;MACA;MACAc,KAAA,CAAAZ,oBAAA,GAAAY,KAAA,CAAAK,MAAA,CAAAD,IAAA;MACA;MACAJ,KAAA,CAAAO,SAAA;QACAP,KAAA,CAAAZ,oBAAA;QACA;AACA;AACA;QACAY,KAAA,CAAAX,iBAAA,GAAAW,KAAA,CAAAC,iBAAA;MACA;IACA;IACAO,OAAA,CAAAC,GAAA,gCAAApB,iBAAA,OAAAD,oBAAA;EACA;EAEAsB,OAAA;IACA;IACAT,iBAAA,WAAAA,kBAAA;MACA,YAAAR,MAAA,CAAAC,KAAA,CAAAiB,cAAA,CAAAA,cAAA;IACA;EACA;AACA","ignoreList":[]}]}