(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-068f328a"],{1148:function(t,e,s){var i=s("5926"),a=s("577e"),n=s("1d80"),r=RangeError;t.exports=function(t){var e=a(n(this)),s="",o=i(t);if(o<0||o===1/0)throw new r("Wrong number of repetitions");for(;0<o;(o>>>=1)&&(e+=e))1&o&&(s+=e);return s}},1228:function(t,e,s){s("5834")},"232f":function(t,e,s){s("b0c0"),s("d81d"),s("14d9"),s("a434"),s("a9e3");var i=s("c24f"),a={name:"userLabel",props:{uid:{type:String|Number,default:0},only_get:{default:!1},selectDataLabel:{type:Array,default:function(){}}},data:function(){return{labelList:[],activeIds:[],unLaberids:[]}},watch:{uid:{handler:function(t,e){t!=e&&this.getList()},deep:!0}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;Object(i.m)(this.uid||0).then((function(e){t.selectDataLabel&&t.selectDataLabel.length&&t.selectDataLabel.map((function(t){e.data.map((function(e){e.label.map((function(e){e.id===t.id&&(e.disabled=!0)}))}))})),e.data.map((function(e){e.label.map((function(e){e.disabled&&t.activeIds.push(e.id)}))})),t.labelList=e.data}))},selectLabel:function(t){var e;t.disabled?(e=this.activeIds.indexOf(t.id),this.activeIds.splice(e,1),t.disabled=!1):(this.activeIds.push(t.id),t.disabled=!0)},subBtn:function(){var t=this,e=[];this.only_get?(this.labelList.map((function(t){t.label.map((function(t){1==t.disabled&&e.push({id:t.id,label_name:t.label_name})}))})),this.$emit("activeData",e)):(this.labelList.map((function(t){t.label.map((function(t){0==t.disabled&&e.push(t.id)}))})),this.unLaberids=e,Object(i.F)(this.uid,{label_ids:this.activeIds,un_label_ids:this.unLaberids}).then((function(e){t.$emit("onceGetList"),t.activeIds=[],t.unLaberids=[],t.$message.success(e.msg),t.$emit("close")})).catch((function(e){t.$message.error(e.msg)})))},cancel:function(){this.activeIds=[],this.unLaberids=[],this.$emit("close")}}};s("fb35"),s=s("2877"),s=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"label-wrapper"},[t.labelList[0]?t._l(t.labelList,(function(s,i){return e("div",{key:i,staticClass:"label-box"},[e("div",{staticClass:"title"},[t._v(t._s(s.name))]),e("div",{staticClass:"list"},t._l(s.label,(function(s,i){return e("div",{key:i,staticClass:"label-item",class:{on:s.disabled},on:{click:function(e){return t.selectLabel(s)}}},[t._v("\n        "+t._s(s.label_name)+"\n      ")])})),0)])})):e("div",{staticClass:"nonefont"},[t._v("暂无标签")]),e("div",{staticClass:"acea-row row-right mt20"},[e("el-button",{on:{click:t.cancel}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确 定")])],1)],2)}),[],!1,null,"34379f5b",null);e.a=s.exports},"27c52":function(t,e,s){s("baaf")},"313d":function(t,e,s){var i=s("23e7"),a=s("da84"),n=s("d066"),r=s("e330"),o=s("c65b"),l=s("d039"),c=s("577e"),d=s("d6d6"),u=s("b917").i2c,f=n("btoa"),m=r("".charAt),v=r("".charCodeAt),h=!!f&&!l((function(){return"aGk="!==f("hi")}));s=h&&!l((function(){f()})),r=h&&l((function(){return"bnVsbA=="!==f(null)})),l=h&&1!==f.length;i({global:!0,bind:!0,enumerable:!0,forced:!h||s||r||l},{btoa:function(t){if(d(arguments.length,1),h)return o(f,a,c(t));for(var e,s,i=c(t),r="",l=0,p=u;m(i,l)||(p="=",l%1);){if(255<(s=v(i,l+=.75)))throw new(n("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");r+=m(p,63&(e=e<<8|s)>>8-l%1*8)}return r}})},"31b4":function(t,e,s){s("a630"),s("3ca3");var i=s("5530"),a=(s("d3b7"),s("159b"),s("30ba")),n=(a=s.n(a),s("6b6c")),r=s("2f62");a={name:"edit",components:{formCreate:a.a.$form()},computed:Object(i.a)({},Object(r.e)("userLevel",["taskId","levelId"])),props:{FromData:{type:Object,default:null},update:{type:Boolean,default:!0}},watch:{FromData:function(){this.FromData.rules.forEach((function(t){t.title+="："}))}},data:function(){return{modals:!1,type:0,loading:!1,fapi:null,config:{form:{labelWidth:"100px"},resetBtn:!1,submitBtn:!1,global:{upload:{props:{onSuccess:function(t,e){200===t.status?e.url=t.data.src:this.$message.error(t.msg)}}}}}}},methods:{couponsType:function(){this.$parent.addType(this.type)},formSubmit:function(){this.fapi.submit()},onSubmit:function(t){var e=this;this.loading||(this.loading=!0,Object(n.a)({url:this.FromData.action,method:this.FromData.method,data:t}).then((function(t){e.update&&e.$parent.getList(),e.$message.success(t.msg),e.modals=!1,setTimeout((function(){e.$emit("submitFail"),e.loading=!1}),1e3)})).catch((function(t){e.loading=!1,e.$message.error(t.msg)})))},cancel:function(){this.type=0}}},s("fae3"),i=s("2877"),r=Object(i.a)(a,(function(){var t=this,e=t._self._c;return t.FromData?e("div",[e("el-dialog",{attrs:{visible:t.modals,title:t.FromData.title,"z-index":1,width:"720px"},on:{"update:visible":function(e){t.modals=e},closed:t.cancel}},[["/marketing/coupon/save.html"===t.FromData.action?e("div",{staticClass:"radio acea-row row-middle"},[e("div",{staticClass:"name ivu-form-item-content"},[t._v("优惠券类型")]),e("el-radio-group",{on:{input:t.couponsType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("el-radio",{attrs:{label:0}},[t._v("通用券")]),e("el-radio",{attrs:{label:1}},[t._v("品类券")]),e("el-radio",{attrs:{label:2}},[t._v("商品券")])],1)],1):t._e()],e("form-create",{ref:"fc",staticClass:"formBox",attrs:{option:t.config,rule:Array.from(this.FromData.rules),handleIcon:"false"},on:{submit:t.onSubmit},model:{value:t.fapi,callback:function(e){t.fapi=e},expression:"fapi"}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.modals=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.formSubmit}},[t._v("确 定")])],1)],2)],1):t._e()}),[],!1,null,"224af4d2",null);e.a=r.exports},4615:function(t,e,s){s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("bf19"),s("9861"),s("88a7"),s("271a"),s("5494");var i={name:"WorkspaceJsonReplaceDialog",props:{isShow:{type:Boolean,default:!1},qrCode:{type:String,default:!1},link:{type:String,default:!1}},data:function(){return{radio:"3"}},mounted:function(){},methods:{saveFood:function(){this.$emit("closeFood"),this.$store.dispatch("delVisitedViews",this.$route),this.$router.go(-1)},handleClose:function(){this.$emit("closeFood"),this.$store.dispatch("delVisitedViews",this.$route),this.$router.go(-1)},uploadImg:function(){var t=document.createElement("a");t.href=this.qrCode,t.download="".concat((new Date).getTime(),".png"),t.click(),URL.revokeObjectURL(this.qrCode)}}},a=(s("6416"),s("2877"));a=Object(a.a)(i,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"",visible:t.isShow,width:"924px","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.isShow=e}}},[e("div",{staticClass:"linkWrap"},[e("div",{staticClass:"linkLeft"},[e("div",{staticClass:"leftBox"},[e("div",{staticClass:"leftText1"},[t._v("\n            邀请您查看\n          ")]),e("div",{staticClass:"leftText2"},[t._v("私人饮食定制食谱")]),e("div",{staticClass:"leftItem mt89"},[e("img",{attrs:{src:s("79a1"),alt:""}}),e("span",[t._v("专业营养师搭配")])]),e("div",{staticClass:"leftItem mt10"},[e("img",{attrs:{src:s("79a1"),alt:""}}),e("span",[t._v("私人饮食定制")])]),e("img",{staticClass:"erweimaImg",attrs:{src:t.qrCode,alt:""}}),e("div",{staticClass:"leftText3"},[t._v("识别二维码查看定制食谱")])])]),e("div",{staticClass:"linkRight"},[e("div",{staticClass:"handleBtn"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.uploadImg}},[t._v("下载图片")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveFood}},[t._v("确 定")])],1)])])])}),[],!1,null,"d7181daa",null);e.a=a.exports},4967:function(t,e,s){},"549a":function(t,e,s){s("c367")},5834:function(t,e,s){},"5a0c":function(t,e,s){t.exports=function(){"use strict";var t=1e3,e=6e4,s=36e5,i="millisecond",a="second",n="minute",r="hour",o="day",l="week",c="month",d="quarter",u="year",f="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],s=t%100;return"["+t+(e[(s-20)%10]||e[s]||e[0])+"]"}},b=function(t,e,s){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(s)+t},g={s:b,z:function(t){var e=-t.utcOffset(),s=Math.abs(e),i=Math.floor(s/60),a=s%60;return(e<=0?"+":"-")+b(i,2,"0")+":"+b(a,2,"0")},m:function t(e,s){if(e.date()<s.date())return-t(s,e);var i=12*(s.year()-e.year())+(s.month()-e.month()),a=e.clone().add(i,c),n=s-a<0,r=e.clone().add(i+(n?-1:1),c);return+(-(i+(s-a)/(n?a-r:r-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:u,w:l,d:o,D:f,h:r,m:n,s:a,ms:i,Q:d}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",C={},I=(C[_]=p,"$isDayjsObject"),y=function(t){return t instanceof D||!(!t||!t[I])},w=function t(e,s,i){var a;if(!e)return _;if("string"==typeof e){var n=e.toLowerCase();C[n]&&(a=n),s&&(C[n]=s,a=n);var r=e.split("-");if(!a&&r.length>1)return t(r[0])}else{var o=e.name;C[o]=e,a=o}return!i&&a&&(_=a),a||!i&&_},k=function(t,e){if(y(t))return t.clone();var s="object"==typeof e?e:{};return s.date=t,s.args=arguments,new D(s)},$=g,D=($.l=w,$.i=y,$.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})},function(){function p(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[I]=!0}var b=p.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,s=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(v);if(i){var a=i[2]-1||0,n=(i[7]||"0").substring(0,3);return s?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,n)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,n)}}return new Date(e)}(t),this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return $},b.isValid=function(){return!(this.$d.toString()===m)},b.isSame=function(t,e){var s=k(t);return this.startOf(e)<=s&&s<=this.endOf(e)},b.isAfter=function(t,e){return k(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<k(t)},b.$g=function(t,e,s){return $.u(t)?this[e]:this.set(s,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var s=this,i=!!$.u(e)||e,d=$.p(t),m=function(t,e){var a=$.w(s.$u?Date.UTC(s.$y,e,t):new Date(s.$y,e,t),s);return i?a:a.endOf(o)},v=function(t,e){return $.w(s.toDate()[t].apply(s.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),s)},h=this.$W,p=this.$M,b=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case u:return i?m(1,0):m(31,11);case c:return i?m(1,p):m(0,p+1);case l:var _=this.$locale().weekStart||0,C=(h<_?h+7:h)-_;return m(i?b-C:b+(6-C),p);case o:case f:return v(g+"Hours",0);case r:return v(g+"Minutes",1);case n:return v(g+"Seconds",2);case a:return v(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var s,l=$.p(t),d="set"+(this.$u?"UTC":""),m=(s={},s[o]=d+"Date",s[f]=d+"Date",s[c]=d+"Month",s[u]=d+"FullYear",s[r]=d+"Hours",s[n]=d+"Minutes",s[a]=d+"Seconds",s[i]=d+"Milliseconds",s)[l],v=l===o?this.$D+(e-this.$W):e;if(l===c||l===u){var h=this.clone().set(f,1);h.$d[m](v),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else m&&this.$d[m](v);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[$.p(t)]()},b.add=function(i,d){var f,m=this;i=Number(i);var v=$.p(d),h=function(t){var e=k(m);return $.w(e.date(e.date()+Math.round(t*i)),m)};if(v===c)return this.set(c,this.$M+i);if(v===u)return this.set(u,this.$y+i);if(v===o)return h(1);if(v===l)return h(7);var p=(f={},f[n]=e,f[r]=s,f[a]=t,f)[v]||1,b=this.$d.getTime()+i*p;return $.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,s=this.$locale();if(!this.isValid())return s.invalidDate||m;var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=$.z(this),n=this.$H,r=this.$m,o=this.$M,l=s.weekdays,c=s.months,d=s.meridiem,u=function(t,s,a,n){return t&&(t[s]||t(e,i))||a[s].slice(0,n)},f=function(t){return $.s(n%12||12,t,"0")},v=d||function(t,e,s){var i=t<12?"AM":"PM";return s?i.toLowerCase():i};return i.replace(h,(function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return $.s(e.$y,4,"0");case"M":return o+1;case"MM":return $.s(o+1,2,"0");case"MMM":return u(s.monthsShort,o,c,3);case"MMMM":return u(c,o);case"D":return e.$D;case"DD":return $.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return u(s.weekdaysMin,e.$W,l,2);case"ddd":return u(s.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(n);case"HH":return $.s(n,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return v(n,r,!0);case"A":return v(n,r,!1);case"m":return String(r);case"mm":return $.s(r,2,"0");case"s":return String(e.$s);case"ss":return $.s(e.$s,2,"0");case"SSS":return $.s(e.$ms,3,"0");case"Z":return a}return null}(t)||a.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(i,f,m){var v,h=this,p=$.p(f),b=k(i),g=(b.utcOffset()-this.utcOffset())*e,_=this-b,C=function(){return $.m(h,b)};switch(p){case u:v=C()/12;break;case c:v=C();break;case d:v=C()/3;break;case l:v=(_-g)/6048e5;break;case o:v=(_-g)/864e5;break;case r:v=_/s;break;case n:v=_/e;break;case a:v=_/t;break;default:v=_}return m?v:$.a(v)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return C[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var s=this.clone(),i=w(t,e,!0);return i&&(s.$L=i),s},b.clone=function(){return $.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},p}()),S=D.prototype;return k.prototype=S,[["$ms",i],["$s",a],["$m",n],["$H",r],["$W",o],["$M",c],["$y",u],["$D",f]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,D,k),t.$i=!0),k},k.locale=w,k.isDayjs=y,k.unix=function(t){return k(1e3*t)},k.en=C[_],k.Ls=C,k.p={},k}()},6416:function(t,e,s){s("736f")},"736f":function(t,e,s){},"79a1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAbtJREFUOE+Nkj9oFGEQxd/LJdhoEbQQDVgazO4Jop0mRRohoHwrgn8jqI0cBuR2g2Jrl01CgoQgWFhkm9O9SAotRAUxnSGyKxHTJViYlIKFye2Tu3Mv68HF+7qZ773fDDNDND3bMwMQbwg4AegwhA0QS5SCaHz+VVbONOh9YPZ3buEJQacZmMYS3uWS3PXPk6Xv1VzNbN8f6sb2nkUAva2MDQCwhqRyOp54uV43u2Ye4Pn/GXf+9SHyy/2075kB5Pi+DeNbQQcJHqtqleASraJ5SvLmrmZpLhovX7PcC1OERmpmYIGW6ywTOF5PaAXCR5K3M7Ag8sOrfZ4pdIiPG3npBy3XbBI88Df5PPLDi3nXPBT4CGnFonOXxHRTdz9pF50YRF9mmjOxHxZs17kS+WFge6aAbMUdwma18jOCw1mqqNl4rHzHcs0IwakW83jNvGfOSvzncmpi4Uu2o2aAEt2q79kzbyAOtrGuVLIU7Q1P1cxHR88d6ko6FwkcaQOwsZXozNeJ8rfGbedHnR5VMAeivzVAn7Z/d1xemX6x2rjtrNgqGofEMMCTgvYB/EVgWUqCeK0rQKlUSfV/AEFNoxMA9fu9AAAAAElFTkSuQmCC"},"9f15":function(t,e,s){},a716:function(t,e,s){s("a9e3"),s("b680"),s("9911");var i=s("5530"),a=s("c7eb"),n=s("1da1"),r=(s("14d9"),s("13d5"),s("ace4"),s("2c66"),s("249d"),s("40e9"),s("b0c0"),s("d3b7"),s("5cc6"),s("907a"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("986a"),s("1d02"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a9"),s("6ce5"),s("2834"),s("72f7"),s("4ea1"),s("313d"),s("0eb6"),s("b7ef"),s("8bd4"),s("c24f")),o=s("5a0c"),l=s.n(o),c=(o={name:"userInfo",props:{psInfo:Object},filters:{timeFormat:function(t,e){return e=e?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss",t?l()(1e3*t).format(e):"-"},dateFormatter:function(t,e){var s,i,a;return t?(s=(t=new Date(t)).getFullYear()+"-",i=(i=t.getMonth()+1)<10?"0"+i+"-":i+"-",a=t.getDate()<10?"0"+t.getDate():t.getDate(),t.getHours(),t.getHours(),t.getMinutes(),t.getMinutes(),t.getSeconds(),t.getSeconds(),s+i+a):"—"},gender:function(t){return 1===t?"男":0===t?"女":"未知"}},computed:{hasExtendInfo:function(){}},created:function(){}},s("1228"),s("2877")),d=(o=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info"},[e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("基本信息")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("div",[t._v("用户ID：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.userId))])]),e("div",{staticClass:"item"},[e("div",[t._v("真实姓名：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.realName||"-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("手机号：")]),t.psInfo&&t.psInfo.appUser&&t.psInfo.appUser.tel?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.appUser.tel||"已注销"))]):e("div",{staticClass:"value"},[t._v(t._s("已注销"))])]),e("div",{staticClass:"item"},[e("div",[t._v("生日：")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("dateFormatter")(t.psInfo.birth,t.psInfo.birth,"yyyy-mm-dd")))])]),e("div",{staticClass:"item"},[e("div",[t._v("性别：")]),e("div",{staticClass:"value"},[t._v(t._s(0===t.psInfo.sex?"女":"男"))])]),e("div",{staticClass:"item"},[e("div",[t._v("身份证号：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.idCard||"-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("原始体重：")]),t.psInfo.weight?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.weight+" kg"||!1))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("目标体重：")]),t.psInfo.targetWeight?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.targetWeight+" kg"||!1))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("用户身高：")]),t.psInfo.height?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.height+" cm"||!1))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])])])]),e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("密码")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("div",[t._v("登录密码：")]),t.psInfo&&t.psInfo.appUser&&t.psInfo.appUser.pwd?e("div",{staticClass:"value"},[t._v("********")]):e("div",{staticClass:"value"},[t._v("未设置")])])])]),e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("用户概况")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("div",[t._v("用户标签：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.label_list||"-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("用户分组：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.group_name||"-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("分销码：")]),t.psInfo&&t.psInfo.appUser&&t.psInfo.appUser.distributionNum?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.appUser.distributionNum||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("推广人：")]),t.psInfo&&t.psInfo.appUser&&t.psInfo.appUser.pidCount?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.appUser.pidCount||"0"))]):e("div",{staticClass:"value"},[t._v(t._s("0"))])]),e("div",{staticClass:"item"},[e("div",[t._v("注册时间：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.regDate))])])])]),e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("用户备注")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("div",[t._v("备注：")]),e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.address||"-"))])])])])])}),[],!1,null,"7fe94e60",null).exports,s("a15b"),s("b64b"),{name:"questionNaire",props:{psInfo:Object},filters:{timeFormat:function(t,e){return e=e?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss",t?l()(1e3*t).format(e):"-"},dateFormatter:function(t,e){var s,i,a;return t?(s=(t=new Date(t)).getFullYear()+"-",i=(i=t.getMonth()+1)<10?"0"+i+"-":i+"-",a=t.getDate()<10?"0"+t.getDate():t.getDate(),t.getHours(),t.getHours(),t.getMinutes(),t.getMinutes(),t.getSeconds(),t.getSeconds(),s+i+a):"—"},gender:function(t){return 1===t?"男":0===t?"女":"未知"}}}),u=(d=(s("27c52"),Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info"},[e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("调查问卷信息")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("div",[t._v("微信呢称：")]),t.psInfo.nickName?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.nickName||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("性别：")]),e("div",{staticClass:"value"},[t._v(t._s(1===t.psInfo.sex?"男":"女"))])]),e("div",{staticClass:"item"},[e("div",[t._v("出生日期：")]),e("div",{staticClass:"value"},[t._v(t._s(t._f("dateFormatter")(t.psInfo.birth,t.psInfo.birth,"yyyy-mm-dd")))])]),e("div",{staticClass:"item"},[e("div",[t._v("身高：")]),t.psInfo.height?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.height+" cm"||!1))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("体重：")]),t.psInfo.weight?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.weight+" kg"||!1))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("目标体重：")]),t.psInfo.targetWeight?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.targetWeight+" kg"||!1))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("民族：")]),t.psInfo.nation?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.nation||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("职业：")]),t.psInfo.vocation?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.vocation||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("每天的饮食规律：")]),t.psInfo.dietRule?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.dietRule||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("是否有过减肥经历：")]),e("div",{staticClass:"value"},[t._v(t._s(0===t.psInfo.isUse?"否":"是"))])]),e("div",{staticClass:"item"},[e("div",[t._v("尝试过减肥方式：")]),t.psInfo.lossMode?e("div",{staticClass:"value"},[t._v(t._s(JSON.parse(t.psInfo.lossMode).join("、")||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("每天的饮水量：")]),t.psInfo.water?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.water||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("睡眠习惯：")]),t.psInfo.sleepPattern?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.sleepPattern||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("健康状况：")]),t.psInfo.healthCondition?e("div",{staticClass:"value"},[t._v(t._s(JSON.parse(t.psInfo.healthCondition).join("、")||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("需要那些帮助：")]),t.psInfo.assist?e("div",{staticClass:"value"},[t._v(t._s(JSON.parse(t.psInfo.assist).join("、")||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("备注（所在地区、喜欢的口味及菜系）：")]),t.psInfo.address?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.address||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])]),e("div",{staticClass:"item"},[e("div",[t._v("填写问卷时间：")]),t.psInfo.questionTime?e("div",{staticClass:"value"},[t._v(t._s(t.psInfo.questionTime||"-"))]):e("div",{staticClass:"value"},[t._v(t._s("-"))])])])])])}),[],!1,null,"11aafc0c",null).exports),s("498a"),s("d9e2"),s("4de4"),s("d81d"),s("a434"),s("e9c4"),s("ac1f"),s("00b4"),{name:"userInfo",components:{userLabel:s("232f").a},props:{userId:{type:String,default:""}},filters:{timeFormat:function(t){return t?l()(1e3*t).format("YYYY-MM-DD HH:mm:ss"):"-"},gender:function(t){return 1==t?"男":0==t?"女":"未知"}},data:function(){return{labelShow:!1,formItem:{userId:"",realName:"",sex:0,tel:"",birth:"",idCard:"",weight:"",targetWeight:"",height:"",pwd:"",truePwd:"",address:""},groupInfo:[],labelInfo:[],levelInfo:[],infoData:{groupInfo:[],labelInfo:[],levelInfo:[]},ruleValidate:{tel:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^((13[0-9])|(14[5,7,9])|(15[0-3,5-9])|(166)|(17[3,5,6,7,8])|(18[0-9])|(19[8,9]))\d{8}$/,message:"请输入正确的登录名（手机号码）",trigger:"blur"}],weight:[{required:!0,message:"请输入原始体重",trigger:"blur"},{validator:function(t,e,s){/^\d+(\.\d+)?$/.test(e)?(e=parseFloat(e),isNaN(e)?s(new Error("请输入原始体重为有效的数字")):e<0||200<e?s(new Error("原始体重必须在0到200之间")):s()):s(new Error("请输入原始体重为数值或有效的小数"))},trigger:"blur"}],targetWeight:[{required:!0,message:"请输入目标体重",trigger:"blur"},{validator:function(t,e,s){/^\d+(\.\d+)?$/.test(e)?(e=parseFloat(e),isNaN(e)?s(new Error("请输入目标体重为有效的数字")):e<0||200<e?s(new Error("目标体重必须在0到200之间")):s()):s(new Error("请输入目标体重为数值或有效的小数"))},trigger:"blur"}],height:[{required:!0,message:"请输入用户身高",trigger:"blur"},{validator:function(t,e,s){/^\d+(\.\d+)?$/.test(e)?(e=parseFloat(e),isNaN(e)?s(new Error("请输入用户身高为有效的数字")):e<100||250<e?s(new Error("用户身高必须在100到250之间")):s()):s(new Error("请输入用户身高为数值或有效的小数"))},trigger:"blur"}]},dataLabel:[],list:[{label:"男",value:1},{label:"女",value:0}]}},computed:{hasExtendInfo:function(){}},created:function(){this.getUserFrom(this.userId)},methods:{setUser:function(){var t=this,e={userId:this.formItem.userId,realName:this.formItem.realName,sex:this.formItem.sex,tel:this.formItem.tel,birth:this.formItem.birth,idCard:this.formItem.idCard,weight:this.formItem.weight,targetWeight:this.formItem.targetWeight,height:this.formItem.height,pwd:this.formItem.pwd,truePwd:this.formItem.truePwd,address:this.formItem.address},s=[];this.dataLabel.map((function(t){s.push(t.id)})),e.label_id=s,e.userId?Object(r.j)(e).then((function(e){t.$message.success(e.msg),t.$emit("success")})).catch((function(e){t.$message.error(e.msg)})):Object(r.O)(e).then((function(e){t.$emit("success"),t.$message.success(e.msg)})).catch((function(e){t.$message.error("err.msg")}))},addLabel:function(){this.$modalForm(Object(r.X)(0)).then((function(){}))},openLabel:function(t){this.labelShow=!0,this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.infoData.labelInfo)))},closeLabel:function(t){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1)},getUserFrom:function(t){var e=this;Object(r.l)(t).then(function(){var t=Object(n.a)(Object(a.a)().mark((function t(s){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formItem=Object(i.a)(Object(i.a)({},s.data.userInfo),{},{tel:s.data.userInfo.appUser.tel}),e.userData=Object(i.a)({},e.formItem),e.$set(e.infoData,"groupInfo",e.userData.groupInfo),e.$set(e.infoData,"labelInfo",e.userData.labelInfo),e.formItem.birth||(e.formItem.birth=""),e.formItem.label_id.length&&(e.dataLabel=e.formItem.label_id);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$message.error(t.msg)}))},labelClose:function(){this.labelShow=!1},activeData:function(t){this.labelShow=!1,this.dataLabel=t},reset:function(){this.formItem={}}}});s("ee702"),o={name:"userDetails",components:{userInfo:o,questionNaire:d,userEditForm:Object(c.a)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-info"},[e("el-form",{ref:"formItem",attrs:{rules:t.ruleValidate,model:t.formItem,"label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("基本信息")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"用户ID："}},[e("el-input",{staticClass:"form-sty",attrs:{disabled:"",placeholder:"请输入编号"},model:{value:t.formItem.userId,callback:function(e){t.$set(t.formItem,"userId",e)},expression:"formItem.userId"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"真实姓名："}},[e("el-input",{staticClass:"form-sty",attrs:{placeholder:"请输入真实姓名"},model:{value:t.formItem.realName,callback:function(e){t.$set(t.formItem,"realName","string"==typeof e?e.trim():e)},expression:"formItem.realName"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"手机号码：",prop:"tel"}},[e("el-input",{staticClass:"form-sty",attrs:{placeholder:"请输入手机号码"},model:{value:t.formItem.tel,callback:function(e){t.$set(t.formItem,"tel",e)},expression:"formItem.tel"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"生日："}},[e("el-date-picker",{staticClass:"form-sty",attrs:{clearable:"",type:"date",placeholder:"请选择生日",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.formItem.birth,callback:function(e){t.$set(t.formItem,"birth",e)},expression:"formItem.birth"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"性别："}},[e("el-radio-group",{model:{value:t.formItem.sex,callback:function(e){t.$set(t.formItem,"sex",e)},expression:"formItem.sex"}},t._l(t.list,(function(s){return e("el-radio",{key:s.value,attrs:{label:s.value}},[t._v(t._s(s.label))])})),1)],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"身份证号：",prop:"idCard"}},[e("el-input",{staticClass:"form-sty",attrs:{placeholder:"请输入身份证号"},model:{value:t.formItem.idCard,callback:function(e){t.$set(t.formItem,"idCard","string"==typeof e?e.trim():e)},expression:"formItem.idCard"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"原始体重：",prop:"weight"}},[e("el-input",{staticClass:"form-sty",attrs:{placeholder:"请输入原始体重"},model:{value:t.formItem.weight,callback:function(e){t.$set(t.formItem,"weight",e)},expression:"formItem.weight"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"目标体重：",prop:"targetWeight"}},[e("el-input",{staticClass:"form-sty",attrs:{placeholder:"请输入目标体重"},model:{value:t.formItem.targetWeight,callback:function(e){t.$set(t.formItem,"targetWeight",e)},expression:"formItem.targetWeight"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"用户身高：",prop:"height"}},[e("el-input",{staticClass:"form-sty",attrs:{placeholder:"请输入用户身高"},model:{value:t.formItem.height,callback:function(e){t.$set(t.formItem,"height",e)},expression:"formItem.height"}})],1)],1)])]),e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("密码")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"登录密码："}},[e("el-input",{staticClass:"form-sty",attrs:{type:"password",placeholder:"请输入登录密码（修改用户可不填写，不填写不修改原密码）"},model:{value:t.formItem.pwd,callback:function(e){t.$set(t.formItem,"pwd",e)},expression:"formItem.pwd"}})],1)],1),e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"确认密码："}},[e("el-input",{staticClass:"form-sty",attrs:{type:"password",placeholder:"请输入确认密码（修改用户可不填写，不填写不修改原密码）"},model:{value:t.formItem.truePwd,callback:function(e){t.$set(t.formItem,"truePwd",e)},expression:"formItem.truePwd"}})],1)],1)])]),e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("用户概况")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"用户分组："}},[e("el-select",{staticClass:"form-sty",attrs:{clearable:""},model:{value:t.formItem.group_id,callback:function(e){t.$set(t.formItem,"group_id",e)},expression:"formItem.group_id"}},t._l(t.infoData.groupInfo,(function(t,s){return e("el-option",{key:s,attrs:{value:t.id,label:t.group_name}})})),1)],1)],1),e("div",{staticClass:"item lang"},[e("el-form-item",{attrs:{label:"用户标签："}},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticClass:"labelInput acea-row row-between-wrapper",on:{click:t.openLabel}},[e("div",{staticStyle:{width:"90%"}},[t.dataLabel.length?e("div",t._l(t.dataLabel,(function(s,i){return e("el-tag",{key:i,staticClass:"mr10",attrs:{closable:""},on:{close:function(e){return t.closeLabel(s)}}},[t._v(t._s(s.label_name))])})),1):e("span",{staticClass:"span"},[t._v("选择用户关联标签")])]),e("div",{staticClass:"ivu-icon ivu-icon-ios-arrow-down"})]),e("span",{staticClass:"addfont",on:{click:t.addLabel}},[t._v("新增标签")])])])],1)])]),e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[t._v("用户备注")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("el-form-item",{attrs:{label:"用户备注："}},[e("el-input",{staticClass:"form-sty",attrs:{type:"textarea",rows:5,placeholder:"请输入用户备注"},model:{value:t.formItem.address,callback:function(e){t.$set(t.formItem,"address",e)},expression:"formItem.address"}})],1)],1)])])]),e("el-dialog",{attrs:{visible:t.labelShow,title:"请选择用户标签",modal:!1,"show-close":!0,width:"540px"},on:{"update:visible":function(e){t.labelShow=e}}},[t.labelShow?e("userLabel",{attrs:{only_get:!0,uid:t.formItem.userId},on:{close:t.labelClose,activeData:t.activeData}}):t._e()],1)],1)}),[],!1,null,"3462a3c6",null).exports,foodLinkDialog:s("4615").a},data:function(){return{isEdit:!1,theme2:"light",list:[{val:"recipe",label:"食谱记录"}],modals:!1,spinShow:!1,detailsData:[],userId:"",loading:!1,userFrom:{type:"recipe",page:1,limit:20},total:0,columns:[],userLists:[],psInfo:{},activeName:"user",qrCode:"",link:"",isShow:!1}},created:function(){},methods:{edit:function(){this.activeName="user",this.isEdit=!this.isEdit},editSave:function(){this.$refs.editForm.setUser()},draChange:function(){this.isEdit=!1},getDetails:function(t){var e=this;this.activeName="user",this.userId=t,this.spinShow=!0,this.isEdit=!1,Object(r.h)(t).then(function(){var t=Object(n.a)(Object(a.a)().mark((function t(s){var i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200===s.code?(i=s.data,e.detailsData=i.headerList,e.psInfo=i.ps_info,e.spinShow=!1):(e.spinShow=!1,e.$message.error(s.msg));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.spinShow=!1,e.$message.error(t.msg)}))},changeTab:function(t){this.activeName=t.name,this.changeType()},changeType:function(){var t,e=this;this.loading=!0,this.userFrom.type=this.activeName,this.isEdit=!1,"user"!=this.activeName&&"questionNaire"!==this.activeName&&(""===this.userFrom.type&&(this.userFrom.type="recipe"),t=Object(i.a)({uuId:this.userId},this.userFrom),Object(r.r)(t).then(function(){var t=Object(n.a)(Object(a.a)().mark((function t(s){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200!==s.code?t.next=21:(t.t0=e.userFrom.type,t.next="recipe"===t.t0?4:"order"===t.t0?6:"integral"===t.t0?8:"sign"===t.t0?10:"coupon"===t.t0?12:"balance_change"===t.t0?14:16);break;case 4:return e.columns=[{title:"唯一标识",key:"id",minWidth:250},{title:"食谱天数",key:"dayNum",minWidth:80},{title:"阶段",key:"stage",minWidth:120},{title:"总热量",key:"",minWidth:120},{title:"早餐热量",key:"",minWidth:120},{title:"午餐热量",key:"",minWidth:120},{title:"晚餐热量",key:"",minWidth:120},{title:"记录时间",key:"inTime",minWidth:180},{title:"操作",key:"",minWidth:160}],t.abrupt("break",17);case 6:return e.columns=[{title:"订单ID",key:"order_id",minWidth:160},{title:"收货人",key:"real_name",minWidth:100},{title:"商品数量",key:"total_num",minWidth:90},{title:"实付金额",key:"pay_price",minWidth:120},{title:"交易完成时间",key:"pay_time",minWidth:120}],t.abrupt("break",17);case 8:return e.columns=[{title:"来源/用途",key:"title",minWidth:120},{title:"积分变化",slot:"number",minWidth:120},{title:"变化后积分",key:"balance",minWidth:120},{title:"日期",key:"add_time",minWidth:120},{title:"备注",key:"mark",minWidth:120}],t.abrupt("break",17);case 10:return e.columns=[{title:"动作",key:"title",minWidth:120},{title:"获得积分",key:"number",minWidth:120},{title:"签到时间",key:"add_time",minWidth:120},{title:"备注",key:"mark",minWidth:120}],t.abrupt("break",17);case 12:return e.columns=[{title:"优惠券名称",key:"coupon_title",minWidth:120},{title:"面值",key:"coupon_price",minWidth:120},{title:"有效期(天)",key:"coupon_time",minWidth:120},{title:"领取时间",key:"_add_time",minWidth:120}],t.abrupt("break",17);case 14:return e.columns=[{title:"动作",key:"title",minWidth:120},{title:"余额变动",slot:"number",minWidth:120},{title:"当前余额",key:"balance",minWidth:120},{title:"创建时间",key:"add_time",minWidth:120},{title:"备注",key:"mark",minWidth:120}],t.abrupt("break",17);case 16:e.columns=[{title:"唯一标识",key:"id",minWidth:250},{title:"食谱天数",key:"dayNum",minWidth:80},{title:"阶段",key:"stage",minWidth:120},{title:"总热量",key:"",minWidth:120},{title:"早餐热量",key:"",minWidth:120},{title:"午餐热量",key:"",minWidth:120},{title:"晚餐热量",key:"",minWidth:120},{title:"记录时间",key:"inTime",minWidth:180},{title:"操作",key:"",minWidth:160}];case 17:e.$nextTick((function(t){var i=s.data;e.userLists=i.list,e.total=i.count})),e.loading=!1,t.next=23;break;case 21:e.loading=!1,e.$message.error(s.msg);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$message.error(t.msg)})))},closeFood:function(){this.isShow=!1},getQrCodeDetails:function(t){var e=this;this.isShow=!0,Object(r.k)(t).then((function(t){t=new Uint8Array(t),t=btoa(t.reduce((function(t,e){return t+String.fromCharCode(e)}),"")),e.qrCode="data:image/png;base64,"+t})),this.link=res.data.link},createFood:function(t){this.$router.push({path:this.$routeProStr+"/user/add_food",query:{userId:t}})}}},s("549a"),s("e287"),d=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%"}},[e("el-drawer",{attrs:{visible:t.modals,title:"用户详情",wrapperClosable:!1,size:1300},on:{"update:visible":function(e){t.modals=e},closed:t.draChange}},[e("div",{staticClass:"acea-row head"},[e("div",{staticClass:"avatar mr15"},[e("img",{attrs:{src:t.psInfo.headUrl}})]),e("div",{staticClass:"dashboard-workplace-header-tip"},[e("p",{staticClass:"dashboard-workplace-header-tip-title",domProps:{textContent:t._s(t.psInfo.nickName||"-")}}),e("div",{staticClass:"dashboard-workplace-header-tip-desc"},t._l(t.detailsData,(function(s,i){return e("span",{key:i,staticClass:"dashboard-workplace-header-tip-desc-sp"},[t._v(t._s(s.title+"："+s.value))])})),0)]),this.psInfo&&this.psInfo.appUser&&this.psInfo.appUser.tel?e("div",{staticClass:"edit-btn"},[t.isEdit?t._e():e("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("编辑")]),t.isEdit?e("el-button",{on:{click:t.edit}},[t._v("取消")]):t._e(),t.isEdit?e("el-button",{attrs:{type:"primary"},on:{click:t.editSave}},[t._v("保存")]):t._e()],1):t._e()]),e("el-row",{staticClass:"mt14",attrs:{justify:"space-between"}},[e("el-col",{attrs:{span:24}},[e("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.changeTab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{name:"user",label:"用户信息"}},[t.isEdit?e("userEditForm",{ref:"editForm",attrs:{userId:t.userId},on:{success:function(e){return t.getDetails(t.userId)}}}):e("user-info",{attrs:{"ps-info":t.psInfo}})],1),e("el-tab-pane",{attrs:{name:"questionNaire",label:"调查问卷"}},[e("question-naire",{attrs:{"ps-info":t.psInfo}})],1),t._l(t.list,(function(s,i){return e("el-tab-pane",{key:i,attrs:{name:s.val,label:s.label}},[["recipe"===t.userFrom.type&&t.psInfo.appUser.tel?e("el-row",{attrs:{gutter:24,justify:"space-between"}},[e("el-col",{staticStyle:{"padding-top":"12px"},attrs:{span:24}},[e("el-button",{directives:[{name:"auth",rawName:"v-auth",value:["user-set-recipe"],expression:"['user-set-recipe']"}],attrs:{type:"primary"},on:{click:function(e){return t.createFood(t.userId)}}},[t._v("定制食谱")])],1)],1):t._e(),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",refInFor:!0,staticClass:"mt20",attrs:{data:t.userLists,"max-height":"400","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"}},t._l(t.columns,(function(s,i){return e("el-table-column",{key:i,attrs:{label:s.title,"min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[s.key?[e("div",[e("span",[t._v(t._s(i.row[s.key]))])])]:"number"===s.slot?[e("div",{class:i.row.pm?"plusColor":"reduceColor"},[t._v("\n                          "+t._s(i.row.pm?"+"+i.row.number:"-"+i.row.number)+"\n                        ")])]:t._e(),"总热量"===s.title?[e("div",[e("span",[t._v(t._s(parseFloat(Number(i.row.totalHeat)*Number(i.row.totalPercent)).toFixed(2)))])])]:t._e(),"早餐热量"===s.title?[e("div",[e("span",[t._v(t._s(parseFloat(Number(i.row.totalHeat)*Number(i.row.totalPercent)*Number(i.row.morningPercent)).toFixed(2)))])])]:t._e(),"午餐热量"===s.title?[e("div",[e("span",[t._v(t._s(parseFloat(Number(i.row.totalHeat)*Number(i.row.totalPercent)*Number(i.row.noonPercent)).toFixed(2)))])])]:t._e(),"晚餐热量"===s.title?[e("div",[e("span",[t._v(t._s(parseFloat(Number(i.row.totalHeat)*Number(i.row.totalPercent)*Number(i.row.nightPercent)).toFixed(2)))])])]:t._e(),"操作"===s.title?[e("a",{on:{click:function(e){return t.getQrCodeDetails(i.row.uuId)}}},[t._v("查看二维码")])]:t._e()]}}],null,!0)})})),1),e("div",{staticClass:"acea-row row-right page"},[t.total?e("pagination",{attrs:{total:t.total,page:t.userFrom.page,limit:t.userFrom.limit},on:{"update:page":function(e){return t.$set(t.userFrom,"page",e)},"update:limit":function(e){return t.$set(t.userFrom,"limit",e)},pagination:t.changeType}}):t._e()],1)]],2)}))],2)],1)],1)],1),e("foodLinkDialog",{attrs:{isShow:t.isShow,qrCode:t.qrCode,link:t.link},on:{closeFood:t.closeFood}})],1)}),[],!1,null,"3cd22d08",null);e.a=d.exports},adcd:function(t,e,s){},b680:function(t,e,s){function i(t,e,s){return 0===e?s:e%2==1?i(t,e-1,s*t):i(t*t,e/2,s)}function a(t,e,s){for(var i=-1,a=s;++i<6;)a+=e*t[i],t[i]=a%1e7,a=v(a/1e7)}function n(t,e){for(var s=6,i=0;0<=--s;)i+=t[s],t[s]=v(i/e),i=i%e*1e7}function r(t){for(var e,s=6,i="";0<=--s;)""===i&&0!==s&&0===t[s]||(e=m(t[s]),i=""===i?e:i+h("0",7-e.length)+e);return i}var o=s("23e7"),l=s("e330"),c=s("5926"),d=s("408a"),u=s("1148"),f=(s=s("d039"),RangeError),m=String,v=Math.floor,h=l(u),p=l("".slice),b=l(1..toFixed);o({target:"Number",proto:!0,forced:s((function(){return"0.000"!==b(8e-5,3)||"1"!==b(.9,0)||"1.25"!==b(1.255,2)||"1000000000000000128"!==b(0xde0b6b3a7640080,0)}))||!s((function(){b({})}))},{toFixed:function(t){var e,s,o=d(this),l=(t=c(t),[0,0,0,0,0,0]),u="",v="0";if(t<0||20<t)throw new f("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return m(o);if(o<0&&(u="-",o=-o),1e-21<o)if(o=(e=function(t){for(var e=0,s=t;4096<=s;)e+=12,s/=4096;for(;2<=s;)e+=1,s/=2;return e}(o*i(2,69,1))-69)<0?o*i(2,-e,1):o/i(2,e,1),o*=4503599627370496,0<(e=52-e)){for(a(l,0,o),s=t;7<=s;)a(l,1e7,0),s-=7;for(a(l,i(10,s,1),0),s=e-1;23<=s;)n(l,1<<23),s-=23;n(l,1<<s),a(l,1,1),n(l,2),v=r(l)}else a(l,0,o),a(l,1<<-e,0),v=r(l)+h("0",t);return 0<t?u+((o=v.length)<=t?"0."+h("0",t-o)+v:p(v,0,o-t)+"."+p(v,o-t)):u+v}})},baaf:function(t,e,s){},c367:function(t,e,s){},e287:function(t,e,s){s("9f15")},e86b:function(t,e,s){},ee702:function(t,e,s){s("e86b")},fae3:function(t,e,s){s("4967")},fb35:function(t,e,s){s("adcd")}}]);