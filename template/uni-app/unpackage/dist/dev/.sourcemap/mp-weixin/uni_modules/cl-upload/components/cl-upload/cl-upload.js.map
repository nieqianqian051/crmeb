{"version":3,"sources":["webpack:///C:/Users/46708/Desktop/uni-app/uni-app/uni_modules/cl-upload/components/cl-upload/cl-upload.vue?b867","webpack:///C:/Users/46708/Desktop/uni-app/uni-app/uni_modules/cl-upload/components/cl-upload/cl-upload.vue?15a9","webpack:///C:/Users/46708/Desktop/uni-app/uni-app/uni_modules/cl-upload/components/cl-upload/cl-upload.vue?4c22","webpack:///C:/Users/46708/Desktop/uni-app/uni-app/uni_modules/cl-upload/components/cl-upload/cl-upload.vue?98ee","uni-app:///uni_modules/cl-upload/components/cl-upload/cl-upload.vue","webpack:///C:/Users/46708/Desktop/uni-app/uni-app/uni_modules/cl-upload/components/cl-upload/cl-upload.vue?255c","webpack:///C:/Users/46708/Desktop/uni-app/uni-app/uni_modules/cl-upload/components/cl-upload/cl-upload.vue?a03c"],"names":["name","components","ClImage","props","value","type","default","cloudType","fileName","fileType","imageFormData","videoFromData","action","cloudPathAsRealPath","headers","data","isPreviewImage","indicator","autoUpload","remove","add","max","maxVideo","listStyle","deleteTitle","deleteText","loadingText","useBeforeDelete","useBeforeUpload","addImg","playImg","deleteImg","closeImg","FileList","tempVideoUrl","tempFile_paths","watch","handler","deep","immediate","computed","previewList","path","poster","listRowStyle","rowStyle","height","ratio","imgStyle","methods","deleteSelectedFile","uni","title","content","success","deleteFileFromList","clickSelectedFile","item","index","selectFileTypeOnAdd","itemList","fail","console","handleFileSelection","that","count","sizeType","sourceType","compress","upload","tempImages","tempFiles","maxSize","duration","icon","compressedImagePathList","Promise","updataType","VIDEO_REGEXP","videoList","maxDuration","camera","compressed","tempFilePath","onBeforeUploadFile","updataFile","uniCloud","cloudPath","filePath","onUploadProgress","progressEvent","resolve","result","reject","url","formData","header","uploadTask","res","tempFile","submit","compressImage","src","quality","canvasDataURL","img","h","scale","w","anw","anh","canvas","ctx","callback","previewImage","current","urls","previewVideo","fileUrlType","isBase64"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AAC4K;AAC5K,gBAAgB,qLAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2PAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAsoB,CAAgB,2pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCkH1pB;EACAA;EACAC;IAAAC;EAAA;EACAC;IACA;;IAEAC;MACAC;MACAC;QAAA;MAAA;IACA;IAUA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;QACA;MACA;IACA;IACA;IACAK;MACAN;MACAC;IACA;IAEA;IACAM;MACAP;MACAC;IACA;IAEA;IACA;IACAO;MACAR;MACAC;IACA;IAEA;IACAQ;MACAT;MACAC;IACA;IAEA;IACAS;MACAV;MACAC;IACA;IAEA;IACAU;MACAX;MACAC;IACA;IAEA;IACAW;MACAZ;MACAC;IACA;IACA;IACAY;MACAb;MACAC;IACA;IACA;IACAa;MACAd;MACAC;IACA;IACA;IACAc;MACAf;MACAC;IACA;IACA;IACAe;MACAhB;MACAC;IACA;IACA;IACAgB;MACAjB;MACAC;IACA;IACA;IACAiB;MACAlB;MACAC;IACA;IACA;IACAkB;MACAnB;MACAC;IACA;IACA;IACAmB;MACApB;MACAC;IACA;IACA;IACAoB;MACArB;MACAC;IACA;IACA;IACAqB;MACAtB;MACAC;IACA;IACA;IACAsB;MACAvB;MACAC;IACA;IACA;IACAuB;MACAxB;MACAC;IACA;IACA;IACAwB;MACAzB;MACAC;IACA;IACA;IACAyB;MACA1B;MACAC;IACA;IACA;IACA0B;MACA3B;MACAC;IACA;EACA;EACAS;IACA;MACA;MACAkB;MAEA;MACAC;MAEA;MACAC;IAEA;EACA;EACAC;IAEA;MACAC;QACA;MACA;MACAC;MACAC;IACA;EAYA;EACAC;IACAC;MACA;QACA;UACAC;UACAC;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QACA;MACA;;MAEA;IACA;IACAC;MACA;QAAA;QAAAC;QAAAC;MACA;QACA;QAAA;QACA;MACA;MAEA;IACA;IAEAC;MAAA;MACA;QACA;MACA;;MACA;IACA;EACA;EACAC;IACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MAEA;;MAEA;MACA;QACA;UACA;QACA;MACA;MAEA;QACAC;UACAC;UACAC;UACAC;YACA;cACAC;YACA;UACA;QACA;MACA;MAEA;QACA;QAEA;UACA;QACA;QAEA;QAGA;MAMA;IAEA;IAEA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;QACAC;QACAC;MACA;IACA;IAEA;AACA;AACA;IACAC;MAAA;MAEA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACAR;YACAS;YACAN;cACA;cACA;gBACA;cACA;gBACA;cACA;YACA;YACAO;cACAC;YACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IAGA;AACA;AACA;AACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACA;kBAEAjD;oBACA;oBACAkD;oBACA;;oBAEAC;oBAEA;oBACAC;oBAEAC;kBACA;kBAEArD;kBAEAoC,gDACApC;oBACAuC;sBAAA;wBAAA;wBAAA,2DAmCAe;wBAAA;0BAAA;4BAAA;8BAAA;gCAAAA;kCACA;oCACAC;sCACAN;oCACA;kCACA;oCACAA;oCACAM;sCACAN;oCACA;kCACA;gCACA;gCA7CAO;gCACAH,qJAEA;gCACA;kCACAI;kCAEAD;oCACA;sCACAA;sCACAP;sCACA;wCACAZ;wCACAqB;wCACAC;sCACA;oCACA;kCACA;gCACA;;gCAEA;gCACA;kCACAC;oCACA;kCACA;kCAEAC;oCACAP;kCACA;gCAEA;kCACAA;gCACA;8BAAA;8BAAA;gCAAA;4BAAA;0BAAA;wBAAA;sBAAA,CAeA;sBAAA;wBAAA;sBAAA;sBAAA;oBAAA;oBACAR;sBACAC;sBACAE;oBACA;kBAAA,GAEA;gBACA;gBAAA,MAEAa;kBAAA;kBAAA;gBAAA;gBAEA;gBACAC;gBAAA;gBAAA,OACAd;kBAAA;kBACA;kBACA;gBACA;cAAA;gBAHAe;gBAAA,MAKAf;kBAAA;kBAAA;gBAAA;gBACAA;gBAAA,kCACAb;kBACAC;kBACAqB;kBACAC;gBACA;cAAA;gBAGA3D;kBACA;kBACAiE;kBAEA;kBACAC;kBAGA;kBACAd;kBACA;kBACAe;kBACA;gBACA;gBAEA/B,gDACApC;kBACAuC;oBAAA;oBACA;oBACA6B;;oBAEA;oBACA;sBACA;sBAEA;wBACAhC;0BACAC;0BACAqB;0BACAC;wBACA;wBACA;sBACA;oBAEA;oBACA;sBACAV;oBACA;sBACAA;sBACAA;oBACA;kBACA;kBACAH;oBACAC;kBACA;gBAAA,GAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;AACA;AACA;AACA;AACA;IACAsB;MAAA;MACA;QACA;UACA;QACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MAEAlC;QACAC;QACAsB;MACA;MAEA;QACA;QACA;UAEAY;YACAC;YACAC;YAIA3E;YAEA4E;cACA,kCACAC,iDACA;cACA1B;YACA;YACAV;cACA;gBACAU;cACA;gBACAA;kBACA;oBACAA;kBACA;gBACA;cACA;cAGAA;cAMA2B;cACAxC;cACAa,2CACA4B,QACA;YACA;YACA/B;cACAV;cACAW;cACAE;cACA6B;YACA;UACA;UACA;QACA;;QAEA;QACA;UACAC;UACAN;UACAxF;UACA+F;UACAC;UAIA1C;YACA;YACAH;YACAa;YAEA;cACAA;gBACA;kBACAA;gBACA;cACA;YACA;YAEA2B;UACA;UACA9B;YACAV;YACAW;YACAE;YACA6B;UACA;QACA;QAEAI;UACAjC,yDACAkC,MACAC,UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MAAA;MAEA;QACA;UACAT;QACA;QAEA;UACA;QACA;QAEAf;UACA;UACAe;QACA;UACAE;QACA;MACA;IAEA;IAEA;AACA;AACA;AACA;AACA;IACAvC;MACA;;MAEA;MACA;MACA;MACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACA+C;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACArC;gBAAA,kCAEA;kBAEA;oBACAF;oBACA+B;kBACA;kBAEA1C;oBACAC;oBACAsB;kBACA;kBAYAvB;oBACAmD;oBACAC;oBACAjD;sBACAqC;sBACAxC;oBACA;oBACAU;sBACAgC;sBACA1C;oBACA;kBACA;gBAGA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;IACAqD;MACA;MACAC;MACAA;QACA;QACA;QACA;UACAC;UACAC;QACAC;QACAF;QACA;QACA;QACA;QACA;QACA;QACA;QACAG;QACA;QACAC;QACAC;QACAA;QACAC;QACA;QACA;UACAT;QACA;QACA;QACA;QACA;QACAU;MACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MAEA;QACA;MACA;QAAA;QAAA;MAAA;MACA;MAEA/D;QACAgE;QACAC;QACA9D,6BACA;QACAO;UACAC;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAuD;MACA;QACA5D;QACAC;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACA4D;MACA;MAEA;MAEA;MAEA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;ACt4BA;AAAA;AAAA;AAAA;AAAquC,CAAgB,ksCAAG,EAAC,C;;;;;;;;;;;ACAzvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/cl-upload/components/cl-upload/cl-upload.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./cl-upload.vue?vue&type=template&id=0b7ccd9e&scoped=true&\"\nvar renderjs\nimport script from \"./cl-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./cl-upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cl-upload.vue?vue&type=style&index=0&id=0b7ccd9e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b7ccd9e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/cl-upload/components/cl-upload/cl-upload.vue\"\nexport default component.exports","export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-upload.vue?vue&type=template&id=0b7ccd9e&scoped=true&\"","var components\ntry {\n  components = {\n    clImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/cl-upload/components/cl-image/cl-image\" */ \"@/uni_modules/cl-upload/components/cl-image/cl-image.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.listRowStyle])\n  var s1 = _vm.__get_style([_vm.rowStyle])\n  var l0 = _vm.__map(_vm.previewList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.fileUrlType(item)\n    var s2 = m0 === \"image\" ? _vm.__get_style([_vm.imgStyle]) : null\n    var s3 = !(m0 === \"image\") ? _vm.__get_style([_vm.imgStyle]) : null\n    var s4 =\n      !(m0 === \"image\") && (!_vm.autoUpload || _vm.cloudType === \"other\")\n        ? _vm.__get_style([_vm.imgStyle])\n        : null\n    var s5 =\n      !(m0 === \"image\") && !(!_vm.autoUpload || _vm.cloudType === \"other\")\n        ? _vm.__get_style([_vm.imgStyle])\n        : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      s2: s2,\n      s3: s3,\n      s4: s4,\n      s5: s5,\n    }\n  })\n  var g0 = _vm.add && _vm.FileList.length < _vm.max\n  var s6 = g0 ? _vm.__get_style([_vm.rowStyle]) : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.tempVideoUrl = \"\"\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        s1: s1,\n        l0: l0,\n        g0: g0,\n        s6: s6,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-upload.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"cl-updata\">\r\n\t\t<view class=\"file-list\" :style=\"[listRowStyle]\">\r\n\r\n\t\t\t<view v-for=\"(item, index) in previewList\" @tap=\"clickSelectedFile(item, index)\" class=\"file-list-row\"\r\n\t\t\t\t:style=\"[rowStyle]\" :key=\"index\">\r\n\r\n\t\t\t\t<image \r\n\t\t\t\t\tclass=\"_image\" \r\n\t\t\t\t\tv-if=\"fileUrlType(item) === 'image'\" \r\n\t\t\t\t\t:src=\"item.path\" \r\n\t\t\t\t\t:style=\"[imgStyle]\" \r\n\t\t\t\t\tmode=\"aspectFill\">\r\n\t\t\t\t</image>\r\n\r\n\t\t\t\t<view v-else class=\"_video\" :style=\"[imgStyle]\">\r\n\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN || MP-ALIPAY -->\r\n\t\t\t\t\t<video \r\n\t\t\t\t\t\tv-if=\"!autoUpload || cloudType === 'other'\" \r\n\t\t\t\t\t\tclass=\"_video\" \r\n\t\t\t\t\t\t:style=\"[imgStyle]\"\r\n\t\t\t\t\t\t:src=\"item.path\" \r\n\t\t\t\t\t\t:show-center-play-btn=\"false\" \r\n\t\t\t\t\t\t:show-fullscreen-btn=\"false\"\r\n\t\t\t\t\t\t:show-play-btn=\"false\" \r\n\t\t\t\t\t\t:show-loading=\"false\" \r\n\t\t\t\t\t\t:enable-progress-gesture=\"false\" \r\n\t\t\t\t\t\t:controls=\"false\">\r\n\t\t\t\t\t\t<view @tap=\"previewVideo(item, index)\" class=\"play\">\r\n\t\t\t\t\t\t\t<image style=\"width: 100%;\" :src=\"playImg\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</video>\r\n\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tv-if=\"cloudType === 'other'\" \r\n\t\t\t\t\t\tclass=\"_video\" \r\n\t\t\t\t\t\t:style=\"[imgStyle]\" \r\n\t\t\t\t\t\t:src=\"item.path\"\r\n\t\t\t\t\t\t:poster=\"item.path\"\r\n\t\t\t\t\t\t:controls=\"false\"\r\n\t\t\t\t\t\t:show-center-play-btn=\"false\" \r\n\t\t\t\t\t\t:show-fullscreen-btn=\"false\" \r\n\t\t\t\t\t\t:show-play-btn=\"false\"\r\n\t\t\t\t\t\t:show-loading=\"false\" \r\n\t\t\t\t\t\t:enable-progress-gesture=\"false\">\r\n\t\t\t\t\t\t<cover-image class=\"app_play\" :src=\"playImg\" @tap=\"previewVideo(item, index)\"></cover-image>\r\n\t\t\t\t\t\t<cover-view class=\"remove\" v-if=\"remove\" @tap=\"deleteSelectedFile(item, index)\">\r\n\t\t\t\t\t\t\t<cover-image class=\"image\" :src=\"deleteImg\" mode=\"widthFix\" @tap=\"deleteSelectedFile(item, index)\"></cover-image>\r\n\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t</video>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- #ifndef MP-WEIXIN || MP-ALIPAY || APP-PLUS -->\r\n\t\t\t\t\t<video \r\n\t\t\t\t\t\tv-if=\"cloudType === 'other'\" \r\n\t\t\t\t\t\tclass=\"_video\" \r\n\t\t\t\t\t\t:autoplay=\"false\"\r\n\t\t\t\t\t\t:style=\"[imgStyle]\" \r\n\t\t\t\t\t\t:src=\"item.path\"\r\n\t\t\t\t\t\t:controls=\"false\"\r\n\t\t\t\t\t\t:show-center-play-btn=\"false\" \r\n\t\t\t\t\t\t:show-fullscreen-btn=\"false\" \r\n\t\t\t\t\t\t:show-play-btn=\"false\"\r\n\t\t\t\t\t\t:show-loading=\"false\" \r\n\t\t\t\t\t\t:enable-progress-gesture=\"false\" >\r\n\t\t\t\t\t\t<cover-view  @tap=\"previewVideo(item, index)\" class=\"play\">\r\n\t\t\t\t\t\t\t<cover-image style=\"width: 100%;\" :src=\"playImg\" mode=\"widthFix\"></cover-image>\r\n\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t</video>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<cl-image class=\"pay\" :style=\"[imgStyle]\" :cloudType=\"cloudType\"\r\n\t\t\t\t\t\t\t:src=\"(item.poster || item.path)\"></cl-image>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"play\" @tap=\"previewVideo(item, index)\">\r\n\t\t\t\t\t\t\t<image class=\"play-img\" :src=\"playImg\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"remove\" v-if=\"remove\" @tap.stop=\"deleteSelectedFile(item, index)\">\r\n\t\t\t\t\t<image class=\"image\" :src=\"deleteImg\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"add && FileList.length < max\" @tap=\"selectFileTypeOnAdd\" :style=\"[rowStyle]\" class=\"file-list-row\">\r\n\t\t\t\t<slot name=\"addImg\">\r\n\t\t\t\t\t<div class=\"add-image\">\r\n\t\t\t\t\t\t<image class=\"_image\" :src=\"addImg\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<view v-if=\"tempVideoUrl\" class=\"mask\">\r\n\t\t\t<image @tap=\"tempVideoUrl = ''\" class=\"_root\" :src=\"closeImg\" mode=\"widthFix\"></image>\r\n\r\n\t\t\t<view class=\"block\" @tap.stop>\r\n\t\t\t\t<video class=\"block_video\" autoplay :src=\"tempVideoUrl\"></video>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport ClImage from '../cl-image/cl-image.vue'\r\nexport default {\r\n\tname: \"cl-upload\",\r\n\tcomponents: { ClImage },\r\n\tprops: {\r\n\t\t//受控图片列表\r\n\t\t// #ifdef VUE2\r\n\t\tvalue: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\t// #endif\r\n\r\n\t\t// #ifdef VUE3\r\n\t\tmodelValue: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\t\t// #endif\r\n\r\n\t\t// 存储云类型 oss阿里云  vframe七牛云   process腾讯云  other其他\r\n\t\tcloudType: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'oss'\r\n\t\t},\r\n\t\t// 标识符,即后端接口参数名\r\n\t\tfileName: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'file'\r\n\t\t},\r\n\t\t// 文件类型 'image', 'video', 'all'\r\n\t\tfileType: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'all'\r\n\t\t},\r\n\t\t// 上传图片参数\r\n\t\timageFormData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {\n\t\t\t\treturn {}\n\t\t\t}\r\n\t\t},\r\n\t\t// 上传视频参数\r\n\t\tvideoFromData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => { }\r\n\t\t},\r\n\r\n\t\t// 必选参数，上传的地址\r\n\t\taction: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\t\r\n\t\t// 启用目录, 仅unicloud阿里云支持\r\n\t\t// https://uniapp.dcloud.net.cn/uniCloud/storage.html#storage-dir\r\n\t\tcloudPathAsRealPath: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\r\n\t\t// 设置上传的请求头部\r\n\t\theaders: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => { }\r\n\t\t},\r\n\r\n\t\t// 上传时附带的额外参数\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => { }\r\n\t\t},\r\n\r\n\t\t// 是否开启预览图片\r\n\t\tisPreviewImage: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\r\n\t\t// 图片指示器样式，可取值：\"default\" - 底部圆点指示器； \"number\" - 顶部数字指示器； \"none\" - 不显示指示器。\r\n\t\tindicator: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'none'\r\n\t\t},\r\n\t\t// 是否在选取文件后立即进行上传\t\r\n\t\tautoUpload: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 是否显示删除按钮\r\n\t\tremove: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 是否添加按钮\r\n\t\tadd: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 最多显示数量\r\n\t\tmax: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 9\r\n\t\t},\r\n\t\t// 视频最大上传数量\r\n\t\tmaxVideo: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\t// 列表样式\r\n\t\tlistStyle: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => { }\r\n\t\t},\r\n\t\t// 删除提示弹窗标题\r\n\t\tdeleteTitle: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '提示'\r\n\t\t},\r\n\t\t// 删除提示弹窗文案\r\n\t\tdeleteText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '您确认要删除吗？'\r\n\t\t},\r\n\t\t// 加载文案\r\n\t\tloadingText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '正在上传中...'\r\n\t\t},\r\n\t\t// 是否开启删除前钩子\r\n\t\tuseBeforeDelete: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 是否开启上传前钩子\r\n\t\tuseBeforeUpload: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 添加按钮图片\r\n\t\taddImg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'https://mp-61599c79-d7ee-4a75-a24b-e5a288da6dd3.cdn.bspapp.com/cloudstorage/bb1550b3-e0a8-4a90-a86f-00f8c6afa9fb.png'\r\n\t\t},\r\n\t\t// 播放按钮图片\r\n\t\tplayImg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'https://mp-61599c79-d7ee-4a75-a24b-e5a288da6dd3.cdn.bspapp.com/cloudstorage/ae40402f-aa53-4344-b553-2322799bebd6.png'\r\n\t\t},\r\n\t\t// 删除按钮图片\r\n\t\tdeleteImg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'https://mp-61599c79-d7ee-4a75-a24b-e5a288da6dd3.cdn.bspapp.com/cloudstorage/d20177a5-417e-4c5d-a266-1988361c543d.png'\r\n\t\t},\r\n\t\t// 关闭视频按钮图片\r\n\t\tcloseImg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'https://mp-61599c79-d7ee-4a75-a24b-e5a288da6dd3.cdn.bspapp.com/cloudstorage/cde4362d-7ec7-4cac-a692-12e1f576be1e.png'\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 渲染列表\r\n\t\t\tFileList: [],\r\n\r\n\t\t\t// 预览视频地址\r\n\t\t\ttempVideoUrl: '',\r\n\r\n\t\t\t// 临时文件列表\r\n\t\t\ttempFile_paths: [],\r\n\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\t// #ifdef VUE2\r\n\t\t'value': {\r\n\t\t\thandler: function (newVal, oldVal) {\r\n\t\t\t\tthis.FileList = newVal;\r\n\t\t\t},\r\n\t\t\tdeep: true,\r\n\t\t\timmediate: true\r\n\t\t},\r\n\t\t// #endif\r\n\r\n\t\t// #ifdef VUE3\r\n\t\t'modelValue': {\r\n\t\t\thandler: function (newVal, oldVal) {\r\n\t\t\t\tthis.FileList = newVal;\r\n\t\t\t},\r\n\t\t\tdeep: true,\r\n\t\t\timmediate: true\r\n\t\t},\r\n\t\t// #endif\r\n\t},\r\n\tcomputed: {\r\n\t\tpreviewList() {\r\n\t\t\treturn this.FileList.map(item => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpath: item.path || item,\r\n\t\t\t\t\tposter: item.poster || ''\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tlistRowStyle() {\r\n\t\t\tconst style = {\r\n\t\t\t\t'grid-template-columns': `repeat(${this.listStyle?.columns || 4}, 1fr)`, // 每行数量\t\r\n\t\t\t\t'grid-column-gap': this.listStyle?.columnGap || '40rpx', // 行间距\t\r\n\t\t\t\t'grid-row-gap': this.listStyle?.rowGap || '40rpx', // 列间距\r\n\t\t\t\t'padding': this.listStyle?.padding || '0rpx' // 列表内边距\r\n\t\t\t}\r\n\r\n\t\t\treturn style;\r\n\t\t},\r\n\t\trowStyle() {\r\n\t\t\tconst { height = '140rpx', ratio } = this.listStyle || {};\r\n\t\t\tconst style = {\r\n\t\t\t\t'aspect-ratio': height ? '' : ratio || '1/1', // 图片比例\r\n\t\t\t\t'height': height,\r\n\t\t\t};\r\n\r\n\t\t\treturn style;\r\n\t\t},\r\n\r\n\t\timgStyle() {\r\n\t\t\tconst style = {\r\n\t\t\t\t'border-radius': this.listStyle?.radius || '6rpx', // 图片圆角\r\n\t\t\t}\r\n\t\t\treturn style;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 删除已选择文件\r\n\t\t * @param {object} item 文件信息\r\n\t\t * @param {number} selectedFileIndex 文件索引\r\n\t\t * */\r\n\t\tdeleteSelectedFile(item, selectedFileIndex) {\r\n\r\n\t\t\tconst fileToDelete = this.FileList[selectedFileIndex];\r\n\r\n\t\t\t// 删除前钩子\r\n\t\t\tif (this.useBeforeDelete) {\r\n\t\t\t\tthis.$emit('beforeDelete', fileToDelete, selectedFileIndex, () => {\r\n\t\t\t\t\treturn deleteFileFromList()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.useBeforeDelete) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: this.deleteTitle,\r\n\t\t\t\t\tcontent: this.deleteText,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tdeleteFileFromList()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tconst deleteFileFromList = () => {\r\n\t\t\t\tconst tempFileIndex = this.tempFile_paths.indexOf(item || item.path);\r\n\r\n\t\t\t\tif (tempFileIndex > -1) { \r\n\t\t\t\t\tthis.tempFile_paths.splice(tempFileIndex, 1)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.FileList.splice(selectedFileIndex, 1) \r\n\r\n\t\t\t\t// #ifdef VUE2 \r\n\t\t\t\tthis.$emit('input', this.FileList)\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\tthis.$emit(\"update:modelValue\", this.FileList);\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 点击已选择文件\r\n\t\t * @param {object} item 文件信息\r\n\t\t * @param {number} index 文件索引 \r\n\t\t * */\r\n\t\tclickSelectedFile(item, index) {\r\n\t\t\tthis.previewImage(item?.path ?? item, index);\r\n\t\t\tthis.$emit('onImage', {\r\n\t\t\t\titem,\r\n\t\t\t\tindex\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 点击选择图片按钮\r\n\t\t * */\r\n\t\tselectFileTypeOnAdd() {\r\n\r\n\t\t\tswitch (this.fileType) {\r\n\t\t\t\tcase 'image':\r\n\t\t\t\t\tthis.handleFileSelection(1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'video':\r\n\t\t\t\t\tthis.handleFileSelection(2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'all':\r\n\t\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\t\titemList: ['相册', '视频'],\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconst tapIndex = res.tapIndex;\r\n\t\t\t\t\t\t\tif (tapIndex === 0) {\r\n\t\t\t\t\t\t\t\tthis.handleFileSelection(1);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.handleFileSelection(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\tconsole.error(res.errMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.handleFileSelection(1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * 从本地选择文件。\r\n\t\t * @param { number } updataType 选择类型 1:图片 2视频\r\n\t\t * */\r\n\t\tasync handleFileSelection(updataType) {\r\n\t\t\tconst that = this;\r\n\t\t\tif (updataType === 1) {\r\n\r\n\t\t\t\tconst data = Object.assign({}, {\r\n\t\t\t\t\t// 最多可以选择的图片张数，默认9\r\n\t\t\t\t\tcount: 9,\r\n\t\t\t\t\t// 仅对 mediaType 为 image 时有效，是否压缩所选文件\r\n\t\t\t\t\t// #ifndef MP-TOUTIAO\r\n\t\t\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// album 从相册选图，camera 使用相机，默认二者都有。\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\r\n\t\t\t\t\tcompress: false\r\n\t\t\t\t}, this.imageFormData)\r\n\r\n\t\t\t\tdata['count'] = this.max - this.FileList.length\r\n\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tlet tempFiles = res.tempFiles\r\n\t\t\t\t\t\tconst compress = that.imageFormData?.compress || false;\r\n\r\n\t\t\t\t\t\t// 限制图片上传尺寸\r\n\t\t\t\t\t\tif (that.imageFormData?.size ?? false) {\r\n\t\t\t\t\t\t\tconst maxSize = that.imageFormData.size * 1024 * 1024\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttempFiles.map((imgInfo, index) => {\r\n\t\t\t\t\t\t\t\tif (imgInfo.size > maxSize) {\r\n\t\t\t\t\t\t\t\t\ttempFiles.splice(index, 1)\r\n\t\t\t\t\t\t\t\t\tthat.$emit('onImageSize', imgInfo)\r\n\t\t\t\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: `图片最大上传${that.imageFormData.size}MB`,\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 开启压缩图片\r\n\t\t\t\t\t\tif (compress) {\r\n\t\t\t\t\t\t\tconst compressedImagePathList = tempFiles.map(imageItem => {\r\n\t\t\t\t\t\t\t\treturn that.compressImage(imageItem.path)\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tPromise.all(compressedImagePathList).then(result => {\r\n\t\t\t\t\t\t\t\tupload(result);\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tupload(tempFiles);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction upload(tempImages) {\r\n\t\t\t\t\t\t\tif (that.autoUpload) {\r\n\t\t\t\t\t\t\t\ttempImages.map(item => {\r\n\t\t\t\t\t\t\t\t\tthat.onBeforeUploadFile(item, 'image')\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.FileList = [...that.FileList, ...tempImages]\r\n\t\t\t\t\t\t\t\ttempImages.map(item => {\r\n\t\t\t\t\t\t\t\t\tthat.tempFile_paths.push(item)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.error('选择图片失败', err)\r\n\t\t\t\t\t\tthat.$emit('onError', err)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (updataType === 2) {\r\n\r\n\t\t\t\t// 限制视频最大上传数量\r\n\t\t\t\tconst VIDEO_REGEXP = /\\.(mp4|flv|avi)/i\r\n\t\t\t\tconst videoList = await that.FileList.filter(item => {\r\n\t\t\t\t\tconst fileUrl = item?.url ?? item\r\n\t\t\t\t\treturn VIDEO_REGEXP.test(fileUrl)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (that.maxVideo > 0 && videoList.length >= that.maxVideo) {\r\n\t\t\t\t\tthat.$emit('onVideoMax', that.maxVideo, videoList.length)\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '视频数量已超出',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst data = Object.assign({}, {\r\n\t\t\t\t\t// \t拍摄视频最长拍摄时间，单位秒。最长支持 60 秒。\r\n\t\t\t\t\tmaxDuration: 60,\r\n\t\t\t\t\t// #ifndef MP-TOUTIAO\r\n\t\t\t\t\t// 'front'、'back'，默认'back'\r\n\t\t\t\t\tcamera: \"back\",\r\n\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t// album 从相册选视频，camera 使用相机拍摄，默认二者都有。\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\t// 是否压缩所选的视频源文件，默认值为 true，需要压缩。\r\n\t\t\t\t\tcompressed: true,\r\n\t\t\t\t\t// 'front'、'back'，默认'back'\r\n\t\t\t\t}, this.videoFromData)\r\n\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet tempFilePath = { ...res }\r\n\t\t\t\t\t\ttempFilePath['path'] = res.tempFilePath\r\n\r\n\t\t\t\t\t\t// 限制视频上传尺寸\r\n\t\t\t\t\t\tif (that.videoFromData?.size ?? false) {\r\n\t\t\t\t\t\t\tconst maxSize = that.videoFromData.size * 1024 * 1024\r\n\r\n\t\t\t\t\t\t\tif (tempFilePath.size > maxSize) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: `视频最大上传${that.videoFromData.size}MB`,\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (that.autoUpload) {\r\n\t\t\t\t\t\t\tthat.onBeforeUploadFile(tempFilePath, 'video')\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.FileList.push(tempFilePath)\r\n\t\t\t\t\t\t\tthat.tempFile_paths.push(tempFilePath)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.error('选择视频失败', err)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 上传前钩子\r\n\t\t * @param { tempFile } 临时文件\r\n\t\t * @return { Promise }\r\n\t\t * */ \r\n\t\tonBeforeUploadFile(tempFile) {\r\n\t\t\tif (this.useBeforeUpload) {\r\n\t\t\t\treturn this.$emit('beforeUpload', tempFile, () => {\r\n\t\t\t\t\treturn this.updataFile(tempFile);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn this.updataFile(tempFile);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 上传文件到服务器\r\n\t\t * @param { tempFile } 临时文件\r\n\t\t * @return { Promise }\r\n\t\t * */\r\n\t\tupdataFile(tempFile) {\r\n\t\t\tconst that = this;\r\n\t\t\tconst filePath = tempFile.path || tempFile;\r\n\t\t\tconst fileType = this.fileUrlType(filePath) == 'image' ? '.png' : '.mp4';\r\n\t\t\tconst fileName = tempFile.name || Date.now() + fileType;\r\n\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: this.loadingText,\r\n\t\t\t\ticon: 'loading'\r\n\t\t\t})\r\n\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t// uniCloud上传\r\n\t\t\t\tif (that.action === 'uniCloud') {\r\n\r\n\t\t\t\t\tuniCloud.uploadFile({\r\n\t\t\t\t\t\tcloudPath: String(fileName),\r\n\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\t// #ifdef MP-ALIPAY \r\n\t\t\t\t\t\tfileType: fileType,\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\tcloudPathAsRealPath: this.cloudPathAsRealPath,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tonUploadProgress: (progressEvent) => {\r\n\t\t\t\t\t\t\tconst percentCompleted = Math.round(\r\n\t\t\t\t\t\t\t\t(progressEvent.loaded * 100) / progressEvent.total\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tthat.$emit('onProgress', percentCompleted)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(result) {\r\n\t\t\t\t\t\t\tif (that.autoUpload) {\r\n\t\t\t\t\t\t\t\tthat.FileList.push(result.fileID)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.FileList.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\tif (item === filePath || item.path === filePath) {\r\n\t\t\t\t\t\t\t\t\t\tthat.FileList.splice(index, 1, result.fileID)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// #ifdef VUE2\r\n\t\t\t\t\t\t\tthat.$emit('input', that.FileList)\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t// #ifdef VUE3\r\n\t\t\t\t\t\t\tthat.$emit(\"update:modelValue\", that.FileList);\r\n\t\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t\tresolve(result.fileID)\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthat.$emit('onProgress', {\r\n\t\t\t\t\t\t\t\t...result\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (error) => {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tconsole.error('error', error);\r\n\t\t\t\t\t\t\tthat.$emit('onError', error)\r\n\t\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 接口服务上传\r\n\t\t\t\tconst uploadTask = uni.uploadFile({\r\n\t\t\t\t\turl: that.action,\r\n\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\tname: that.fileName,\r\n\t\t\t\t\tformData: that.data,\r\n\t\t\t\t\theader: that.headers,\r\n\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\tfileType: filetype,\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\tconst data = JSON.parse(uploadFileRes.data)\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthat.success(data)\r\n\r\n\t\t\t\t\t\tif (!this.autoUpload) {\r\n\t\t\t\t\t\t\tthat.FileList.map((item, index) => {\r\n\t\t\t\t\t\t\t\tif (item === filePath || item.path === filePath) {\r\n\t\t\t\t\t\t\t\t\tthat.FileList.splice(index, 1)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tresolve(data)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (error) => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.error('error', error);\r\n\t\t\t\t\t\tthat.$emit('onError', error)\r\n\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tuploadTask.onProgressUpdate((res) => {\r\n\t\t\t\t\tthat.$emit('onProgress', {\r\n\t\t\t\t\t\t...res,\r\n\t\t\t\t\t\t...tempFile\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 手动上传\r\n\t\t * */\r\n\t\tsubmit() {\r\n\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tif (this.tempFile_paths.length <= 0) {\r\n\t\t\t\t\tresolve([])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst uploadedFilePaths = this.tempFile_paths.map(item => {\r\n\t\t\t\t\treturn this.onBeforeUploadFile(item || item.path)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tPromise.all(uploadedFilePaths).then(res => {\r\n\t\t\t\t\tthis.tempFile_paths = []\r\n\t\t\t\t\tresolve(res)\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\treject(err)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 返回数据\r\n\t\t * @param {array} data 上传成功后的数据\r\n\t\t * @return {array} 返回数据\r\n\t\t * */\r\n\t\tsuccess(data) {\r\n\t\t\tthis.$emit('onSuccess', data);\r\n\r\n\t\t\t// 自定义数据结构-选择性开启\r\n\t\t\t// const list = data.map(item=> {\r\n\t\t\t// \treturn JSON.parse(item).data.link;\r\n\t\t\t// })\r\n\t\t\t// this.$emit('input', [...this.FileList, ...list]);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 压缩图片\r\n\t\t * @param {array} tempFilePaths 临时路径数组\r\n\t\t * @return {array} 被压缩过的路径数组\r\n\t\t * */\r\n\t\tasync compressImage(tempFilePaths) {\r\n\t\t\tconst that = this;\r\n\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\r\n\t\t\t\tif (typeof tempFilePaths !== 'string') {\r\n\t\t\t\t\tconsole.error('压缩路径错误')\r\n\t\t\t\t\treject([])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '压缩中...',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.canvasDataURL(tempFilePaths, {\r\n\t\t\t\t\tquality: that.imageFormData.quality / 100\r\n\t\t\t\t}, (base64Codes) => {\r\n\t\t\t\t\tresolve(base64Codes);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tuni.compressImage({\r\n\t\t\t\t\tsrc: tempFilePaths,\r\n\t\t\t\t\tquality: that.imageFormData.quality || 80,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tresolve(res.tempFilePath);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * H5压缩图片质量\r\n\t\t * @param {string} path 图片路径\r\n\t\t * @param {object} obj 压缩配置\r\n\t\t * @param {function} callback 回调函数\r\n\t\t * @return {string} base64\r\n\t\t * */\r\n\t\tcanvasDataURL(path, obj, callback) {\r\n\t\t\tvar img = new Image();\r\n\t\t\timg.src = path;\r\n\t\t\timg.onload = function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// 默认按比例压缩\r\n\t\t\t\tvar w = that.width,\r\n\t\t\t\t\th = that.height,\r\n\t\t\t\t\tscale = w / h;\r\n\t\t\t\tw = obj.width || w;\r\n\t\t\t\th = obj.height || (w / scale);\r\n\t\t\t\tvar quality = 0.8; // 默认图片质量为0.8\r\n\t\t\t\t//生成canvas\r\n\t\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\t\t\t\t// 创建属性节点\r\n\t\t\t\tvar anw = document.createAttribute(\"width\");\r\n\t\t\t\tanw.nodeValue = w;\r\n\t\t\t\tvar anh = document.createAttribute(\"height\");\r\n\t\t\t\tanh.nodeValue = h;\r\n\t\t\t\tcanvas.setAttributeNode(anw);\r\n\t\t\t\tcanvas.setAttributeNode(anh);\r\n\t\t\t\tctx.drawImage(that, 0, 0, w, h);\r\n\t\t\t\t// 图像质量\r\n\t\t\t\tif (obj.quality && obj.quality <= 1 && obj.quality > 0) {\r\n\t\t\t\t\tquality = obj.quality;\r\n\t\t\t\t}\r\n\t\t\t\t// quality值越小，所绘制出的图像越模糊\r\n\t\t\t\tvar base64 = canvas.toDataURL('image/jpeg', quality);\r\n\t\t\t\t// 回调函数返回base64的值\r\n\t\t\t\tcallback(base64);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 预览图片\r\n\t\t * @param {string, object} item 文件信息\r\n\t\t * */\r\n\t\tpreviewImage(item) {\r\n\t\t\tif (this.fileUrlType(item) === 'video') return false;\r\n\t\t\tif (!this.isPreviewImage) return false;\r\n\r\n\t\t\tconst imgs = this.FileList.filter(item => {\r\n\t\t\t\treturn this.fileUrlType(item) !== 'video'\r\n\t\t\t}).map(item => item?.path ?? item)\r\n\t\t\tconst current = imgs.indexOf(item || item.path);\r\n\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: current,\r\n\t\t\t\turls: imgs,\r\n\t\t\t\tsuccess() {\r\n\t\t\t\t},\r\n\t\t\t\tfail(err) {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 预览视频\r\n\t\t * @param {string, object} item 文件信息\r\n\t\t * @param {number} index 索引\r\n\t\t * */\r\n\t\tpreviewVideo(item, index) {\r\n\t\t\tthis.$emit('onVideo', {\r\n\t\t\t\titem,\r\n\t\t\t\tindex\r\n\t\t\t})\r\n\t\t\tthis.tempVideoUrl = item.path;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 是否img类型\r\n\t\t * @param {string, object} item 文件信息\r\n\t\t * @return {boolean} 是否img类型\r\n\t\t * */\r\n\t\tfileUrlType(file) {\r\n\t\t\tconst filePath = file.path || file;\r\n\r\n\t\t\tif (this.isBase64(filePath)) return 'image'\r\n\r\n\t\t\tconst fileType = filePath.split('.').pop();\r\n\r\n\t\t\tconst IMAGE_REGEXP = /(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|image)/i\r\n\t\t\tif (IMAGE_REGEXP.test(fileType)) {\r\n\t\t\t\treturn 'image';\r\n\t\t\t} else {\r\n\t\t\t\treturn 'video';\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 判断是否是base64\r\n\t\tisBase64(str) {\r\n\t\t\tif (str === '' || typeof str !== 'string') return console.error('文件路径错误, base64', str);\r\n\t\t\treturn str.includes('blob:') || str.includes('data:image');\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cl-updata {\r\n\r\n\t.file-list {\r\n\t\tdisplay: grid;\r\n\r\n\t\t&-row {\r\n\t\t\tdisplay: inline-flex;\r\n\t\t\talign-items: center;\r\n\t\t\tposition: relative;\r\n\t\t\t\r\n\t\t\t.play-img {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t._image {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t._video {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.video-fixed {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tz-index: 96;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.play {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\t\twidth: 30%;\r\n\t\t\t\tz-index: 95;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.app_play {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.remove {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tbackground-color: #373737;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\tborder-bottom-left-radius: 200rpx;\r\n\t\t\t\tz-index: 97;\r\n\r\n\t\t\t\t.image {\r\n\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 12rpx;\r\n\t\t\t\t\ttop: 12rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.add-image {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tborder: 2rpx dashed #ccc;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tborder-radius: 5rpx;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t}\r\n\r\n\t\t\t._image {\r\n\t\t\t\twidth: 40%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.mask {\r\n\t\tbackground-color: #000;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 99;\r\n\r\n\t\t.block {\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.block_video {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 78vh;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t._root {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 40rpx;\r\n\t\t\ttop: 5vh\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-upload.vue?vue&type=style&index=0&id=0b7ccd9e&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-upload.vue?vue&type=style&index=0&id=0b7ccd9e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1724566766290\n      var cssReload = require(\"D:/tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}