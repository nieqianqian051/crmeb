{"version":3,"sources":["uni-app:///pages/admin/components/uni-calendar/util.js","uni-app:///pages/admin/components/uni-calendar/calendar.js","uni-app:///pages/admin/components/ucharts/ucharts.js"],"names":["Calendar","date","selected","startDate","endDate","range","getDate","multipleStatus","before","after","data","weeks","_getWeek","fullDate","AddDayCount","str","Date","replace","dd","setDate","setMonth","getMonth","setFullYear","getFullYear","y","m","d","year","month","day","getDay","firstDay","full","dateArr","i","beforeDate","push","lunar","getlunar","disable","dateData","isinfo","nowDate","isDay","info","find","item","dateEqual","disableBefore","disableAfter","dateCompBefore","dateCompare","dateCompAfter","multiples","checked","multiplesStatus","findIndex","multiple","extraInfo","surplus","Number","dateInfo","canlender","getTime","begin","end","arr","ab","split","ae","db","de","unixDb","unixDe","k","parseInt","CALENDAR","solar2lunar","value","geDateAll","currentDay","dates","lastMonthDays","_getLastMonthDays","currentMonthDys","_currentMonthDys","nextMonthDays","length","_getNextMonthDays","concat","Array","calendar","lunarInfo","solarMonth","Gan","Zhi","Animals","solarTerm","sTermInfo","nStr1","nStr2","nStr3","lYearDays","sum","leapDays","leapMonth","monthDays","solarDays","ms","toGanZhiYear","lYear","ganKey","zhiKey","toAstro","cMonth","cDay","s","substr","toGanZhi","offset","getTerm","n","_table","_info","toString","_calday","toChinaMonth","toChinaDay","Math","floor","getAnimal","objDate","leap","temp","UTC","isTodayObj","isToday","nWeek","cWeek","isLeap","sm","gzY","firstNode","secondNode","gzM","isTerm","Term","dayCyclical","gzD","astro","lunar2solar","isLeapMonth","leapOffset","leapDay","_day","isAdd","stmap","calObj","cY","getUTCFullYear","cM","getUTCMonth","cD","getUTCDate","config","yAxisWidth","yAxisSplit","xAxisHeight","xAxisLineHeight","legendHeight","yAxisTitleWidth","padding","pixelRatio","rotate","columePadding","fontSize","dataPointShape","colors","pieChartLinePadding","pieChartTextPadding","xAxisTextPadding","titleColor","titleFontSize","subtitleColor","subtitleFontSize","toolTipPadding","toolTipBackground","toolTipOpacity","toolTipLineHeight","radarLabelTextMargin","gaugeLabelTextMargin","assign","target","varArgs","TypeError","deepAssign","obj1","obj2","key","forEach","val","util","toFixed","num","limit","isFloat","approximatelyEqual","num1","num2","abs","isSameSign","isSameXCoordinateArea","p1","p2","x","isCollision","start","width","height","flag","getH5Offset","e","mp","changedTouches","offsetX","offsetY","hexToRgb","hexValue","opc","rgx","hex","r","g","b","rgb","exec","findRange","type","isNaN","Error","ceil","calCandleMA","dayArr","nameArr","colorArr","kdata","seriesTemp","seriesItem","name","color","len","j","calValidDistance","self","distance","chartData","opts","dataChartAreaWidth","area","dataChartWidth","eachSpacing","xAxisData","xAxisPoints","validDistance","event","trigger","isInAngleRange","angle","startAngle","endAngle","adjust","PI","calRotateTranslate","h","xv","yv","transX","sqrt","transY","createCurveControlPoints","points","isNotMiddlePoint","max","min","isNotMiddlePointX","a","pAx","pAy","pBx","pBy","last","ctrA","ctrB","convertCoordinateOrigin","center","avoidCollision","obj","fillSeries","series","index","map","show","pointShape","legendShape","getDataRange","minData","maxData","minRange","maxRange","measureText","text","arguments","undefined","String","test","dataCombine","reduce","dataCombineStack","getTouches","touches","clientX","pageY","currentTarget","offsetTop","getSeriesDataItem","style","disableLegend","format","getMaxTextListLength","list","lengthList","apply","getRadarCoordinateSeries","eachAngle","CoordinateSeries","getToolTipData","seriesData","calPoints","categories","option","textList","titleText","validCalPoints","round","getMixToolTipData","filter","getCandleToolTipData","extra","upColor","upFill","downColor","downFill","text0","text1","text2","text3","text4","filterSeries","tempSeries","findCurrentIndex","currentPoints","currentIndex","spacing","xAxis","boundaryGap","isInExactChartArea","findLegendIndex","legendData","isInExactLegendArea","findRadarChartCurrentIndex","radarData","count","eachAngleArea","isInExactPieChartArea","radius","fixAngle","atan2","angleList","rangeStart","rangeEnd","findFunnelChartCurrentIndex","funnelData","funnelArea","findWordChartCurrentIndex","wordData","findMapChartCurrentIndex","cData","mapData","tmp","pointToCoordinate","bounds","scale","xoffset","yoffset","poi","geometry","coordinates","isPoiWithinPoly","findPieChartCurrentIndex","pieData","_start_","_proportion_","pow","splitPoints","newPoints","items","calLegendData","wholeWidth","wholeHeight","widthArr","heightArr","legend","margin","shapeWidth","shapeRight","lineHeight","position","legendList","widthCount","widthCountArr","currentRow","itemWidth","itemGap","legendWidth","float","maxHeight","maxLength","lineNum","slice","maxWidth","calCategoriesData","result","categoriesTextLenth","maxTextLength","rotateLabel","sin","getXAxisTextList","sorted","constructor","subitem","rangeSpan","eachRange","splitNumber","calXAxisData","ranges","rangesFormat","xAxisScaleValues","Object","getXAxisPoints","textLength","disabled","getRadarDataPoints","process","radarOption","radar","each","listItem","proportion","cos","getPieDataPoints","_radius_","getFunnelDataPoints","sort","reverse","getRoseDataPoints","minRadius","dataArr","radiusLength","_rose_proportion_","getArcbarDataPoints","arcbarOption","totalAngle","getGaugeAxisPoints","tempStartAngle","_startAngle_","_endAngle_","getGaugeDataPoints","gaugeOption","pointer","_oldAngle_","oldAngle","oldData","getPieTextMaxLength","fixColumeData","columnLen","column","fixColumeMeterData","border","fixColumeStackData","indexn","spacingValid","dataCount","enableScroll","itemCount","startX","endX","getCandleDataPoints","validHeight","cPoints","indexs","point","getDataPoints","validWidth","xranges","xminRange","xmaxRange","shift","pop","getStackDataPoints","seriesIndex","stackSeries","value0","height0","heightc","y0","getYAxisTextList","stack","yAxis","dataRange","calYAxisData","columnstyle","YLength","newSeries","rangesArr","rangesFormatArr","yAxisWidthArr","yData","yAxisFontSizes","calibration","yAxisFontSize","calTooltipYAxisData","yAxisData","minAxis","maxVal","minVal","calMarkLineData","yAxisIndex","contextRotate","context","rotateLock","translate","_rotate_","drawPointShape","shape","beginPath","dataPointShapeType","setStrokeStyle","setFillStyle","background","setLineWidth","moveTo","lineTo","arc","rect","closePath","fill","stroke","drawRingTitle","titlefontSize","title","subtitlefontSize","subtitle","titleFontColor","subtitleFontColor","titleHeight","subtitleHeight","textWidth","startY","setFontSize","fillText","_textWidth","_startX","_startY","drawPointText","textSize","textColor","formatVal","drawGaugeLabel","centerPosition","splitAngle","splitLine","totalNumber","endNumber","startNumber","nowAngle","nowNumber","pos","labelText","labelFormat","labelColor","drawRadarLabel","posRelativeCanvas","drawPieText","lineRadius","textObjectCollection","lastTextObject","seriesConvert","orginX1","orginY1","orginX2","orginY2","orginX3","orginY3","textObject","lineStart","lineEnd","lineStartPoistion","lineEndPoistion","textPosition","curveStartX","textStartX","quadraticCurveTo","drawToolTipSplitLine","toolTipOption","tooltip","gridType","dashLength","endY","setLineDash","gridColor","xAxisLabel","textX","textY","labelBgColor","labelBgOpacity","labelFontColor","fontColor","drawMarkLine","markLineOption","markLine","lineColor","showLabel","bgStartX","bgEndX","bgWidth","drawToolTipHorizentalLine","yAxisLabel","tStartLeft","tStartRight","drawToolTipSplitArea","activeBgColor","activeBgOpacity","drawToolTip","showBox","bgColor","bgOpacity","legendMarginRight","arrowWidth","isOverRightBorder","toolTipWidth","toolTipHeight","_scrollDistance_","fillRect","drawYAxisTitle","save","restore","drawColumnDataPoints","columnOption","meter","fillColor","leftNum","rightNum","eachSeries","tooltipPoints","dataLabel","drawCandleDataPoints","seriesMA","candleOption","average","candle","upLine","downLine","leftSpace","rightSpace","splitPointList","startPoint","ctrlPoint","bezierCurveTo","drawAreaDataPoints","areaOption","opacity","addLine","gradient","createLinearGradient","addColorStop","firstPoint","lastPoint","lineType","drawLineDataPoints","lineOption","line","drawMixDataPoints","columnIndex","columnLength","addPoint","drawToolTipBridge","horizentalLine","drawXAxis","scrollShow","scrollY","scrollScreenWidth","scrollTotalWidth","scrollWidth","scrollLeft","setLineCap","scrollBackgroundColor","scrollColor","disableGrid","gridEval","maxXAxisListLength","labelCount","ratio","newCategories","cgLength","xAxisFontSize","_xAxisTextAngle_","scrollHeight","_calRotateTranslate","axisLine","axisLineColor","drawYAxisGrid","xAxiseachSpacing","TotalWidth","drawYAxis","fillEndY","showTitle","drawLegend","legendArea","borderWidth","borderColor","backgroundColor","itemList","listIndex","hiddenColor","fontTrans","drawPieDataPoints","pieOption","activeOpacity","activeRadius","offsetAngle","labelWidth","ringWidth","pie","_pieTextMaxLength_","lineJoin","innerPieWidth","valid","drawRoseDataPoints","roseOption","rose","drawArcbarDataPoints","gap","arcbar","drawGaugeDataPoints","fixRadius","childNumber","childWidth","gauge","innerRadius","pieRadius","childAngle","proc","pointerRadius","gradient3","eachCategories","childendX","drawRadarDataPoints","gridCount","coordinateAngle","_loop","startPos","radarDataPoints","normalInt","iter","random","collisionNew","isIn","getBoundingBox","coords","xMin","xMax","yMin","yMax","coorda","longitude","latitude","coordinateToPoint","pointY","pointX","isRayIntersectsSegment","s_poi","e_poi","xseg","poly","sinsc","epoly","drawMapDataPoints","mapOption","fillOpacity","activeBorderColor","activeFillColor","activeFillOpacity","xScale","yScale","clearRect","centerPoint","properties","centroid","draw","getWordCloudPoint","tHeight","tWidth","breaknum","Spin","isSpin","areav","drawWordCloudDataPoints","wordOption","autoColors","word","wordCloudData","strokeText","drawFunnelDataPoints","funnelOption","activeWidth","labelAlign","funnel","drawFunnelText","drawCanvas","Timing","easeIn","easeOut","easeInOut","linear","Animation","isStop","duration","timing","delay","createAnimationFrame","setTimeout","step","timeStamp","requestAnimationFrame","animationFrame","startTimeStamp","_step","timestamp","onProcess","onAnimationFinish","timingFunction","bind","prototype","stop","drawCharts","_this","animation","animationInstance","_series_","_calLegendData","_calYAxisData","maxTitleHeight","rightIndex","leftIndex","_calCategoriesData","categoriesData","scrollAlign","offsetLeft","totalWidth","screenWidth","scrollOption","currentOffset","startTouchX","lastMoveTime","updateData","_drawLineDataPoints","enableMarkLine","_drawMixDataPoints","_drawColumnDataPoints","_drawAreaDataPoints","arcbarData","gaugeData","_drawCandleDataPoints","Event","events","addEventListener","listener","_len","args","_key","params","Charts","config$$1","JSON","parse","stringify","tempWidth","tempHeight","$this","uni","createCanvasContext","canvasId","call","scrollPosition","_getXAxisPoints0","zoom","console","log","centerLeft","MaxLeft","stopAnimation","getCurrentDataIndex","_touches$","getLegendDataIndex","touchLegend","showToolTip","_getToolTipData","_getMixToolTipData","scrollStart","scroll","now","Limit","touchMoveLimit","currMoveTime","_distance","scrollEnd","_scrollOption","module","exports"],"mappings":"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,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F;EACA,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO;EAAE;EAC1F,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAA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gC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EACpG,gCAAgC,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","file":"pages/admin/common/vendor.js","sourcesContent":["import CALENDAR from './calendar.js'\n\nclass Calendar {\n\tconstructor({\n\t\tdate,\n\t\tselected,\n\t\tstartDate,\n\t\tendDate,\n\t\trange\n\t} = {}) {\n\t\t// 当前日期\n\t\tthis.date = this.getDate(date) // 当前初入日期\n\t\t// 打点信息\n\t\tthis.selected = selected || [];\n\t\t// 范围开始\n\t\tthis.startDate = startDate\n\t\t// 范围结束\n\t\tthis.endDate = endDate\n\t\tthis.range = range\n\t\t// 多选状态\n\t\tthis.multipleStatus = {\n\t\t\tbefore: '',\n\t\t\tafter: '',\n\t\t\tdata: []\n\t\t}\n\t\t// 每周日期\n\t\tthis.weeks = {}\n\n\t\tthis._getWeek(this.date.fullDate)\n\t}\n\n\t/**\n\t * 获取任意时间\n\t */\n\tgetDate(date, AddDayCount = 0, str = 'day') {\n\t\tif (!date) {\n\t\t\tdate = new Date()\n\t\t}\n\t\tif (typeof date !== 'object') {\n\t\t\tdate = date.replace(/-/g, '/')\n\t\t}\n\t\tconst dd = new Date(date)\n\t\tswitch (str) {\n\t\t\tcase 'day':\n\t\t\t\tdd.setDate(dd.getDate() + AddDayCount) // 获取AddDayCount天后的日期\n\t\t\t\tbreak\n\t\t\tcase 'month':\n\t\t\t\tif (dd.getDate() === 31) {\n\t\t\t\t\tdd.setDate(dd.getDate() + AddDayCount)\n\t\t\t\t} else {\n\t\t\t\t\tdd.setMonth(dd.getMonth() + AddDayCount) // 获取AddDayCount天后的日期\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase 'year':\n\t\t\t\tdd.setFullYear(dd.getFullYear() + AddDayCount) // 获取AddDayCount天后的日期\n\t\t\t\tbreak\n\t\t}\n\t\tconst y = dd.getFullYear()\n\t\tconst m = dd.getMonth() + 1 < 10 ? '0' + (dd.getMonth() + 1) : dd.getMonth() + 1 // 获取当前月份的日期，不足10补0\n\t\tconst d = dd.getDate() < 10 ? '0' + dd.getDate() : dd.getDate() // 获取当前几号，不足10补0\n\t\treturn {\n\t\t\tfullDate: y + '-' + m + '-' + d,\n\t\t\tyear: y,\n\t\t\tmonth: m,\n\t\t\tdate: d,\n\t\t\tday: dd.getDay()\n\t\t}\n\t}\n\n\n\t/**\n\t * 获取上月剩余天数\n\t */\n\t_getLastMonthDays(firstDay, full) {\n\t\tlet dateArr = []\n\t\tfor (let i = firstDay; i > 0; i--) {\n\t\t\tconst beforeDate = new Date(full.year, full.month - 1, -i + 1).getDate()\n\t\t\tdateArr.push({\n\t\t\t\tdate: beforeDate,\n\t\t\t\tmonth: full.month - 1,\n\t\t\t\tlunar: this.getlunar(full.year, full.month - 1, beforeDate),\n\t\t\t\tdisable: true\n\t\t\t})\n\t\t}\n\t\treturn dateArr\n\t}\n\t/**\n\t * 获取本月天数\n\t */\n\t_currentMonthDys(dateData, full) {\n\t\tlet dateArr = []\n\t\tlet fullDate = this.date.fullDate\n\t\tfor (let i = 1; i <= dateData; i++) {\n\t\t\tlet isinfo = false\n\t\t\tlet nowDate = full.year + '-' + (full.month < 10 ?\n\t\t\t\tfull.month : full.month) + '-' + (i < 10 ?\n\t\t\t\t'0' + i : i)\n\t\t\t// 是否今天\n\t\t\tlet isDay = fullDate === nowDate\n\t\t\t// 获取打点信息\n\t\t\tlet info = this.selected && this.selected.find((item) => {\n\t\t\t\tif (this.dateEqual(nowDate, item.date)) {\n\t\t\t\t\treturn item\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// 日期禁用\n\t\t\tlet disableBefore = true\n\t\t\tlet disableAfter = true\n\t\t\tif (this.startDate) {\n\t\t\t\tlet dateCompBefore = this.dateCompare(this.startDate, fullDate)\n\t\t\t\tdisableBefore = this.dateCompare(dateCompBefore ? this.startDate : fullDate, nowDate)\n\t\t\t}\n\n\t\t\tif (this.endDate) {\n\t\t\t\tlet dateCompAfter = this.dateCompare(fullDate, this.endDate)\n\t\t\t\tdisableAfter = this.dateCompare(nowDate, dateCompAfter ? this.endDate : fullDate)\n\t\t\t}\n\n\t\t\tlet multiples = this.multipleStatus.data\n\t\t\tlet checked = false\n\t\t\tlet multiplesStatus = -1\n\t\t\tif (this.range) {\n\t\t\t\tif (multiples) {\n\t\t\t\t\tmultiplesStatus = multiples.findIndex((item) => {\n\t\t\t\t\t\treturn this.dateEqual(item, nowDate)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (multiplesStatus !== -1) {\n\t\t\t\t\tchecked = true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet data = {\n\t\t\t\tfullDate: nowDate,\n\t\t\t\tyear: full.year,\n\t\t\t\tdate: i,\n\t\t\t\tmultiple: this.range ? checked : false,\n\t\t\t\tmonth: full.month,\n\t\t\t\tlunar: this.getlunar(full.year, full.month, i),\n\t\t\t\tdisable: !disableBefore || !disableAfter,\n\t\t\t\tisDay\n\t\t\t}\n\t\t\tif (info) {\n\t\t\t\tdata.extraInfo = info\n\t\t\t}\n\n\t\t\tdateArr.push(data)\n\t\t}\n\t\treturn dateArr\n\t}\n\t/**\n\t * 获取下月天数\n\t */\n\t_getNextMonthDays(surplus, full) {\n\t\tlet dateArr = []\n\t\tfor (let i = 1; i < surplus + 1; i++) {\n\t\t\tdateArr.push({\n\t\t\t\tdate: i,\n\t\t\t\tmonth: Number(full.month) + 1,\n\t\t\t\tlunar: this.getlunar(full.year, Number(full.month) + 1, i),\n\t\t\t\tdisable: true\n\t\t\t})\n\t\t}\n\t\treturn dateArr\n\t}\n\t/**\n\t * 设置日期\n\t * @param {Object} date\n\t */\n\tsetDate(date) {\n\t\tthis._getWeek(date)\n\t}\n\t/**\n\t * 获取当前日期详情\n\t * @param {Object} date\n\t */\n\tgetInfo(date) {\n\t\tif (!date) {\n\t\t\tdate = new Date()\n\t\t}\n\t\tconst dateInfo = this.canlender.find(item => item.fullDate === this.getDate(date).fullDate)\n\t\treturn dateInfo\n\t}\n\n\t/**\n\t * 比较时间大小\n\t */\n\tdateCompare(startDate, endDate) {\n\t\t// 计算截止时间\n\t\tstartDate = new Date(startDate.replace('-', '/').replace('-', '/'))\n\t\t// 计算详细项的截止时间\n\t\tendDate = new Date(endDate.replace('-', '/').replace('-', '/'))\n\t\tif (startDate <= endDate) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\t/**\n\t * 比较时间是否相等\n\t */\n\tdateEqual(before, after) {\n\t\t// 计算截止时间\n\t\tbefore = new Date(before.replace('-', '/').replace('-', '/'))\n\t\t// 计算详细项的截止时间\n\t\tafter = new Date(after.replace('-', '/').replace('-', '/'))\n\t\tif (before.getTime() - after.getTime() === 0) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n\n\n\t/**\n\t * 获取日期范围内所有日期\n\t * @param {Object} begin\n\t * @param {Object} end\n\t */\n\tgeDateAll(begin, end) {\n\t\tvar arr = []\n\t\tvar ab = begin.split('-')\n\t\tvar ae = end.split('-')\n\t\tvar db = new Date()\n\t\tdb.setFullYear(ab[0], ab[1] - 1, ab[2])\n\t\tvar de = new Date()\n\t\tde.setFullYear(ae[0], ae[1] - 1, ae[2])\n\t\tvar unixDb = db.getTime() - 24 * 60 * 60 * 1000\n\t\tvar unixDe = de.getTime() - 24 * 60 * 60 * 1000\n\t\tfor (var k = unixDb; k <= unixDe;) {\n\t\t\tk = k + 24 * 60 * 60 * 1000\n\t\t\tarr.push(this.getDate(new Date(parseInt(k))).fullDate)\n\t\t}\n\t\treturn arr\n\t}\n\t/**\n\t * 计算阴历日期显示\n\t */\n\tgetlunar(year, month, date) {\n\t\treturn CALENDAR.solar2lunar(year, month, date)\n\t}\n\t/**\n\t * 设置打点\n\t */\n\tsetSelectInfo(data, value) {\n\t\tthis.selected = value\n\t\tthis._getWeek(data)\n\t}\n\n\t/**\n\t *  获取多选状态\n\t */\n\tsetMultiple(fullDate) {\n\t\tlet {\n\t\t\tbefore,\n\t\t\tafter\n\t\t} = this.multipleStatus\n\t\tif (!this.range) return\n\t\tif (before && after) {\n\t\t\tthis.multipleStatus.before = ''\n\t\t\tthis.multipleStatus.after = ''\n\t\t\tthis.multipleStatus.data = []\n\t\t\tthis._getWeek(fullDate)\n\t\t} else {\n\t\t\tif (!before) {\n\t\t\t\tthis.multipleStatus.before = fullDate\n\t\t\t} else {\n\t\t\t\tthis.multipleStatus.after = fullDate\n\t\t\t\tif (this.dateCompare(this.multipleStatus.before, this.multipleStatus.after)) {\n\t\t\t\t\tthis.multipleStatus.data = this.geDateAll(this.multipleStatus.before, this.multipleStatus.after);\n\t\t\t\t} else {\n\t\t\t\t\tthis.multipleStatus.data = this.geDateAll(this.multipleStatus.after, this.multipleStatus.before);\n\t\t\t\t}\n\t\t\t\tthis._getWeek(fullDate)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 获取每周数据\n\t * @param {Object} dateData\n\t */\n\t_getWeek(dateData) {\n\t\tconst {\n\t\t\tfullDate,\n\t\t\tyear,\n\t\t\tmonth,\n\t\t\tdate,\n\t\t\tday\n\t\t} = this.getDate(dateData)\n\t\tlet firstDay = new Date(year, month - 1, 1).getDay()\n\t\tlet currentDay = new Date(year, month, 0).getDate()\n\t\tlet dates = {\n\t\t\tlastMonthDays: this._getLastMonthDays(firstDay, this.getDate(dateData)), // 上个月末尾几天\n\t\t\tcurrentMonthDys: this._currentMonthDys(currentDay, this.getDate(dateData)), // 本月天数\n\t\t\tnextMonthDays: [], // 下个月开始几天\n\t\t\tweeks: []\n\t\t}\n\t\tlet canlender = []\n\t\tconst surplus = 42 - (dates.lastMonthDays.length + dates.currentMonthDys.length)\n\t\tdates.nextMonthDays = this._getNextMonthDays(surplus, this.getDate(dateData))\n\t\tcanlender = canlender.concat(dates.lastMonthDays, dates.currentMonthDys, dates.nextMonthDays)\n\t\tlet weeks = {}\n\t\t// 拼接数组  上个月开始几天 + 本月天数+ 下个月开始几天\n\t\tfor (let i = 0; i < canlender.length; i++) {\n\t\t\tif (i % 7 === 0) {\n\t\t\t\tweeks[parseInt(i / 7)] = new Array(7)\n\t\t\t}\n\t\t\tweeks[parseInt(i / 7)][i % 7] = canlender[i]\n\t\t}\n\t\tthis.canlender = canlender\n\t\tthis.weeks = weeks\n\t}\n\n\t//静态方法\n\t// static init(date) {\n\t// \tif (!this.instance) {\n\t// \t\tthis.instance = new Calendar(date);\n\t// \t}\n\t// \treturn this.instance;\n\t// }\n}\n\n\nexport default Calendar\n","/**\n* @1900-2100区间内的公历、农历互转\n* @charset UTF-8\n* @github  https://github.com/jjonline/calendar.js\n* @Author  Jea杨(JJonline@JJonline.Cn)\n* @Time    2014-7-21\n* @Time    2016-8-13 Fixed 2033hex、Attribution Annals\n* @Time    2016-9-25 Fixed lunar LeapMonth Param Bug\n* @Time    2017-7-24 Fixed use getTerm Func Param Error.use solar year,NOT lunar year\n* @Version 1.0.3\n* @公历转农历：calendar.solar2lunar(1987,11,01); //[you can ignore params of prefix 0]\n* @农历转公历：calendar.lunar2solar(1987,09,10); //[you can ignore params of prefix 0]\n*/\n/* eslint-disable */\nvar calendar = {\n\n  /**\n      * 农历1900-2100的润大小信息表\n      * @Array Of Property\n      * @return Hex\n      */\n  lunarInfo: [0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2, // 1900-1909\n    0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977, // 1910-1919\n    0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970, // 1920-1929\n    0x06566, 0x0d4a0, 0x0ea50, 0x06e95, 0x05ad0, 0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950, // 1930-1939\n    0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4, 0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557, // 1940-1949\n    0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5b0, 0x14573, 0x052b0, 0x0a9a8, 0x0e950, 0x06aa0, // 1950-1959\n    0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570, 0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0, // 1960-1969\n    0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4, 0x0d250, 0x0d558, 0x0b540, 0x0b6a0, 0x195a6, // 1970-1979\n    0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a, 0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570, // 1980-1989\n    0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50, 0x06b58, 0x05ac0, 0x0ab60, 0x096d5, 0x092e0, // 1990-1999\n    0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552, 0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5, // 2000-2009\n    0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9, 0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930, // 2010-2019\n    0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60, 0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530, // 2020-2029\n    0x05aa0, 0x076a3, 0x096d0, 0x04afb, 0x04ad0, 0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45, // 2030-2039\n    0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577, 0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0, // 2040-2049\n    /** Add By JJonline@JJonline.Cn**/\n    0x14b63, 0x09370, 0x049f8, 0x04970, 0x064b0, 0x168a6, 0x0ea50, 0x06b20, 0x1a6c4, 0x0aae0, // 2050-2059\n    0x0a2e0, 0x0d2e3, 0x0c960, 0x0d557, 0x0d4a0, 0x0da50, 0x05d55, 0x056a0, 0x0a6d0, 0x055d4, // 2060-2069\n    0x052d0, 0x0a9b8, 0x0a950, 0x0b4a0, 0x0b6a6, 0x0ad50, 0x055a0, 0x0aba4, 0x0a5b0, 0x052b0, // 2070-2079\n    0x0b273, 0x06930, 0x07337, 0x06aa0, 0x0ad50, 0x14b55, 0x04b60, 0x0a570, 0x054e4, 0x0d160, // 2080-2089\n    0x0e968, 0x0d520, 0x0daa0, 0x16aa6, 0x056d0, 0x04ae0, 0x0a9d4, 0x0a2d0, 0x0d150, 0x0f252, // 2090-2099\n    0x0d520], // 2100\n\n  /**\n      * 公历每个月份的天数普通表\n      * @Array Of Property\n      * @return Number\n      */\n  solarMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n\n  /**\n      * 天干地支之天干速查表\n      * @Array Of Property trans[\"甲\",\"乙\",\"丙\",\"丁\",\"戊\",\"己\",\"庚\",\"辛\",\"壬\",\"癸\"]\n      * @return Cn string\n      */\n  Gan: ['\\u7532', '\\u4e59', '\\u4e19', '\\u4e01', '\\u620a', '\\u5df1', '\\u5e9a', '\\u8f9b', '\\u58ec', '\\u7678'],\n\n  /**\n      * 天干地支之地支速查表\n      * @Array Of Property\n      * @trans[\"子\",\"丑\",\"寅\",\"卯\",\"辰\",\"巳\",\"午\",\"未\",\"申\",\"酉\",\"戌\",\"亥\"]\n      * @return Cn string\n      */\n  Zhi: ['\\u5b50', '\\u4e11', '\\u5bc5', '\\u536f', '\\u8fb0', '\\u5df3', '\\u5348', '\\u672a', '\\u7533', '\\u9149', '\\u620c', '\\u4ea5'],\n\n  /**\n      * 天干地支之地支速查表<=>生肖\n      * @Array Of Property\n      * @trans[\"鼠\",\"牛\",\"虎\",\"兔\",\"龙\",\"蛇\",\"马\",\"羊\",\"猴\",\"鸡\",\"狗\",\"猪\"]\n      * @return Cn string\n      */\n  Animals: ['\\u9f20', '\\u725b', '\\u864e', '\\u5154', '\\u9f99', '\\u86c7', '\\u9a6c', '\\u7f8a', '\\u7334', '\\u9e21', '\\u72d7', '\\u732a'],\n\n  /**\n      * 24节气速查表\n      * @Array Of Property\n      * @trans[\"小寒\",\"大寒\",\"立春\",\"雨水\",\"惊蛰\",\"春分\",\"清明\",\"谷雨\",\"立夏\",\"小满\",\"芒种\",\"夏至\",\"小暑\",\"大暑\",\"立秋\",\"处暑\",\"白露\",\"秋分\",\"寒露\",\"霜降\",\"立冬\",\"小雪\",\"大雪\",\"冬至\"]\n      * @return Cn string\n      */\n  solarTerm: ['\\u5c0f\\u5bd2', '\\u5927\\u5bd2', '\\u7acb\\u6625', '\\u96e8\\u6c34', '\\u60ca\\u86f0', '\\u6625\\u5206', '\\u6e05\\u660e', '\\u8c37\\u96e8', '\\u7acb\\u590f', '\\u5c0f\\u6ee1', '\\u8292\\u79cd', '\\u590f\\u81f3', '\\u5c0f\\u6691', '\\u5927\\u6691', '\\u7acb\\u79cb', '\\u5904\\u6691', '\\u767d\\u9732', '\\u79cb\\u5206', '\\u5bd2\\u9732', '\\u971c\\u964d', '\\u7acb\\u51ac', '\\u5c0f\\u96ea', '\\u5927\\u96ea', '\\u51ac\\u81f3'],\n\n  /**\n      * 1900-2100各年的24节气日期速查表\n      * @Array Of Property\n      * @return 0x string For splice\n      */\n  sTermInfo: ['9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f',\n    '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n    '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f', 'b027097bd097c36b0b6fc9274c91aa',\n    '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd0b06bdb0722c965ce1cfcc920f',\n    'b027097bd097c36b0b6fc9274c91aa', '9778397bd19801ec9210c965cc920e', '97b6b97bd19801ec95f8c965cc920f',\n    '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd197c36c9210c9274c91aa',\n    '97b6b97bd19801ec95f8c965cc920e', '97bd09801d98082c95f8e1cfcc920f', '97bd097bd097c36b0b6fc9210c8dc2',\n    '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec95f8c965cc920e', '97bcf97c3598082c95f8e1cfcc920f',\n    '97bd097bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n    '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n    '97b6b97bd19801ec9210c965cc920e', '97bcf97c3598082c95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722',\n    '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f',\n    '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n    '97bcf97c359801ec95f8c965cc920f', '97bd097bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n    '97b6b97bd19801ec9210c965cc920e', '97bcf97c359801ec95f8c965cc920f', '97bd097bd07f595b0b6fc920fb0722',\n    '9778397bd097c36b0b6fc9210c8dc2', '9778397bd19801ec9210c9274c920e', '97b6b97bd19801ec95f8c965cc920f',\n    '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',\n    '97b6b97bd19801ec95f8c965cc920f', '97bd07f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',\n    '9778397bd097c36c9210c9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bd07f1487f595b0b0bc920fb0722',\n    '7f0e397bd097c36b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n    '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n    '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\n    '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e', '97bcf7f1487f531b0b0bb0b6fb0722',\n    '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b97bd19801ec9210c965cc920e',\n    '97bcf7f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n    '97b6b97bd19801ec9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\n    '9778397bd097c36b0b6fc9210c91aa', '97b6b97bd197c36c9210c9274c920e', '97bcf7f0e47f531b0b0bb0b6fb0722',\n    '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '9778397bd097c36c9210c9274c920e',\n    '97b6b7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c36b0b6fc9210c8dc2',\n    '9778397bd097c36b0b70c9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',\n    '7f0e397bd097c35b0b6fc9210c8dc2', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',\n    '7f0e27f1487f595b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n    '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\n    '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\n    '7f0e397bd097c35b0b6fc920fb0722', '9778397bd097c36b0b6fc9274c91aa', '97b6b7f0e47f531b0723b0b6fb0721',\n    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9274c91aa',\n    '97b6b7f0e47f531b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\n    '9778397bd097c36b0b6fc9210c91aa', '97b6b7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\n    '7f0e397bd07f595b0b0bc920fb0722', '9778397bd097c36b0b6fc9210c8dc2', '977837f0e37f149b0723b0787b0721',\n    '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f5307f595b0b0bc920fb0722', '7f0e397bd097c35b0b6fc9210c8dc2',\n    '977837f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e37f1487f595b0b0bb0b6fb0722',\n    '7f0e397bd097c35b0b6fc9210c8dc2', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722', '977837f0e37f14998082b0787b06bd',\n    '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd097c35b0b6fc920fb0722',\n    '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\n    '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14998082b0787b06bd',\n    '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0b0bb0b6fb0722', '7f0e397bd07f595b0b0bc920fb0722',\n    '977837f0e37f14998082b0723b06bd', '7f07e7f0e37f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\n    '7f0e397bd07f595b0b0bc920fb0722', '977837f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b0721',\n    '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f595b0b0bb0b6fb0722', '7f0e37f0e37f14898082b0723b02d5',\n    '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e37f1487f531b0b0bb0b6fb0722',\n    '7f0e37f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n    '7f0e37f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',\n    '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e37f14898082b072297c35',\n    '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722',\n    '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f149b0723b0787b0721',\n    '7f0e27f1487f531b0b0bb0b6fb0722', '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14998082b0723b06bd',\n    '7f07e7f0e47f149b0723b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722', '7f0e37f0e366aa89801eb072297c35',\n    '7ec967f0e37f14998082b0723b06bd', '7f07e7f0e37f14998083b0787b0721', '7f0e27f0e47f531b0723b0b6fb0722',\n    '7f0e37f0e366aa89801eb072297c35', '7ec967f0e37f14898082b0723b02d5', '7f07e7f0e37f14998082b0787b0721',\n    '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66aa89801e9808297c35', '665f67f0e37f14898082b0723b02d5',\n    '7ec967f0e37f14998082b0787b0721', '7f07e7f0e47f531b0723b0b6fb0722', '7f0e36665b66a449801e9808297c35',\n    '665f67f0e37f14898082b0723b02d5', '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721',\n    '7f0e36665b66a449801e9808297c35', '665f67f0e37f14898082b072297c35', '7ec967f0e37f14998082b0787b06bd',\n    '7f07e7f0e47f531b0723b0b6fb0721', '7f0e26665b66a449801e9808297c35', '665f67f0e37f1489801eb072297c35',\n    '7ec967f0e37f14998082b0787b06bd', '7f07e7f0e47f531b0723b0b6fb0721', '7f0e27f1487f531b0b0bb0b6fb0722'],\n\n  /**\n      * 数字转中文速查表\n      * @Array Of Property\n      * @trans ['日','一','二','三','四','五','六','七','八','九','十']\n      * @return Cn string\n      */\n  nStr1: ['\\u65e5', '\\u4e00', '\\u4e8c', '\\u4e09', '\\u56db', '\\u4e94', '\\u516d', '\\u4e03', '\\u516b', '\\u4e5d', '\\u5341'],\n\n  /**\n      * 日期转农历称呼速查表\n      * @Array Of Property\n      * @trans ['初','十','廿','卅']\n      * @return Cn string\n      */\n  nStr2: ['\\u521d', '\\u5341', '\\u5eff', '\\u5345'],\n\n  /**\n      * 月份转农历称呼速查表\n      * @Array Of Property\n      * @trans ['正','一','二','三','四','五','六','七','八','九','十','冬','腊']\n      * @return Cn string\n      */\n  nStr3: ['\\u6b63', '\\u4e8c', '\\u4e09', '\\u56db', '\\u4e94', '\\u516d', '\\u4e03', '\\u516b', '\\u4e5d', '\\u5341', '\\u51ac', '\\u814a'],\n\n  /**\n      * 返回农历y年一整年的总天数\n      * @param lunar Year\n      * @return Number\n      * @eg:var count = calendar.lYearDays(1987) ;//count=387\n      */\n  lYearDays: function (y) {\n    var i; var sum = 348\n    for (i = 0x8000; i > 0x8; i >>= 1) { sum += (this.lunarInfo[y - 1900] & i) ? 1 : 0 }\n    return (sum + this.leapDays(y))\n  },\n\n  /**\n      * 返回农历y年闰月是哪个月；若y年没有闰月 则返回0\n      * @param lunar Year\n      * @return Number (0-12)\n      * @eg:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6\n      */\n  leapMonth: function (y) { // 闰字编码 \\u95f0\n    return (this.lunarInfo[y - 1900] & 0xf)\n  },\n\n  /**\n      * 返回农历y年闰月的天数 若该年没有闰月则返回0\n      * @param lunar Year\n      * @return Number (0、29、30)\n      * @eg:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29\n      */\n  leapDays: function (y) {\n    if (this.leapMonth(y)) {\n      return ((this.lunarInfo[y - 1900] & 0x10000) ? 30 : 29)\n    }\n    return (0)\n  },\n\n  /**\n      * 返回农历y年m月（非闰月）的总天数，计算m为闰月时的天数请使用leapDays方法\n      * @param lunar Year\n      * @return Number (-1、29、30)\n      * @eg:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29\n      */\n  monthDays: function (y, m) {\n    if (m > 12 || m < 1) { return -1 }// 月份参数从1至12，参数错误返回-1\n    return ((this.lunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29)\n  },\n\n  /**\n      * 返回公历(!)y年m月的天数\n      * @param solar Year\n      * @return Number (-1、28、29、30、31)\n      * @eg:var solarMonthDay = calendar.leapDays(1987) ;//solarMonthDay=30\n      */\n  solarDays: function (y, m) {\n    if (m > 12 || m < 1) { return -1 } // 若参数错误 返回-1\n    var ms = m - 1\n    if (ms == 1) { // 2月份的闰平规律测算后确认返回28或29\n      return (((y % 4 == 0) && (y % 100 != 0) || (y % 400 == 0)) ? 29 : 28)\n    } else {\n      return (this.solarMonth[ms])\n    }\n  },\n\n  /**\n     * 农历年份转换为干支纪年\n     * @param  lYear 农历年的年份数\n     * @return Cn string\n     */\n  toGanZhiYear: function (lYear) {\n    var ganKey = (lYear - 3) % 10\n    var zhiKey = (lYear - 3) % 12\n    if (ganKey == 0) ganKey = 10// 如果余数为0则为最后一个天干\n    if (zhiKey == 0) zhiKey = 12// 如果余数为0则为最后一个地支\n    return this.Gan[ganKey - 1] + this.Zhi[zhiKey - 1]\n  },\n\n  /**\n     * 公历月、日判断所属星座\n     * @param  cMonth [description]\n     * @param  cDay [description]\n     * @return Cn string\n     */\n  toAstro: function (cMonth, cDay) {\n    var s = '\\u9b54\\u7faf\\u6c34\\u74f6\\u53cc\\u9c7c\\u767d\\u7f8a\\u91d1\\u725b\\u53cc\\u5b50\\u5de8\\u87f9\\u72ee\\u5b50\\u5904\\u5973\\u5929\\u79e4\\u5929\\u874e\\u5c04\\u624b\\u9b54\\u7faf'\n    var arr = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22]\n    return s.substr(cMonth * 2 - (cDay < arr[cMonth - 1] ? 2 : 0), 2) + '\\u5ea7'// 座\n  },\n\n  /**\n      * 传入offset偏移量返回干支\n      * @param offset 相对甲子的偏移量\n      * @return Cn string\n      */\n  toGanZhi: function (offset) {\n    return this.Gan[offset % 10] + this.Zhi[offset % 12]\n  },\n\n  /**\n      * 传入公历(!)y年获得该年第n个节气的公历日期\n      * @param y公历年(1900-2100)；n二十四节气中的第几个节气(1~24)；从n=1(小寒)算起\n      * @return day Number\n      * @eg:var _24 = calendar.getTerm(1987,3) ;//_24=4;意即1987年2月4日立春\n      */\n  getTerm: function (y, n) {\n    if (y < 1900 || y > 2100) { return -1 }\n    if (n < 1 || n > 24) { return -1 }\n    var _table = this.sTermInfo[y - 1900]\n    var _info = [\n      parseInt('0x' + _table.substr(0, 5)).toString(),\n      parseInt('0x' + _table.substr(5, 5)).toString(),\n      parseInt('0x' + _table.substr(10, 5)).toString(),\n      parseInt('0x' + _table.substr(15, 5)).toString(),\n      parseInt('0x' + _table.substr(20, 5)).toString(),\n      parseInt('0x' + _table.substr(25, 5)).toString()\n    ]\n    var _calday = [\n      _info[0].substr(0, 1),\n      _info[0].substr(1, 2),\n      _info[0].substr(3, 1),\n      _info[0].substr(4, 2),\n\n      _info[1].substr(0, 1),\n      _info[1].substr(1, 2),\n      _info[1].substr(3, 1),\n      _info[1].substr(4, 2),\n\n      _info[2].substr(0, 1),\n      _info[2].substr(1, 2),\n      _info[2].substr(3, 1),\n      _info[2].substr(4, 2),\n\n      _info[3].substr(0, 1),\n      _info[3].substr(1, 2),\n      _info[3].substr(3, 1),\n      _info[3].substr(4, 2),\n\n      _info[4].substr(0, 1),\n      _info[4].substr(1, 2),\n      _info[4].substr(3, 1),\n      _info[4].substr(4, 2),\n\n      _info[5].substr(0, 1),\n      _info[5].substr(1, 2),\n      _info[5].substr(3, 1),\n      _info[5].substr(4, 2)\n    ]\n    return parseInt(_calday[n - 1])\n  },\n\n  /**\n      * 传入农历数字月份返回汉语通俗表示法\n      * @param lunar month\n      * @return Cn string\n      * @eg:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth='腊月'\n      */\n  toChinaMonth: function (m) { // 月 => \\u6708\n    if (m > 12 || m < 1) { return -1 } // 若参数错误 返回-1\n    var s = this.nStr3[m - 1]\n    s += '\\u6708'// 加上月字\n    return s\n  },\n\n  /**\n      * 传入农历日期数字返回汉字表示法\n      * @param lunar day\n      * @return Cn string\n      * @eg:var cnDay = calendar.toChinaDay(21) ;//cnMonth='廿一'\n      */\n  toChinaDay: function (d) { // 日 => \\u65e5\n    var s\n    switch (d) {\n      case 10:\n        s = '\\u521d\\u5341'; break\n      case 20:\n        s = '\\u4e8c\\u5341'; break\n        break\n      case 30:\n        s = '\\u4e09\\u5341'; break\n        break\n      default :\n        s = this.nStr2[Math.floor(d / 10)]\n        s += this.nStr1[d % 10]\n    }\n    return (s)\n  },\n\n  /**\n      * 年份转生肖[!仅能大致转换] => 精确划分生肖分界线是“立春”\n      * @param y year\n      * @return Cn string\n      * @eg:var animal = calendar.getAnimal(1987) ;//animal='兔'\n      */\n  getAnimal: function (y) {\n    return this.Animals[(y - 4) % 12]\n  },\n\n  /**\n      * 传入阳历年月日获得详细的公历、农历object信息 <=>JSON\n      * @param y  solar year\n      * @param m  solar month\n      * @param d  solar day\n      * @return JSON object\n      * @eg:console.log(calendar.solar2lunar(1987,11,01));\n      */\n  solar2lunar: function (y, m, d) { // 参数区间1900.1.31~2100.12.31\n    // 年份限定、上限\n    if (y < 1900 || y > 2100) {\n      return -1// undefined转换为数字变为NaN\n    }\n    // 公历传参最下限\n    if (y == 1900 && m == 1 && d < 31) {\n      return -1\n    }\n    // 未传参  获得当天\n    if (!y) {\n      var objDate = new Date()\n    } else {\n      var objDate = new Date(y, parseInt(m) - 1, d)\n    }\n    var i; var leap = 0; var temp = 0\n    // 修正ymd参数\n    var y = objDate.getFullYear()\n    var m = objDate.getMonth() + 1\n    var d = objDate.getDate()\n    var offset = (Date.UTC(objDate.getFullYear(), objDate.getMonth(), objDate.getDate()) - Date.UTC(1900, 0, 31)) / 86400000\n    for (i = 1900; i < 2101 && offset > 0; i++) {\n      temp = this.lYearDays(i)\n      offset -= temp\n    }\n    if (offset < 0) {\n      offset += temp; i--\n    }\n\n    // 是否今天\n    var isTodayObj = new Date()\n    var isToday = false\n    if (isTodayObj.getFullYear() == y && isTodayObj.getMonth() + 1 == m && isTodayObj.getDate() == d) {\n      isToday = true\n    }\n    // 星期几\n    var nWeek = objDate.getDay()\n    var cWeek = this.nStr1[nWeek]\n    // 数字表示周几顺应天朝周一开始的惯例\n    if (nWeek == 0) {\n      nWeek = 7\n    }\n    // 农历年\n    var year = i\n    var leap = this.leapMonth(i) // 闰哪个月\n    var isLeap = false\n\n    // 效验闰月\n    for (i = 1; i < 13 && offset > 0; i++) {\n      // 闰月\n      if (leap > 0 && i == (leap + 1) && isLeap == false) {\n        --i\n        isLeap = true; temp = this.leapDays(year) // 计算农历闰月天数\n      } else {\n        temp = this.monthDays(year, i)// 计算农历普通月天数\n      }\n      // 解除闰月\n      if (isLeap == true && i == (leap + 1)) { isLeap = false }\n      offset -= temp\n    }\n    // 闰月导致数组下标重叠取反\n    if (offset == 0 && leap > 0 && i == leap + 1) {\n      if (isLeap) {\n        isLeap = false\n      } else {\n        isLeap = true; --i\n      }\n    }\n    if (offset < 0) {\n      offset += temp; --i\n    }\n    // 农历月\n    var month = i\n    // 农历日\n    var day = offset + 1\n    // 天干地支处理\n    var sm = m - 1\n    var gzY = this.toGanZhiYear(year)\n\n    // 当月的两个节气\n    // bugfix-2017-7-24 11:03:38 use lunar Year Param `y` Not `year`\n    var firstNode = this.getTerm(y, (m * 2 - 1))// 返回当月「节」为几日开始\n    var secondNode = this.getTerm(y, (m * 2))// 返回当月「节」为几日开始\n\n    // 依据12节气修正干支月\n    var gzM = this.toGanZhi((y - 1900) * 12 + m + 11)\n    if (d >= firstNode) {\n      gzM = this.toGanZhi((y - 1900) * 12 + m + 12)\n    }\n\n    // 传入的日期的节气与否\n    var isTerm = false\n    var Term = null\n    if (firstNode == d) {\n      isTerm = true\n      Term = this.solarTerm[m * 2 - 2]\n    }\n    if (secondNode == d) {\n      isTerm = true\n      Term = this.solarTerm[m * 2 - 1]\n    }\n    // 日柱 当月一日与 1900/1/1 相差天数\n    var dayCyclical = Date.UTC(y, sm, 1, 0, 0, 0, 0) / 86400000 + 25567 + 10\n    var gzD = this.toGanZhi(dayCyclical + d - 1)\n    // 该日期所属的星座\n    var astro = this.toAstro(m, d)\n\n    return { 'lYear': year, 'lMonth': month, 'lDay': day, 'Animal': this.getAnimal(year), 'IMonthCn': (isLeap ? '\\u95f0' : '') + this.toChinaMonth(month), 'IDayCn': this.toChinaDay(day), 'cYear': y, 'cMonth': m, 'cDay': d, 'gzYear': gzY, 'gzMonth': gzM, 'gzDay': gzD, 'isToday': isToday, 'isLeap': isLeap, 'nWeek': nWeek, 'ncWeek': '\\u661f\\u671f' + cWeek, 'isTerm': isTerm, 'Term': Term, 'astro': astro }\n  },\n\n  /**\n      * 传入农历年月日以及传入的月份是否闰月获得详细的公历、农历object信息 <=>JSON\n      * @param y  lunar year\n      * @param m  lunar month\n      * @param d  lunar day\n      * @param isLeapMonth  lunar month is leap or not.[如果是农历闰月第四个参数赋值true即可]\n      * @return JSON object\n      * @eg:console.log(calendar.lunar2solar(1987,9,10));\n      */\n  lunar2solar: function (y, m, d, isLeapMonth) { // 参数区间1900.1.31~2100.12.1\n    var isLeapMonth = !!isLeapMonth\n    var leapOffset = 0\n    var leapMonth = this.leapMonth(y)\n    var leapDay = this.leapDays(y)\n    if (isLeapMonth && (leapMonth != m)) { return -1 }// 传参要求计算该闰月公历 但该年得出的闰月与传参的月份并不同\n    if (y == 2100 && m == 12 && d > 1 || y == 1900 && m == 1 && d < 31) { return -1 }// 超出了最大极限值\n    var day = this.monthDays(y, m)\n    var _day = day\n    // bugFix 2016-9-25\n    // if month is leap, _day use leapDays method\n    if (isLeapMonth) {\n      _day = this.leapDays(y, m)\n    }\n    if (y < 1900 || y > 2100 || d > _day) { return -1 }// 参数合法性效验\n\n    // 计算农历的时间差\n    var offset = 0\n    for (var i = 1900; i < y; i++) {\n      offset += this.lYearDays(i)\n    }\n    var leap = 0; var isAdd = false\n    for (var i = 1; i < m; i++) {\n      leap = this.leapMonth(y)\n      if (!isAdd) { // 处理闰月\n        if (leap <= i && leap > 0) {\n          offset += this.leapDays(y); isAdd = true\n        }\n      }\n      offset += this.monthDays(y, i)\n    }\n    // 转换闰月农历 需补充该年闰月的前一个月的时差\n    if (isLeapMonth) { offset += day }\n    // 1900年农历正月一日的公历时间为1900年1月30日0时0分0秒(该时间也是本农历的最开始起始点)\n    var stmap = Date.UTC(1900, 1, 30, 0, 0, 0)\n    var calObj = new Date((offset + d - 31) * 86400000 + stmap)\n    var cY = calObj.getUTCFullYear()\n    var cM = calObj.getUTCMonth() + 1\n    var cD = calObj.getUTCDate()\n\n    return this.solar2lunar(cY, cM, cD)\n  }\n}\n\nexport default calendar\n","'use strict';\r\n\r\nvar config = {\r\n\tyAxisWidth: 15,\r\n\tyAxisSplit: 5,\r\n\txAxisHeight: 15,\r\n\txAxisLineHeight: 15,\r\n\tlegendHeight: 15,\r\n\tyAxisTitleWidth: 15,\r\n\tpadding: [10, 10, 10, 10],\r\n\tpixelRatio: 1,\r\n\trotate: false,\r\n\tcolumePadding: 3,\r\n\tfontSize: 13,\r\n\t//dataPointShape: ['diamond', 'circle', 'triangle', 'rect'],\r\n\tdataPointShape: ['circle', 'circle', 'circle', 'circle'],\r\n\tcolors: ['#1890ff', '#2fc25b', '#facc14', '#f04864', '#8543e0', '#90ed7d'],\r\n\tpieChartLinePadding: 15,\r\n\tpieChartTextPadding: 5,\r\n\txAxisTextPadding: 3,\r\n\ttitleColor: '#333333',\r\n\ttitleFontSize: 20,\r\n\tsubtitleColor: '#999999',\r\n\tsubtitleFontSize: 15,\r\n\ttoolTipPadding: 3,\r\n\ttoolTipBackground: '#000000',\r\n\ttoolTipOpacity: 0.7,\r\n\ttoolTipLineHeight: 20,\r\n\tradarLabelTextMargin: 15,\r\n\tgaugeLabelTextMargin: 15\r\n};\r\n\r\nlet assign = function(target, ...varArgs) {\r\n\tif (target == null) {\r\n\t\tthrow new TypeError('Cannot convert undefined or null to object');\r\n\t}\r\n\tif (!varArgs || varArgs.length <= 0) {\r\n\t\treturn target;\r\n\t}\r\n\t// 深度合并对象\r\n\tfunction deepAssign(obj1, obj2) {\r\n\t\tfor (let key in obj2) {\r\n\t\t\tobj1[key] = obj1[key] && obj1[key].toString() === \"[object Object]\" ?\r\n\t\t\t\tdeepAssign(obj1[key], obj2[key]) : obj1[key] = obj2[key];\r\n\t\t}\r\n\t\treturn obj1;\r\n\t}\r\n\r\n\tvarArgs.forEach(val => {\r\n\t\ttarget = deepAssign(target, val);\r\n\t});\r\n\treturn target;\r\n};\r\n\r\nvar util = {\r\n\ttoFixed: function toFixed(num, limit) {\r\n\t\tlimit = limit || 2;\r\n\t\tif (this.isFloat(num)) {\r\n\t\t\tnum = num.toFixed(limit);\r\n\t\t}\r\n\t\treturn num;\r\n\t},\r\n\tisFloat: function isFloat(num) {\r\n\t\treturn num % 1 !== 0;\r\n\t},\r\n\tapproximatelyEqual: function approximatelyEqual(num1, num2) {\r\n\t\treturn Math.abs(num1 - num2) < 1e-10;\r\n\t},\r\n\tisSameSign: function isSameSign(num1, num2) {\r\n\t\treturn Math.abs(num1) === num1 && Math.abs(num2) === num2 || Math.abs(num1) !== num1 && Math.abs(\r\n\t\t\tnum2) !== num2;\r\n\t},\r\n\tisSameXCoordinateArea: function isSameXCoordinateArea(p1, p2) {\r\n\t\treturn this.isSameSign(p1.x, p2.x);\r\n\t},\r\n\tisCollision: function isCollision(obj1, obj2) {\r\n\t\tobj1.end = {};\r\n\t\tobj1.end.x = obj1.start.x + obj1.width;\r\n\t\tobj1.end.y = obj1.start.y - obj1.height;\r\n\t\tobj2.end = {};\r\n\t\tobj2.end.x = obj2.start.x + obj2.width;\r\n\t\tobj2.end.y = obj2.start.y - obj2.height;\r\n\t\tvar flag = obj2.start.x > obj1.end.x || obj2.end.x < obj1.start.x || obj2.end.y > obj1.start.y || obj2\r\n\t\t\t.start.y < obj1.end.y;\r\n\t\treturn !flag;\r\n\t}\r\n};\r\n\r\n//兼容H5点击事件\r\nfunction getH5Offset(e) {\r\n\te.mp = {\r\n\t\tchangedTouches: []\r\n\t};\r\n\te.mp.changedTouches.push({\r\n\t\tx: e.offsetX,\r\n\t\ty: e.offsetY\r\n\t});\r\n\treturn e;\r\n}\r\n\r\n// hex 转 rgba\r\nfunction hexToRgb(hexValue, opc) {\r\n\tvar rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\tvar hex = hexValue.replace(rgx, function(m, r, g, b) {\r\n\t\treturn r + r + g + g + b + b;\r\n\t});\r\n\tvar rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\tvar r = parseInt(rgb[1], 16);\r\n\tvar g = parseInt(rgb[2], 16);\r\n\tvar b = parseInt(rgb[3], 16);\r\n\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + opc + ')';\r\n}\r\n\r\nfunction findRange(num, type, limit) {\r\n\tif (isNaN(num)) {\r\n\t\tthrow new Error('[uCharts] unvalid series data!');\r\n\t}\r\n\tlimit = limit || 10;\r\n\ttype = type ? type : 'upper';\r\n\tvar multiple = 1;\r\n\twhile (limit < 1) {\r\n\t\tlimit *= 10;\r\n\t\tmultiple *= 10;\r\n\t}\r\n\tif (type === 'upper') {\r\n\t\tnum = Math.ceil(num * multiple);\r\n\t} else {\r\n\t\tnum = Math.floor(num * multiple);\r\n\t}\r\n\twhile (num % limit !== 0) {\r\n\t\tif (type === 'upper') {\r\n\t\t\tnum++;\r\n\t\t} else {\r\n\t\t\tnum--;\r\n\t\t}\r\n\t}\r\n\treturn num / multiple;\r\n}\r\n\r\nfunction calCandleMA(dayArr, nameArr, colorArr, kdata) {\r\n\tlet seriesTemp = [];\r\n\tfor (let k = 0; k < dayArr.length; k++) {\r\n\t\tlet seriesItem = {\r\n\t\t\tdata: [],\r\n\t\t\tname: nameArr[k],\r\n\t\t\tcolor: colorArr[k]\r\n\t\t};\r\n\t\tfor (let i = 0, len = kdata.length; i < len; i++) {\r\n\t\t\tif (i < dayArr[k]) {\r\n\t\t\t\tseriesItem.data.push(null);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tlet sum = 0;\r\n\t\t\tfor (let j = 0; j < dayArr[k]; j++) {\r\n\t\t\t\tsum += kdata[i - j][1];\r\n\t\t\t}\r\n\t\t\tseriesItem.data.push(+(sum / dayArr[k]).toFixed(3));\r\n\t\t}\r\n\t\tseriesTemp.push(seriesItem);\r\n\t}\r\n\treturn seriesTemp;\r\n}\r\n\r\nfunction calValidDistance(self, distance, chartData, config, opts) {\r\n\tvar dataChartAreaWidth = opts.width - opts.area[1] - opts.area[3];\r\n\tvar dataChartWidth = chartData.eachSpacing * (opts.chartData.xAxisData.xAxisPoints.length - 1);\r\n\tvar validDistance = distance;\r\n\tif (distance >= 0) {\r\n\t\tvalidDistance = 0;\r\n\t\tself.event.trigger('scrollLeft');\r\n\t} else if (Math.abs(distance) >= dataChartWidth - dataChartAreaWidth) {\r\n\t\tvalidDistance = dataChartAreaWidth - dataChartWidth;\r\n\t\tself.event.trigger('scrollRight');\r\n\t}\r\n\treturn validDistance;\r\n}\r\n\r\nfunction isInAngleRange(angle, startAngle, endAngle) {\r\n\tfunction adjust(angle) {\r\n\t\twhile (angle < 0) {\r\n\t\t\tangle += 2 * Math.PI;\r\n\t\t}\r\n\t\twhile (angle > 2 * Math.PI) {\r\n\t\t\tangle -= 2 * Math.PI;\r\n\t\t}\r\n\t\treturn angle;\r\n\t}\r\n\tangle = adjust(angle);\r\n\tstartAngle = adjust(startAngle);\r\n\tendAngle = adjust(endAngle);\r\n\tif (startAngle > endAngle) {\r\n\t\tendAngle += 2 * Math.PI;\r\n\t\tif (angle < startAngle) {\r\n\t\t\tangle += 2 * Math.PI;\r\n\t\t}\r\n\t}\r\n\treturn angle >= startAngle && angle <= endAngle;\r\n}\r\n\r\nfunction calRotateTranslate(x, y, h) {\r\n\tvar xv = x;\r\n\tvar yv = h - y;\r\n\tvar transX = xv + (h - yv - xv) / Math.sqrt(2);\r\n\ttransX *= -1;\r\n\tvar transY = (h - yv) * (Math.sqrt(2) - 1) - (h - yv - xv) / Math.sqrt(2);\r\n\treturn {\r\n\t\ttransX: transX,\r\n\t\ttransY: transY\r\n\t};\r\n}\r\n\r\nfunction createCurveControlPoints(points, i) {\r\n\r\n\tfunction isNotMiddlePoint(points, i) {\r\n\t\tif (points[i - 1] && points[i + 1]) {\r\n\t\t\treturn points[i].y >= Math.max(points[i - 1].y, points[i + 1].y) || points[i].y <= Math.min(points[i - 1].y,\r\n\t\t\t\tpoints[i + 1].y);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction isNotMiddlePointX(points, i) {\r\n\t\tif (points[i - 1] && points[i + 1]) {\r\n\t\t\treturn points[i].x >= Math.max(points[i - 1].x, points[i + 1].x) || points[i].x <= Math.min(points[i - 1].x,\r\n\t\t\t\tpoints[i + 1].x);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tvar a = 0.2;\r\n\tvar b = 0.2;\r\n\tvar pAx = null;\r\n\tvar pAy = null;\r\n\tvar pBx = null;\r\n\tvar pBy = null;\r\n\tif (i < 1) {\r\n\t\tpAx = points[0].x + (points[1].x - points[0].x) * a;\r\n\t\tpAy = points[0].y + (points[1].y - points[0].y) * a;\r\n\t} else {\r\n\t\tpAx = points[i].x + (points[i + 1].x - points[i - 1].x) * a;\r\n\t\tpAy = points[i].y + (points[i + 1].y - points[i - 1].y) * a;\r\n\t}\r\n\r\n\tif (i > points.length - 3) {\r\n\t\tvar last = points.length - 1;\r\n\t\tpBx = points[last].x - (points[last].x - points[last - 1].x) * b;\r\n\t\tpBy = points[last].y - (points[last].y - points[last - 1].y) * b;\r\n\t} else {\r\n\t\tpBx = points[i + 1].x - (points[i + 2].x - points[i].x) * b;\r\n\t\tpBy = points[i + 1].y - (points[i + 2].y - points[i].y) * b;\r\n\t}\r\n\tif (isNotMiddlePoint(points, i + 1)) {\r\n\t\tpBy = points[i + 1].y;\r\n\t}\r\n\tif (isNotMiddlePoint(points, i)) {\r\n\t\tpAy = points[i].y;\r\n\t}\r\n\tif (isNotMiddlePointX(points, i + 1)) {\r\n\t\tpBx = points[i + 1].x;\r\n\t}\r\n\tif (isNotMiddlePointX(points, i)) {\r\n\t\tpAx = points[i].x;\r\n\t}\r\n\tif (pAy >= Math.max(points[i].y, points[i + 1].y) || pAy <= Math.min(points[i].y, points[i + 1].y)) {\r\n\t\tpAy = points[i].y;\r\n\t}\r\n\tif (pBy >= Math.max(points[i].y, points[i + 1].y) || pBy <= Math.min(points[i].y, points[i + 1].y)) {\r\n\t\tpBy = points[i + 1].y;\r\n\t}\r\n\tif (pAx >= Math.max(points[i].x, points[i + 1].x) || pAx <= Math.min(points[i].x, points[i + 1].x)) {\r\n\t\tpAx = points[i].x;\r\n\t}\r\n\tif (pBx >= Math.max(points[i].x, points[i + 1].x) || pBx <= Math.min(points[i].x, points[i + 1].x)) {\r\n\t\tpBx = points[i + 1].x;\r\n\t}\r\n\treturn {\r\n\t\tctrA: {\r\n\t\t\tx: pAx,\r\n\t\t\ty: pAy\r\n\t\t},\r\n\t\tctrB: {\r\n\t\t\tx: pBx,\r\n\t\t\ty: pBy\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction convertCoordinateOrigin(x, y, center) {\r\n\treturn {\r\n\t\tx: center.x + x,\r\n\t\ty: center.y - y\r\n\t};\r\n}\r\n\r\nfunction avoidCollision(obj, target) {\r\n\tif (target) {\r\n\t\t// is collision test\r\n\t\twhile (util.isCollision(obj, target)) {\r\n\t\t\tif (obj.start.x > 0) {\r\n\t\t\t\tobj.start.y--;\r\n\t\t\t} else if (obj.start.x < 0) {\r\n\t\t\t\tobj.start.y++;\r\n\t\t\t} else {\r\n\t\t\t\tif (obj.start.y > 0) {\r\n\t\t\t\t\tobj.start.y++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj.start.y--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n}\r\n\r\nfunction fillSeries(series, opts, config) {\r\n\tvar index = 0;\r\n\treturn series.map(function(item) {\r\n\t\tif (!item.color) {\r\n\t\t\titem.color = config.colors[index];\r\n\t\t\tindex = (index + 1) % config.colors.length;\r\n\t\t}\r\n\t\tif (!item.index) {\r\n\t\t\titem.index = 0;\r\n\t\t}\r\n\t\tif (!item.type) {\r\n\t\t\titem.type = opts.type;\r\n\t\t}\r\n\t\tif (typeof item.show == \"undefined\") {\r\n\t\t\titem.show = true;\r\n\t\t}\r\n\t\tif (!item.type) {\r\n\t\t\titem.type = opts.type;\r\n\t\t}\r\n\t\tif (!item.pointShape) {\r\n\t\t\titem.pointShape = \"circle\";\r\n\t\t}\r\n\t\tif (!item.legendShape) {\r\n\t\t\tswitch (item.type) {\r\n\t\t\t\tcase 'line':\r\n\t\t\t\t\titem.legendShape = \"line\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'column':\r\n\t\t\t\t\titem.legendShape = \"rect\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'area':\r\n\t\t\t\t\titem.legendShape = \"triangle\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\titem.legendShape = \"circle\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn item;\r\n\t});\r\n}\r\n\r\nfunction getDataRange(minData, maxData) {\r\n\tvar limit = 0;\r\n\tvar range = maxData - minData;\r\n\tif (range >= 10000) {\r\n\t\tlimit = 1000;\r\n\t} else if (range >= 1000) {\r\n\t\tlimit = 100;\r\n\t} else if (range >= 100) {\r\n\t\tlimit = 10;\r\n\t} else if (range >= 10) {\r\n\t\tlimit = 5;\r\n\t} else if (range >= 1) {\r\n\t\tlimit = 1;\r\n\t} else if (range >= 0.1) {\r\n\t\tlimit = 0.1;\r\n\t} else if (range >= 0.01) {\r\n\t\tlimit = 0.01;\r\n\t} else if (range >= 0.001) {\r\n\t\tlimit = 0.001;\r\n\t} else if (range >= 0.0001) {\r\n\t\tlimit = 0.0001;\r\n\t} else if (range >= 0.00001) {\r\n\t\tlimit = 0.00001;\r\n\t} else {\r\n\t\tlimit = 0.000001;\r\n\t}\r\n\treturn {\r\n\t\tminRange: findRange(minData, 'lower', limit),\r\n\t\tmaxRange: findRange(maxData, 'upper', limit)\r\n\t};\r\n}\r\n\r\nfunction measureText(text) {\r\n\tvar fontSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : config.fontSize;\r\n\ttext = String(text);\r\n\tvar text = text.split('');\r\n\tvar width = 0;\r\n\tfor (let i = 0; i < text.length; i++) {\r\n\t\tlet item = text[i];\r\n\t\tif (/[a-zA-Z]/.test(item)) {\r\n\t\t\twidth += 7;\r\n\t\t} else if (/[0-9]/.test(item)) {\r\n\t\t\twidth += 5.5;\r\n\t\t} else if (/\\./.test(item)) {\r\n\t\t\twidth += 2.7;\r\n\t\t} else if (/-/.test(item)) {\r\n\t\t\twidth += 3.25;\r\n\t\t} else if (/[\\u4e00-\\u9fa5]/.test(item)) {\r\n\t\t\twidth += 10;\r\n\t\t} else if (/\\(|\\)/.test(item)) {\r\n\t\t\twidth += 3.73;\r\n\t\t} else if (/\\s/.test(item)) {\r\n\t\t\twidth += 2.5;\r\n\t\t} else if (/%/.test(item)) {\r\n\t\t\twidth += 8;\r\n\t\t} else {\r\n\t\t\twidth += 10;\r\n\t\t}\r\n\t}\r\n\treturn width * fontSize / 10;\r\n}\r\n\r\nfunction dataCombine(series) {\r\n\treturn series.reduce(function(a, b) {\r\n\t\treturn (a.data ? a.data : a).concat(b.data);\r\n\t}, []);\r\n}\r\n\r\nfunction dataCombineStack(series, len) {\r\n\tvar sum = new Array(len);\r\n\tfor (var j = 0; j < sum.length; j++) {\r\n\t\tsum[j] = 0;\r\n\t}\r\n\tfor (var i = 0; i < series.length; i++) {\r\n\t\tfor (var j = 0; j < sum.length; j++) {\r\n\t\t\tsum[j] += series[i].data[j];\r\n\t\t}\r\n\t}\r\n\treturn series.reduce(function(a, b) {\r\n\t\treturn (a.data ? a.data : a).concat(b.data).concat(sum);\r\n\t}, []);\r\n}\r\n\r\nfunction getTouches(touches, opts, e) {\r\n\tlet x, y;\r\n\tif (touches.clientX) {\r\n\t\tif (opts.rotate) {\r\n\t\t\ty = opts.height - touches.clientX * opts.pixelRatio;\r\n\t\t\tx = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pixelRatio / 2) * (opts.pixelRatio -\r\n\t\t\t\t\t1)) *\r\n\t\t\t\topts.pixelRatio;\r\n\t\t} else {\r\n\t\t\tx = touches.clientX * opts.pixelRatio;\r\n\t\t\ty = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pixelRatio / 2) * (opts.pixelRatio -\r\n\t\t\t\t\t1)) *\r\n\t\t\t\topts.pixelRatio;\r\n\t\t}\r\n\t} else {\r\n\t\tif (opts.rotate) {\r\n\t\t\ty = opts.height - touches.x * opts.pixelRatio;\r\n\t\t\tx = touches.y * opts.pixelRatio;\r\n\t\t} else {\r\n\t\t\tx = touches.x * opts.pixelRatio;\r\n\t\t\ty = touches.y * opts.pixelRatio;\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t}\r\n}\r\n\r\nfunction getSeriesDataItem(series, index) {\r\n\tvar data = [];\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\tif (item.data[index] !== null && typeof item.data[index] !== 'undefined' && item.show) {\r\n\t\t\tlet seriesItem = {};\r\n\t\t\tseriesItem.color = item.color;\r\n\t\t\tseriesItem.type = item.type;\r\n\t\t\tseriesItem.style = item.style;\r\n\t\t\tseriesItem.pointShape = item.pointShape;\r\n\t\t\tseriesItem.disableLegend = item.disableLegend;\r\n\t\t\tseriesItem.name = item.name;\r\n\t\t\tseriesItem.show = item.show;\r\n\t\t\tseriesItem.data = item.format ? item.format(item.data[index]) : item.data[index];\r\n\t\t\tdata.push(seriesItem);\r\n\t\t}\r\n\t}\r\n\treturn data;\r\n}\r\n\r\nfunction getMaxTextListLength(list) {\r\n\tvar lengthList = list.map(function(item) {\r\n\t\treturn measureText(item);\r\n\t});\r\n\treturn Math.max.apply(null, lengthList);\r\n}\r\n\r\nfunction getRadarCoordinateSeries(length) {\r\n\tvar eachAngle = 2 * Math.PI / length;\r\n\tvar CoordinateSeries = [];\r\n\tfor (var i = 0; i < length; i++) {\r\n\t\tCoordinateSeries.push(eachAngle * i);\r\n\t}\r\n\r\n\treturn CoordinateSeries.map(function(item) {\r\n\t\treturn -1 * item + Math.PI / 2;\r\n\t});\r\n}\r\n\r\nfunction getToolTipData(seriesData, calPoints, index, categories) {\r\n\tvar option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n\r\n\tvar textList = seriesData.map(function(item) {\r\n\t\tlet titleText = [];\r\n\t\tif (categories) {\r\n\t\t\ttitleText = categories;\r\n\t\t} else {\r\n\t\t\ttitleText = item.data;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttext: option.format ? option.format(item, titleText[index]) : item.name + ': ' + item.data,\r\n\t\t\tcolor: item.color\r\n\t\t};\r\n\t});\r\n\tvar validCalPoints = [];\r\n\tvar offset = {\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t};\r\n\tfor (let i = 0; i < calPoints.length; i++) {\r\n\t\tlet points = calPoints[i];\r\n\t\tif (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n\t\t\tvalidCalPoints.push(points[index]);\r\n\t\t}\r\n\t}\r\n\tfor (let i = 0; i < validCalPoints.length; i++) {\r\n\t\tlet item = validCalPoints[i];\r\n\t\toffset.x = Math.round(item.x);\r\n\t\toffset.y += item.y;\r\n\t}\r\n\toffset.y /= validCalPoints.length;\r\n\treturn {\r\n\t\ttextList: textList,\r\n\t\toffset: offset\r\n\t};\r\n}\r\n\r\nfunction getMixToolTipData(seriesData, calPoints, index, categories) {\r\n\tvar option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n\tvar textList = seriesData.map(function(item) {\r\n\t\treturn {\r\n\t\t\ttext: option.format ? option.format(item, categories[index]) : item.name + ': ' + item.data,\r\n\t\t\tcolor: item.color,\r\n\t\t\tdisableLegend: item.disableLegend ? true : false\r\n\t\t};\r\n\t});\r\n\ttextList = textList.filter(function(item) {\r\n\t\tif (item.disableLegend !== true) {\r\n\t\t\treturn item;\r\n\t\t}\r\n\t});\r\n\tvar validCalPoints = [];\r\n\tvar offset = {\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t};\r\n\tfor (let i = 0; i < calPoints.length; i++) {\r\n\t\tlet points = calPoints[i];\r\n\t\tif (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n\t\t\tvalidCalPoints.push(points[index]);\r\n\t\t}\r\n\t}\r\n\tfor (let i = 0; i < validCalPoints.length; i++) {\r\n\t\tlet item = validCalPoints[i];\r\n\t\toffset.x = Math.round(item.x);\r\n\t\toffset.y += item.y;\r\n\t}\r\n\toffset.y /= validCalPoints.length;\r\n\treturn {\r\n\t\ttextList: textList,\r\n\t\toffset: offset\r\n\t};\r\n}\r\n\r\nfunction getCandleToolTipData(series, seriesData, calPoints, index, categories, extra) {\r\n\tvar option = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\r\n\tlet upColor = extra.color.upFill;\r\n\tlet downColor = extra.color.downFill;\r\n\t//颜色顺序为开盘，收盘，最低，最高\r\n\tlet color = [upColor, upColor, downColor, upColor];\r\n\tvar textList = [];\r\n\tlet text0 = {\r\n\t\ttext: categories[index],\r\n\t\tcolor: null\r\n\t};\r\n\ttextList.push(text0);\r\n\tseriesData.map(function(item) {\r\n\t\tif (index == 0 && item.data[1] - item.data[0] < 0) {\r\n\t\t\tcolor[1] = downColor;\r\n\t\t} else {\r\n\t\t\tif (item.data[0] < series[index - 1][1]) {\r\n\t\t\t\tcolor[0] = downColor;\r\n\t\t\t}\r\n\t\t\tif (item.data[1] < item.data[0]) {\r\n\t\t\t\tcolor[1] = downColor;\r\n\t\t\t}\r\n\t\t\tif (item.data[2] > series[index - 1][1]) {\r\n\t\t\t\tcolor[2] = upColor;\r\n\t\t\t}\r\n\t\t\tif (item.data[3] < series[index - 1][1]) {\r\n\t\t\t\tcolor[3] = downColor;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet text1 = {\r\n\t\t\ttext: '开盘：' + item.data[0],\r\n\t\t\tcolor: color[0]\r\n\t\t};\r\n\t\tlet text2 = {\r\n\t\t\ttext: '收盘：' + item.data[1],\r\n\t\t\tcolor: color[1]\r\n\t\t};\r\n\t\tlet text3 = {\r\n\t\t\ttext: '最低：' + item.data[2],\r\n\t\t\tcolor: color[2]\r\n\t\t};\r\n\t\tlet text4 = {\r\n\t\t\ttext: '最高：' + item.data[3],\r\n\t\t\tcolor: color[3]\r\n\t\t};\r\n\t\ttextList.push(text1, text2, text3, text4);\r\n\t});\r\n\tvar validCalPoints = [];\r\n\tvar offset = {\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t};\r\n\tfor (let i = 0; i < calPoints.length; i++) {\r\n\t\tlet points = calPoints[i];\r\n\t\tif (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n\t\t\tvalidCalPoints.push(points[index]);\r\n\t\t}\r\n\t}\r\n\toffset.x = Math.round(validCalPoints[0][0].x);\r\n\treturn {\r\n\t\ttextList: textList,\r\n\t\toffset: offset\r\n\t};\r\n}\r\n\r\nfunction filterSeries(series) {\r\n\tlet tempSeries = [];\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tif (series[i].show == true) {\r\n\t\t\ttempSeries.push(series[i])\r\n\t\t}\r\n\t}\r\n\treturn tempSeries;\r\n}\r\n\r\nfunction findCurrentIndex(currentPoints, calPoints, opts, config) {\r\n\tvar offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\r\n\tvar currentIndex = -1;\r\n\tvar spacing = opts.chartData.eachSpacing / 2;\r\n\tlet xAxisPoints = [];\r\n\tif (calPoints.length > 0) {\r\n\t\tif (opts.type == 'candle') {\r\n\t\t\tfor (let i = 0; i < calPoints[0].length; i++) {\r\n\t\t\t\txAxisPoints.push(calPoints[0][i][0].x)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let i = 0; i < calPoints[0].length; i++) {\r\n\t\t\t\txAxisPoints.push(calPoints[0][i].x)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((opts.type == 'line' || opts.type == 'area') && opts.xAxis.boundaryGap == 'justify') {\r\n\t\t\tspacing = opts.chartData.eachSpacing / 2;\r\n\t\t}\r\n\t\tif (!opts.categories) {\r\n\t\t\tspacing = 0\r\n\t\t}\r\n\t\tif (isInExactChartArea(currentPoints, opts, config)) {\r\n\t\t\txAxisPoints.forEach(function(item, index) {\r\n\t\t\t\tif (currentPoints.x + offset + spacing > item) {\r\n\t\t\t\t\tcurrentIndex = index;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction findLegendIndex(currentPoints, legendData, opts) {\r\n\tlet currentIndex = -1;\r\n\tif (isInExactLegendArea(currentPoints, legendData.area)) {\r\n\t\tlet points = legendData.points;\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0, len = points.length; i < len; i++) {\r\n\t\t\tlet item = points[i];\r\n\t\t\tfor (let j = 0; j < item.length; j++) {\r\n\t\t\t\tindex += 1;\r\n\t\t\t\tlet area = item[j]['area'];\r\n\t\t\t\tif (currentPoints.x > area[0] && currentPoints.x < area[2] && currentPoints.y > area[1] && currentPoints\r\n\t\t\t\t\t.y < area[3]) {\r\n\t\t\t\t\tcurrentIndex = index;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn currentIndex;\r\n\t}\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction isInExactLegendArea(currentPoints, area) {\r\n\treturn currentPoints.x > area.start.x && currentPoints.x < area.end.x && currentPoints.y > area.start.y &&\r\n\t\tcurrentPoints.y < area.end.y;\r\n}\r\n\r\nfunction isInExactChartArea(currentPoints, opts, config) {\r\n\treturn currentPoints.x <= opts.width - opts.area[1] + 10 && currentPoints.x >= opts.area[3] - 10 && currentPoints\r\n\t\t.y >= opts.area[0] && currentPoints.y <= opts.height - opts.area[2];\r\n}\r\n\r\nfunction findRadarChartCurrentIndex(currentPoints, radarData, count) {\r\n\tvar eachAngleArea = 2 * Math.PI / count;\r\n\tvar currentIndex = -1;\r\n\tif (isInExactPieChartArea(currentPoints, radarData.center, radarData.radius)) {\r\n\t\tvar fixAngle = function fixAngle(angle) {\r\n\t\t\tif (angle < 0) {\r\n\t\t\t\tangle += 2 * Math.PI;\r\n\t\t\t}\r\n\t\t\tif (angle > 2 * Math.PI) {\r\n\t\t\t\tangle -= 2 * Math.PI;\r\n\t\t\t}\r\n\t\t\treturn angle;\r\n\t\t};\r\n\r\n\t\tvar angle = Math.atan2(radarData.center.y - currentPoints.y, currentPoints.x - radarData.center.x);\r\n\t\tangle = -1 * angle;\r\n\t\tif (angle < 0) {\r\n\t\t\tangle += 2 * Math.PI;\r\n\t\t}\r\n\r\n\t\tvar angleList = radarData.angleList.map(function(item) {\r\n\t\t\titem = fixAngle(-1 * item);\r\n\r\n\t\t\treturn item;\r\n\t\t});\r\n\r\n\t\tangleList.forEach(function(item, index) {\r\n\t\t\tvar rangeStart = fixAngle(item - eachAngleArea / 2);\r\n\t\t\tvar rangeEnd = fixAngle(item + eachAngleArea / 2);\r\n\t\t\tif (rangeEnd < rangeStart) {\r\n\t\t\t\trangeEnd += 2 * Math.PI;\r\n\t\t\t}\r\n\t\t\tif (angle >= rangeStart && angle <= rangeEnd || angle + 2 * Math.PI >= rangeStart && angle + 2 *\r\n\t\t\t\tMath.PI <=\r\n\t\t\t\trangeEnd) {\r\n\t\t\t\tcurrentIndex = index;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction findFunnelChartCurrentIndex(currentPoints, funnelData) {\r\n\tvar currentIndex = -1;\r\n\tfor (var i = 0, len = funnelData.series.length; i < len; i++) {\r\n\t\tvar item = funnelData.series[i];\r\n\t\tif (currentPoints.x > item.funnelArea[0] && currentPoints.x < item.funnelArea[2] && currentPoints.y > item\r\n\t\t\t.funnelArea[1] && currentPoints.y < item.funnelArea[3]) {\r\n\t\t\tcurrentIndex = i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction findWordChartCurrentIndex(currentPoints, wordData) {\r\n\tvar currentIndex = -1;\r\n\tfor (var i = 0, len = wordData.length; i < len; i++) {\r\n\t\tvar item = wordData[i];\r\n\t\tif (currentPoints.x > item.area[0] && currentPoints.x < item.area[2] && currentPoints.y > item.area[1] &&\r\n\t\t\tcurrentPoints.y < item.area[3]) {\r\n\t\t\tcurrentIndex = i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction findMapChartCurrentIndex(currentPoints, opts) {\r\n\tvar currentIndex = -1;\r\n\tvar cData = opts.chartData.mapData;\r\n\tvar data = opts.series;\r\n\tvar tmp = pointToCoordinate(currentPoints.y, currentPoints.x, cData.bounds, cData.scale, cData.xoffset, cData\r\n\t\t.yoffset);\r\n\tvar poi = [tmp.x, tmp.y];\r\n\tfor (var i = 0, len = data.length; i < len; i++) {\r\n\t\tvar item = data[i].geometry.coordinates;\r\n\t\tif (isPoiWithinPoly(poi, item)) {\r\n\t\t\tcurrentIndex = i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction findPieChartCurrentIndex(currentPoints, pieData) {\r\n\tvar currentIndex = -1;\r\n\tif (isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\r\n\t\tvar angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\r\n\t\tangle = -angle;\r\n\t\tfor (var i = 0, len = pieData.series.length; i < len; i++) {\r\n\t\t\tvar item = pieData.series[i];\r\n\t\t\tif (isInAngleRange(angle, item._start_, item._start_ + item._proportion_ * 2 * Math.PI)) {\r\n\t\t\t\tcurrentIndex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn currentIndex;\r\n}\r\n\r\nfunction isInExactPieChartArea(currentPoints, center, radius) {\r\n\treturn Math.pow(currentPoints.x - center.x, 2) + Math.pow(currentPoints.y - center.y, 2) <= Math.pow(radius, 2);\r\n}\r\n\r\nfunction splitPoints(points) {\r\n\tvar newPoints = [];\r\n\tvar items = [];\r\n\tpoints.forEach(function(item, index) {\r\n\t\tif (item !== null) {\r\n\t\t\titems.push(item);\r\n\t\t} else {\r\n\t\t\tif (items.length) {\r\n\t\t\t\tnewPoints.push(items);\r\n\t\t\t}\r\n\t\t\titems = [];\r\n\t\t}\r\n\t});\r\n\tif (items.length) {\r\n\t\tnewPoints.push(items);\r\n\t}\r\n\r\n\treturn newPoints;\r\n}\r\n\r\nfunction calLegendData(series, opts, config, chartData) {\r\n\tlet legendData = {\r\n\t\tarea: {\r\n\t\t\tstart: {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0\r\n\t\t\t},\r\n\t\t\tend: {\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0\r\n\t\t\t},\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\twholeWidth: 0,\r\n\t\t\twholeHeight: 0\r\n\t\t},\r\n\t\tpoints: [],\r\n\t\twidthArr: [],\r\n\t\theightArr: []\r\n\t};\r\n\tif (opts.legend.show === false) {\r\n\t\tchartData.legendData = legendData;\r\n\t\treturn legendData;\r\n\t}\r\n\r\n\tlet padding = opts.legend.padding;\r\n\tlet margin = opts.legend.margin;\r\n\tlet fontSize = opts.legend.fontSize;\r\n\tlet shapeWidth = 15 * opts.pixelRatio;\r\n\tlet shapeRight = 5 * opts.pixelRatio;\r\n\tlet lineHeight = Math.max(opts.legend.lineHeight * opts.pixelRatio, fontSize);\r\n\tif (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n\t\tlet legendList = [];\r\n\t\tlet widthCount = 0;\r\n\t\tlet widthCountArr = [];\r\n\t\tlet currentRow = [];\r\n\t\tfor (let i = 0; i < series.length; i++) {\r\n\t\t\tlet item = series[i];\r\n\t\t\tlet itemWidth = shapeWidth + shapeRight + measureText(item.name || 'undefined', fontSize) + opts.legend\r\n\t\t\t\t.itemGap;\r\n\t\t\tif (widthCount + itemWidth > opts.width - opts.padding[1] - opts.padding[3]) {\r\n\t\t\t\tlegendList.push(currentRow);\r\n\t\t\t\twidthCountArr.push(widthCount - opts.legend.itemGap);\r\n\t\t\t\twidthCount = itemWidth;\r\n\t\t\t\tcurrentRow = [item];\r\n\t\t\t} else {\r\n\t\t\t\twidthCount += itemWidth;\r\n\t\t\t\tcurrentRow.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (currentRow.length) {\r\n\t\t\tlegendList.push(currentRow);\r\n\t\t\twidthCountArr.push(widthCount - opts.legend.itemGap);\r\n\t\t\tlegendData.widthArr = widthCountArr;\r\n\t\t\tlet legendWidth = Math.max.apply(null, widthCountArr);\r\n\t\t\tswitch (opts.legend.float) {\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\tlegendData.area.start.x = opts.padding[3];\r\n\t\t\t\t\tlegendData.area.end.x = opts.padding[3] + 2 * padding;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'right':\r\n\t\t\t\t\tlegendData.area.start.x = opts.width - opts.padding[1] - legendWidth - 2 * padding;\r\n\t\t\t\t\tlegendData.area.end.x = opts.width - opts.padding[1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tlegendData.area.start.x = (opts.width - legendWidth) / 2 - padding;\r\n\t\t\t\t\tlegendData.area.end.x = (opts.width + legendWidth) / 2 + padding;\r\n\t\t\t}\r\n\t\t\tlegendData.area.width = legendWidth + 2 * padding;\r\n\t\t\tlegendData.area.wholeWidth = legendWidth + 2 * padding;\r\n\t\t\tlegendData.area.height = legendList.length * lineHeight + 2 * padding;\r\n\t\t\tlegendData.area.wholeHeight = legendList.length * lineHeight + 2 * padding + 2 * margin;\r\n\t\t\tlegendData.points = legendList;\r\n\t\t}\r\n\t} else {\r\n\t\tlet len = series.length;\r\n\t\tlet maxHeight = opts.height - opts.padding[0] - opts.padding[2] - 2 * margin - 2 * padding;\r\n\t\tlet maxLength = Math.min(Math.floor(maxHeight / lineHeight), len);\r\n\t\tlegendData.area.height = maxLength * lineHeight + padding * 2;\r\n\t\tlegendData.area.wholeHeight = maxLength * lineHeight + padding * 2;\r\n\t\tswitch (opts.legend.float) {\r\n\t\t\tcase 'top':\r\n\t\t\t\tlegendData.area.start.y = opts.padding[0] + margin;\r\n\t\t\t\tlegendData.area.end.y = opts.padding[0] + margin + legendData.area.height;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tlegendData.area.start.y = opts.height - opts.padding[2] - margin - legendData.area.height;\r\n\t\t\t\tlegendData.area.end.y = opts.height - opts.padding[2] - margin;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlegendData.area.start.y = (opts.height - legendData.area.height) / 2;\r\n\t\t\t\tlegendData.area.end.y = (opts.height + legendData.area.height) / 2;\r\n\t\t}\r\n\t\tlet lineNum = len % maxLength === 0 ? len / maxLength : Math.floor((len / maxLength) + 1);\r\n\t\tlet currentRow = [];\r\n\t\tfor (let i = 0; i < lineNum; i++) {\r\n\t\t\tlet temp = series.slice(i * maxLength, i * maxLength + maxLength);\r\n\t\t\tcurrentRow.push(temp);\r\n\t\t}\r\n\r\n\t\tlegendData.points = currentRow;\r\n\r\n\t\tif (currentRow.length) {\r\n\t\t\tfor (let i = 0; i < currentRow.length; i++) {\r\n\t\t\t\tlet item = currentRow[i];\r\n\t\t\t\tlet maxWidth = 0;\r\n\t\t\t\tfor (let j = 0; j < item.length; j++) {\r\n\t\t\t\t\tlet itemWidth = shapeWidth + shapeRight + measureText(item[j].name || 'undefined', fontSize) + opts\r\n\t\t\t\t\t\t.legend.itemGap;\r\n\t\t\t\t\tif (itemWidth > maxWidth) {\r\n\t\t\t\t\t\tmaxWidth = itemWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlegendData.widthArr.push(maxWidth);\r\n\t\t\t\tlegendData.heightArr.push(item.length * lineHeight + padding * 2);\r\n\t\t\t}\r\n\t\t\tlet legendWidth = 0\r\n\t\t\tfor (let i = 0; i < legendData.widthArr.length; i++) {\r\n\t\t\t\tlegendWidth += legendData.widthArr[i];\r\n\t\t\t}\r\n\t\t\tlegendData.area.width = legendWidth - opts.legend.itemGap + 2 * padding;\r\n\t\t\tlegendData.area.wholeWidth = legendData.area.width + padding;\r\n\t\t}\r\n\t}\r\n\r\n\tswitch (opts.legend.position) {\r\n\t\tcase 'top':\r\n\t\t\tlegendData.area.start.y = opts.padding[0] + margin;\r\n\t\t\tlegendData.area.end.y = opts.padding[0] + margin + legendData.area.height;\r\n\t\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\t\tlegendData.area.start.y = opts.height - opts.padding[2] - legendData.area.height - margin;\r\n\t\t\tlegendData.area.end.y = opts.height - opts.padding[2] - margin;\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tlegendData.area.start.x = opts.padding[3];\r\n\t\t\tlegendData.area.end.x = opts.padding[3] + legendData.area.width;\r\n\t\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\tlegendData.area.start.x = opts.width - opts.padding[1] - legendData.area.width;\r\n\t\t\tlegendData.area.end.x = opts.width - opts.padding[1];\r\n\t\t\tbreak;\r\n\t}\r\n\tchartData.legendData = legendData;\r\n\treturn legendData;\r\n}\r\n\r\nfunction calCategoriesData(categories, opts, config, eachSpacing) {\r\n\tvar result = {\r\n\t\tangle: 0,\r\n\t\txAxisHeight: config.xAxisHeight\r\n\t};\r\n\tvar categoriesTextLenth = categories.map(function(item) {\r\n\t\treturn measureText(item, opts.xAxis.fontSize || config.fontSize);\r\n\t});\r\n\tvar maxTextLength = Math.max.apply(this, categoriesTextLenth);\r\n\r\n\tif (opts.xAxis.rotateLabel == true && maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\r\n\t\tresult.angle = 45 * Math.PI / 180;\r\n\t\tresult.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction getXAxisTextList(series, opts, config) {\r\n\tvar index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\r\n\tvar data = dataCombine(series);\r\n\tvar sorted = [];\r\n\t// remove null from data\r\n\tdata = data.filter(function(item) {\r\n\t\t//return item !== null;\r\n\t\tif (typeof item === 'object' && item !== null) {\r\n\t\t\tif (item.constructor == Array) {\r\n\t\t\t\treturn item !== null;\r\n\t\t\t} else {\r\n\t\t\t\treturn item.value !== null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn item !== null;\r\n\t\t}\r\n\t});\r\n\tdata.map(function(item) {\r\n\t\tif (typeof item === 'object') {\r\n\t\t\tif (item.constructor == Array) {\r\n\t\t\t\tif (opts.type == 'candle') {\r\n\t\t\t\t\titem.map(function(subitem) {\r\n\t\t\t\t\t\tsorted.push(subitem);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsorted.push(item[0]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsorted.push(item.value);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsorted.push(item);\r\n\t\t}\r\n\t})\r\n\r\n\tvar minData = 0;\r\n\tvar maxData = 0;\r\n\tif (sorted.length > 0) {\r\n\t\tminData = Math.min.apply(this, sorted);\r\n\t\tmaxData = Math.max.apply(this, sorted);\r\n\t}\r\n\t//为了兼容v1.9.0之前的项目\r\n\tif (index > -1) {\r\n\t\tif (typeof opts.xAxis.data[index].min === 'number') {\r\n\t\t\tminData = Math.min(opts.xAxis.data[index].min, minData);\r\n\t\t}\r\n\t\tif (typeof opts.xAxis.data[index].max === 'number') {\r\n\t\t\tmaxData = Math.max(opts.xAxis.data[index].max, maxData);\r\n\t\t}\r\n\t} else {\r\n\t\tif (typeof opts.xAxis.min === 'number') {\r\n\t\t\tminData = Math.min(opts.xAxis.min, minData);\r\n\t\t}\r\n\t\tif (typeof opts.xAxis.max === 'number') {\r\n\t\t\tmaxData = Math.max(opts.xAxis.max, maxData);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif (minData === maxData) {\r\n\t\tvar rangeSpan = maxData || 10;\r\n\t\tmaxData += rangeSpan;\r\n\t}\r\n\r\n\t//var dataRange = getDataRange(minData, maxData);\r\n\tvar minRange = minData;\r\n\tvar maxRange = maxData;\r\n\r\n\tvar range = [];\r\n\tvar eachRange = (maxRange - minRange) / opts.xAxis.splitNumber;\r\n\r\n\tfor (var i = 0; i <= opts.xAxis.splitNumber; i++) {\r\n\t\trange.push(minRange + eachRange * i);\r\n\t}\r\n\treturn range;\r\n}\r\n\r\nfunction calXAxisData(series, opts, config) {\r\n\tvar result = {\r\n\t\tangle: 0,\r\n\t\txAxisHeight: config.xAxisHeight\r\n\t};\r\n\r\n\tresult.ranges = getXAxisTextList(series, opts, config);\r\n\tresult.rangesFormat = result.ranges.map(function(item) {\r\n\t\titem = opts.xAxis.format ? opts.xAxis.format(item) : util.toFixed(item, 2);\r\n\t\treturn item;\r\n\t});\r\n\r\n\tvar xAxisScaleValues = result.ranges.map(function(item) {\r\n\t\t// 如果刻度值是浮点数,则保留两位小数\r\n\t\titem = util.toFixed(item, 2);\r\n\t\t// 若有自定义格式则调用自定义的格式化函数\r\n\t\titem = opts.xAxis.format ? opts.xAxis.format(Number(item)) : item;\r\n\t\treturn item;\r\n\t});\r\n\r\n\tresult = Object.assign(result, getXAxisPoints(xAxisScaleValues, opts, config));\r\n\t// 计算X轴刻度的属性譬如每个刻度的间隔,刻度的起始点\\结束点以及总长\r\n\tvar eachSpacing = result.eachSpacing;\r\n\r\n\tvar textLength = xAxisScaleValues.map(function(item) {\r\n\t\treturn measureText(item);\r\n\t});\r\n\r\n\t// get max length of categories text\r\n\tvar maxTextLength = Math.max.apply(this, textLength);\r\n\r\n\t// 如果刻度值文本内容过长,则将其逆时针旋转45°\r\n\tif (maxTextLength + 2 * config.xAxisTextPadding > eachSpacing) {\r\n\t\tresult.angle = 45 * Math.PI / 180;\r\n\t\tresult.xAxisHeight = 2 * config.xAxisTextPadding + maxTextLength * Math.sin(result.angle);\r\n\t}\r\n\r\n\tif (opts.xAxis.disabled === true) {\r\n\t\tresult.xAxisHeight = 0;\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction getRadarDataPoints(angleList, center, radius, series, opts) {\r\n\tvar process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n\r\n\tvar radarOption = opts.extra.radar || {};\r\n\tradarOption.max = radarOption.max || 0;\r\n\tvar maxData = Math.max(radarOption.max, Math.max.apply(null, dataCombine(series)));\r\n\r\n\tvar data = [];\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet each = series[i];\r\n\t\tlet listItem = {};\r\n\t\tlistItem.color = each.color;\r\n\t\tlistItem.legendShape = each.legendShape;\r\n\t\tlistItem.pointShape = each.pointShape;\r\n\t\tlistItem.data = [];\r\n\t\teach.data.forEach(function(item, index) {\r\n\t\t\tlet tmp = {};\r\n\t\t\ttmp.angle = angleList[index];\r\n\r\n\t\t\ttmp.proportion = item / maxData;\r\n\t\t\ttmp.position = convertCoordinateOrigin(radius * tmp.proportion * process * Math.cos(tmp.angle),\r\n\t\t\t\tradius * tmp.proportion *\r\n\t\t\t\tprocess * Math.sin(tmp.angle), center);\r\n\t\t\tlistItem.data.push(tmp);\r\n\t\t});\r\n\r\n\t\tdata.push(listItem);\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\nfunction getPieDataPoints(series, radius) {\r\n\tvar process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n\r\n\tvar count = 0;\r\n\tvar _start_ = 0;\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem.data = item.data === null ? 0 : item.data;\r\n\t\tcount += item.data;\r\n\t}\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem.data = item.data === null ? 0 : item.data;\r\n\t\tif (count === 0) {\r\n\t\t\titem._proportion_ = 1 / series.length * process;\r\n\t\t} else {\r\n\t\t\titem._proportion_ = item.data / count * process;\r\n\t\t}\r\n\t\titem._radius_ = radius;\r\n\t}\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem._start_ = _start_;\r\n\t\t_start_ += 2 * item._proportion_ * Math.PI;\r\n\t}\r\n\r\n\treturn series;\r\n}\r\n\r\nfunction getFunnelDataPoints(series, radius) {\r\n\tvar process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n\tseries = series.sort(function(a, b) {\r\n\t\treturn parseInt(b.data) - parseInt(a.data);\r\n\t});\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tseries[i].radius = series[i].data / series[0].data * radius * process;\r\n\t\tseries[i]._proportion_ = series[i].data / series[0].data;\r\n\t}\r\n\treturn series.reverse();\r\n}\r\n\r\nfunction getRoseDataPoints(series, type, minRadius, radius) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar count = 0;\r\n\tvar _start_ = 0;\r\n\r\n\tvar dataArr = [];\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem.data = item.data === null ? 0 : item.data;\r\n\t\tcount += item.data;\r\n\t\tdataArr.push(item.data);\r\n\t}\r\n\r\n\tvar minData = Math.min.apply(null, dataArr);\r\n\tvar maxData = Math.max.apply(null, dataArr);\r\n\tvar radiusLength = radius - minRadius;\r\n\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem.data = item.data === null ? 0 : item.data;\r\n\t\tif (count === 0 || type == 'area') {\r\n\t\t\titem._proportion_ = item.data / count * process;\r\n\t\t\titem._rose_proportion_ = 1 / series.length * process;\r\n\t\t} else {\r\n\t\t\titem._proportion_ = item.data / count * process;\r\n\t\t\titem._rose_proportion_ = item.data / count * process;\r\n\t\t}\r\n\t\titem._radius_ = minRadius + radiusLength * ((item.data - minData) / (maxData - minData));\r\n\t}\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem._start_ = _start_;\r\n\t\t_start_ += 2 * item._rose_proportion_ * Math.PI;\r\n\t}\r\n\r\n\treturn series;\r\n}\r\n\r\nfunction getArcbarDataPoints(series, arcbarOption) {\r\n\tvar process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n\tif (process == 1) {\r\n\t\tprocess = 0.999999;\r\n\t}\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem.data = item.data === null ? 0 : item.data;\r\n\t\tlet totalAngle;\r\n\t\tif (arcbarOption.type == 'circle') {\r\n\t\t\ttotalAngle = 2;\r\n\t\t} else {\r\n\t\t\tif (arcbarOption.endAngle < arcbarOption.startAngle) {\r\n\t\t\t\ttotalAngle = 2 + arcbarOption.endAngle - arcbarOption.startAngle;\r\n\t\t\t} else {\r\n\t\t\t\ttotalAngle = arcbarOption.startAngle - arcbarOption.endAngle;\r\n\t\t\t}\r\n\t\t}\r\n\t\titem._proportion_ = totalAngle * item.data * process + arcbarOption.startAngle;\r\n\t\tif (item._proportion_ >= 2) {\r\n\t\t\titem._proportion_ = item._proportion_ % 2;\r\n\t\t}\r\n\t}\r\n\treturn series;\r\n}\r\n\r\nfunction getGaugeAxisPoints(categories, startAngle, endAngle) {\r\n\tlet totalAngle = startAngle - endAngle + 1;\r\n\tlet tempStartAngle = startAngle;\r\n\tfor (let i = 0; i < categories.length; i++) {\r\n\t\tcategories[i].value = categories[i].value === null ? 0 : categories[i].value;\r\n\t\tcategories[i]._startAngle_ = tempStartAngle;\r\n\t\tcategories[i]._endAngle_ = totalAngle * categories[i].value + startAngle;\r\n\t\tif (categories[i]._endAngle_ >= 2) {\r\n\t\t\tcategories[i]._endAngle_ = categories[i]._endAngle_ % 2;\r\n\t\t}\r\n\t\ttempStartAngle = categories[i]._endAngle_;\r\n\t}\r\n\treturn categories;\r\n}\r\n\r\nfunction getGaugeDataPoints(series, categories, gaugeOption) {\r\n\tlet process = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\titem.data = item.data === null ? 0 : item.data;\r\n\t\tif (gaugeOption.pointer.color == 'auto') {\r\n\t\t\tfor (let i = 0; i < categories.length; i++) {\r\n\t\t\t\tif (item.data <= categories[i].value) {\r\n\t\t\t\t\titem.color = categories[i].color;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\titem.color = gaugeOption.pointer.color;\r\n\t\t}\r\n\t\tlet totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n\t\titem._endAngle_ = totalAngle * item.data + gaugeOption.startAngle;\r\n\t\titem._oldAngle_ = gaugeOption.oldAngle;\r\n\t\tif (gaugeOption.oldAngle < gaugeOption.endAngle) {\r\n\t\t\titem._oldAngle_ += 2;\r\n\t\t}\r\n\t\tif (item.data >= gaugeOption.oldData) {\r\n\t\t\titem._proportion_ = (item._endAngle_ - item._oldAngle_) * process + gaugeOption.oldAngle;\r\n\t\t} else {\r\n\t\t\titem._proportion_ = item._oldAngle_ - (item._oldAngle_ - item._endAngle_) * process;\r\n\t\t}\r\n\t\tif (item._proportion_ >= 2) {\r\n\t\t\titem._proportion_ = item._proportion_ % 2;\r\n\t\t}\r\n\t}\r\n\treturn series;\r\n}\r\n\r\nfunction getPieTextMaxLength(series) {\r\n\tseries = getPieDataPoints(series);\r\n\tlet maxLength = 0;\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\tlet text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) +\r\n\t\t\t'%';\r\n\t\tmaxLength = Math.max(maxLength, measureText(text));\r\n\t}\r\n\r\n\treturn maxLength;\r\n}\r\n\r\nfunction fixColumeData(points, eachSpacing, columnLen, index, config, opts) {\r\n\treturn points.map(function(item) {\r\n\t\tif (item === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\titem.width = Math.ceil((eachSpacing - 2 * config.columePadding) / columnLen);\r\n\r\n\t\tif (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n\t\t\titem.width = Math.min(item.width, +opts.extra.column.width);\r\n\t\t}\r\n\t\tif (item.width <= 0) {\r\n\t\t\titem.width = 1;\r\n\t\t}\r\n\t\titem.x += (index + 0.5 - columnLen / 2) * item.width;\r\n\t\treturn item;\r\n\t});\r\n}\r\n\r\nfunction fixColumeMeterData(points, eachSpacing, columnLen, index, config, opts, border) {\r\n\treturn points.map(function(item) {\r\n\t\tif (item === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\titem.width = Math.ceil((eachSpacing - 2 * config.columePadding) / 2);\r\n\r\n\t\tif (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n\t\t\titem.width = Math.min(item.width, +opts.extra.column.width);\r\n\t\t}\r\n\r\n\t\tif (index > 0) {\r\n\t\t\titem.width -= 2 * border;\r\n\t\t}\r\n\t\treturn item;\r\n\t});\r\n}\r\n\r\nfunction fixColumeStackData(points, eachSpacing, columnLen, index, config, opts, series) {\r\n\r\n\treturn points.map(function(item, indexn) {\r\n\r\n\t\tif (item === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\titem.width = Math.ceil((eachSpacing - 2 * config.columePadding) / 2);\r\n\r\n\t\tif (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n\t\t\titem.width = Math.min(item.width, +opts.extra.column.width);\r\n\t\t}\r\n\t\treturn item;\r\n\t});\r\n}\r\n\r\nfunction getXAxisPoints(categories, opts, config) {\r\n\tvar spacingValid = opts.width - opts.area[1] - opts.area[3];\r\n\tvar dataCount = opts.enableScroll ? Math.min(opts.xAxis.itemCount, categories.length) : categories.length;\r\n\tif ((opts.type == 'line' || opts.type == 'area') && dataCount > 1 && opts.xAxis.boundaryGap == 'justify') {\r\n\t\tdataCount -= 1;\r\n\t}\r\n\tvar eachSpacing = spacingValid / dataCount;\r\n\r\n\tvar xAxisPoints = [];\r\n\tvar startX = opts.area[3];\r\n\tvar endX = opts.width - opts.area[1];\r\n\tcategories.forEach(function(item, index) {\r\n\t\txAxisPoints.push(startX + index * eachSpacing);\r\n\t});\r\n\tif (opts.xAxis.boundaryGap !== 'justify') {\r\n\t\tif (opts.enableScroll === true) {\r\n\t\t\txAxisPoints.push(startX + categories.length * eachSpacing);\r\n\t\t} else {\r\n\t\t\txAxisPoints.push(endX);\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\txAxisPoints: xAxisPoints,\r\n\t\tstartX: startX,\r\n\t\tendX: endX,\r\n\t\teachSpacing: eachSpacing\r\n\t};\r\n}\r\n\r\nfunction getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n\tvar process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n\tvar points = [];\r\n\tvar validHeight = opts.height - opts.area[0] - opts.area[2];\r\n\tdata.forEach(function(item, index) {\r\n\t\tif (item === null) {\r\n\t\t\tpoints.push(null);\r\n\t\t} else {\r\n\t\t\tvar cPoints = [];\r\n\t\t\titem.forEach(function(items, indexs) {\r\n\t\t\t\tvar point = {};\r\n\t\t\t\tpoint.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\t\t\t\tvar value = items.value || items;\r\n\t\t\t\tvar height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\t\theight *= process;\r\n\t\t\t\tpoint.y = opts.height - Math.round(height) - opts.area[2];\r\n\t\t\t\tcPoints.push(point);\r\n\t\t\t});\r\n\t\t\tpoints.push(cPoints);\r\n\t\t}\r\n\t});\r\n\r\n\treturn points;\r\n}\r\n\r\nfunction getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n\tvar process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n\tvar boundaryGap = 'center';\r\n\tif (opts.type == 'line' || opts.type == 'area') {\r\n\t\tboundaryGap = opts.xAxis.boundaryGap;\r\n\t}\r\n\tvar points = [];\r\n\tvar validHeight = opts.height - opts.area[0] - opts.area[2];\r\n\tvar validWidth = opts.width - opts.area[1] - opts.area[3];\r\n\tdata.forEach(function(item, index) {\r\n\t\tif (item === null) {\r\n\t\t\tpoints.push(null);\r\n\t\t} else {\r\n\t\t\tvar point = {};\r\n\t\t\tpoint.color = item.color;\r\n\t\t\tpoint.x = xAxisPoints[index];\r\n\t\t\tvar value = item;\r\n\t\t\tif (typeof item === 'object' && item !== null) {\r\n\t\t\t\tif (item.constructor == Array) {\r\n\t\t\t\t\tlet xranges, xminRange, xmaxRange;\r\n\t\t\t\t\txranges = [].concat(opts.chartData.xAxisData.ranges);\r\n\t\t\t\t\txminRange = xranges.shift();\r\n\t\t\t\t\txmaxRange = xranges.pop();\r\n\t\t\t\t\tvalue = item[1];\r\n\t\t\t\t\tpoint.x = opts.area[3] + validWidth * (item[0] - xminRange) / (xmaxRange - xminRange);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = item.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (boundaryGap == 'center') {\r\n\t\t\t\tpoint.x += Math.round(eachSpacing / 2);\r\n\t\t\t}\r\n\t\t\tvar height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\theight *= process;\r\n\t\t\tpoint.y = opts.height - Math.round(height) - opts.area[2];\r\n\t\t\tpoints.push(point);\r\n\t\t}\r\n\t});\r\n\r\n\treturn points;\r\n}\r\n\r\nfunction getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex,\r\nstackSeries) {\r\n\tvar process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\r\n\tvar points = [];\r\n\tvar validHeight = opts.height - opts.area[0] - opts.area[2];\r\n\r\n\tdata.forEach(function(item, index) {\r\n\t\tif (item === null) {\r\n\t\t\tpoints.push(null);\r\n\t\t} else {\r\n\t\t\tvar point = {};\r\n\t\t\tpoint.color = item.color;\r\n\t\t\tpoint.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\r\n\t\t\tif (seriesIndex > 0) {\r\n\t\t\t\tvar value = 0;\r\n\t\t\t\tfor (let i = 0; i <= seriesIndex; i++) {\r\n\t\t\t\t\tvalue += stackSeries[i].data[index];\r\n\t\t\t\t}\r\n\t\t\t\tvar value0 = value - item;\r\n\t\t\t\tvar height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\t\tvar height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\r\n\t\t\t} else {\r\n\t\t\t\tvar value = item;\r\n\t\t\t\tvar height = validHeight * (value - minRange) / (maxRange - minRange);\r\n\t\t\t\tvar height0 = 0;\r\n\t\t\t}\r\n\t\t\tvar heightc = height0;\r\n\t\t\theight *= process;\r\n\t\t\theightc *= process;\r\n\t\t\tpoint.y = opts.height - Math.round(height) - opts.area[2];\r\n\t\t\tpoint.y0 = opts.height - Math.round(heightc) - opts.area[2];\r\n\t\t\tpoints.push(point);\r\n\t\t}\r\n\t});\r\n\r\n\treturn points;\r\n}\r\n\r\nfunction getYAxisTextList(series, opts, config, stack) {\r\n\tvar index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\r\n\tvar data;\r\n\tif (stack == 'stack') {\r\n\t\tdata = dataCombineStack(series, opts.categories.length);\r\n\t} else {\r\n\t\tdata = dataCombine(series);\r\n\t}\r\n\tvar sorted = [];\r\n\t// remove null from data\r\n\tdata = data.filter(function(item) {\r\n\t\t//return item !== null;\r\n\t\tif (typeof item === 'object' && item !== null) {\r\n\t\t\tif (item.constructor == Array) {\r\n\t\t\t\treturn item !== null;\r\n\t\t\t} else {\r\n\t\t\t\treturn item.value !== null;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn item !== null;\r\n\t\t}\r\n\t});\r\n\tdata.map(function(item) {\r\n\t\tif (typeof item === 'object') {\r\n\t\t\tif (item.constructor == Array) {\r\n\t\t\t\tif (opts.type == 'candle') {\r\n\t\t\t\t\titem.map(function(subitem) {\r\n\t\t\t\t\t\tsorted.push(subitem);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsorted.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsorted.push(item.value);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsorted.push(item);\r\n\t\t}\r\n\t})\r\n\r\n\tvar minData = 0;\r\n\tvar maxData = 0;\r\n\tif (sorted.length > 0) {\r\n\t\tminData = Math.min.apply(this, sorted);\r\n\t\tmaxData = Math.max.apply(this, sorted);\r\n\t}\r\n\t//为了兼容v1.9.0之前的项目\r\n\tif (index > -1) {\r\n\t\tif (typeof opts.yAxis.data[index].min === 'number') {\r\n\t\t\tminData = Math.min(opts.yAxis.data[index].min, minData);\r\n\t\t}\r\n\t\tif (typeof opts.yAxis.data[index].max === 'number') {\r\n\t\t\tmaxData = Math.max(opts.yAxis.data[index].max, maxData);\r\n\t\t}\r\n\t} else {\r\n\t\tif (typeof opts.yAxis.min === 'number') {\r\n\t\t\tminData = Math.min(opts.yAxis.min, minData);\r\n\t\t}\r\n\t\tif (typeof opts.yAxis.max === 'number') {\r\n\t\t\tmaxData = Math.max(opts.yAxis.max, maxData);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif (minData === maxData) {\r\n\t\tvar rangeSpan = maxData || 10;\r\n\t\tmaxData += rangeSpan;\r\n\t}\r\n\r\n\tvar dataRange = getDataRange(minData, maxData);\r\n\tvar minRange = dataRange.minRange;\r\n\tvar maxRange = dataRange.maxRange;\r\n\r\n\tvar range = [];\r\n\tvar eachRange = (maxRange - minRange) / opts.yAxis.splitNumber;\r\n\r\n\tfor (var i = 0; i <= opts.yAxis.splitNumber; i++) {\r\n\t\trange.push(minRange + eachRange * i);\r\n\t}\r\n\treturn range.reverse();\r\n}\r\n\r\nfunction calYAxisData(series, opts, config) {\r\n\t//堆叠图重算Y轴\r\n\tvar columnstyle = assign({}, {\r\n\t\ttype: \"\"\r\n\t}, opts.extra.column);\r\n\t//如果是多Y轴，重新计算\r\n\tvar YLength = opts.yAxis.data.length;\r\n\tvar newSeries = new Array(YLength);\r\n\tif (YLength > 0) {\r\n\t\tfor (let i = 0; i < YLength; i++) {\r\n\t\t\tnewSeries[i] = [];\r\n\t\t\tfor (let j = 0; j < series.length; j++) {\r\n\t\t\t\tif (series[j].index == i) {\r\n\t\t\t\t\tnewSeries[i].push(series[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar rangesArr = new Array(YLength);\r\n\t\tvar rangesFormatArr = new Array(YLength);\r\n\t\tvar yAxisWidthArr = new Array(YLength);\r\n\r\n\t\tfor (let i = 0; i < YLength; i++) {\r\n\t\t\tlet yData = opts.yAxis.data[i];\r\n\t\t\t//如果总开关不显示，强制每个Y轴为不显示\r\n\t\t\tif (opts.yAxis.disabled == true) {\r\n\t\t\t\tyData.disabled = true;\r\n\t\t\t}\r\n\t\t\trangesArr[i] = getYAxisTextList(newSeries[i], opts, config, columnstyle.type, i);\r\n\t\t\tlet yAxisFontSizes = yData.fontSize || config.fontSize;\r\n\t\t\tyAxisWidthArr[i] = {\r\n\t\t\t\tposition: yData.position ? yData.position : 'left',\r\n\t\t\t\twidth: 0\r\n\t\t\t};\r\n\t\t\trangesFormatArr[i] = rangesArr[i].map(function(items) {\r\n\t\t\t\titems = util.toFixed(items, 6);\r\n\t\t\t\titems = yData.format ? yData.format(Number(items)) : items;\r\n\t\t\t\tyAxisWidthArr[i].width = Math.max(yAxisWidthArr[i].width, measureText(items, yAxisFontSizes) +\r\n\t\t\t\t\t5);\r\n\t\t\t\treturn items;\r\n\t\t\t});\r\n\t\t\tlet calibration = yData.calibration ? 4 * opts.pixelRatio : 0;\r\n\t\t\tyAxisWidthArr[i].width += calibration + 3 * opts.pixelRatio;\r\n\t\t\tif (yData.disabled === true) {\r\n\t\t\t\tyAxisWidthArr[i].width = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} else {\r\n\t\tvar rangesArr = new Array(1);\r\n\t\tvar rangesFormatArr = new Array(1);\r\n\t\tvar yAxisWidthArr = new Array(1);\r\n\t\trangesArr[0] = getYAxisTextList(series, opts, config, columnstyle.type);\r\n\t\tyAxisWidthArr[0] = {\r\n\t\t\tposition: 'left',\r\n\t\t\twidth: 0\r\n\t\t};\r\n\t\tvar yAxisFontSize = opts.yAxis.fontSize || config.fontSize;\r\n\t\trangesFormatArr[0] = rangesArr[0].map(function(item) {\r\n\t\t\titem = util.toFixed(item, 6);\r\n\t\t\titem = opts.yAxis.format ? opts.yAxis.format(Number(item)) : item;\r\n\t\t\tyAxisWidthArr[0].width = Math.max(yAxisWidthArr[0].width, measureText(item, yAxisFontSize) + 5);\r\n\t\t\treturn item;\r\n\t\t});\r\n\t\tyAxisWidthArr[0].width += 3 * opts.pixelRatio;\r\n\t\tif (opts.yAxis.disabled === true) {\r\n\t\t\tyAxisWidthArr[0] = {\r\n\t\t\t\tposition: 'left',\r\n\t\t\t\twidth: 0\r\n\t\t\t};\r\n\t\t\topts.yAxis.data[0] = {\r\n\t\t\t\tdisabled: true\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\topts.yAxis.data[0] = {\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tposition: 'left',\r\n\t\t\t\tmax: opts.yAxis.max,\r\n\t\t\t\tmin: opts.yAxis.min,\r\n\t\t\t\tformat: opts.yAxis.format\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn {\r\n\t\trangesFormat: rangesFormatArr,\r\n\t\tranges: rangesArr,\r\n\t\tyAxisWidth: yAxisWidthArr\r\n\t};\r\n\r\n}\r\n\r\nfunction calTooltipYAxisData(point, series, opts, config, eachSpacing) {\r\n\tlet ranges = [].concat(opts.chartData.yAxisData.ranges);\r\n\tlet spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n\tlet minAxis = opts.area[0];\r\n\tlet items = [];\r\n\tfor (let i = 0; i < ranges.length; i++) {\r\n\t\tlet maxVal = ranges[i].shift();\r\n\t\tlet minVal = ranges[i].pop();\r\n\t\tlet item = maxVal - (maxVal - minVal) * (point - minAxis) / spacingValid;\r\n\t\titem = opts.yAxis.data[i].format ? opts.yAxis.data[i].format(Number(item)) : item.toFixed(0);\r\n\t\titems.push(String(item))\r\n\t}\r\n\treturn items;\r\n}\r\n\r\nfunction calMarkLineData(points, opts) {\r\n\tlet minRange, maxRange;\r\n\tlet spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n\tfor (let i = 0; i < points.length; i++) {\r\n\t\tpoints[i].yAxisIndex = points[i].yAxisIndex ? points[i].yAxisIndex : 0;\r\n\t\tlet range = [].concat(opts.chartData.yAxisData.ranges[points[i].yAxisIndex]);\r\n\t\tminRange = range.pop();\r\n\t\tmaxRange = range.shift();\r\n\t\tlet height = spacingValid * (points[i].value - minRange) / (maxRange - minRange);\r\n\t\tpoints[i].y = opts.height - Math.round(height) - opts.area[2];\r\n\t}\r\n\treturn points;\r\n}\r\n\r\nfunction contextRotate(context, opts) {\r\n\tif (opts.rotateLock !== true) {\r\n\t\tcontext.translate(opts.height, 0);\r\n\t\tcontext.rotate(90 * Math.PI / 180);\r\n\t} else if (opts._rotate_ !== true) {\r\n\t\tcontext.translate(opts.height, 0);\r\n\t\tcontext.rotate(90 * Math.PI / 180);\r\n\t\topts._rotate_ = true;\r\n\t}\r\n}\r\n\r\nfunction drawPointShape(points, color, shape, context, opts) {\r\n\tcontext.beginPath();\r\n\tif (opts.dataPointShapeType == 'hollow') {\r\n\t\tcontext.setStrokeStyle(color);\r\n\t\tcontext.setFillStyle(opts.background);\r\n\t\tcontext.setLineWidth(2 * opts.pixelRatio);\r\n\t} else {\r\n\t\tcontext.setStrokeStyle(\"#ffffff\");\r\n\t\tcontext.setFillStyle(color);\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t}\r\n\tif (shape === 'diamond') {\r\n\t\tpoints.forEach(function(item, index) {\r\n\t\t\tif (item !== null) {\r\n\t\t\t\tcontext.moveTo(item.x, item.y - 4.5);\r\n\t\t\t\tcontext.lineTo(item.x - 4.5, item.y);\r\n\t\t\t\tcontext.lineTo(item.x, item.y + 4.5);\r\n\t\t\t\tcontext.lineTo(item.x + 4.5, item.y);\r\n\t\t\t\tcontext.lineTo(item.x, item.y - 4.5);\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (shape === 'circle') {\r\n\t\tpoints.forEach(function(item, index) {\r\n\t\t\tif (item !== null) {\r\n\t\t\t\tcontext.moveTo(item.x + 2.5 * opts.pixelRatio, item.y);\r\n\t\t\t\tcontext.arc(item.x, item.y, 3 * opts.pixelRatio, 0, 2 * Math.PI, false);\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (shape === 'rect') {\r\n\t\tpoints.forEach(function(item, index) {\r\n\t\t\tif (item !== null) {\r\n\t\t\t\tcontext.moveTo(item.x - 3.5, item.y - 3.5);\r\n\t\t\t\tcontext.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n\t\t\t}\r\n\t\t});\r\n\t} else if (shape === 'triangle') {\r\n\t\tpoints.forEach(function(item, index) {\r\n\t\t\tif (item !== null) {\r\n\t\t\t\tcontext.moveTo(item.x, item.y - 4.5);\r\n\t\t\t\tcontext.lineTo(item.x - 4.5, item.y + 4.5);\r\n\t\t\t\tcontext.lineTo(item.x + 4.5, item.y + 4.5);\r\n\t\t\t\tcontext.lineTo(item.x, item.y - 4.5);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tcontext.closePath();\r\n\tcontext.fill();\r\n\tcontext.stroke();\r\n}\r\n\r\nfunction drawRingTitle(opts, config, context, center) {\r\n\tvar titlefontSize = opts.title.fontSize || config.titleFontSize;\r\n\tvar subtitlefontSize = opts.subtitle.fontSize || config.subtitleFontSize;\r\n\tvar title = opts.title.name || '';\r\n\tvar subtitle = opts.subtitle.name || '';\r\n\tvar titleFontColor = opts.title.color || config.titleColor;\r\n\tvar subtitleFontColor = opts.subtitle.color || config.subtitleColor;\r\n\tvar titleHeight = title ? titlefontSize : 0;\r\n\tvar subtitleHeight = subtitle ? subtitlefontSize : 0;\r\n\tvar margin = 5;\r\n\r\n\tif (subtitle) {\r\n\t\tvar textWidth = measureText(subtitle, subtitlefontSize);\r\n\t\tvar startX = center.x - textWidth / 2 + (opts.subtitle.offsetX || 0);\r\n\t\tvar startY = center.y + subtitlefontSize / 2 + (opts.subtitle.offsetY || 0);\r\n\t\tif (title) {\r\n\t\t\tstartY += (titleHeight + margin) / 2;\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(subtitlefontSize);\r\n\t\tcontext.setFillStyle(subtitleFontColor);\r\n\t\tcontext.fillText(subtitle, startX, startY);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t}\r\n\tif (title) {\r\n\t\tvar _textWidth = measureText(title, titlefontSize);\r\n\t\tvar _startX = center.x - _textWidth / 2 + (opts.title.offsetX || 0);\r\n\t\tvar _startY = center.y + titlefontSize / 2 + (opts.title.offsetY || 0);\r\n\t\tif (subtitle) {\r\n\t\t\t_startY -= (subtitleHeight + margin) / 2;\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(titlefontSize);\r\n\t\tcontext.setFillStyle(titleFontColor);\r\n\t\tcontext.fillText(title, _startX, _startY);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawPointText(points, series, config, context) {\r\n\t// 绘制数据文案\r\n\tvar data = series.data;\r\n\tpoints.forEach(function(item, index) {\r\n\t\tif (item !== null) {\r\n\t\t\t//var formatVal = series.format ? series.format(data[index]) : data[index];\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(series.textSize || config.fontSize);\r\n\t\t\tcontext.setFillStyle(series.textColor || '#666666');\r\n\t\t\tvar value = data[index]\r\n\t\t\tif (typeof data[index] === 'object' && data[index] !== null) {\r\n\t\t\t\tif (data[index].constructor == Array) {\r\n\t\t\t\t\tvalue = data[index][1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = data[index].value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar formatVal = series.format ? series.format(value) : value;\r\n\t\t\tcontext.fillText(String(formatVal), item.x - measureText(formatVal, series.textSize || config\r\n\t\t\t\t.fontSize) / 2, item.y - 4);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\t});\r\n\r\n}\r\n\r\nfunction drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context) {\r\n\tradius -= gaugeOption.width / 2 + config.gaugeLabelTextMargin;\r\n\r\n\tlet totalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n\tlet splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n\tlet totalNumber = gaugeOption.endNumber - gaugeOption.startNumber;\r\n\tlet splitNumber = totalNumber / gaugeOption.splitLine.splitNumber;\r\n\tlet nowAngle = gaugeOption.startAngle;\r\n\tlet nowNumber = gaugeOption.startNumber;\r\n\tfor (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\r\n\t\tvar pos = {\r\n\t\t\tx: radius * Math.cos(nowAngle * Math.PI),\r\n\t\t\ty: radius * Math.sin(nowAngle * Math.PI)\r\n\t\t};\r\n\t\tvar labelText = gaugeOption.labelFormat ? gaugeOption.labelFormat(nowNumber) : nowNumber;\r\n\t\tpos.x += centerPosition.x - measureText(labelText) / 2;\r\n\t\tpos.y += centerPosition.y;\r\n\t\tvar startX = pos.x;\r\n\t\tvar startY = pos.y;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(gaugeOption.labelColor || '#666666');\r\n\t\tcontext.fillText(labelText, startX, startY + config.fontSize / 2);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\r\n\t\tnowAngle += splitAngle;\r\n\t\tif (nowAngle >= 2) {\r\n\t\t\tnowAngle = nowAngle % 2;\r\n\t\t}\r\n\t\tnowNumber += splitNumber;\r\n\t}\r\n\r\n}\r\n\r\nfunction drawRadarLabel(angleList, radius, centerPosition, opts, config, context) {\r\n\tvar radarOption = opts.extra.radar || {};\r\n\tradius += config.radarLabelTextMargin;\r\n\r\n\tangleList.forEach(function(angle, index) {\r\n\t\tvar pos = {\r\n\t\t\tx: radius * Math.cos(angle),\r\n\t\t\ty: radius * Math.sin(angle)\r\n\t\t};\r\n\t\tvar posRelativeCanvas = convertCoordinateOrigin(pos.x, pos.y, centerPosition);\r\n\t\tvar startX = posRelativeCanvas.x;\r\n\t\tvar startY = posRelativeCanvas.y;\r\n\t\tif (util.approximatelyEqual(pos.x, 0)) {\r\n\t\t\tstartX -= measureText(opts.categories[index] || '') / 2;\r\n\t\t} else if (pos.x < 0) {\r\n\t\t\tstartX -= measureText(opts.categories[index] || '');\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(radarOption.labelColor || '#666666');\r\n\t\tcontext.fillText(opts.categories[index] || '', startX, startY + config.fontSize / 2);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t});\r\n\r\n}\r\n\r\nfunction drawPieText(series, opts, config, context, radius, center) {\r\n\tvar lineRadius = config.pieChartLinePadding;\r\n\tvar textObjectCollection = [];\r\n\tvar lastTextObject = null;\r\n\r\n\tvar seriesConvert = series.map(function(item) {\r\n\t\tvar text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_\r\n\t\t\t.toFixed(4) * 100) + '%';\r\n\t\tif (item._rose_proportion_) item._proportion_ = item._rose_proportion_;\r\n\t\tvar arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._proportion_ / 2);\r\n\t\tvar color = item.color;\r\n\t\tvar radius = item._radius_;\r\n\t\treturn {\r\n\t\t\tarc: arc,\r\n\t\t\ttext: text,\r\n\t\t\tcolor: color,\r\n\t\t\tradius: radius,\r\n\t\t\ttextColor: item.textColor,\r\n\t\t\ttextSize: item.textSize,\r\n\t\t};\r\n\t});\r\n\tfor (let i = 0; i < seriesConvert.length; i++) {\r\n\t\tlet item = seriesConvert[i];\r\n\t\t// line end\r\n\t\tlet orginX1 = Math.cos(item.arc) * (item.radius + lineRadius);\r\n\t\tlet orginY1 = Math.sin(item.arc) * (item.radius + lineRadius);\r\n\r\n\t\t// line start\r\n\t\tlet orginX2 = Math.cos(item.arc) * item.radius;\r\n\t\tlet orginY2 = Math.sin(item.arc) * item.radius;\r\n\r\n\t\t// text start\r\n\t\tlet orginX3 = orginX1 >= 0 ? orginX1 + config.pieChartTextPadding : orginX1 - config.pieChartTextPadding;\r\n\t\tlet orginY3 = orginY1;\r\n\t\tlet textWidth = measureText(item.text, item.textSize || config.fontSize);\r\n\t\tlet startY = orginY3;\r\n\r\n\t\tif (lastTextObject && util.isSameXCoordinateArea(lastTextObject.start, {\r\n\t\t\t\tx: orginX3\r\n\t\t\t})) {\r\n\t\t\tif (orginX3 > 0) {\r\n\t\t\t\tstartY = Math.min(orginY3, lastTextObject.start.y);\r\n\t\t\t} else if (orginX1 < 0) {\r\n\t\t\t\tstartY = Math.max(orginY3, lastTextObject.start.y);\r\n\t\t\t} else {\r\n\t\t\t\tif (orginY3 > 0) {\r\n\t\t\t\t\tstartY = Math.max(orginY3, lastTextObject.start.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartY = Math.min(orginY3, lastTextObject.start.y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (orginX3 < 0) {\r\n\t\t\torginX3 -= textWidth;\r\n\t\t}\r\n\r\n\t\tlet textObject = {\r\n\t\t\tlineStart: {\r\n\t\t\t\tx: orginX2,\r\n\t\t\t\ty: orginY2\r\n\t\t\t},\r\n\t\t\tlineEnd: {\r\n\t\t\t\tx: orginX1,\r\n\t\t\t\ty: orginY1\r\n\t\t\t},\r\n\t\t\tstart: {\r\n\t\t\t\tx: orginX3,\r\n\t\t\t\ty: startY\r\n\t\t\t},\r\n\t\t\twidth: textWidth,\r\n\t\t\theight: config.fontSize,\r\n\t\t\ttext: item.text,\r\n\t\t\tcolor: item.color,\r\n\t\t\ttextColor: item.textColor,\r\n\t\t\ttextSize: item.textSize\r\n\t\t};\r\n\t\tlastTextObject = avoidCollision(textObject, lastTextObject);\r\n\t\ttextObjectCollection.push(lastTextObject);\r\n\t}\r\n\r\n\tfor (let i = 0; i < textObjectCollection.length; i++) {\r\n\t\tlet item = textObjectCollection[i];\r\n\t\tlet lineStartPoistion = convertCoordinateOrigin(item.lineStart.x, item.lineStart.y, center);\r\n\t\tlet lineEndPoistion = convertCoordinateOrigin(item.lineEnd.x, item.lineEnd.y, center);\r\n\t\tlet textPosition = convertCoordinateOrigin(item.start.x, item.start.y, center);\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setStrokeStyle(item.color);\r\n\t\tcontext.setFillStyle(item.color);\r\n\t\tcontext.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n\t\tlet curveStartX = item.start.x < 0 ? textPosition.x + item.width : textPosition.x;\r\n\t\tlet textStartX = item.start.x < 0 ? textPosition.x - 5 : textPosition.x + 5;\r\n\t\tcontext.quadraticCurveTo(lineEndPoistion.x, lineEndPoistion.y, curveStartX, textPosition.y);\r\n\t\tcontext.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n\t\tcontext.stroke();\r\n\t\tcontext.closePath();\r\n\t\tcontext.beginPath();\r\n\t\tcontext.moveTo(textPosition.x + item.width, textPosition.y);\r\n\t\tcontext.arc(curveStartX, textPosition.y, 2, 0, 2 * Math.PI);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(item.textSize || config.fontSize);\r\n\t\tcontext.setFillStyle(item.textColor || '#666666');\r\n\t\tcontext.fillText(item.text, textStartX, textPosition.y + 3);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t\tcontext.closePath();\r\n\t}\r\n}\r\n\r\nfunction drawToolTipSplitLine(offsetX, opts, config, context) {\r\n\tvar toolTipOption = opts.extra.tooltip || {};\r\n\ttoolTipOption.gridType = toolTipOption.gridType == undefined ? 'solid' : toolTipOption.gridType;\r\n\ttoolTipOption.dashLength = toolTipOption.dashLength == undefined ? 4 : toolTipOption.dashLength;\r\n\tvar startY = opts.area[0];\r\n\tvar endY = opts.height - opts.area[2];\r\n\r\n\tif (toolTipOption.gridType == 'dash') {\r\n\t\tcontext.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\r\n\t}\r\n\tcontext.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\tcontext.beginPath();\r\n\tcontext.moveTo(offsetX, startY);\r\n\tcontext.lineTo(offsetX, endY);\r\n\tcontext.stroke();\r\n\tcontext.setLineDash([]);\r\n\r\n\tif (toolTipOption.xAxisLabel) {\r\n\t\tlet labelText = opts.categories[opts.tooltip.index];\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tlet textWidth = measureText(labelText, config.fontSize);\r\n\r\n\t\tlet textX = offsetX - 0.5 * textWidth;\r\n\t\tlet textY = endY;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption\r\n\t\t\t.labelBgOpacity || config.toolTipOpacity));\r\n\t\tcontext.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\tcontext.rect(textX - config.toolTipPadding, textY, textWidth + 2 * config.toolTipPadding, config.fontSize + 2 *\r\n\t\t\tconfig.toolTipPadding);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t\tcontext.fill();\r\n\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(toolTipOption.labelFontColor || config.fontColor);\r\n\t\tcontext.fillText(String(labelText), textX, textY + config.toolTipPadding + config.fontSize);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawMarkLine(opts, config, context) {\r\n\tlet markLineOption = assign({}, {\r\n\t\ttype: 'solid',\r\n\t\tdashLength: 4,\r\n\t\tdata: []\r\n\t}, opts.extra.markLine);\r\n\tlet startX = opts.area[3];\r\n\tlet endX = opts.width - opts.area[1];\r\n\tlet points = calMarkLineData(markLineOption.data, opts);\r\n\r\n\tfor (let i = 0; i < points.length; i++) {\r\n\t\tlet item = assign({}, {\r\n\t\t\tlineColor: '#DE4A42',\r\n\t\t\tshowLabel: false,\r\n\t\t\tlabelFontColor: '#666666',\r\n\t\t\tlabelBgColor: '#DFE8FF',\r\n\t\t\tlabelBgOpacity: 0.8,\r\n\t\t\tyAxisIndex: 0\r\n\t\t}, points[i]);\r\n\r\n\t\tif (markLineOption.type == 'dash') {\r\n\t\t\tcontext.setLineDash([markLineOption.dashLength, markLineOption.dashLength]);\r\n\t\t}\r\n\t\tcontext.setStrokeStyle(item.lineColor);\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\tcontext.beginPath();\r\n\t\tcontext.moveTo(startX, item.y);\r\n\t\tcontext.lineTo(endX, item.y);\r\n\t\tcontext.stroke();\r\n\t\tcontext.setLineDash([]);\r\n\t\tif (item.showLabel) {\r\n\t\t\tlet labelText = opts.yAxis.format ? opts.yAxis.format(Number(item.value)) : item.value;\r\n\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\tlet textWidth = measureText(labelText, config.fontSize);\r\n\t\t\tlet bgStartX = opts.padding[3] + config.yAxisTitleWidth - config.toolTipPadding;\r\n\t\t\tlet bgEndX = Math.max(opts.area[3], textWidth + config.toolTipPadding * 2);\r\n\t\t\tlet bgWidth = bgEndX - bgStartX;\r\n\r\n\t\t\tlet textX = bgStartX + (bgWidth - textWidth) / 2;\r\n\t\t\tlet textY = item.y;\r\n\t\t\tcontext.setFillStyle(hexToRgb(item.labelBgColor, item.labelBgOpacity));\r\n\t\t\tcontext.setStrokeStyle(item.labelBgColor);\r\n\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.rect(bgStartX, textY - 0.5 * config.fontSize - config.toolTipPadding, bgWidth, config.fontSize + 2 *\r\n\t\t\t\tconfig.toolTipPadding);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.fill();\r\n\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\tcontext.setFillStyle(item.labelFontColor);\r\n\t\t\tcontext.fillText(String(labelText), textX, textY + 0.5 * config.fontSize);\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints) {\r\n\tvar toolTipOption = assign({}, {\r\n\t\tgridType: 'solid',\r\n\t\tdashLength: 4\r\n\t}, opts.extra.tooltip);\r\n\r\n\tvar startX = opts.area[3];\r\n\tvar endX = opts.width - opts.area[1];\r\n\r\n\tif (toolTipOption.gridType == 'dash') {\r\n\t\tcontext.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\r\n\t}\r\n\tcontext.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\tcontext.beginPath();\r\n\tcontext.moveTo(startX, opts.tooltip.offset.y);\r\n\tcontext.lineTo(endX, opts.tooltip.offset.y);\r\n\tcontext.stroke();\r\n\tcontext.setLineDash([]);\r\n\r\n\tif (toolTipOption.yAxisLabel) {\r\n\t\tlet labelText = calTooltipYAxisData(opts.tooltip.offset.y, opts.series, opts, config, eachSpacing);\r\n\t\tlet widthArr = opts.chartData.yAxisData.yAxisWidth;\r\n\t\tlet tStartLeft = opts.area[3];\r\n\t\tlet tStartRight = opts.width - opts.area[1];\r\n\t\tfor (let i = 0; i < labelText.length; i++) {\r\n\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\tlet textWidth = measureText(labelText[i], config.fontSize);\r\n\t\t\tlet bgStartX, bgEndX, bgWidth;\r\n\t\t\tif (widthArr[i].position == 'left') {\r\n\t\t\t\tbgStartX = tStartLeft - widthArr[i].width;\r\n\t\t\t\tbgEndX = Math.max(bgStartX, bgStartX + textWidth + config.toolTipPadding * 2);\r\n\t\t\t} else {\r\n\t\t\t\tbgStartX = tStartRight;\r\n\t\t\t\tbgEndX = Math.max(bgStartX + widthArr[i].width, bgStartX + textWidth + config.toolTipPadding * 2);\r\n\t\t\t}\r\n\t\t\tbgWidth = bgEndX - bgStartX;\r\n\r\n\t\t\tlet textX = bgStartX + (bgWidth - textWidth) / 2;\r\n\t\t\tlet textY = opts.tooltip.offset.y;\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption\r\n\t\t\t\t.labelBgOpacity || config.toolTipOpacity));\r\n\t\t\tcontext.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\tcontext.rect(bgStartX, textY - 0.5 * config.fontSize - config.toolTipPadding, bgWidth, config.fontSize + 2 *\r\n\t\t\t\tconfig.toolTipPadding);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.fill();\r\n\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(config.fontSize);\r\n\t\t\tcontext.setFillStyle(toolTipOption.labelFontColor || config.fontColor);\r\n\t\t\tcontext.fillText(labelText[i], textX, textY + 0.5 * config.fontSize);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t\tif (widthArr[i].position == 'left') {\r\n\t\t\t\ttStartLeft -= (widthArr[i].width + opts.yAxis.padding);\r\n\t\t\t} else {\r\n\t\t\t\ttStartRight += widthArr[i].width + opts.yAxis.padding;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction drawToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\r\n\tvar toolTipOption = assign({}, {\r\n\t\tactiveBgColor: '#000000',\r\n\t\tactiveBgOpacity: 0.08\r\n\t}, opts.extra.tooltip);\r\n\tvar startY = opts.area[0];\r\n\tvar endY = opts.height - opts.area[2];\r\n\tcontext.beginPath();\r\n\tcontext.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\r\n\tcontext.rect(offsetX - eachSpacing / 2, startY, eachSpacing, endY - startY);\r\n\tcontext.closePath();\r\n\tcontext.fill();\r\n}\r\n\r\nfunction drawToolTip(textList, offset, opts, config, context, eachSpacing, xAxisPoints) {\r\n\tvar toolTipOption = assign({}, {\r\n\t\tshowBox: true,\r\n\t\tbgColor: '#000000',\r\n\t\tbgOpacity: 0.7,\r\n\t\tfontColor: '#FFFFFF'\r\n\t}, opts.extra.tooltip);\r\n\tvar legendWidth = 4 * opts.pixelRatio;\r\n\tvar legendMarginRight = 5 * opts.pixelRatio;\r\n\tvar arrowWidth = 8 * opts.pixelRatio;\r\n\tvar isOverRightBorder = false;\r\n\tif (opts.type == 'line' || opts.type == 'area' || opts.type == 'candle' || opts.type == 'mix') {\r\n\t\tdrawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n\t}\r\n\r\n\toffset = assign({\r\n\t\tx: 0,\r\n\t\ty: 0\r\n\t}, offset);\r\n\toffset.y -= 8 * opts.pixelRatio;\r\n\tvar textWidth = textList.map(function(item) {\r\n\t\treturn measureText(item.text, config.fontSize);\r\n\t});\r\n\tvar toolTipWidth = legendWidth + legendMarginRight + 4 * config.toolTipPadding + Math.max.apply(null, textWidth);\r\n\tvar toolTipHeight = 2 * config.toolTipPadding + textList.length * config.toolTipLineHeight;\r\n\r\n\tif (toolTipOption.showBox == false) {\r\n\t\treturn\r\n\t}\r\n\t// if beyond the right border\r\n\tif (offset.x - Math.abs(opts._scrollDistance_) + arrowWidth + toolTipWidth > opts.width) {\r\n\t\tisOverRightBorder = true;\r\n\t}\r\n\tif (toolTipHeight + offset.y > opts.height) {\r\n\t\toffset.y = opts.height - toolTipHeight;\r\n\t}\r\n\t// draw background rect\r\n\tcontext.beginPath();\r\n\tcontext.setFillStyle(hexToRgb(toolTipOption.bgColor || config.toolTipBackground, toolTipOption.bgOpacity || config\r\n\t\t.toolTipOpacity));\r\n\tif (isOverRightBorder) {\r\n\t\tcontext.moveTo(offset.x, offset.y + 10 * opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pixelRatio - 5 * opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x - arrowWidth, offset.y);\r\n\t\tcontext.lineTo(offset.x - arrowWidth - Math.round(toolTipWidth), offset.y);\r\n\t\tcontext.lineTo(offset.x - arrowWidth - Math.round(toolTipWidth), offset.y + toolTipHeight);\r\n\t\tcontext.lineTo(offset.x - arrowWidth, offset.y + toolTipHeight);\r\n\t\tcontext.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pixelRatio + 5 * opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x, offset.y + 10 * opts.pixelRatio);\r\n\t} else {\r\n\t\tcontext.moveTo(offset.x, offset.y + 10 * opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pixelRatio - 5 * opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x + arrowWidth, offset.y);\r\n\t\tcontext.lineTo(offset.x + arrowWidth + Math.round(toolTipWidth), offset.y);\r\n\t\tcontext.lineTo(offset.x + arrowWidth + Math.round(toolTipWidth), offset.y + toolTipHeight);\r\n\t\tcontext.lineTo(offset.x + arrowWidth, offset.y + toolTipHeight);\r\n\t\tcontext.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pixelRatio + 5 * opts.pixelRatio);\r\n\t\tcontext.lineTo(offset.x, offset.y + 10 * opts.pixelRatio);\r\n\t}\r\n\r\n\tcontext.closePath();\r\n\tcontext.fill();\r\n\r\n\t// draw legend\r\n\ttextList.forEach(function(item, index) {\r\n\t\tif (item.color !== null) {\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFillStyle(item.color);\r\n\t\t\tvar startX = offset.x + arrowWidth + 2 * config.toolTipPadding;\r\n\t\t\tvar startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config\r\n\t\t\t\t.toolTipLineHeight * index +\r\n\t\t\t\tconfig.toolTipPadding + 1;\r\n\t\t\tif (isOverRightBorder) {\r\n\t\t\t\tstartX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding;\r\n\t\t\t}\r\n\t\t\tcontext.fillRect(startX, startY, legendWidth, config.fontSize);\r\n\t\t\tcontext.closePath();\r\n\t\t}\r\n\t});\r\n\r\n\t// draw text list\r\n\r\n\ttextList.forEach(function(item, index) {\r\n\t\tvar startX = offset.x + arrowWidth + 2 * config.toolTipPadding + legendWidth + legendMarginRight;\r\n\t\tif (isOverRightBorder) {\r\n\t\t\tstartX = offset.x - toolTipWidth - arrowWidth + 2 * config.toolTipPadding + +legendWidth +\r\n\t\t\t\tlegendMarginRight;\r\n\t\t}\r\n\t\tvar startY = offset.y + (config.toolTipLineHeight - config.fontSize) / 2 + config.toolTipLineHeight *\r\n\t\t\tindex +\r\n\t\t\tconfig.toolTipPadding;\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tcontext.setFillStyle(toolTipOption.fontColor);\r\n\t\tcontext.fillText(item.text, startX, startY + config.fontSize);\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t});\r\n}\r\n\r\nfunction drawYAxisTitle(title, opts, config, context) {\r\n\tvar startX = config.xAxisHeight + (opts.height - config.xAxisHeight - measureText(title)) / 2;\r\n\tcontext.save();\r\n\tcontext.beginPath();\r\n\tcontext.setFontSize(config.fontSize);\r\n\tcontext.setFillStyle(opts.yAxis.titleFontColor || '#333333');\r\n\tcontext.translate(0, opts.height);\r\n\tcontext.rotate(-90 * Math.PI / 180);\r\n\tcontext.fillText(title, startX, opts.padding[3] + 0.5 * config.fontSize);\r\n\tcontext.closePath();\r\n\tcontext.stroke();\r\n\tcontext.restore();\r\n}\r\n\r\nfunction drawColumnDataPoints(series, opts, config, context) {\r\n\tlet process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tlet xAxisData = opts.chartData.xAxisData,\r\n\t\txAxisPoints = xAxisData.xAxisPoints,\r\n\t\teachSpacing = xAxisData.eachSpacing;\r\n\tlet columnOption = assign({}, {\r\n\t\ttype: 'group',\r\n\t\twidth: eachSpacing / 2,\r\n\t\tmeter: {\r\n\t\t\tborder: 4,\r\n\t\t\tfillColor: '#FFFFFF'\r\n\t\t}\r\n\t}, opts.extra.column);\r\n\r\n\tlet calPoints = [];\r\n\tcontext.save();\r\n\r\n\tlet leftNum = -2;\r\n\tlet rightNum = xAxisPoints.length + 2;\r\n\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t\tleftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n\t\trightNum = leftNum + opts.xAxis.itemCount + 4;\r\n\t}\r\n\tif (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n\t\tdrawToolTipSplitArea(opts.tooltip.offset.x, opts, config, context, eachSpacing);\r\n\t}\r\n\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tlet ranges, minRange, maxRange;\r\n\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\tminRange = ranges.pop();\r\n\t\tmaxRange = ranges.shift();\r\n\r\n\t\tvar data = eachSeries.data;\r\n\t\tswitch (columnOption.type) {\r\n\t\t\tcase 'group':\r\n\t\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\t\tprocess);\r\n\t\t\t\tvar tooltipPoints = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts,\r\n\t\t\t\t\tconfig, seriesIndex, series, process);\r\n\t\t\t\tcalPoints.push(tooltipPoints);\r\n\t\t\t\tpoints = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\tlet item = points[i];\r\n\t\t\t\t\tif (item !== null && i > leftNum && i < rightNum) {\r\n\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\tcontext.setStrokeStyle(item.color || eachSeries.color);\r\n\t\t\t\t\t\tcontext.setLineWidth(1)\r\n\t\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\t\tvar startX = item.x - item.width / 2;\r\n\t\t\t\t\t\tvar height = opts.height - item.y - opts.area[2];\r\n\t\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\t\tcontext.lineTo(startX + item.width - 2, item.y);\r\n\t\t\t\t\t\tcontext.lineTo(startX + item.width - 2, opts.height - opts.area[2]);\r\n\t\t\t\t\t\tcontext.lineTo(startX, opts.height - opts.area[2]);\r\n\t\t\t\t\t\tcontext.lineTo(startX, item.y);\r\n\t\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'stack':\r\n\t\t\t\t// 绘制堆叠数据图\r\n\t\t\t\tvar points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts,\r\n\t\t\t\t\tconfig, seriesIndex, series, process);\r\n\t\t\t\tcalPoints.push(points);\r\n\t\t\t\tpoints = fixColumeStackData(points, eachSpacing, series.length, seriesIndex, config, opts,\r\n\t\t\t\t\tseries);\r\n\r\n\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\tlet item = points[i];\r\n\t\t\t\t\tif (item !== null && i > leftNum && i < rightNum) {\r\n\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\t\tvar startX = item.x - item.width / 2 + 1;\r\n\t\t\t\t\t\tvar height = opts.height - item.y - opts.area[2];\r\n\t\t\t\t\t\tvar height0 = opts.height - item.y0 - opts.area[2];\r\n\t\t\t\t\t\tif (seriesIndex > 0) {\r\n\t\t\t\t\t\t\theight -= height0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\t\tcontext.fillRect(startX, item.y, item.width - 2, height);\r\n\t\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'meter':\r\n\t\t\t\t// 绘制温度计数据图\r\n\t\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\t\tprocess);\r\n\t\t\t\tcalPoints.push(points);\r\n\t\t\t\tpoints = fixColumeMeterData(points, eachSpacing, series.length, seriesIndex, config, opts,\r\n\t\t\t\t\tcolumnOption.meter.border);\r\n\t\t\t\tif (seriesIndex == 0) {\r\n\t\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\tlet item = points[i];\r\n\t\t\t\t\t\tif (item !== null && i > leftNum && i < rightNum) {\r\n\t\t\t\t\t\t\t//画背景颜色\r\n\t\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\t\tcontext.setFillStyle(columnOption.meter.fillColor);\r\n\t\t\t\t\t\t\tvar startX = item.x - item.width / 2;\r\n\t\t\t\t\t\t\tvar height = opts.height - item.y - opts.area[2];\r\n\t\t\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\t\t\tcontext.fillRect(startX, item.y, item.width, height);\r\n\t\t\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t\t\t//画边框线\r\n\t\t\t\t\t\t\tif (columnOption.meter.border > 0) {\r\n\t\t\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\t\t\t\t\tcontext.setLineWidth(columnOption.meter.border * opts.pixelRatio);\r\n\t\t\t\t\t\t\t\tcontext.moveTo(startX + columnOption.meter.border * 0.5, item.y + height);\r\n\t\t\t\t\t\t\t\tcontext.lineTo(startX + columnOption.meter.border * 0.5, item.y + columnOption\r\n\t\t\t\t\t\t\t\t\t.meter.border * 0.5);\r\n\t\t\t\t\t\t\t\tcontext.lineTo(startX + item.width - columnOption.meter.border * 0.5, item.y +\r\n\t\t\t\t\t\t\t\t\tcolumnOption.meter.border * 0.5);\r\n\t\t\t\t\t\t\t\tcontext.lineTo(startX + item.width - columnOption.meter.border * 0.5, item.y +\r\n\t\t\t\t\t\t\t\t\theight);\r\n\t\t\t\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\tlet item = points[i];\r\n\t\t\t\t\t\tif (item !== null && i > leftNum && i < rightNum) {\r\n\t\t\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\t\t\tvar startX = item.x - item.width / 2;\r\n\t\t\t\t\t\t\tvar height = opts.height - item.y - opts.area[2];\r\n\t\t\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\t\t\tcontext.fillRect(startX, item.y, item.width, height);\r\n\t\t\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\t\tlet ranges, minRange, maxRange;\r\n\t\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\t\tminRange = ranges.pop();\r\n\t\t\tmaxRange = ranges.shift();\r\n\t\t\tvar data = eachSeries.data;\r\n\t\t\tswitch (columnOption.type) {\r\n\t\t\t\tcase 'group':\r\n\t\t\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\t\t\tprocess);\r\n\t\t\t\t\tpoints = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n\t\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'stack':\r\n\t\t\t\t\tvar points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts,\r\n\t\t\t\t\t\tconfig, seriesIndex, series, process);\r\n\t\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'meter':\r\n\t\t\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\t\t\tprocess);\r\n\t\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcontext.restore();\r\n\r\n\treturn {\r\n\t\txAxisPoints: xAxisPoints,\r\n\t\tcalPoints: calPoints,\r\n\t\teachSpacing: eachSpacing\r\n\t};\r\n}\r\n\r\nfunction drawCandleDataPoints(series, seriesMA, opts, config, context) {\r\n\tvar process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n\tvar candleOption = assign({}, {\r\n\t\tcolor: {},\r\n\t\taverage: {}\r\n\t}, opts.extra.candle);\r\n\tcandleOption.color = assign({}, {\r\n\t\tupLine: '#f04864',\r\n\t\tupFill: '#f04864',\r\n\t\tdownLine: '#2fc25b',\r\n\t\tdownFill: '#2fc25b'\r\n\t}, candleOption.color);\r\n\tcandleOption.average = assign({}, {\r\n\t\tshow: false,\r\n\t\tname: [],\r\n\t\tday: [],\r\n\t\tcolor: config.colors\r\n\t}, candleOption.average);\r\n\topts.extra.candle = candleOption;\r\n\r\n\tlet xAxisData = opts.chartData.xAxisData,\r\n\t\txAxisPoints = xAxisData.xAxisPoints,\r\n\t\teachSpacing = xAxisData.eachSpacing;\r\n\r\n\tlet calPoints = [];\r\n\r\n\tcontext.save();\r\n\r\n\tlet leftNum = -2;\r\n\tlet rightNum = xAxisPoints.length + 2;\r\n\tlet leftSpace = 0;\r\n\tlet rightSpace = opts.width + eachSpacing;\r\n\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t\tleftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n\t\trightNum = leftNum + opts.xAxis.itemCount + 4;\r\n\t\tleftSpace = -opts._scrollDistance_ - eachSpacing + opts.area[3];\r\n\t\trightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n\t}\r\n\r\n\t//画均线\r\n\tif (candleOption.average.show) {\r\n\t\tseriesMA.forEach(function(eachSeries, seriesIndex) {\r\n\t\t\tlet ranges, minRange, maxRange;\r\n\t\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\t\tminRange = ranges.pop();\r\n\t\t\tmaxRange = ranges.shift();\r\n\r\n\t\t\tvar data = eachSeries.data;\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\tprocess);\r\n\t\t\tvar splitPointList = splitPoints(points);\r\n\r\n\t\t\tfor (let i = 0; i < splitPointList.length; i++) {\r\n\t\t\t\tlet points = splitPointList[i];\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setLineWidth(1);\r\n\t\t\t\tif (points.length === 1) {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tlet startPoint = 0;\r\n\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, j - 1);\r\n\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x,\r\n\t\t\t\t\t\t\t\tctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//画K线\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tlet ranges, minRange, maxRange;\r\n\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\tminRange = ranges.pop();\r\n\t\tmaxRange = ranges.shift();\r\n\t\tvar data = eachSeries.data;\r\n\t\tvar points = getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\tprocess);\r\n\t\tcalPoints.push(points);\r\n\t\tvar splitPointList = splitPoints(points);\r\n\r\n\t\tfor (let i = 0; i < splitPointList[0].length; i++) {\r\n\t\t\tif (i > leftNum && i < rightNum) {\r\n\t\t\t\tlet item = splitPointList[0][i];\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\t//如果上涨\r\n\t\t\t\tif (data[i][1] - data[i][0] > 0) {\r\n\t\t\t\t\tcontext.setStrokeStyle(candleOption.color.upLine);\r\n\t\t\t\t\tcontext.setFillStyle(candleOption.color.upFill);\r\n\t\t\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\r\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\r\n\t\t\t\t\tcontext.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\r\n\t\t\t\t\tcontext.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\r\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\r\n\t\t\t\t\tcontext.lineTo(item[2].x, item[2].y); //底点\r\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\r\n\t\t\t\t\tcontext.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\r\n\t\t\t\t\tcontext.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\r\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\r\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.setStrokeStyle(candleOption.color.downLine);\r\n\t\t\t\t\tcontext.setFillStyle(candleOption.color.downFill);\r\n\t\t\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\r\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\r\n\t\t\t\t\tcontext.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\r\n\t\t\t\t\tcontext.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\r\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\r\n\t\t\t\t\tcontext.lineTo(item[2].x, item[2].y); //底点\r\n\t\t\t\t\tcontext.lineTo(item[1].x, item[1].y); //收盘中间点\r\n\t\t\t\t\tcontext.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\r\n\t\t\t\t\tcontext.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\r\n\t\t\t\t\tcontext.lineTo(item[0].x, item[0].y); //开盘中间点\r\n\t\t\t\t\tcontext.moveTo(item[3].x, item[3].y); //顶点\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.fill();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tcontext.restore();\r\n\r\n\treturn {\r\n\t\txAxisPoints: xAxisPoints,\r\n\t\tcalPoints: calPoints,\r\n\t\teachSpacing: eachSpacing\r\n\t};\r\n}\r\n\r\nfunction drawAreaDataPoints(series, opts, config, context) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar areaOption = assign({}, {\r\n\t\ttype: 'straight',\r\n\t\topacity: 0.2,\r\n\t\taddLine: false,\r\n\t\twidth: 2,\r\n\t\tgradient: false\r\n\t}, opts.extra.area);\r\n\r\n\tlet xAxisData = opts.chartData.xAxisData,\r\n\t\txAxisPoints = xAxisData.xAxisPoints,\r\n\t\teachSpacing = xAxisData.eachSpacing;\r\n\r\n\tlet endY = opts.height - opts.area[2];\r\n\tlet calPoints = [];\r\n\r\n\tcontext.save();\r\n\tlet leftSpace = 0;\r\n\tlet rightSpace = opts.width + eachSpacing;\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t\tleftSpace = -opts._scrollDistance_ - eachSpacing + opts.area[3];\r\n\t\trightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n\t}\r\n\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tlet ranges, minRange, maxRange;\r\n\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\tminRange = ranges.pop();\r\n\t\tmaxRange = ranges.shift();\r\n\t\tlet data = eachSeries.data;\r\n\t\tlet points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\tcalPoints.push(points);\r\n\r\n\t\tlet splitPointList = splitPoints(points);\r\n\t\tfor (let i = 0; i < splitPointList.length; i++) {\r\n\t\t\tlet points = splitPointList[i];\r\n\t\t\t// 绘制区域数\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setStrokeStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n\t\t\tif (areaOption.gradient) {\r\n\t\t\t\tlet gradient = context.createLinearGradient(0, opts.area[0], 0, opts.height - opts.area[2]);\r\n\t\t\t\tgradient.addColorStop('0', hexToRgb(eachSeries.color, areaOption.opacity));\r\n\t\t\t\tgradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n\t\t\t\tcontext.setFillStyle(gradient);\r\n\t\t\t} else {\r\n\t\t\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n\t\t\t}\r\n\t\t\tcontext.setLineWidth(areaOption.width * opts.pixelRatio);\r\n\t\t\tif (points.length > 1) {\r\n\t\t\t\tlet firstPoint = points[0];\r\n\t\t\t\tlet lastPoint = points[points.length - 1];\r\n\t\t\t\tcontext.moveTo(firstPoint.x, firstPoint.y);\r\n\t\t\t\tlet startPoint = 0;\r\n\t\t\t\tif (areaOption.type === 'curve') {\r\n\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\tlet ctrlPoint = createCurveControlPoints(points, j - 1);\r\n\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x,\r\n\t\t\t\t\t\t\t\tctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontext.lineTo(lastPoint.x, endY);\r\n\t\t\t\tcontext.lineTo(firstPoint.x, endY);\r\n\t\t\t\tcontext.lineTo(firstPoint.x, firstPoint.y);\r\n\t\t\t} else {\r\n\t\t\t\tlet item = points[0];\r\n\t\t\t\tcontext.moveTo(item.x - eachSpacing / 2, item.y);\r\n\t\t\t\tcontext.lineTo(item.x + eachSpacing / 2, item.y);\r\n\t\t\t\tcontext.lineTo(item.x + eachSpacing / 2, endY);\r\n\t\t\t\tcontext.lineTo(item.x - eachSpacing / 2, endY);\r\n\t\t\t\tcontext.moveTo(item.x - eachSpacing / 2, item.y);\r\n\t\t\t}\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\r\n\t\t\t//画连线\r\n\t\t\tif (areaOption.addLine) {\r\n\t\t\t\tif (eachSeries.lineType == 'dash') {\r\n\t\t\t\t\tlet dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n\t\t\t\t\tdashLength *= opts.pixelRatio;\r\n\t\t\t\t\tcontext.setLineDash([dashLength, dashLength]);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setLineWidth(areaOption.width * opts.pixelRatio);\r\n\t\t\t\tif (points.length === 1) {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tlet startPoint = 0;\r\n\t\t\t\t\tif (areaOption.type === 'curve') {\r\n\t\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\t\tlet ctrlPoint = createCurveControlPoints(points, j - 1);\r\n\t\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x,\r\n\t\t\t\t\t\t\t\t\tctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.setLineDash([]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//画点\r\n\t\tif (opts.dataPointShape !== false) {\r\n\t\t\tdrawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\t\tlet ranges, minRange, maxRange;\r\n\t\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\t\tminRange = ranges.pop();\r\n\t\t\tmaxRange = ranges.shift();\r\n\t\t\tvar data = eachSeries.data;\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\tprocess);\r\n\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t});\r\n\t}\r\n\r\n\tcontext.restore();\r\n\r\n\treturn {\r\n\t\txAxisPoints: xAxisPoints,\r\n\t\tcalPoints: calPoints,\r\n\t\teachSpacing: eachSpacing\r\n\t};\r\n}\r\n\r\nfunction drawLineDataPoints(series, opts, config, context) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar lineOption = assign({}, {\r\n\t\ttype: 'straight',\r\n\t\twidth: 2\r\n\t}, opts.extra.line);\r\n\tlineOption.width *= opts.pixelRatio;\r\n\r\n\tlet xAxisData = opts.chartData.xAxisData,\r\n\t\txAxisPoints = xAxisData.xAxisPoints,\r\n\t\teachSpacing = xAxisData.eachSpacing;\r\n\tvar calPoints = [];\r\n\r\n\tcontext.save();\r\n\tlet leftSpace = 0;\r\n\tlet rightSpace = opts.width + eachSpacing;\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t\tleftSpace = -opts._scrollDistance_ - eachSpacing + opts.area[3];\r\n\t\trightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n\t}\r\n\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tlet ranges, minRange, maxRange;\r\n\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\tminRange = ranges.pop();\r\n\t\tmaxRange = ranges.shift();\r\n\t\tvar data = eachSeries.data;\r\n\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\tcalPoints.push(points);\r\n\t\tvar splitPointList = splitPoints(points);\r\n\r\n\t\tif (eachSeries.lineType == 'dash') {\r\n\t\t\tlet dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n\t\t\tdashLength *= opts.pixelRatio;\r\n\t\t\tcontext.setLineDash([dashLength, dashLength]);\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\tcontext.setLineWidth(lineOption.width);\r\n\r\n\t\tsplitPointList.forEach(function(points, index) {\r\n\r\n\t\t\tif (points.length === 1) {\r\n\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t} else {\r\n\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\tlet startPoint = 0;\r\n\t\t\t\tif (lineOption.type === 'curve') {\r\n\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, j - 1);\r\n\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x,\r\n\t\t\t\t\t\t\t\tctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tcontext.stroke();\r\n\t\tcontext.setLineDash([]);\r\n\r\n\t\tif (opts.dataPointShape !== false) {\r\n\t\t\tdrawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n\t\t}\r\n\t});\r\n\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\t\tlet ranges, minRange, maxRange;\r\n\t\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\t\tminRange = ranges.pop();\r\n\t\t\tmaxRange = ranges.shift();\r\n\t\t\tvar data = eachSeries.data;\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\tprocess);\r\n\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t});\r\n\t}\r\n\r\n\tcontext.restore();\r\n\r\n\treturn {\r\n\t\txAxisPoints: xAxisPoints,\r\n\t\tcalPoints: calPoints,\r\n\t\teachSpacing: eachSpacing\r\n\t};\r\n}\r\n\r\nfunction drawMixDataPoints(series, opts, config, context) {\r\n\tlet process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\r\n\tlet xAxisData = opts.chartData.xAxisData,\r\n\t\txAxisPoints = xAxisData.xAxisPoints,\r\n\t\teachSpacing = xAxisData.eachSpacing;\r\n\r\n\tlet endY = opts.height - opts.area[2];\r\n\tlet calPoints = [];\r\n\r\n\tvar columnIndex = 0;\r\n\tvar columnLength = 0;\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tif (eachSeries.type == 'column') {\r\n\t\t\tcolumnLength += 1;\r\n\t\t}\r\n\t});\r\n\tcontext.save();\r\n\tlet leftNum = -2;\r\n\tlet rightNum = xAxisPoints.length + 2;\r\n\tlet leftSpace = 0;\r\n\tlet rightSpace = opts.width + eachSpacing;\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t\tleftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n\t\trightNum = leftNum + opts.xAxis.itemCount + 4;\r\n\t\tleftSpace = -opts._scrollDistance_ - eachSpacing + opts.area[3];\r\n\t\trightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n\t}\r\n\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tlet ranges, minRange, maxRange;\r\n\r\n\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\tminRange = ranges.pop();\r\n\t\tmaxRange = ranges.shift();\r\n\r\n\t\tvar data = eachSeries.data;\r\n\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n\t\tcalPoints.push(points);\r\n\r\n\t\t// 绘制柱状数据图\r\n\t\tif (eachSeries.type == 'column') {\r\n\t\t\tpoints = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\tlet item = points[i];\r\n\t\t\t\tif (item !== null && i > leftNum && i < rightNum) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setStrokeStyle(item.color || eachSeries.color);\r\n\t\t\t\t\tcontext.setLineWidth(1)\r\n\t\t\t\t\tcontext.setFillStyle(item.color || eachSeries.color);\r\n\t\t\t\t\tvar startX = item.x - item.width / 2;\r\n\t\t\t\t\tvar height = opts.height - item.y - opts.area[2];\r\n\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\tcontext.moveTo(startX, item.y);\r\n\t\t\t\t\tcontext.lineTo(startX + item.width - 2, item.y);\r\n\t\t\t\t\tcontext.lineTo(startX + item.width - 2, opts.height - opts.area[2]);\r\n\t\t\t\t\tcontext.lineTo(startX, opts.height - opts.area[2]);\r\n\t\t\t\t\tcontext.lineTo(startX, item.y);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcolumnIndex += 1;\r\n\t\t}\r\n\r\n\t\t//绘制区域图数据\r\n\r\n\t\tif (eachSeries.type == 'area') {\r\n\t\t\tlet splitPointList = splitPoints(points);\r\n\t\t\tfor (let i = 0; i < splitPointList.length; i++) {\r\n\t\t\t\tlet points = splitPointList[i];\r\n\t\t\t\t// 绘制区域数据\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, 0.2));\r\n\t\t\t\tcontext.setLineWidth(2 * opts.pixelRatio);\r\n\t\t\t\tif (points.length > 1) {\r\n\t\t\t\t\tvar firstPoint = points[0];\r\n\t\t\t\t\tlet lastPoint = points[points.length - 1];\r\n\t\t\t\t\tcontext.moveTo(firstPoint.x, firstPoint.y);\r\n\t\t\t\t\tlet startPoint = 0;\r\n\t\t\t\t\tif (eachSeries.style === 'curve') {\r\n\t\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, j - 1);\r\n\t\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x,\r\n\t\t\t\t\t\t\t\t\tctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.lineTo(lastPoint.x, endY);\r\n\t\t\t\t\tcontext.lineTo(firstPoint.x, endY);\r\n\t\t\t\t\tcontext.lineTo(firstPoint.x, firstPoint.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet item = points[0];\r\n\t\t\t\t\tcontext.moveTo(item.x - eachSpacing / 2, item.y);\r\n\t\t\t\t\tcontext.lineTo(item.x + eachSpacing / 2, item.y);\r\n\t\t\t\t\tcontext.lineTo(item.x + eachSpacing / 2, endY);\r\n\t\t\t\t\tcontext.lineTo(item.x - eachSpacing / 2, endY);\r\n\t\t\t\t\tcontext.moveTo(item.x - eachSpacing / 2, item.y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.fill();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 绘制折线数据图\r\n\t\tif (eachSeries.type == 'line') {\r\n\t\t\tvar splitPointList = splitPoints(points);\r\n\t\t\tsplitPointList.forEach(function(points, index) {\r\n\t\t\t\tif (eachSeries.lineType == 'dash') {\r\n\t\t\t\t\tlet dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n\t\t\t\t\tdashLength *= opts.pixelRatio;\r\n\t\t\t\t\tcontext.setLineDash([dashLength, dashLength]);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\t\t\tcontext.setLineWidth(2 * opts.pixelRatio);\r\n\t\t\t\tif (points.length === 1) {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tcontext.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t\tlet startPoint = 0;\r\n\t\t\t\t\tif (eachSeries.style == 'curve') {\r\n\t\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\t\tvar ctrlPoint = createCurveControlPoints(points, j - 1);\r\n\t\t\t\t\t\t\t\tcontext.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB\r\n\t\t\t\t\t\t\t\t\t.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (let j = 0; j < points.length; j++) {\r\n\t\t\t\t\t\t\tlet item = points[j];\r\n\t\t\t\t\t\t\tif (startPoint == 0 && item.x > leftSpace) {\r\n\t\t\t\t\t\t\t\tcontext.moveTo(item.x, item.y);\r\n\t\t\t\t\t\t\t\tstartPoint = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n\t\t\t\t\t\t\t\tcontext.lineTo(item.x, item.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.moveTo(points[0].x, points[0].y);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.setLineDash([]);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// 绘制点数据图\r\n\t\tif (eachSeries.type == 'point') {\r\n\t\t\teachSeries.addPoint = true;\r\n\t\t}\r\n\r\n\t\tif (eachSeries.addPoint == true && eachSeries.type !== 'column') {\r\n\t\t\tdrawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n\t\t}\r\n\t});\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tvar columnIndex = 0;\r\n\t\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\t\tlet ranges, minRange, maxRange;\r\n\r\n\t\t\tranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n\t\t\tminRange = ranges.pop();\r\n\t\t\tmaxRange = ranges.shift();\r\n\r\n\t\t\tvar data = eachSeries.data;\r\n\t\t\tvar points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config,\r\n\t\t\t\tprocess);\r\n\t\t\tif (eachSeries.type !== 'column') {\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t} else {\r\n\t\t\t\tpoints = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n\t\t\t\tdrawPointText(points, eachSeries, config, context);\r\n\t\t\t\tcolumnIndex += 1;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tcontext.restore();\r\n\r\n\treturn {\r\n\t\txAxisPoints: xAxisPoints,\r\n\t\tcalPoints: calPoints,\r\n\t\teachSpacing: eachSpacing,\r\n\t}\r\n}\r\n\r\nfunction drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints) {\r\n\tvar toolTipOption = opts.extra.tooltip || {};\r\n\tif (toolTipOption.horizentalLine && opts.tooltip && process === 1 && (opts.type == 'line' || opts.type == 'area' ||\r\n\t\t\topts.type == 'column' || opts.type == 'candle' || opts.type == 'mix')) {\r\n\t\tdrawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints)\r\n\t}\r\n\tcontext.save();\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t}\r\n\tif (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n\t\tdrawToolTip(opts.tooltip.textList, opts.tooltip.offset, opts, config, context, eachSpacing, xAxisPoints);\r\n\t}\r\n\tcontext.restore();\r\n\r\n}\r\n\r\nfunction drawXAxis(categories, opts, config, context) {\r\n\r\n\tlet xAxisData = opts.chartData.xAxisData,\r\n\t\txAxisPoints = xAxisData.xAxisPoints,\r\n\t\tstartX = xAxisData.startX,\r\n\t\tendX = xAxisData.endX,\r\n\t\teachSpacing = xAxisData.eachSpacing;\r\n\tvar boundaryGap = 'center';\r\n\tif (opts.type == 'line' || opts.type == 'area') {\r\n\t\tboundaryGap = opts.xAxis.boundaryGap;\r\n\t}\r\n\tvar startY = opts.height - opts.area[2];\r\n\tvar endY = opts.area[0];\r\n\r\n\t//绘制滚动条\r\n\tif (opts.enableScroll && opts.xAxis.scrollShow) {\r\n\t\tvar scrollY = opts.height - opts.area[2] + config.xAxisHeight;\r\n\t\tvar scrollScreenWidth = endX - startX;\r\n\t\tvar scrollTotalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n\t\tvar scrollWidth = scrollScreenWidth * scrollScreenWidth / scrollTotalWidth;\r\n\t\tvar scrollLeft = 0;\r\n\t\tif (opts._scrollDistance_) {\r\n\t\t\tscrollLeft = -opts._scrollDistance_ * (scrollScreenWidth) / scrollTotalWidth;\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.setLineWidth(6 * opts.pixelRatio);\r\n\t\tcontext.setStrokeStyle(opts.xAxis.scrollBackgroundColor || \"#EFEBEF\");\r\n\t\tcontext.moveTo(startX, scrollY);\r\n\t\tcontext.lineTo(endX, scrollY);\r\n\t\tcontext.stroke();\r\n\t\tcontext.closePath();\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.setLineWidth(6 * opts.pixelRatio);\r\n\t\tcontext.setStrokeStyle(opts.xAxis.scrollColor || \"#A6A6A6\");\r\n\t\tcontext.moveTo(startX + scrollLeft, scrollY);\r\n\t\tcontext.lineTo(startX + scrollLeft + scrollWidth, scrollY);\r\n\t\tcontext.stroke();\r\n\t\tcontext.closePath();\r\n\t\tcontext.setLineCap('butt');\r\n\t}\r\n\r\n\tcontext.save();\r\n\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t}\r\n\r\n\t//绘制X轴刻度线\r\n\tif (opts.xAxis.calibration === true) {\r\n\t\tcontext.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n\t\tcontext.setLineCap('butt');\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\txAxisPoints.forEach(function(item, index) {\r\n\t\t\tif (index > 0) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.moveTo(item - eachSpacing / 2, startY);\r\n\t\t\t\tcontext.lineTo(item - eachSpacing / 2, startY + 3 * opts.pixelRatio);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//绘制X轴网格\r\n\tif (opts.xAxis.disableGrid !== true) {\r\n\t\tcontext.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n\t\tcontext.setLineCap('butt');\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\tif (opts.xAxis.gridType == 'dash') {\r\n\t\t\tcontext.setLineDash([opts.xAxis.dashLength, opts.xAxis.dashLength]);\r\n\t\t}\r\n\t\topts.xAxis.gridEval = opts.xAxis.gridEval || 1;\r\n\t\txAxisPoints.forEach(function(item, index) {\r\n\t\t\tif (index % opts.xAxis.gridEval == 0) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.moveTo(item, startY);\r\n\t\t\t\tcontext.lineTo(item, endY);\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t});\r\n\t\tcontext.setLineDash([]);\r\n\t}\r\n\r\n\r\n\t//绘制X轴文案\r\n\tif (opts.xAxis.disabled !== true) {\r\n\t\t// 对X轴列表做抽稀处理\r\n\t\t//默认全部显示X轴标签\r\n\t\tlet maxXAxisListLength = categories.length;\r\n\t\t//如果设置了X轴单屏数量\r\n\t\tif (opts.xAxis.labelCount) {\r\n\t\t\t//如果设置X轴密度\r\n\t\t\tif (opts.xAxis.itemCount) {\r\n\t\t\t\tmaxXAxisListLength = Math.ceil(categories.length / opts.xAxis.itemCount * opts.xAxis.labelCount);\r\n\t\t\t} else {\r\n\t\t\t\tmaxXAxisListLength = opts.xAxis.labelCount;\r\n\t\t\t}\r\n\t\t\tmaxXAxisListLength -= 1;\r\n\t\t}\r\n\r\n\t\tlet ratio = Math.ceil(categories.length / maxXAxisListLength);\r\n\r\n\t\tlet newCategories = [];\r\n\t\tlet cgLength = categories.length;\r\n\t\tfor (let i = 0; i < cgLength; i++) {\r\n\t\t\tif (i % ratio !== 0) {\r\n\t\t\t\tnewCategories.push(\"\");\r\n\t\t\t} else {\r\n\t\t\t\tnewCategories.push(categories[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tnewCategories[cgLength - 1] = categories[cgLength - 1];\r\n\r\n\t\tvar xAxisFontSize = opts.xAxis.fontSize || config.fontSize;\r\n\t\tif (config._xAxisTextAngle_ === 0) {\r\n\t\t\tnewCategories.forEach(function(item, index) {\r\n\t\t\t\tvar offset = -measureText(String(item), xAxisFontSize) / 2;\r\n\t\t\t\tif (boundaryGap == 'center') {\r\n\t\t\t\t\toffset += eachSpacing / 2;\r\n\t\t\t\t}\r\n\t\t\t\tvar scrollHeight = 0;\r\n\t\t\t\tif (opts.xAxis.scrollShow) {\r\n\t\t\t\t\tscrollHeight = 6 * opts.pixelRatio;\r\n\t\t\t\t}\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(xAxisFontSize);\r\n\t\t\t\tcontext.setFillStyle(opts.xAxis.fontColor || '#666666');\r\n\t\t\t\tcontext.fillText(String(item), xAxisPoints[index] + offset, startY + xAxisFontSize + (config\r\n\t\t\t\t\t.xAxisHeight - scrollHeight - xAxisFontSize) / 2);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tnewCategories.forEach(function(item, index) {\r\n\t\t\t\tcontext.save();\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(xAxisFontSize);\r\n\t\t\t\tcontext.setFillStyle(opts.xAxis.fontColor || '#666666');\r\n\t\t\t\tvar textWidth = measureText(String(item), xAxisFontSize);\r\n\t\t\t\tvar offset = -textWidth;\r\n\t\t\t\tif (boundaryGap == 'center') {\r\n\t\t\t\t\toffset += eachSpacing / 2;\r\n\t\t\t\t}\r\n\t\t\t\tvar _calRotateTranslate = calRotateTranslate(xAxisPoints[index] + eachSpacing / 2, startY +\r\n\t\t\t\t\t\txAxisFontSize / 2 + 5, opts.height),\r\n\t\t\t\t\ttransX = _calRotateTranslate.transX,\r\n\t\t\t\t\ttransY = _calRotateTranslate.transY;\r\n\r\n\t\t\t\tcontext.rotate(-1 * config._xAxisTextAngle_);\r\n\t\t\t\tcontext.translate(transX, transY);\r\n\t\t\t\tcontext.fillText(String(item), xAxisPoints[index] + offset, startY + xAxisFontSize + 5);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t\tcontext.restore();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tcontext.restore();\r\n\r\n\t//绘制X轴轴线\r\n\tif (opts.xAxis.axisLine) {\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setStrokeStyle(opts.xAxis.axisLineColor);\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\tcontext.moveTo(startX, opts.height - opts.area[2]);\r\n\t\tcontext.lineTo(endX, opts.height - opts.area[2]);\r\n\t\tcontext.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawYAxisGrid(categories, opts, config, context) {\r\n\tif (opts.yAxis.disableGrid === true) {\r\n\t\treturn;\r\n\t}\r\n\tlet spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n\tlet eachSpacing = spacingValid / opts.yAxis.splitNumber;\r\n\tlet startX = opts.area[3];\r\n\tlet xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\r\n\t\txAxiseachSpacing = opts.chartData.xAxisData.eachSpacing;\r\n\tlet TotalWidth = xAxiseachSpacing * (xAxisPoints.length - 1);\r\n\tlet endX = startX + TotalWidth;\r\n\r\n\tlet points = [];\r\n\tfor (let i = 0; i < opts.yAxis.splitNumber + 1; i++) {\r\n\t\tpoints.push(opts.height - opts.area[2] - eachSpacing * i);\r\n\t}\r\n\r\n\tcontext.save();\r\n\tif (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n\t\tcontext.translate(opts._scrollDistance_, 0);\r\n\t}\r\n\r\n\tif (opts.yAxis.gridType == 'dash') {\r\n\t\tcontext.setLineDash([opts.yAxis.dashLength, opts.yAxis.dashLength]);\r\n\t}\r\n\tcontext.setStrokeStyle(opts.yAxis.gridColor);\r\n\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\tpoints.forEach(function(item, index) {\r\n\t\tcontext.beginPath();\r\n\t\tcontext.moveTo(startX, item);\r\n\t\tcontext.lineTo(endX, item);\r\n\t\tcontext.stroke();\r\n\t});\r\n\tcontext.setLineDash([]);\r\n\r\n\tcontext.restore();\r\n}\r\n\r\nfunction drawYAxis(series, opts, config, context) {\r\n\tif (opts.yAxis.disabled === true) {\r\n\t\treturn;\r\n\t}\r\n\tvar spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n\tvar eachSpacing = spacingValid / opts.yAxis.splitNumber;\r\n\tvar startX = opts.area[3];\r\n\tvar endX = opts.width - opts.area[1];\r\n\tvar endY = opts.height - opts.area[2];\r\n\tvar fillEndY = endY + config.xAxisHeight;\r\n\tif (opts.xAxis.scrollShow) {\r\n\t\tfillEndY -= 3 * opts.pixelRatio;\r\n\t}\r\n\tif (opts.xAxis.rotateLabel) {\r\n\t\tfillEndY = opts.height - opts.area[2] + 3;\r\n\t}\r\n\t// set YAxis background\r\n\tcontext.beginPath();\r\n\tcontext.setFillStyle(opts.background || '#ffffff');\r\n\tif (opts._scrollDistance_ < 0) {\r\n\t\tcontext.fillRect(0, 0, startX, fillEndY);\r\n\t}\r\n\tif (opts.enableScroll == true) {\r\n\t\tcontext.fillRect(endX, 0, opts.width, fillEndY);\r\n\t}\r\n\tcontext.closePath();\r\n\tcontext.stroke();\r\n\r\n\tvar points = [];\r\n\tfor (let i = 0; i <= opts.yAxis.splitNumber; i++) {\r\n\t\tpoints.push(opts.area[0] + eachSpacing * i);\r\n\t}\r\n\r\n\tlet tStartLeft = opts.area[3];\r\n\tlet tStartRight = opts.width - opts.area[1];\r\n\r\n\tfor (let i = 0; i < opts.yAxis.data.length; i++) {\r\n\t\tlet yData = opts.yAxis.data[i];\r\n\t\tif (yData.disabled !== true) {\r\n\t\t\tlet rangesFormat = opts.chartData.yAxisData.rangesFormat[i];\r\n\t\t\tlet yAxisFontSize = yData.fontSize || config.fontSize;\r\n\t\t\tlet yAxisWidth = opts.chartData.yAxisData.yAxisWidth[i];\r\n\t\t\t//画Y轴刻度及文案\r\n\t\t\trangesFormat.forEach(function(item, index) {\r\n\t\t\t\tvar pos = points[index] ? points[index] : endY;\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(yAxisFontSize);\r\n\t\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\t\tcontext.setStrokeStyle(yData.axisLineColor || '#cccccc');\r\n\t\t\t\tcontext.setFillStyle(yData.fontColor || '#666666');\r\n\t\t\t\tif (yAxisWidth.position == 'left') {\r\n\t\t\t\t\tcontext.fillText(String(item), tStartLeft - yAxisWidth.width, pos + yAxisFontSize / 2);\r\n\t\t\t\t\t//画刻度线\r\n\t\t\t\t\tif (yData.calibration == true) {\r\n\t\t\t\t\t\tcontext.moveTo(tStartLeft, pos);\r\n\t\t\t\t\t\tcontext.lineTo(tStartLeft - 3 * opts.pixelRatio, pos);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.fillText(String(item), tStartRight + 4 * opts.pixelRatio, pos + yAxisFontSize / 2);\r\n\t\t\t\t\t//画刻度线\r\n\t\t\t\t\tif (yData.calibration == true) {\r\n\t\t\t\t\t\tcontext.moveTo(tStartRight, pos);\r\n\t\t\t\t\t\tcontext.lineTo(tStartRight + 3 * opts.pixelRatio, pos);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t});\r\n\t\t\t//画Y轴轴线\r\n\t\t\tif (yData.axisLine !== false) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setStrokeStyle(yData.axisLineColor || '#cccccc');\r\n\t\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\t\tif (yAxisWidth.position == 'left') {\r\n\t\t\t\t\tcontext.moveTo(tStartLeft, opts.height - opts.area[2]);\r\n\t\t\t\t\tcontext.lineTo(tStartLeft, opts.area[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.moveTo(tStartRight, opts.height - opts.area[2]);\r\n\t\t\t\t\tcontext.lineTo(tStartRight, opts.area[0]);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\r\n\t\t\t//画Y轴标题\r\n\t\t\tif (opts.yAxis.showTitle) {\r\n\r\n\t\t\t\tlet titleFontSize = yData.titleFontSize || config.fontSize;\r\n\t\t\t\tlet title = yData.title;\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(titleFontSize);\r\n\t\t\t\tcontext.setFillStyle(yData.titleFontColor || '#666666');\r\n\t\t\t\tif (yAxisWidth.position == 'left') {\r\n\t\t\t\t\tcontext.fillText(title, tStartLeft - measureText(title, titleFontSize) / 2, opts.area[0] - 10 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.fillText(title, tStartRight - measureText(title, titleFontSize) / 2, opts.area[0] - 10 *\r\n\t\t\t\t\t\topts.pixelRatio);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t\tif (yAxisWidth.position == 'left') {\r\n\t\t\t\ttStartLeft -= (yAxisWidth.width + opts.yAxis.padding);\r\n\t\t\t} else {\r\n\t\t\t\ttStartRight += yAxisWidth.width + opts.yAxis.padding;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction drawLegend(series, opts, config, context, chartData) {\r\n\tif (opts.legend.show === false) {\r\n\t\treturn;\r\n\t}\r\n\tlet legendData = chartData.legendData;\r\n\tlet legendList = legendData.points;\r\n\tlet legendArea = legendData.area;\r\n\tlet padding = opts.legend.padding;\r\n\tlet fontSize = opts.legend.fontSize;\r\n\tlet shapeWidth = 15 * opts.pixelRatio;\r\n\tlet shapeRight = 5 * opts.pixelRatio;\r\n\tlet itemGap = opts.legend.itemGap;\r\n\tlet lineHeight = Math.max(opts.legend.lineHeight * opts.pixelRatio, fontSize);\r\n\r\n\t//画背景及边框\r\n\tcontext.beginPath();\r\n\tcontext.setLineWidth(opts.legend.borderWidth);\r\n\tcontext.setStrokeStyle(opts.legend.borderColor);\r\n\tcontext.setFillStyle(opts.legend.backgroundColor);\r\n\tcontext.moveTo(legendArea.start.x, legendArea.start.y);\r\n\tcontext.rect(legendArea.start.x, legendArea.start.y, legendArea.width, legendArea.height);\r\n\tcontext.closePath();\r\n\tcontext.fill();\r\n\tcontext.stroke();\r\n\r\n\tlegendList.forEach(function(itemList, listIndex) {\r\n\t\tlet width = 0;\r\n\t\tlet height = 0;\r\n\t\twidth = legendData.widthArr[listIndex];\r\n\t\theight = legendData.heightArr[listIndex];\r\n\t\tlet startX = 0;\r\n\t\tlet startY = 0;\r\n\t\tif (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n\t\t\tstartX = legendArea.start.x + (legendArea.width - width) / 2;\r\n\t\t\tstartY = legendArea.start.y + padding + listIndex * lineHeight;\r\n\t\t} else {\r\n\t\t\tif (listIndex == 0) {\r\n\t\t\t\twidth = 0;\r\n\t\t\t} else {\r\n\t\t\t\twidth = legendData.widthArr[listIndex - 1];\r\n\t\t\t}\r\n\t\t\tstartX = legendArea.start.x + padding + width;\r\n\t\t\tstartY = legendArea.start.y + padding + (legendArea.height - height) / 2;\r\n\t\t}\r\n\r\n\t\tcontext.setFontSize(config.fontSize);\r\n\t\tfor (let i = 0; i < itemList.length; i++) {\r\n\t\t\tlet item = itemList[i];\r\n\t\t\titem.area = [0, 0, 0, 0];\r\n\t\t\titem.area[0] = startX;\r\n\t\t\titem.area[1] = startY;\r\n\t\t\titem.area[3] = startY + lineHeight;\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\tcontext.setStrokeStyle(item.show ? item.color : opts.legend.hiddenColor);\r\n\t\t\tcontext.setFillStyle(item.show ? item.color : opts.legend.hiddenColor);\r\n\t\t\tswitch (item.legendShape) {\r\n\t\t\t\tcase 'line':\r\n\t\t\t\t\tcontext.moveTo(startX, startY + 0.5 * lineHeight - 2 * opts.pixelRatio);\r\n\t\t\t\t\tcontext.fillRect(startX, startY + 0.5 * lineHeight - 2 * opts.pixelRatio, 15 * opts\r\n\t\t\t\t\t\t.pixelRatio, 4 * opts.pixelRatio);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'triangle':\r\n\t\t\t\t\tcontext.moveTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tcontext.lineTo(startX + 2.5 * opts.pixelRatio, startY + 0.5 * lineHeight + 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tcontext.lineTo(startX + 12.5 * opts.pixelRatio, startY + 0.5 * lineHeight + 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tcontext.lineTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'diamond':\r\n\t\t\t\t\tcontext.moveTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tcontext.lineTo(startX + 2.5 * opts.pixelRatio, startY + 0.5 * lineHeight);\r\n\t\t\t\t\tcontext.lineTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight + 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tcontext.lineTo(startX + 12.5 * opts.pixelRatio, startY + 0.5 * lineHeight);\r\n\t\t\t\t\tcontext.lineTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight - 5 * opts\r\n\t\t\t\t\t\t.pixelRatio);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'circle':\r\n\t\t\t\t\tcontext.moveTo(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight);\r\n\t\t\t\t\tcontext.arc(startX + 7.5 * opts.pixelRatio, startY + 0.5 * lineHeight, 5 * opts.pixelRatio,\r\n\t\t\t\t\t\t0, 2 * Math.PI);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'rect':\r\n\t\t\t\t\tcontext.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\r\n\t\t\t\t\tcontext.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio, 15 * opts\r\n\t\t\t\t\t\t.pixelRatio, 10 * opts.pixelRatio);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcontext.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio);\r\n\t\t\t\t\tcontext.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pixelRatio, 15 * opts\r\n\t\t\t\t\t\t.pixelRatio, 10 * opts.pixelRatio);\r\n\t\t\t}\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.stroke();\r\n\r\n\t\t\tstartX += shapeWidth + shapeRight;\r\n\t\t\tlet fontTrans = 0.5 * lineHeight + 0.5 * fontSize - 2;\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(fontSize);\r\n\t\t\tcontext.setFillStyle(item.show ? opts.legend.fontColor : opts.legend.hiddenColor);\r\n\t\t\tcontext.fillText(item.name, startX, startY + fontTrans);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t\tif (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n\t\t\t\tstartX += measureText(item.name, fontSize) + itemGap;\r\n\t\t\t\titem.area[2] = startX;\r\n\t\t\t} else {\r\n\t\t\t\titem.area[2] = startX + measureText(item.name, fontSize) + itemGap;;\r\n\t\t\t\tstartX -= shapeWidth + shapeRight;\r\n\t\t\t\tstartY += lineHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction drawPieDataPoints(series, opts, config, context) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar pieOption = assign({}, {\r\n\t\tactiveOpacity: 0.5,\r\n\t\tactiveRadius: 10 * opts.pixelRatio,\r\n\t\toffsetAngle: 0,\r\n\t\tlabelWidth: 15 * opts.pixelRatio,\r\n\t\tringWidth: 0,\r\n\t\tborder: false,\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#FFFFFF'\r\n\t}, opts.extra.pie);\r\n\tvar centerPosition = {\r\n\t\tx: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n\t\ty: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n\t};\r\n\tif (config.pieChartLinePadding == 0) {\r\n\t\tconfig.pieChartLinePadding = pieOption.activeRadius;\r\n\t}\r\n\r\n\tvar radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config\r\n\t\t.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config\r\n\t\t.pieChartLinePadding - config.pieChartTextPadding);\r\n\r\n\tseries = getPieDataPoints(series, radius, process);\r\n\r\n\tvar activeRadius = pieOption.activeRadius;\r\n\r\n\tseries = series.map(function(eachSeries) {\r\n\t\teachSeries._start_ += (pieOption.offsetAngle) * Math.PI / 180;\r\n\t\treturn eachSeries;\r\n\t});\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tif (opts.tooltip) {\r\n\t\t\tif (opts.tooltip.index == seriesIndex) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, opts.extra.pie.activeOpacity || 0.5));\r\n\t\t\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\t\t\tcontext.arc(centerPosition.x, centerPosition.y, eachSeries._radius_ + activeRadius, eachSeries\r\n\t\t\t\t\t._start_,\r\n\t\t\t\t\teachSeries._start_ + 2 *\r\n\t\t\t\t\teachSeries._proportion_ * Math.PI);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.fill();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineWidth(pieOption.borderWidth * opts.pixelRatio);\r\n\t\tcontext.lineJoin = \"round\";\r\n\t\tcontext.setStrokeStyle(pieOption.borderColor);\r\n\t\tcontext.setFillStyle(eachSeries.color);\r\n\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries\r\n\t\t\t._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t\tif (pieOption.border == true) {\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\t});\r\n\r\n\tif (opts.type === 'ring') {\r\n\t\tvar innerPieWidth = radius * 0.6;\r\n\t\tif (typeof opts.extra.pie.ringWidth === 'number' && opts.extra.pie.ringWidth > 0) {\r\n\t\t\tinnerPieWidth = Math.max(0, radius - opts.extra.pie.ringWidth);\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFillStyle(opts.background || '#ffffff');\r\n\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, innerPieWidth, 0, 2 * Math.PI);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t}\r\n\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tvar valid = false;\r\n\t\tfor (var i = 0, len = series.length; i < len; i++) {\r\n\t\t\tif (series[i].data > 0) {\r\n\t\t\t\tvalid = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (valid) {\r\n\t\t\tdrawPieText(series, opts, config, context, radius, centerPosition);\r\n\t\t}\r\n\t}\r\n\r\n\tif (process === 1 && opts.type === 'ring') {\r\n\t\tdrawRingTitle(opts, config, context, centerPosition);\r\n\t}\r\n\r\n\treturn {\r\n\t\tcenter: centerPosition,\r\n\t\tradius: radius,\r\n\t\tseries: series\r\n\t};\r\n}\r\n\r\nfunction drawRoseDataPoints(series, opts, config, context) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar roseOption = assign({}, {\r\n\t\ttype: 'area',\r\n\t\tactiveOpacity: 0.5,\r\n\t\tactiveRadius: 10 * opts.pixelRatio,\r\n\t\toffsetAngle: 0,\r\n\t\tlabelWidth: 15 * opts.pixelRatio,\r\n\t\tborder: false,\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#FFFFFF'\r\n\t}, opts.extra.rose);\r\n\tif (config.pieChartLinePadding == 0) {\r\n\t\tconfig.pieChartLinePadding = roseOption.activeRadius;\r\n\t}\r\n\tvar centerPosition = {\r\n\t\tx: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n\t\ty: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n\t};\r\n\tvar radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config\r\n\t\t.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config\r\n\t\t.pieChartLinePadding - config.pieChartTextPadding);\r\n\tvar minRadius = roseOption.minRadius || radius * 0.5;\r\n\r\n\tseries = getRoseDataPoints(series, roseOption.type, minRadius, radius, process);\r\n\r\n\tvar activeRadius = roseOption.activeRadius;\r\n\r\n\tseries = series.map(function(eachSeries) {\r\n\t\teachSeries._start_ += (roseOption.offsetAngle || 0) * Math.PI / 180;\r\n\t\treturn eachSeries;\r\n\t});\r\n\r\n\tseries.forEach(function(eachSeries, seriesIndex) {\r\n\t\tif (opts.tooltip) {\r\n\t\t\tif (opts.tooltip.index == seriesIndex) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, roseOption.activeOpacity || 0.5));\r\n\t\t\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\t\t\tcontext.arc(centerPosition.x, centerPosition.y, activeRadius + eachSeries._radius_, eachSeries\r\n\t\t\t\t\t._start_,\r\n\t\t\t\t\teachSeries._start_ + 2 * eachSeries._rose_proportion_ * Math.PI);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.fill();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineWidth(roseOption.borderWidth * opts.pixelRatio);\r\n\t\tcontext.lineJoin = \"round\";\r\n\t\tcontext.setStrokeStyle(roseOption.borderColor);\r\n\t\tcontext.setFillStyle(eachSeries.color);\r\n\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries\r\n\t\t\t._start_ + 2 *\r\n\t\t\teachSeries._rose_proportion_ * Math.PI);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t\tif (roseOption.border == true) {\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\t});\r\n\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tvar valid = false;\r\n\t\tfor (var i = 0, len = series.length; i < len; i++) {\r\n\t\t\tif (series[i].data > 0) {\r\n\t\t\t\tvalid = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (valid) {\r\n\t\t\tdrawPieText(series, opts, config, context, radius, centerPosition);\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tcenter: centerPosition,\r\n\t\tradius: radius,\r\n\t\tseries: series\r\n\t};\r\n}\r\n\r\nfunction drawArcbarDataPoints(series, opts, config, context) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar arcbarOption = assign({}, {\r\n\t\tstartAngle: 0.75,\r\n\t\tendAngle: 0.25,\r\n\t\ttype: 'default',\r\n\t\twidth: 12 * opts.pixelRatio,\r\n\t\tgap: 2 * opts.pixelRatio\r\n\t}, opts.extra.arcbar);\r\n\r\n\tseries = getArcbarDataPoints(series, arcbarOption, process);\r\n\r\n\tvar centerPosition;\r\n\tif (arcbarOption.center) {\r\n\t\tcenterPosition = arcbarOption.center;\r\n\t} else {\r\n\t\tcenterPosition = {\r\n\t\t\tx: opts.width / 2,\r\n\t\t\ty: opts.height / 2\r\n\t\t};\r\n\t}\r\n\r\n\tvar radius;\r\n\tif (arcbarOption.radius) {\r\n\t\tradius = arcbarOption.radius;\r\n\t} else {\r\n\t\tradius = Math.min(centerPosition.x, centerPosition.y);\r\n\t\tradius -= 5 * opts.pixelRatio;\r\n\t\tradius -= arcbarOption.width / 2;\r\n\t}\r\n\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet eachSeries = series[i];\r\n\t\t//背景颜色\r\n\t\tcontext.setLineWidth(arcbarOption.width);\r\n\t\tcontext.setStrokeStyle(arcbarOption.backgroundColor || '#E9E9E9');\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.beginPath();\r\n\t\tif (arcbarOption.type == 'default') {\r\n\t\t\tcontext.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width + arcbarOption.gap) * i,\r\n\t\t\t\tarcbarOption.startAngle * Math.PI, arcbarOption.endAngle * Math.PI, false);\r\n\t\t} else {\r\n\t\t\tcontext.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width + arcbarOption.gap) * i, 0, 2 *\r\n\t\t\t\tMath.PI, false);\r\n\t\t}\r\n\t\tcontext.stroke();\r\n\t\t//进度条\r\n\t\tcontext.setLineWidth(arcbarOption.width);\r\n\t\tcontext.setStrokeStyle(eachSeries.color);\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.beginPath();\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width + arcbarOption.gap) * i,\r\n\t\t\tarcbarOption.startAngle * Math.PI, eachSeries._proportion_ * Math.PI, false);\r\n\t\tcontext.stroke();\r\n\t}\r\n\r\n\tdrawRingTitle(opts, config, context, centerPosition);\r\n\r\n\treturn {\r\n\t\tcenter: centerPosition,\r\n\t\tradius: radius,\r\n\t\tseries: series\r\n\t};\r\n}\r\n\r\nfunction drawGaugeDataPoints(categories, series, opts, config, context) {\r\n\tvar process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n\tvar gaugeOption = assign({}, {\r\n\t\ttype: 'default',\r\n\t\tstartAngle: 0.75,\r\n\t\tendAngle: 0.25,\r\n\t\twidth: 15,\r\n\t\tsplitLine: {\r\n\t\t\tfixRadius: 0,\r\n\t\t\tsplitNumber: 10,\r\n\t\t\twidth: 15,\r\n\t\t\tcolor: '#FFFFFF',\r\n\t\t\tchildNumber: 5,\r\n\t\t\tchildWidth: 5\r\n\t\t},\r\n\t\tpointer: {\r\n\t\t\twidth: 15,\r\n\t\t\tcolor: 'auto'\r\n\t\t}\r\n\t}, opts.extra.gauge);\r\n\r\n\tif (gaugeOption.oldAngle == undefined) {\r\n\t\tgaugeOption.oldAngle = gaugeOption.startAngle;\r\n\t}\r\n\tif (gaugeOption.oldData == undefined) {\r\n\t\tgaugeOption.oldData = 0;\r\n\t}\r\n\tcategories = getGaugeAxisPoints(categories, gaugeOption.startAngle, gaugeOption.endAngle);\r\n\r\n\tvar centerPosition = {\r\n\t\tx: opts.width / 2,\r\n\t\ty: opts.height / 2\r\n\t};\r\n\tvar radius = Math.min(centerPosition.x, centerPosition.y);\r\n\tradius -= 5 * opts.pixelRatio;\r\n\tradius -= gaugeOption.width / 2;\r\n\tvar innerRadius = radius - gaugeOption.width;\r\n\tvar totalAngle = 0;\r\n\r\n\t//判断仪表盘的样式：default百度样式，progress新样式\r\n\tif (gaugeOption.type == 'progress') {\r\n\r\n\t\t//## 第一步画中心圆形背景和进度条背景\r\n\t\t//中心圆形背景\r\n\t\tvar pieRadius = radius - gaugeOption.width * 3;\r\n\t\tcontext.beginPath();\r\n\t\tlet gradient = context.createLinearGradient(centerPosition.x, centerPosition.y - pieRadius, centerPosition.x,\r\n\t\t\tcenterPosition.y + pieRadius);\r\n\t\t//配置渐变填充（起点：中心点向上减半径；结束点中心点向下加半径）\r\n\t\tgradient.addColorStop('0', hexToRgb(series[0].color, 0.3));\r\n\t\tgradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n\t\tcontext.setFillStyle(gradient);\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, pieRadius, 0, 2 * Math.PI, false);\r\n\t\tcontext.fill();\r\n\t\t//画进度条背景\r\n\t\tcontext.setLineWidth(gaugeOption.width);\r\n\t\tcontext.setStrokeStyle(hexToRgb(series[0].color, 0.3));\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.beginPath();\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, innerRadius, gaugeOption.startAngle * Math.PI, gaugeOption\r\n\t\t\t.endAngle * Math.PI, false);\r\n\t\tcontext.stroke();\r\n\r\n\t\t//## 第二步画刻度线\r\n\t\ttotalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n\t\tlet splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n\t\tlet childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\r\n\t\tlet startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\r\n\t\tlet endX = -radius - gaugeOption.width - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\r\n\t\tcontext.save();\r\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\t\tcontext.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n\t\tlet len = gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1;\r\n\t\tlet proc = series[0].data * process;\r\n\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\tcontext.beginPath();\r\n\t\t\t//刻度线随进度变色\r\n\t\t\tif (proc > (i / len)) {\r\n\t\t\t\tcontext.setStrokeStyle(hexToRgb(series[0].color, 1));\r\n\t\t\t} else {\r\n\t\t\t\tcontext.setStrokeStyle(hexToRgb(series[0].color, 0.3));\r\n\t\t\t}\r\n\t\t\tcontext.setLineWidth(3 * opts.pixelRatio);\r\n\t\t\tcontext.moveTo(startX, 0);\r\n\t\t\tcontext.lineTo(endX, 0);\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.rotate(childAngle * Math.PI);\r\n\t\t}\r\n\t\tcontext.restore();\r\n\r\n\t\t//## 第三步画进度条\r\n\t\tseries = getArcbarDataPoints(series, gaugeOption, process);\r\n\t\tcontext.setLineWidth(gaugeOption.width);\r\n\t\tcontext.setStrokeStyle(series[0].color);\r\n\t\tcontext.setLineCap('round');\r\n\t\tcontext.beginPath();\r\n\t\tcontext.arc(centerPosition.x, centerPosition.y, innerRadius, gaugeOption.startAngle * Math.PI, series[0]\r\n\t\t\t._proportion_ * Math.PI, false);\r\n\t\tcontext.stroke();\r\n\r\n\t\t//## 第四步画指针\r\n\t\tlet pointerRadius = radius - gaugeOption.width * 2.5;\r\n\t\tcontext.save();\r\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\t\tcontext.rotate((series[0]._proportion_ - 1) * Math.PI);\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineWidth(gaugeOption.width / 3);\r\n\t\tlet gradient3 = context.createLinearGradient(0, -pointerRadius * 0.6, 0, pointerRadius * 0.6);\r\n\t\tgradient3.addColorStop('0', hexToRgb('#FFFFFF', 0));\r\n\t\tgradient3.addColorStop('0.5', hexToRgb(series[0].color, 1));\r\n\t\tgradient3.addColorStop('1.0', hexToRgb('#FFFFFF', 0));\r\n\t\tcontext.setStrokeStyle(gradient3);\r\n\t\tcontext.arc(0, 0, pointerRadius, 0.85 * Math.PI, 1.15 * Math.PI, false);\r\n\t\tcontext.stroke();\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineWidth(1);\r\n\t\tcontext.setStrokeStyle(series[0].color);\r\n\t\tcontext.setFillStyle(series[0].color);\r\n\t\tcontext.moveTo(-pointerRadius - gaugeOption.width / 3 / 2, -4);\r\n\t\tcontext.lineTo(-pointerRadius - gaugeOption.width / 3 / 2 - 4, 0);\r\n\t\tcontext.lineTo(-pointerRadius - gaugeOption.width / 3 / 2, 4);\r\n\t\tcontext.lineTo(-pointerRadius - gaugeOption.width / 3 / 2, -4);\r\n\t\tcontext.stroke();\r\n\t\tcontext.fill();\r\n\t\tcontext.restore();\r\n\r\n\t\t//default百度样式\r\n\t} else {\r\n\t\t//画背景\r\n\t\tcontext.setLineWidth(gaugeOption.width);\r\n\t\tcontext.setLineCap('butt');\r\n\t\tfor (let i = 0; i < categories.length; i++) {\r\n\t\t\tlet eachCategories = categories[i];\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setStrokeStyle(eachCategories.color);\r\n\t\t\tcontext.arc(centerPosition.x, centerPosition.y, radius, eachCategories._startAngle_ * Math.PI,\r\n\t\t\t\teachCategories._endAngle_ * Math.PI, false);\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\t\tcontext.save();\r\n\r\n\t\t//画刻度线\r\n\t\ttotalAngle = gaugeOption.startAngle - gaugeOption.endAngle + 1;\r\n\t\tlet splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n\t\tlet childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\r\n\t\tlet startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\r\n\t\tlet endX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\r\n\t\tlet childendX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine\r\n\t\t\t.childWidth;\r\n\r\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\t\tcontext.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n\r\n\t\tfor (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setStrokeStyle(gaugeOption.splitLine.color);\r\n\t\t\tcontext.setLineWidth(2 * opts.pixelRatio);\r\n\t\t\tcontext.moveTo(startX, 0);\r\n\t\t\tcontext.lineTo(endX, 0);\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.rotate(splitAngle * Math.PI);\r\n\t\t}\r\n\t\tcontext.restore();\r\n\r\n\t\tcontext.save();\r\n\t\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\t\tcontext.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n\r\n\t\tfor (let i = 0; i < gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1; i++) {\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setStrokeStyle(gaugeOption.splitLine.color);\r\n\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\tcontext.moveTo(startX, 0);\r\n\t\t\tcontext.lineTo(childendX, 0);\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.rotate(childAngle * Math.PI);\r\n\t\t}\r\n\t\tcontext.restore();\r\n\r\n\t\t//画指针\r\n\t\tseries = getGaugeDataPoints(series, categories, gaugeOption, process);\r\n\r\n\t\tfor (let i = 0; i < series.length; i++) {\r\n\t\t\tlet eachSeries = series[i];\r\n\t\t\tcontext.save();\r\n\t\t\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\t\t\tcontext.rotate((eachSeries._proportion_ - 1) * Math.PI);\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFillStyle(eachSeries.color);\r\n\t\t\tcontext.moveTo(gaugeOption.pointer.width, 0);\r\n\t\t\tcontext.lineTo(0, -gaugeOption.pointer.width / 2);\r\n\t\t\tcontext.lineTo(-innerRadius, 0);\r\n\t\t\tcontext.lineTo(0, gaugeOption.pointer.width / 2);\r\n\t\t\tcontext.lineTo(gaugeOption.pointer.width, 0);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFillStyle('#FFFFFF');\r\n\t\t\tcontext.arc(0, 0, gaugeOption.pointer.width / 6, 0, 2 * Math.PI, false);\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.restore();\r\n\t\t}\r\n\r\n\t\tif (opts.dataLabel !== false) {\r\n\t\t\tdrawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context);\r\n\t\t}\r\n\t}\r\n\r\n\t//画仪表盘标题，副标题\r\n\tdrawRingTitle(opts, config, context, centerPosition);\r\n\r\n\tif (process === 1 && opts.type === 'gauge') {\r\n\t\topts.extra.gauge.oldAngle = series[0]._proportion_;\r\n\t\topts.extra.gauge.oldData = series[0].data;\r\n\t}\r\n\treturn {\r\n\t\tcenter: centerPosition,\r\n\t\tradius: radius,\r\n\t\tinnerRadius: innerRadius,\r\n\t\tcategories: categories,\r\n\t\ttotalAngle: totalAngle\r\n\t};\r\n}\r\n\r\nfunction drawRadarDataPoints(series, opts, config, context) {\r\n\tvar process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tvar radarOption = assign({}, {\r\n\t\tgridColor: '#cccccc',\r\n\t\tlabelColor: '#666666',\r\n\t\topacity: 0.2,\r\n\t\tgridCount: 3\r\n\t}, opts.extra.radar);\r\n\r\n\tvar coordinateAngle = getRadarCoordinateSeries(opts.categories.length);\r\n\r\n\tvar centerPosition = {\r\n\t\tx: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n\t\ty: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n\t};\r\n\r\n\tvar radius = Math.min(centerPosition.x - (getMaxTextListLength(opts.categories) + config.radarLabelTextMargin),\r\n\t\tcenterPosition.y - config.radarLabelTextMargin);\r\n\t//TODO逻辑不对\r\n\tradius -= opts.padding[1];\r\n\r\n\t// draw grid\r\n\tcontext.beginPath();\r\n\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\tcontext.setStrokeStyle(radarOption.gridColor);\r\n\tcoordinateAngle.forEach(function(angle) {\r\n\t\tvar pos = convertCoordinateOrigin(radius * Math.cos(angle), radius * Math.sin(angle), centerPosition);\r\n\t\tcontext.moveTo(centerPosition.x, centerPosition.y);\r\n\t\tcontext.lineTo(pos.x, pos.y);\r\n\t});\r\n\tcontext.stroke();\r\n\tcontext.closePath();\r\n\t// draw split line grid\r\n\r\n\tvar _loop = function _loop(i) {\r\n\t\tvar startPos = {};\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\tcontext.setStrokeStyle(radarOption.gridColor);\r\n\t\tcoordinateAngle.forEach(function(angle, index) {\r\n\t\t\tvar pos = convertCoordinateOrigin(radius / radarOption.gridCount * i * Math.cos(angle), radius /\r\n\t\t\t\tradarOption.gridCount * i * Math.sin(angle), centerPosition);\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tstartPos = pos;\r\n\t\t\t\tcontext.moveTo(pos.x, pos.y);\r\n\t\t\t} else {\r\n\t\t\t\tcontext.lineTo(pos.x, pos.y);\r\n\t\t\t}\r\n\t\t});\r\n\t\tcontext.lineTo(startPos.x, startPos.y);\r\n\t\tcontext.stroke();\r\n\t\tcontext.closePath();\r\n\t};\r\n\r\n\tfor (var i = 1; i <= radarOption.gridCount; i++) {\r\n\t\t_loop(i);\r\n\t}\r\n\r\n\tvar radarDataPoints = getRadarDataPoints(coordinateAngle, centerPosition, radius, series, opts, process);\r\n\r\n\tradarDataPoints.forEach(function(eachSeries, seriesIndex) {\r\n\t\t// 绘制区域数据\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setFillStyle(hexToRgb(eachSeries.color, radarOption.opacity));\r\n\t\teachSeries.data.forEach(function(item, index) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tcontext.moveTo(item.position.x, item.position.y);\r\n\t\t\t} else {\r\n\t\t\t\tcontext.lineTo(item.position.x, item.position.y);\r\n\t\t\t}\r\n\t\t});\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\r\n\t\tif (opts.dataPointShape !== false) {\r\n\t\t\tvar points = eachSeries.data.map(function(item) {\r\n\t\t\t\treturn item.position;\r\n\t\t\t});\r\n\t\t\tdrawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n\t\t}\r\n\t});\r\n\t// draw label text\r\n\tdrawRadarLabel(coordinateAngle, radius, centerPosition, opts, config, context);\r\n\r\n\treturn {\r\n\t\tcenter: centerPosition,\r\n\t\tradius: radius,\r\n\t\tangleList: coordinateAngle\r\n\t};\r\n}\r\n\r\nfunction normalInt(min, max, iter) {\r\n\titer = iter == 0 ? 1 : iter;\r\n\tvar arr = [];\r\n\tfor (var i = 0; i < iter; i++) {\r\n\t\tarr[i] = Math.random();\r\n\t};\r\n\treturn Math.floor(arr.reduce(function(i, j) {\r\n\t\treturn i + j\r\n\t}) / iter * (max - min)) + min;\r\n};\r\n\r\nfunction collisionNew(area, points, width, height) {\r\n\tvar isIn = false;\r\n\tfor (let i = 0; i < points.length; i++) {\r\n\t\tif (points[i].area) {\r\n\t\t\tif (area[3] < points[i].area[1] || area[0] > points[i].area[2] || area[1] > points[i].area[3] || area[2] <\r\n\t\t\t\tpoints[i].area[0]) {\r\n\t\t\t\tif (area[0] < 0 || area[1] < 0 || area[2] > width || area[3] > height) {\r\n\t\t\t\t\tisIn = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tisIn = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tisIn = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn isIn;\r\n};\r\n\r\nfunction getBoundingBox(data) {\r\n\tvar bounds = {},\r\n\t\tcoords;\r\n\tbounds.xMin = 180;\r\n\tbounds.xMax = 0;\r\n\tbounds.yMin = 90;\r\n\tbounds.yMax = 0\r\n\tfor (var i = 0; i < data.length; i++) {\r\n\t\tvar coorda = data[i].geometry.coordinates\r\n\t\tfor (var k = 0; k < coorda.length; k++) {\r\n\t\t\tcoords = coorda[k];\r\n\t\t\tif (coords.length == 1) {\r\n\t\t\t\tcoords = coords[0]\r\n\t\t\t}\r\n\t\t\tfor (var j = 0; j < coords.length; j++) {\r\n\t\t\t\tvar longitude = coords[j][0];\r\n\t\t\t\tvar latitude = coords[j][1];\r\n\t\t\t\tvar point = {\r\n\t\t\t\t\tx: longitude,\r\n\t\t\t\t\ty: latitude\r\n\t\t\t\t}\r\n\t\t\t\tbounds.xMin = bounds.xMin < point.x ? bounds.xMin : point.x;\r\n\t\t\t\tbounds.xMax = bounds.xMax > point.x ? bounds.xMax : point.x;\r\n\t\t\t\tbounds.yMin = bounds.yMin < point.y ? bounds.yMin : point.y;\r\n\t\t\t\tbounds.yMax = bounds.yMax > point.y ? bounds.yMax : point.y;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn bounds;\r\n}\r\n\r\nfunction coordinateToPoint(latitude, longitude, bounds, scale, xoffset, yoffset) {\r\n\treturn {\r\n\t\tx: (longitude - bounds.xMin) * scale + xoffset,\r\n\t\ty: (bounds.yMax - latitude) * scale + yoffset\r\n\t};\r\n}\r\n\r\nfunction pointToCoordinate(pointY, pointX, bounds, scale, xoffset, yoffset) {\r\n\treturn {\r\n\t\tx: (pointX - xoffset) / scale + bounds.xMin,\r\n\t\ty: bounds.yMax - (pointY - yoffset) / scale\r\n\t};\r\n}\r\n\r\nfunction isRayIntersectsSegment(poi, s_poi, e_poi) {\r\n\tif (s_poi[1] == e_poi[1]) {\r\n\t\treturn false;\r\n\t}\r\n\tif (s_poi[1] > poi[1] && e_poi[1] > poi[1]) {\r\n\t\treturn false;\r\n\t}\r\n\tif (s_poi[1] < poi[1] && e_poi[1] < poi[1]) {\r\n\t\treturn false;\r\n\t}\r\n\tif (s_poi[1] == poi[1] && e_poi[1] > poi[1]) {\r\n\t\treturn false;\r\n\t}\r\n\tif (e_poi[1] == poi[1] && s_poi[1] > poi[1]) {\r\n\t\treturn false;\r\n\t}\r\n\tif (s_poi[0] < poi[0] && e_poi[1] < poi[1]) {\r\n\t\treturn false;\r\n\t}\r\n\tlet xseg = e_poi[0] - (e_poi[0] - s_poi[0]) * (e_poi[1] - poi[1]) / (e_poi[1] - s_poi[1]);\r\n\tif (xseg < poi[0]) {\r\n\t\treturn false;\r\n\t} else {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nfunction isPoiWithinPoly(poi, poly) {\r\n\tlet sinsc = 0;\r\n\tfor (let i = 0; i < poly.length; i++) {\r\n\t\tlet epoly = poly[i][0];\r\n\t\tif (poly.length == 1) {\r\n\t\t\tepoly = poly[i][0]\r\n\t\t}\r\n\t\tfor (let j = 0; j < epoly.length - 1; j++) {\r\n\t\t\tlet s_poi = epoly[j];\r\n\t\t\tlet e_poi = epoly[j + 1];\r\n\t\t\tif (isRayIntersectsSegment(poi, s_poi, e_poi)) {\r\n\t\t\t\tsinsc += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (sinsc % 2 == 1) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n\r\nfunction drawMapDataPoints(series, opts, config, context) {\r\n\tvar mapOption = assign({}, {\r\n\t\tborder: true,\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: '#666666',\r\n\t\tfillOpacity: 0.6,\r\n\t\tactiveBorderColor: '#f04864',\r\n\t\tactiveFillColor: '#facc14',\r\n\t\tactiveFillOpacity: 1\r\n\t}, opts.extra.map);\r\n\tvar coords, point;\r\n\tvar data = series;\r\n\tvar bounds = getBoundingBox(data);\r\n\tvar xScale = opts.width / Math.abs(bounds.xMax - bounds.xMin);\r\n\tvar yScale = opts.height / Math.abs(bounds.yMax - bounds.yMin);\r\n\tvar scale = xScale < yScale ? xScale : yScale;\r\n\tvar xoffset = opts.width / 2 - Math.abs(bounds.xMax - bounds.xMin) / 2 * scale;\r\n\tvar yoffset = opts.height / 2 - Math.abs(bounds.yMax - bounds.yMin) / 2 * scale;\r\n\tcontext.beginPath();\r\n\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\tcontext.setFillStyle(opts.background || '#FFFFFF');\r\n\tcontext.rect(0, 0, opts.width, opts.height);\r\n\tcontext.fill();\r\n\tfor (var i = 0; i < data.length; i++) {\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setLineWidth(mapOption.borderWidth * opts.pixelRatio);\r\n\t\tcontext.setStrokeStyle(mapOption.borderColor);\r\n\t\tcontext.setFillStyle(hexToRgb(series[i].color, mapOption.fillOpacity));\r\n\t\tif (opts.tooltip) {\r\n\t\t\tif (opts.tooltip.index == i) {\r\n\t\t\t\tcontext.setStrokeStyle(mapOption.activeBorderColor);\r\n\t\t\t\tcontext.setFillStyle(hexToRgb(mapOption.activeFillColor, mapOption.activeFillOpacity));\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar coorda = data[i].geometry.coordinates\r\n\t\tfor (var k = 0; k < coorda.length; k++) {\r\n\t\t\tcoords = coorda[k];\r\n\t\t\tif (coords.length == 1) {\r\n\t\t\t\tcoords = coords[0]\r\n\t\t\t}\r\n\t\t\tfor (var j = 0; j < coords.length; j++) {\r\n\t\t\t\tpoint = coordinateToPoint(coords[j][1], coords[j][0], bounds, scale, xoffset, yoffset)\r\n\t\t\t\tif (j === 0) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.moveTo(point.x, point.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.lineTo(point.x, point.y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcontext.fill();\r\n\t\t\tif (mapOption.border == true) {\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (opts.dataLabel == true) {\r\n\t\t\tvar centerPoint = data[i].properties.centroid;\r\n\t\t\tif (centerPoint) {\r\n\t\t\t\tpoint = coordinateToPoint(centerPoint[1], centerPoint[0], bounds, scale, xoffset, yoffset);\r\n\t\t\t\tlet fontSize = data[i].textSize || config.fontSize;\r\n\t\t\t\tlet text = data[i].properties.name;\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.setFontSize(fontSize)\r\n\t\t\t\tcontext.setFillStyle(data[i].textColor || '#666666')\r\n\t\t\t\tcontext.fillText(text, point.x - measureText(text, fontSize) / 2, point.y + fontSize / 2);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\topts.chartData.mapData = {\r\n\t\tbounds: bounds,\r\n\t\tscale: scale,\r\n\t\txoffset: xoffset,\r\n\t\tyoffset: yoffset\r\n\t}\r\n\tdrawToolTipBridge(opts, config, context, 1);\r\n\tcontext.draw();\r\n}\r\n\r\nfunction getWordCloudPoint(opts, type) {\r\n\tlet points = opts.series.sort(function(a, b) {\r\n\t\treturn parseInt(b.textSize) - parseInt(a.textSize);\r\n\t});\r\n\tswitch (type) {\r\n\t\tcase 'normal':\r\n\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\tlet text = points[i].name;\r\n\t\t\t\tlet tHeight = points[i].textSize;\r\n\t\t\t\tlet tWidth = measureText(text, tHeight);\r\n\t\t\t\tlet x, y;\r\n\t\t\t\tlet area;\r\n\t\t\t\tlet breaknum = 0;\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tbreaknum++;\r\n\t\t\t\t\tx = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n\t\t\t\t\ty = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n\t\t\t\t\tarea = [x - 5 + opts.width / 2, y - 5 - tHeight + opts.height / 2, x + tWidth + 5 + opts.width / 2,\r\n\t\t\t\t\t\ty + 5 + opts.height / 2\r\n\t\t\t\t\t];\r\n\t\t\t\t\tlet isCollision = collisionNew(area, points, opts.width, opts.height);\r\n\t\t\t\t\tif (!isCollision) break;\r\n\t\t\t\t\tif (breaknum == 1000) {\r\n\t\t\t\t\t\tarea = [-100, -100, -100, -100];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tpoints[i].area = area;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'vertical':\r\n\t\t\tfunction Spin() {\r\n\t\t\t\t//获取均匀随机值，是否旋转，旋转的概率为（1-0.5）\r\n\t\t\t\tif (Math.random() > 0.7) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t\tfor (let i = 0; i < points.length; i++) {\r\n\t\t\t\tlet text = points[i].name;\r\n\t\t\t\tlet tHeight = points[i].textSize;\r\n\t\t\t\tlet tWidth = measureText(text, tHeight);\r\n\t\t\t\tlet isSpin = Spin();\r\n\t\t\t\tlet x, y, area, areav;\r\n\t\t\t\tlet breaknum = 0;\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tbreaknum++;\r\n\t\t\t\t\tlet isCollision;\r\n\t\t\t\t\tif (isSpin) {\r\n\t\t\t\t\t\tx = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n\t\t\t\t\t\ty = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n\t\t\t\t\t\tarea = [y - 5 - tWidth + opts.width / 2, (-x - 5 + opts.height / 2), y + 5 + opts.width / 2, (-\r\n\t\t\t\t\t\t\tx + tHeight + 5 + opts.height / 2)];\r\n\t\t\t\t\t\tareav = [opts.width - (opts.width / 2 - opts.height / 2) - (-x + tHeight + 5 + opts.height /\r\n\t\t\t\t\t\t\t2) - 5, (opts.height / 2 - opts.width / 2) + (y - 5 - tWidth + opts.width / 2) - 5, opts\r\n\t\t\t\t\t\t\t.width - (opts.width / 2 - opts.height / 2) - (-x + tHeight + 5 + opts.height / 2) +\r\n\t\t\t\t\t\t\ttHeight, (opts.height / 2 - opts.width / 2) + (y - 5 - tWidth + opts.width / 2) +\r\n\t\t\t\t\t\t\ttWidth + 5\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tisCollision = collisionNew(areav, points, opts.height, opts.width);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n\t\t\t\t\t\ty = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n\t\t\t\t\t\tarea = [x - 5 + opts.width / 2, y - 5 - tHeight + opts.height / 2, x + tWidth + 5 + opts.width /\r\n\t\t\t\t\t\t\t2, y + 5 + opts.height / 2\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tisCollision = collisionNew(area, points, opts.width, opts.height);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!isCollision) break;\r\n\t\t\t\t\tif (breaknum == 1000) {\r\n\t\t\t\t\t\tarea = [-1000, -1000, -1000, -1000];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tif (isSpin) {\r\n\t\t\t\t\tpoints[i].area = areav;\r\n\t\t\t\t\tpoints[i].areav = area;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpoints[i].area = area;\r\n\t\t\t\t}\r\n\t\t\t\tpoints[i].rotate = isSpin;\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t}\r\n\treturn points;\r\n}\r\n\r\n\r\nfunction drawWordCloudDataPoints(series, opts, config, context) {\r\n\tlet process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tlet wordOption = assign({}, {\r\n\t\ttype: 'normal',\r\n\t\tautoColors: true\r\n\t}, opts.extra.word);\r\n\r\n\tcontext.beginPath();\r\n\tcontext.setFillStyle(opts.background || '#FFFFFF');\r\n\tcontext.rect(0, 0, opts.width, opts.height);\r\n\tcontext.fill();\r\n\tcontext.save();\r\n\tlet points = opts.chartData.wordCloudData;\r\n\tcontext.translate(opts.width / 2, opts.height / 2);\r\n\r\n\tfor (let i = 0; i < points.length; i++) {\r\n\t\tcontext.save();\r\n\t\tif (points[i].rotate) {\r\n\t\t\tcontext.rotate(90 * Math.PI / 180);\r\n\t\t}\r\n\t\tlet text = points[i].name;\r\n\t\tlet tHeight = points[i].textSize;\r\n\t\tlet tWidth = measureText(text, tHeight);\r\n\t\tcontext.beginPath();\r\n\t\tcontext.setStrokeStyle(points[i].color);\r\n\t\tcontext.setFillStyle(points[i].color);\r\n\t\tcontext.setFontSize(tHeight);\r\n\t\tif (points[i].rotate) {\r\n\t\t\tif (points[i].areav[0] > 0) {\r\n\t\t\t\tif (opts.tooltip) {\r\n\t\t\t\t\tif (opts.tooltip.index == i) {\r\n\t\t\t\t\t\tcontext.strokeText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 -\r\n\t\t\t\t\t\t\tprocess) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontext.fillText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 -\r\n\t\t\t\t\t\t\tprocess) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.fillText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 -\r\n\t\t\t\t\t\tprocess) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (points[i].area[0] > 0) {\r\n\t\t\t\tif (opts.tooltip) {\r\n\t\t\t\t\tif (opts.tooltip.index == i) {\r\n\t\t\t\t\t\tcontext.strokeText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 -\r\n\t\t\t\t\t\t\tprocess) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontext.fillText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 -\r\n\t\t\t\t\t\t\tprocess) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.fillText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) /\r\n\t\t\t\t\t\t2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcontext.stroke();\r\n\t\tcontext.restore();\r\n\t}\r\n\tcontext.restore();\r\n}\r\n\r\nfunction drawFunnelDataPoints(series, opts, config, context) {\r\n\tlet process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n\tlet funnelOption = assign({}, {\r\n\t\tactiveWidth: 10,\r\n\t\tactiveOpacity: 0.3,\r\n\t\tborder: false,\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#FFFFFF',\r\n\t\tfillOpacity: 1,\r\n\t\tlabelAlign: 'right'\r\n\t}, opts.extra.funnel);\r\n\tlet eachSpacing = (opts.height - opts.area[0] - opts.area[2]) / series.length;\r\n\tlet centerPosition = {\r\n\t\tx: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n\t\ty: opts.height - opts.area[2]\r\n\t};\r\n\tlet activeWidth = funnelOption.activeWidth;\r\n\tlet radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - activeWidth, (opts.height - opts.area[0] -\r\n\t\topts.area[2]) / 2 - activeWidth);\r\n\tseries = getFunnelDataPoints(series, radius, process);\r\n\tcontext.save();\r\n\tcontext.translate(centerPosition.x, centerPosition.y);\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tif (i == 0) {\r\n\t\t\tif (opts.tooltip) {\r\n\t\t\t\tif (opts.tooltip.index == i) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\r\n\t\t\t\t\tcontext.moveTo(-activeWidth, 0);\r\n\t\t\t\t\tcontext.lineTo(-series[i].radius - activeWidth, -eachSpacing);\r\n\t\t\t\t\tcontext.lineTo(series[i].radius + activeWidth, -eachSpacing);\r\n\t\t\t\t\tcontext.lineTo(activeWidth, 0);\r\n\t\t\t\t\tcontext.lineTo(-activeWidth, 0);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tseries[i].funnelArea = [centerPosition.x - series[i].radius, centerPosition.y - eachSpacing, centerPosition\r\n\t\t\t\t.x + series[i].radius, centerPosition.y\r\n\t\t\t];\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setLineWidth(funnelOption.borderWidth * opts.pixelRatio);\r\n\t\t\tcontext.setStrokeStyle(funnelOption.borderColor);\r\n\t\t\tcontext.setFillStyle(hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n\t\t\tcontext.moveTo(0, 0);\r\n\t\t\tcontext.lineTo(-series[i].radius, -eachSpacing);\r\n\t\t\tcontext.lineTo(series[i].radius, -eachSpacing);\r\n\t\t\tcontext.lineTo(0, 0);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tif (funnelOption.border == true) {\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (opts.tooltip) {\r\n\t\t\t\tif (opts.tooltip.index == i) {\r\n\t\t\t\t\tcontext.beginPath();\r\n\t\t\t\t\tcontext.setFillStyle(hexToRgb(series[i].color, funnelOption.activeOpacity));\r\n\t\t\t\t\tcontext.moveTo(0, 0);\r\n\t\t\t\t\tcontext.lineTo(-series[i - 1].radius - activeWidth, 0);\r\n\t\t\t\t\tcontext.lineTo(-series[i].radius - activeWidth, -eachSpacing);\r\n\t\t\t\t\tcontext.lineTo(series[i].radius + activeWidth, -eachSpacing);\r\n\t\t\t\t\tcontext.lineTo(series[i - 1].radius + activeWidth, 0);\r\n\t\t\t\t\tcontext.lineTo(0, 0);\r\n\t\t\t\t\tcontext.closePath();\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tseries[i].funnelArea = [centerPosition.x - series[i].radius, centerPosition.y - eachSpacing * (i + 1),\r\n\t\t\t\tcenterPosition.x + series[i].radius, centerPosition.y - eachSpacing * i\r\n\t\t\t];\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setLineWidth(funnelOption.borderWidth * opts.pixelRatio);\r\n\t\t\tcontext.setStrokeStyle(funnelOption.borderColor);\r\n\t\t\tcontext.setFillStyle(hexToRgb(series[i].color, funnelOption.fillOpacity));\r\n\t\t\tcontext.moveTo(0, 0);\r\n\t\t\tcontext.lineTo(-series[i - 1].radius, 0);\r\n\t\t\tcontext.lineTo(-series[i].radius, -eachSpacing);\r\n\t\t\tcontext.lineTo(series[i].radius, -eachSpacing);\r\n\t\t\tcontext.lineTo(series[i - 1].radius, 0);\r\n\t\t\tcontext.lineTo(0, 0);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tif (funnelOption.border == true) {\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcontext.translate(0, -eachSpacing)\r\n\t}\r\n\tcontext.restore();\r\n\r\n\tif (opts.dataLabel !== false && process === 1) {\r\n\t\tdrawFunnelText(series, opts, context, eachSpacing, funnelOption.labelAlign, activeWidth, centerPosition);\r\n\t}\r\n\r\n\treturn {\r\n\t\tcenter: centerPosition,\r\n\t\tradius: radius,\r\n\t\tseries: series\r\n\t};\r\n}\r\n\r\nfunction drawFunnelText(series, opts, context, eachSpacing, labelAlign, activeWidth, centerPosition) {\r\n\tfor (let i = 0; i < series.length; i++) {\r\n\t\tlet item = series[i];\r\n\t\tlet startX, endX, startY, fontSize;\r\n\t\tlet text = item.format ? item.format(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) +\r\n\t\t\t'%';\r\n\t\tif (labelAlign == 'right') {\r\n\t\t\tif (i == 0) {\r\n\t\t\t\tstartX = (item.funnelArea[2] + centerPosition.x) / 2;\r\n\t\t\t} else {\r\n\t\t\t\tstartX = (item.funnelArea[2] + series[i - 1].funnelArea[2]) / 2;\r\n\t\t\t}\r\n\t\t\tendX = startX + activeWidth * 2;\r\n\t\t\tstartY = item.funnelArea[1] + eachSpacing / 2;\r\n\t\t\tfontSize = item.textSize || opts.fontSize;\r\n\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\tcontext.setStrokeStyle(item.color);\r\n\t\t\tcontext.setFillStyle(item.color);\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.moveTo(startX, startY);\r\n\t\t\tcontext.lineTo(endX, startY);\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.moveTo(endX, startY);\r\n\t\t\tcontext.arc(endX, startY, 2, 0, 2 * Math.PI);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(fontSize);\r\n\t\t\tcontext.setFillStyle(item.textColor || '#666666');\r\n\t\t\tcontext.fillText(text, endX + 5, startY + fontSize / 2 - 2);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.closePath();\r\n\t\t} else {\r\n\t\t\tif (i == 0) {\r\n\t\t\t\tstartX = (item.funnelArea[0] + centerPosition.x) / 2;\r\n\t\t\t} else {\r\n\t\t\t\tstartX = (item.funnelArea[0] + series[i - 1].funnelArea[0]) / 2;\r\n\t\t\t}\r\n\t\t\tendX = startX - activeWidth * 2;\r\n\t\t\tstartY = item.funnelArea[1] + eachSpacing / 2;\r\n\t\t\tfontSize = item.textSize || opts.fontSize;\r\n\t\t\tcontext.setLineWidth(1 * opts.pixelRatio);\r\n\t\t\tcontext.setStrokeStyle(item.color);\r\n\t\t\tcontext.setFillStyle(item.color);\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.moveTo(startX, startY);\r\n\t\t\tcontext.lineTo(endX, startY);\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.moveTo(endX, startY);\r\n\t\t\tcontext.arc(endX, startY, 2, 0, 2 * Math.PI);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.setFontSize(fontSize);\r\n\t\t\tcontext.setFillStyle(item.textColor || '#666666');\r\n\t\t\tcontext.fillText(text, endX - 5 - measureText(text), startY + fontSize / 2 - 2);\r\n\t\t\tcontext.closePath();\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.closePath();\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n\r\nfunction drawCanvas(opts, context) {\r\n\tcontext.draw();\r\n}\r\n\r\nvar Timing = {\r\n\teaseIn: function easeIn(pos) {\r\n\t\treturn Math.pow(pos, 3);\r\n\t},\r\n\teaseOut: function easeOut(pos) {\r\n\t\treturn Math.pow(pos - 1, 3) + 1;\r\n\t},\r\n\teaseInOut: function easeInOut(pos) {\r\n\t\tif ((pos /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * Math.pow(pos, 3);\r\n\t\t} else {\r\n\t\t\treturn 0.5 * (Math.pow(pos - 2, 3) + 2);\r\n\t\t}\r\n\t},\r\n\tlinear: function linear(pos) {\r\n\t\treturn pos;\r\n\t}\r\n};\r\n\r\nfunction Animation(opts) {\r\n\tthis.isStop = false;\r\n\topts.duration = typeof opts.duration === 'undefined' ? 1000 : opts.duration;\r\n\topts.timing = opts.timing || 'linear';\r\n\tvar delay = 17;\r\n\r\n\tfunction createAnimationFrame() {\r\n\t\tif (typeof setTimeout !== 'undefined') {\r\n\t\t\treturn function(step, delay) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar timeStamp = +new Date();\r\n\t\t\t\t\tstep(timeStamp);\r\n\t\t\t\t}, delay);\r\n\t\t\t};\r\n\t\t} else if (typeof requestAnimationFrame !== 'undefined') {\r\n\t\t\treturn requestAnimationFrame;\r\n\t\t} else {\r\n\t\t\treturn function(step) {\r\n\t\t\t\tstep(null);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\tvar animationFrame = createAnimationFrame();\r\n\tvar startTimeStamp = null;\r\n\tvar _step = function step(timestamp) {\r\n\t\tif (timestamp === null || this.isStop === true) {\r\n\t\t\topts.onProcess && opts.onProcess(1);\r\n\t\t\topts.onAnimationFinish && opts.onAnimationFinish();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (startTimeStamp === null) {\r\n\t\t\tstartTimeStamp = timestamp;\r\n\t\t}\r\n\t\tif (timestamp - startTimeStamp < opts.duration) {\r\n\t\t\tvar process = (timestamp - startTimeStamp) / opts.duration;\r\n\t\t\tvar timingFunction = Timing[opts.timing];\r\n\t\t\tprocess = timingFunction(process);\r\n\r\n\t\t\topts.onProcess && opts.onProcess(process);\r\n\t\t\tanimationFrame(_step, delay);\r\n\t\t} else {\r\n\t\t\topts.onProcess && opts.onProcess(1);\r\n\t\t\topts.onAnimationFinish && opts.onAnimationFinish();\r\n\t\t}\r\n\t};\r\n\t_step = _step.bind(this);\r\n\tanimationFrame(_step, delay);\r\n}\r\n\r\n// stop animation immediately\r\n// and tigger onAnimationFinish\r\nAnimation.prototype.stop = function() {\r\n\tthis.isStop = true;\r\n};\r\n\r\nfunction drawCharts(type, opts, config, context) {\r\n\tvar _this = this;\r\n\tvar series = opts.series;\r\n\tvar categories = opts.categories;\r\n\tseries = fillSeries(series, opts, config);\r\n\tvar duration = opts.animation ? opts.duration : 0;\r\n\t_this.animationInstance && _this.animationInstance.stop();\r\n\tvar seriesMA = null;\r\n\tif (type == 'candle') {\r\n\t\tlet average = assign({}, opts.extra.candle.average);\r\n\t\tif (average.show) {\r\n\t\t\tseriesMA = calCandleMA(average.day, average.name, average.color, series[0].data);\r\n\t\t\tseriesMA = fillSeries(seriesMA, opts, config);\r\n\t\t\topts.seriesMA = seriesMA;\r\n\t\t} else if (opts.seriesMA) {\r\n\t\t\tseriesMA = opts.seriesMA = fillSeries(opts.seriesMA, opts, config);\r\n\t\t} else {\r\n\t\t\tseriesMA = series;\r\n\t\t}\r\n\t} else {\r\n\t\tseriesMA = series;\r\n\t}\r\n\r\n\t/* 过滤掉show=false的series */\r\n\topts._series_ = series = filterSeries(series);\r\n\r\n\t//重新计算图表区域\r\n\r\n\topts.area = new Array(4);\r\n\t//复位绘图区域\r\n\tfor (let j = 0; j < 4; j++) {\r\n\t\topts.area[j] = opts.padding[j];\r\n\t}\r\n\r\n\t//通过计算三大区域：图例、X轴、Y轴的大小，确定绘图区域\r\n\tvar _calLegendData = calLegendData(seriesMA, opts, config, opts.chartData),\r\n\t\tlegendHeight = _calLegendData.area.wholeHeight,\r\n\t\tlegendWidth = _calLegendData.area.wholeWidth;\r\n\r\n\tswitch (opts.legend.position) {\r\n\t\tcase 'top':\r\n\t\t\topts.area[0] += legendHeight;\r\n\t\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\t\topts.area[2] += legendHeight;\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\topts.area[3] += legendWidth;\r\n\t\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\topts.area[1] += legendWidth;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tlet _calYAxisData = {},\r\n\t\tyAxisWidth = 0;\r\n\tif (opts.type === 'line' || opts.type === 'column' || opts.type === 'area' || opts.type === 'mix' || opts.type ===\r\n\t\t'candle') {\r\n\t\t_calYAxisData = calYAxisData(series, opts, config);\r\n\t\tyAxisWidth = _calYAxisData.yAxisWidth;\r\n\t\t//如果显示Y轴标题\r\n\t\tif (opts.yAxis.showTitle) {\r\n\t\t\tlet maxTitleHeight = 0;\r\n\t\t\tfor (let i = 0; i < opts.yAxis.data.length; i++) {\r\n\t\t\t\tmaxTitleHeight = Math.max(maxTitleHeight, opts.yAxis.data[i].titleFontSize ? opts.yAxis.data[i]\r\n\t\t\t\t\t.titleFontSize : config.fontSize)\r\n\t\t\t}\r\n\t\t\topts.area[0] += (maxTitleHeight + 6) * opts.pixelRatio;\r\n\t\t}\r\n\t\tlet rightIndex = 0,\r\n\t\t\tleftIndex = 0;\r\n\t\t//计算主绘图区域左右位置\r\n\t\tfor (let i = 0; i < yAxisWidth.length; i++) {\r\n\t\t\tif (yAxisWidth[i].position == 'left') {\r\n\t\t\t\tif (leftIndex > 0) {\r\n\t\t\t\t\topts.area[3] += yAxisWidth[i].width + opts.yAxis.padding;\r\n\t\t\t\t} else {\r\n\t\t\t\t\topts.area[3] += yAxisWidth[i].width;\r\n\t\t\t\t}\r\n\t\t\t\tleftIndex += 1;\r\n\t\t\t} else {\r\n\t\t\t\tif (rightIndex > 0) {\r\n\t\t\t\t\topts.area[1] += yAxisWidth[i].width + opts.yAxis.padding;\r\n\t\t\t\t} else {\r\n\t\t\t\t\topts.area[1] += yAxisWidth[i].width;\r\n\t\t\t\t}\r\n\t\t\t\trightIndex += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tconfig.yAxisWidth = yAxisWidth;\r\n\t}\r\n\topts.chartData.yAxisData = _calYAxisData;\r\n\r\n\tif (opts.categories && opts.categories.length) {\r\n\t\topts.chartData.xAxisData = getXAxisPoints(opts.categories, opts, config);\r\n\t\tlet _calCategoriesData = calCategoriesData(opts.categories, opts, config, opts.chartData.xAxisData.eachSpacing),\r\n\t\t\txAxisHeight = _calCategoriesData.xAxisHeight,\r\n\t\t\tangle = _calCategoriesData.angle;\r\n\t\tconfig.xAxisHeight = xAxisHeight;\r\n\t\tconfig._xAxisTextAngle_ = angle;\r\n\t\topts.area[2] += xAxisHeight;\r\n\t\topts.chartData.categoriesData = _calCategoriesData;\r\n\t} else {\r\n\t\tif (opts.type === 'line' || opts.type === 'area' || opts.type === 'points') {\r\n\t\t\topts.chartData.xAxisData = calXAxisData(series, opts, config);\r\n\t\t\tcategories = opts.chartData.xAxisData.rangesFormat;\r\n\t\t\tlet _calCategoriesData = calCategoriesData(categories, opts, config, opts.chartData.xAxisData.eachSpacing),\r\n\t\t\t\txAxisHeight = _calCategoriesData.xAxisHeight,\r\n\t\t\t\tangle = _calCategoriesData.angle;\r\n\t\t\tconfig.xAxisHeight = xAxisHeight;\r\n\t\t\tconfig._xAxisTextAngle_ = angle;\r\n\t\t\topts.area[2] += xAxisHeight;\r\n\t\t\topts.chartData.categoriesData = _calCategoriesData;\r\n\t\t} else {\r\n\t\t\topts.chartData.xAxisData = {\r\n\t\t\t\txAxisPoints: []\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\t//计算右对齐偏移距离\r\n\tif (opts.enableScroll && opts.xAxis.scrollAlign == 'right' && opts._scrollDistance_ === undefined) {\r\n\t\tlet offsetLeft = 0,\r\n\t\t\txAxisPoints = opts.chartData.xAxisData.xAxisPoints,\r\n\t\t\tstartX = opts.chartData.xAxisData.startX,\r\n\t\t\tendX = opts.chartData.xAxisData.endX,\r\n\t\t\teachSpacing = opts.chartData.xAxisData.eachSpacing;\r\n\t\tlet totalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n\t\tlet screenWidth = endX - startX;\r\n\t\toffsetLeft = screenWidth - totalWidth;\r\n\t\t_this.scrollOption = {\r\n\t\t\tcurrentOffset: offsetLeft,\r\n\t\t\tstartTouchX: offsetLeft,\r\n\t\t\tdistance: 0,\r\n\t\t\tlastMoveTime: 0\r\n\t\t};\r\n\t\topts._scrollDistance_ = offsetLeft;\r\n\t}\r\n\r\n\tif (type === 'pie' || type === 'ring' || type === 'rose') {\r\n\t\tconfig._pieTextMaxLength_ = opts.dataLabel === false ? 0 : getPieTextMaxLength(seriesMA);\r\n\t}\r\n\r\n\tswitch (type) {\r\n\t\tcase 'word':\r\n\t\t\tlet wordOption = assign({}, {\r\n\t\t\t\ttype: 'normal',\r\n\t\t\t\tautoColors: true\r\n\t\t\t}, opts.extra.word);\r\n\t\t\tif (opts.updateData == true || opts.updateData == undefined) {\r\n\t\t\t\topts.chartData.wordCloudData = getWordCloudPoint(opts, wordOption.type);\r\n\t\t\t}\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawWordCloudDataPoints(series, opts, config, context, process);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'map':\r\n\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\tdrawMapDataPoints(series, opts, config, context);\r\n\t\t\tbreak;\r\n\t\tcase 'funnel':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.chartData.funnelData = drawFunnelDataPoints(series, opts, config, context,\r\n\t\t\t\t\tprocess);\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'line':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeIn',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories, opts, config, context);\r\n\t\t\t\t\tdrawXAxis(categories, opts, config, context);\r\n\t\t\t\t\tvar _drawLineDataPoints = drawLineDataPoints(series, opts, config, context, process),\r\n\t\t\t\t\t\txAxisPoints = _drawLineDataPoints.xAxisPoints,\r\n\t\t\t\t\t\tcalPoints = _drawLineDataPoints.calPoints,\r\n\t\t\t\t\t\teachSpacing = _drawLineDataPoints.eachSpacing;\r\n\t\t\t\t\topts.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\topts.chartData.calPoints = calPoints;\r\n\t\t\t\t\topts.chartData.eachSpacing = eachSpacing;\r\n\t\t\t\t\tdrawYAxis(series, opts, config, context);\r\n\t\t\t\t\tif (opts.enableMarkLine !== false && process === 1) {\r\n\t\t\t\t\t\tdrawMarkLine(opts, config, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'mix':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeIn',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories, opts, config, context);\r\n\t\t\t\t\tdrawXAxis(categories, opts, config, context);\r\n\t\t\t\t\tvar _drawMixDataPoints = drawMixDataPoints(series, opts, config, context, process),\r\n\t\t\t\t\t\txAxisPoints = _drawMixDataPoints.xAxisPoints,\r\n\t\t\t\t\t\tcalPoints = _drawMixDataPoints.calPoints,\r\n\t\t\t\t\t\teachSpacing = _drawMixDataPoints.eachSpacing;\r\n\t\t\t\t\topts.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\topts.chartData.calPoints = calPoints;\r\n\t\t\t\t\topts.chartData.eachSpacing = eachSpacing;\r\n\t\t\t\t\tdrawYAxis(series, opts, config, context);\r\n\t\t\t\t\tif (opts.enableMarkLine !== false && process === 1) {\r\n\t\t\t\t\t\tdrawMarkLine(opts, config, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'column':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeIn',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories, opts, config, context);\r\n\t\t\t\t\tdrawXAxis(categories, opts, config, context);\r\n\t\t\t\t\tvar _drawColumnDataPoints = drawColumnDataPoints(series, opts, config, context,\r\n\t\t\t\t\t\tprocess),\r\n\t\t\t\t\t\txAxisPoints = _drawColumnDataPoints.xAxisPoints,\r\n\t\t\t\t\t\tcalPoints = _drawColumnDataPoints.calPoints,\r\n\t\t\t\t\t\teachSpacing = _drawColumnDataPoints.eachSpacing;\r\n\t\t\t\t\topts.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\topts.chartData.calPoints = calPoints;\r\n\t\t\t\t\topts.chartData.eachSpacing = eachSpacing;\r\n\t\t\t\t\tdrawYAxis(series, opts, config, context);\r\n\t\t\t\t\tif (opts.enableMarkLine !== false && process === 1) {\r\n\t\t\t\t\t\tdrawMarkLine(opts, config, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'area':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeIn',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories, opts, config, context);\r\n\t\t\t\t\tdrawXAxis(categories, opts, config, context);\r\n\t\t\t\t\tvar _drawAreaDataPoints = drawAreaDataPoints(series, opts, config, context, process),\r\n\t\t\t\t\t\txAxisPoints = _drawAreaDataPoints.xAxisPoints,\r\n\t\t\t\t\t\tcalPoints = _drawAreaDataPoints.calPoints,\r\n\t\t\t\t\t\teachSpacing = _drawAreaDataPoints.eachSpacing;\r\n\t\t\t\t\topts.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\topts.chartData.calPoints = calPoints;\r\n\t\t\t\t\topts.chartData.eachSpacing = eachSpacing;\r\n\t\t\t\t\tdrawYAxis(series, opts, config, context);\r\n\t\t\t\t\tif (opts.enableMarkLine !== false && process === 1) {\r\n\t\t\t\t\t\tdrawMarkLine(opts, config, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'ring':\r\n\t\tcase 'pie':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.chartData.pieData = drawPieDataPoints(series, opts, config, context, process);\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'rose':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.chartData.pieData = drawRoseDataPoints(series, opts, config, context, process);\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'radar':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.chartData.radarData = drawRadarDataPoints(series, opts, config, context, process);\r\n\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'arcbar':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.chartData.arcbarData = drawArcbarDataPoints(series, opts, config, context,\r\n\t\t\t\t\tprocess);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'gauge':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeInOut',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topts.chartData.gaugeData = drawGaugeDataPoints(categories, series, opts, config,\r\n\t\t\t\t\t\tcontext, process);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'candle':\r\n\t\t\tthis.animationInstance = new Animation({\r\n\t\t\t\ttiming: 'easeIn',\r\n\t\t\t\tduration: duration,\r\n\t\t\t\tonProcess: function onProcess(process) {\r\n\t\t\t\t\tcontext.clearRect(0, 0, opts.width, opts.height);\r\n\t\t\t\t\tif (opts.rotate) {\r\n\t\t\t\t\t\tcontextRotate(context, opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawYAxisGrid(categories, opts, config, context);\r\n\t\t\t\t\tdrawXAxis(categories, opts, config, context);\r\n\t\t\t\t\tvar _drawCandleDataPoints = drawCandleDataPoints(series, seriesMA, opts, config,\r\n\t\t\t\t\t\t\tcontext, process),\r\n\t\t\t\t\t\txAxisPoints = _drawCandleDataPoints.xAxisPoints,\r\n\t\t\t\t\t\tcalPoints = _drawCandleDataPoints.calPoints,\r\n\t\t\t\t\t\teachSpacing = _drawCandleDataPoints.eachSpacing;\r\n\t\t\t\t\topts.chartData.xAxisPoints = xAxisPoints;\r\n\t\t\t\t\topts.chartData.calPoints = calPoints;\r\n\t\t\t\t\topts.chartData.eachSpacing = eachSpacing;\r\n\t\t\t\t\tdrawYAxis(series, opts, config, context);\r\n\t\t\t\t\tif (opts.enableMarkLine !== false && process === 1) {\r\n\t\t\t\t\t\tdrawMarkLine(opts, config, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (seriesMA) {\r\n\t\t\t\t\t\tdrawLegend(seriesMA, opts, config, context, opts.chartData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdrawLegend(opts.series, opts, config, context, opts.chartData);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdrawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n\t\t\t\t\tdrawCanvas(opts, context);\r\n\t\t\t\t},\r\n\t\t\t\tonAnimationFinish: function onAnimationFinish() {\r\n\t\t\t\t\t_this.event.trigger('renderComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\n// simple event implement\r\n\r\nfunction Event() {\r\n\tthis.events = {};\r\n}\r\n\r\nEvent.prototype.addEventListener = function(type, listener) {\r\n\tthis.events[type] = this.events[type] || [];\r\n\tthis.events[type].push(listener);\r\n};\r\n\r\nEvent.prototype.trigger = function() {\r\n\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n\t\targs[_key] = arguments[_key];\r\n\t}\r\n\r\n\tvar type = args[0];\r\n\tvar params = args.slice(1);\r\n\tif (!!this.events[type]) {\r\n\t\tthis.events[type].forEach(function(listener) {\r\n\t\t\ttry {\r\n\t\t\t\tlistener.apply(null, params);\r\n\t\t\t} catch (e) {}\r\n\t\t});\r\n\t}\r\n};\r\n\r\nvar Charts = function Charts(opts) {\r\n\topts.pixelRatio = opts.pixelRatio ? opts.pixelRatio : 1;\r\n\topts.fontSize = opts.fontSize ? opts.fontSize * opts.pixelRatio : 13 * opts.pixelRatio;\r\n\topts.title = assign({}, opts.title);\r\n\topts.subtitle = assign({}, opts.subtitle);\r\n\topts.duration = opts.duration ? opts.duration : 1000;\r\n\topts.yAxis = assign({}, {\r\n\t\tdata: [],\r\n\t\tshowTitle: false,\r\n\t\tdisabled: false,\r\n\t\tdisableGrid: false,\r\n\t\tsplitNumber: 5,\r\n\t\tgridType: 'solid',\r\n\t\tdashLength: 4 * opts.pixelRatio,\r\n\t\tgridColor: '#cccccc',\r\n\t\tpadding: 10,\r\n\t\tfontColor: '#666666'\r\n\t}, opts.yAxis);\r\n\topts.yAxis.dashLength *= opts.pixelRatio;\r\n\topts.yAxis.padding *= opts.pixelRatio;\r\n\topts.xAxis = assign({}, {\r\n\t\trotateLabel: false,\r\n\t\ttype: 'calibration',\r\n\t\tgridType: 'solid',\r\n\t\tdashLength: 4,\r\n\t\tscrollAlign: 'left',\r\n\t\tboundaryGap: 'center',\r\n\t\taxisLine: true,\r\n\t\taxisLineColor: '#cccccc'\r\n\t}, opts.xAxis);\r\n\topts.xAxis.dashLength *= opts.pixelRatio;\r\n\topts.legend = assign({}, {\r\n\t\tshow: true,\r\n\t\tposition: 'bottom',\r\n\t\tfloat: 'center',\r\n\t\tbackgroundColor: 'rgba(0,0,0,0)',\r\n\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\tborderWidth: 0,\r\n\t\tpadding: 5,\r\n\t\tmargin: 5,\r\n\t\titemGap: 10,\r\n\t\tfontSize: opts.fontSize,\r\n\t\tlineHeight: opts.fontSize,\r\n\t\tfontColor: '#333333',\r\n\t\tformat: {},\r\n\t\thiddenColor: '#CECECE'\r\n\t}, opts.legend);\r\n\topts.legend.borderWidth = opts.legend.borderWidth * opts.pixelRatio;\r\n\topts.legend.itemGap = opts.legend.itemGap * opts.pixelRatio;\r\n\topts.legend.padding = opts.legend.padding * opts.pixelRatio;\r\n\topts.legend.margin = opts.legend.margin * opts.pixelRatio;\r\n\topts.extra = assign({}, opts.extra);\r\n\topts.rotate = opts.rotate ? true : false;\r\n\topts.animation = opts.animation ? true : false;\r\n\topts.rotate = opts.rotate ? true : false;\r\n\r\n\tlet config$$1 = JSON.parse(JSON.stringify(config));\r\n\tconfig$$1.colors = opts.colors ? opts.colors : config$$1.colors;\r\n\tconfig$$1.yAxisTitleWidth = opts.yAxis.disabled !== true && opts.yAxis.title ? config$$1.yAxisTitleWidth : 0;\r\n\tif (opts.type == 'pie' || opts.type == 'ring') {\r\n\t\tconfig$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.pie.labelWidth * opts\r\n\t\t\t.pixelRatio || config$$1.pieChartLinePadding * opts.pixelRatio;\r\n\t}\r\n\tif (opts.type == 'rose') {\r\n\t\tconfig$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.rose.labelWidth * opts\r\n\t\t\t.pixelRatio || config$$1.pieChartLinePadding * opts.pixelRatio;\r\n\t}\r\n\tconfig$$1.pieChartTextPadding = opts.dataLabel === false ? 0 : config$$1.pieChartTextPadding * opts.pixelRatio;\r\n\tconfig$$1.yAxisSplit = opts.yAxis.splitNumber ? opts.yAxis.splitNumber : config.yAxisSplit;\r\n\r\n\t//屏幕旋转\r\n\tconfig$$1.rotate = opts.rotate;\r\n\tif (opts.rotate) {\r\n\t\tlet tempWidth = opts.width;\r\n\t\tlet tempHeight = opts.height;\r\n\t\topts.width = tempHeight;\r\n\t\topts.height = tempWidth;\r\n\t}\r\n\r\n\t//适配高分屏\r\n\topts.padding = opts.padding ? opts.padding : config$$1.padding;\r\n\tfor (let i = 0; i < 4; i++) {\r\n\t\topts.padding[i] *= opts.pixelRatio;\r\n\t}\r\n\tconfig$$1.yAxisWidth = config.yAxisWidth * opts.pixelRatio;\r\n\tconfig$$1.xAxisHeight = config.xAxisHeight * opts.pixelRatio;\r\n\tif (opts.enableScroll && opts.xAxis.scrollShow) {\r\n\t\tconfig$$1.xAxisHeight += 6 * opts.pixelRatio;\r\n\t}\r\n\tconfig$$1.xAxisLineHeight = config.xAxisLineHeight * opts.pixelRatio;\r\n\tconfig$$1.fontSize = opts.fontSize;\r\n\tconfig$$1.titleFontSize = config.titleFontSize * opts.pixelRatio;\r\n\tconfig$$1.subtitleFontSize = config.subtitleFontSize * opts.pixelRatio;\r\n\tconfig$$1.toolTipPadding = config.toolTipPadding * opts.pixelRatio;\r\n\tconfig$$1.toolTipLineHeight = config.toolTipLineHeight * opts.pixelRatio;\r\n\tconfig$$1.columePadding = config.columePadding * opts.pixelRatio;\r\n\topts.$this = opts.$this ? opts.$this : this;\r\n\r\n\tthis.context = uni.createCanvasContext(opts.canvasId, opts.$this);\r\n\t/* 兼容原生H5\r\n\tthis.context = document.getElementById(opts.canvasId).getContext(\"2d\");\r\n\tthis.context.setStrokeStyle = function(e){ return this.strokeStyle=e; }\r\n\tthis.context.setLineWidth = function(e){ return this.lineWidth=e; }\r\n\tthis.context.setLineCap = function(e){ return this.lineCap=e; }\r\n\tthis.context.setFontSize = function(e){ return this.font=e+\"px sans-serif\"; }\r\n\tthis.context.setFillStyle = function(e){ return this.fillStyle=e; }\r\n\tthis.context.draw = function(){ }\r\n\t*/\r\n\r\n\topts.chartData = {};\r\n\tthis.event = new Event();\r\n\tthis.scrollOption = {\r\n\t\tcurrentOffset: 0,\r\n\t\tstartTouchX: 0,\r\n\t\tdistance: 0,\r\n\t\tlastMoveTime: 0\r\n\t};\r\n\r\n\tthis.opts = opts;\r\n\tthis.config = config$$1;\r\n\r\n\tdrawCharts.call(this, opts.type, opts, config$$1, this.context);\r\n};\r\n\r\nCharts.prototype.updateData = function() {\r\n\tlet data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\tthis.opts = assign({}, this.opts, data);\r\n\tthis.opts.updateData = true;\r\n\tlet scrollPosition = data.scrollPosition || 'current';\r\n\tswitch (scrollPosition) {\r\n\t\tcase 'current':\r\n\t\t\tthis.opts._scrollDistance_ = this.scrollOption.currentOffset;\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tthis.opts._scrollDistance_ = 0;\r\n\t\t\tthis.scrollOption = {\r\n\t\t\t\tcurrentOffset: 0,\r\n\t\t\t\tstartTouchX: 0,\r\n\t\t\t\tdistance: 0,\r\n\t\t\t\tlastMoveTime: 0\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\tlet _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config),\r\n\t\t\t\tyAxisWidth = _calYAxisData.yAxisWidth;\r\n\t\t\tthis.config.yAxisWidth = yAxisWidth;\r\n\t\t\tlet offsetLeft = 0;\r\n\t\t\tlet _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\r\n\t\t\t\txAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n\t\t\t\tstartX = _getXAxisPoints0.startX,\r\n\t\t\t\tendX = _getXAxisPoints0.endX,\r\n\t\t\t\teachSpacing = _getXAxisPoints0.eachSpacing;\r\n\t\t\tlet totalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n\t\t\tlet screenWidth = endX - startX;\r\n\t\t\toffsetLeft = screenWidth - totalWidth;\r\n\t\t\tthis.scrollOption = {\r\n\t\t\t\tcurrentOffset: offsetLeft,\r\n\t\t\t\tstartTouchX: offsetLeft,\r\n\t\t\t\tdistance: 0,\r\n\t\t\t\tlastMoveTime: 0\r\n\t\t\t};\r\n\t\t\tthis.opts._scrollDistance_ = offsetLeft;\r\n\t\t\tbreak;\r\n\t}\r\n\tdrawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nCharts.prototype.zoom = function() {\r\n\tvar val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.opts.xAxis.itemCount;\r\n\tif (this.opts.enableScroll !== true) {\r\n\t\tconsole.log('请启用滚动条后使用！')\r\n\t\treturn;\r\n\t}\r\n\t//当前屏幕中间点\r\n\tlet centerPoint = Math.round(Math.abs(this.scrollOption.currentOffset) / this.opts.chartData.eachSpacing) + Math\r\n\t\t.round(\r\n\t\t\tthis.opts.xAxis.itemCount / 2);\r\n\tthis.opts.animation = false;\r\n\tthis.opts.xAxis.itemCount = val.itemCount;\r\n\t//重新计算x轴偏移距离\r\n\tlet _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config),\r\n\t\tyAxisWidth = _calYAxisData.yAxisWidth;\r\n\tthis.config.yAxisWidth = yAxisWidth;\r\n\tlet offsetLeft = 0;\r\n\tlet _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\r\n\t\txAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n\t\tstartX = _getXAxisPoints0.startX,\r\n\t\tendX = _getXAxisPoints0.endX,\r\n\t\teachSpacing = _getXAxisPoints0.eachSpacing;\r\n\tlet centerLeft = eachSpacing * centerPoint;\r\n\tlet screenWidth = endX - startX;\r\n\tlet MaxLeft = screenWidth - eachSpacing * (xAxisPoints.length - 1);\r\n\toffsetLeft = screenWidth / 2 - centerLeft;\r\n\tif (offsetLeft > 0) {\r\n\t\toffsetLeft = 0;\r\n\t}\r\n\tif (offsetLeft < MaxLeft) {\r\n\t\toffsetLeft = MaxLeft;\r\n\t}\r\n\tthis.scrollOption = {\r\n\t\tcurrentOffset: offsetLeft,\r\n\t\tstartTouchX: offsetLeft,\r\n\t\tdistance: 0,\r\n\t\tlastMoveTime: 0\r\n\t};\r\n\tthis.opts._scrollDistance_ = offsetLeft;\r\n\tdrawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nCharts.prototype.stopAnimation = function() {\r\n\tthis.animationInstance && this.animationInstance.stop();\r\n};\r\n\r\nCharts.prototype.addEventListener = function(type, listener) {\r\n\tthis.event.addEventListener(type, listener);\r\n};\r\n\r\nCharts.prototype.getCurrentDataIndex = function(e) {\r\n\tvar touches = null;\r\n\tif (e.changedTouches) {\r\n\t\ttouches = e.changedTouches[0];\r\n\t} else {\r\n\t\ttouches = e.mp.changedTouches[0];\r\n\t}\r\n\tif (touches) {\r\n\t\tlet _touches$ = getTouches(touches, this.opts, e);\r\n\t\tif (this.opts.type === 'pie' || this.opts.type === 'ring' || this.opts.type === 'rose') {\r\n\t\t\treturn findPieChartCurrentIndex({\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t}, this.opts.chartData.pieData);\r\n\t\t} else if (this.opts.type === 'radar') {\r\n\t\t\treturn findRadarChartCurrentIndex({\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t}, this.opts.chartData.radarData, this.opts.categories.length);\r\n\t\t} else if (this.opts.type === 'funnel') {\r\n\t\t\treturn findFunnelChartCurrentIndex({\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t}, this.opts.chartData.funnelData);\r\n\t\t} else if (this.opts.type === 'map') {\r\n\t\t\treturn findMapChartCurrentIndex({\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t}, this.opts);\r\n\t\t} else if (this.opts.type === 'word') {\r\n\t\t\treturn findWordChartCurrentIndex({\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t}, this.opts.chartData.wordCloudData);\r\n\t\t} else {\r\n\t\t\treturn findCurrentIndex({\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t}, this.opts.chartData.calPoints, this.opts, this.config, Math.abs(this.scrollOption\r\n\t\t\t\t.currentOffset));\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n};\r\n\r\nCharts.prototype.getLegendDataIndex = function(e) {\r\n\tvar touches = null;\r\n\tif (e.changedTouches) {\r\n\t\ttouches = e.changedTouches[0];\r\n\t} else {\r\n\t\ttouches = e.mp.changedTouches[0];\r\n\t}\r\n\tif (touches) {\r\n\t\tlet _touches$ = getTouches(touches, this.opts, e);\r\n\t\treturn findLegendIndex({\r\n\t\t\tx: _touches$.x,\r\n\t\t\ty: _touches$.y\r\n\t\t}, this.opts.chartData.legendData);\r\n\t}\r\n\treturn -1;\r\n};\r\n\r\nCharts.prototype.touchLegend = function(e) {\r\n\tvar option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\tvar touches = null;\r\n\tif (e.changedTouches) {\r\n\t\ttouches = e.changedTouches[0];\r\n\t} else {\r\n\t\ttouches = e.mp.changedTouches[0];\r\n\t}\r\n\tif (touches) {\r\n\t\tvar _touches$ = getTouches(touches, this.opts, e);\r\n\t\tvar index = this.getLegendDataIndex(e);\r\n\t\tif (index >= 0) {\r\n\t\t\tthis.opts.series[index].show = !this.opts.series[index].show;\r\n\t\t\tthis.opts.animation = option.animation ? true : false;\r\n\t\t\tthis.opts._scrollDistance_ = this.scrollOption.currentOffset;\r\n\t\t\tdrawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nCharts.prototype.showToolTip = function(e) {\r\n\tvar option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\tvar touches = null;\r\n\tif (e.changedTouches) {\r\n\t\ttouches = e.changedTouches[0];\r\n\t} else {\r\n\t\ttouches = e.mp.changedTouches[0];\r\n\t}\r\n\tif (!touches) {}\r\n\tvar _touches$ = getTouches(touches, this.opts, e);\r\n\tvar currentOffset = this.scrollOption.currentOffset;\r\n\tvar opts = assign({}, this.opts, {\r\n\t\t_scrollDistance_: currentOffset,\r\n\t\tanimation: false\r\n\t});\r\n\tif (this.opts.type === 'line' || this.opts.type === 'area' || this.opts.type === 'column') {\r\n\t\tvar index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n\t\tif (index > -1) {\r\n\t\t\tvar seriesData = getSeriesDataItem(this.opts.series, index);\r\n\t\t\tif (seriesData.length !== 0) {\r\n\t\t\t\tvar _getToolTipData = getToolTipData(seriesData, this.opts.chartData.calPoints, index, this.opts\r\n\t\t\t\t\t\t.categories, option),\r\n\t\t\t\t\ttextList = _getToolTipData.textList,\r\n\t\t\t\t\toffset = _getToolTipData.offset;\r\n\t\t\t\toffset.y = _touches$.y;\r\n\t\t\t\topts.tooltip = {\r\n\t\t\t\t\ttextList: option.textList ? option.textList : textList,\r\n\t\t\t\t\toffset: offset,\r\n\t\t\t\t\toption: option,\r\n\t\t\t\t\tindex: index\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'mix') {\r\n\t\tvar index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n\t\tif (index > -1) {\r\n\t\t\tvar currentOffset = this.scrollOption.currentOffset;\r\n\t\t\tvar opts = assign({}, this.opts, {\r\n\t\t\t\t_scrollDistance_: currentOffset,\r\n\t\t\t\tanimation: false\r\n\t\t\t});\r\n\t\t\tvar seriesData = getSeriesDataItem(this.opts.series, index);\r\n\t\t\tif (seriesData.length !== 0) {\r\n\t\t\t\tvar _getMixToolTipData = getMixToolTipData(seriesData, this.opts.chartData.calPoints, index, this\r\n\t\t\t\t\t\t.opts.categories, option),\r\n\t\t\t\t\ttextList = _getMixToolTipData.textList,\r\n\t\t\t\t\toffset = _getMixToolTipData.offset;\r\n\t\t\t\toffset.y = _touches$.y;\r\n\t\t\t\topts.tooltip = {\r\n\t\t\t\t\ttextList: option.textList ? option.textList : textList,\r\n\t\t\t\t\toffset: offset,\r\n\t\t\t\t\toption: option,\r\n\t\t\t\t\tindex: index\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'candle') {\r\n\t\tvar index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n\t\tif (index > -1) {\r\n\t\t\tvar currentOffset = this.scrollOption.currentOffset;\r\n\t\t\tvar opts = assign({}, this.opts, {\r\n\t\t\t\t_scrollDistance_: currentOffset,\r\n\t\t\t\tanimation: false\r\n\t\t\t});\r\n\t\t\tvar seriesData = getSeriesDataItem(this.opts.series, index);\r\n\t\t\tif (seriesData.length !== 0) {\r\n\t\t\t\tvar _getToolTipData = getCandleToolTipData(this.opts.series[0].data, seriesData, this.opts.chartData\r\n\t\t\t\t\t\t.calPoints,\r\n\t\t\t\t\t\tindex, this.opts.categories, this.opts.extra.candle, option),\r\n\t\t\t\t\ttextList = _getToolTipData.textList,\r\n\t\t\t\t\toffset = _getToolTipData.offset;\r\n\t\t\t\toffset.y = _touches$.y;\r\n\t\t\t\topts.tooltip = {\r\n\t\t\t\t\ttextList: option.textList ? option.textList : textList,\r\n\t\t\t\t\toffset: offset,\r\n\t\t\t\t\toption: option,\r\n\t\t\t\t\tindex: index\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'pie' || this.opts.type === 'ring' || this.opts.type === 'rose' || this.opts.type ===\r\n\t\t'funnel') {\r\n\t\tvar index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n\t\tif (index > -1) {\r\n\t\t\tvar currentOffset = this.scrollOption.currentOffset;\r\n\t\t\tvar opts = assign({}, this.opts, {\r\n\t\t\t\t_scrollDistance_: currentOffset,\r\n\t\t\t\tanimation: false\r\n\t\t\t});\r\n\t\t\tvar seriesData = this.opts._series_[index];\r\n\t\t\tvar textList = [{\r\n\t\t\t\ttext: option.format ? option.format(seriesData) : seriesData.name + ': ' + seriesData.data,\r\n\t\t\t\tcolor: seriesData.color\r\n\t\t\t}];\r\n\t\t\tvar offset = {\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t};\r\n\t\t\topts.tooltip = {\r\n\t\t\t\ttextList: option.textList ? option.textList : textList,\r\n\t\t\t\toffset: offset,\r\n\t\t\t\toption: option,\r\n\t\t\t\tindex: index\r\n\t\t\t};\r\n\t\t}\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'map' || this.opts.type === 'word') {\r\n\t\tvar index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n\t\tif (index > -1) {\r\n\t\t\tvar currentOffset = this.scrollOption.currentOffset;\r\n\t\t\tvar opts = assign({}, this.opts, {\r\n\t\t\t\t_scrollDistance_: currentOffset,\r\n\t\t\t\tanimation: false\r\n\t\t\t});\r\n\t\t\tvar seriesData = this.opts._series_[index];\r\n\t\t\tvar textList = [{\r\n\t\t\t\ttext: option.format ? option.format(seriesData) : seriesData.properties.name,\r\n\t\t\t\tcolor: seriesData.color\r\n\t\t\t}];\r\n\t\t\tvar offset = {\r\n\t\t\t\tx: _touches$.x,\r\n\t\t\t\ty: _touches$.y\r\n\t\t\t};\r\n\t\t\topts.tooltip = {\r\n\t\t\t\ttextList: option.textList ? option.textList : textList,\r\n\t\t\t\toffset: offset,\r\n\t\t\t\toption: option,\r\n\t\t\t\tindex: index\r\n\t\t\t};\r\n\t\t}\r\n\t\topts.updateData = false;\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n\tif (this.opts.type === 'radar') {\r\n\t\tvar index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n\t\tif (index > -1) {\r\n\t\t\tvar currentOffset = this.scrollOption.currentOffset;\r\n\t\t\tvar opts = assign({}, this.opts, {\r\n\t\t\t\t_scrollDistance_: currentOffset,\r\n\t\t\t\tanimation: false\r\n\t\t\t});\r\n\t\t\tvar seriesData = getSeriesDataItem(this.opts.series, index);\r\n\t\t\tif (seriesData.length !== 0) {\r\n\t\t\t\tvar textList = seriesData.map(function(item) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttext: option.format ? option.format(item) : item.name + ': ' + item.data,\r\n\t\t\t\t\t\tcolor: item.color\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\tvar offset = {\r\n\t\t\t\t\tx: _touches$.x,\r\n\t\t\t\t\ty: _touches$.y\r\n\t\t\t\t};\r\n\t\t\t\topts.tooltip = {\r\n\t\t\t\t\ttextList: option.textList ? option.textList : textList,\r\n\t\t\t\t\toffset: offset,\r\n\t\t\t\t\toption: option,\r\n\t\t\t\t\tindex: index\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t}\r\n};\r\n\r\nCharts.prototype.translate = function(distance) {\r\n\tthis.scrollOption = {\r\n\t\tcurrentOffset: distance,\r\n\t\tstartTouchX: distance,\r\n\t\tdistance: 0,\r\n\t\tlastMoveTime: 0\r\n\t};\r\n\tlet opts = assign({}, this.opts, {\r\n\t\t_scrollDistance_: distance,\r\n\t\tanimation: false\r\n\t});\r\n\tdrawCharts.call(this, this.opts.type, opts, this.config, this.context);\r\n};\r\n\r\nCharts.prototype.scrollStart = function(e) {\r\n\tvar touches = null;\r\n\tif (e.changedTouches) {\r\n\t\ttouches = e.changedTouches[0];\r\n\t} else {\r\n\t\ttouches = e.mp.changedTouches[0];\r\n\t}\r\n\tvar _touches$ = getTouches(touches, this.opts, e);\r\n\tif (touches && this.opts.enableScroll === true) {\r\n\t\tthis.scrollOption.startTouchX = _touches$.x;\r\n\t}\r\n};\r\n\r\nCharts.prototype.scroll = function(e) {\r\n\tif (this.scrollOption.lastMoveTime === 0) {\r\n\t\tthis.scrollOption.lastMoveTime = Date.now();\r\n\t}\r\n\tlet Limit = this.opts.extra.touchMoveLimit || 20;\r\n\tlet currMoveTime = Date.now();\r\n\tlet duration = currMoveTime - this.scrollOption.lastMoveTime;\r\n\tif (duration < Math.floor(1000 / Limit)) return;\r\n\tthis.scrollOption.lastMoveTime = currMoveTime;\r\n\tvar touches = null;\r\n\tif (e.changedTouches) {\r\n\t\ttouches = e.changedTouches[0];\r\n\t} else {\r\n\t\ttouches = e.mp.changedTouches[0];\r\n\t}\r\n\tif (touches && this.opts.enableScroll === true) {\r\n\t\tvar _touches$ = getTouches(touches, this.opts, e);\r\n\t\tvar _distance;\r\n\t\t_distance = _touches$.x - this.scrollOption.startTouchX;\r\n\t\tvar currentOffset = this.scrollOption.currentOffset;\r\n\t\tvar validDistance = calValidDistance(this, currentOffset + _distance, this.opts.chartData, this.config, this\r\n\t\t\t.opts);\r\n\t\tthis.scrollOption.distance = _distance = validDistance - currentOffset;\r\n\t\tvar opts = assign({}, this.opts, {\r\n\t\t\t_scrollDistance_: currentOffset + _distance,\r\n\t\t\tanimation: false\r\n\t\t});\r\n\t\tdrawCharts.call(this, opts.type, opts, this.config, this.context);\r\n\t\treturn currentOffset + _distance;\r\n\t}\r\n};\r\n\r\nCharts.prototype.scrollEnd = function(e) {\r\n\tif (this.opts.enableScroll === true) {\r\n\t\tvar _scrollOption = this.scrollOption,\r\n\t\t\tcurrentOffset = _scrollOption.currentOffset,\r\n\t\t\tdistance = _scrollOption.distance;\r\n\t\tthis.scrollOption.currentOffset = currentOffset + distance;\r\n\t\tthis.scrollOption.distance = 0;\r\n\t}\r\n};\r\nif (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n\tmodule.exports = Charts;\r\n\t//export default Charts;//建议使用nodejs的module导出方式，如报错请使用export方式导出\r\n}\r\n"],"sourceRoot":""}